/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.1.2 (3.2.1)
 Created: 2022-03-31T18:23:49.919Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,e=t.window,r=t.document,s=t.location,u=t.navigator,o=t.setTimeout,h=t.clearTimeout,c=t.setInterval,a=t.clearInterval,f=t.Error,v=t.TypeError,d=(t.SyntaxError,t.Object),l=t.Math,g=t.parseInt,A=t.parseFloat,w=t.isNaN,y=t.Uint8Array,_=t.Worker,M=(t.WorkerGlobalScope,t.XMLHttpRequest),k="undefined"!=typeof globalThis?globalThis:void 0!==e?e:"undefined"!=typeof global?global:void 0!==t?t:{};function m(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new f("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var p,N=m(function(n,s){n.exports=function t(n,e,r){function s(o,h){if(!e[o]){if(!n[o]){var c="function"==typeof i&&i;if(!h&&c)return c(o,!0);if(u)return u(o,!0);var a=new f("Cannot find module '"+o+"'");throw a.code="MODULE_NOT_FOUND",a}var v=e[o]={exports:{}};n[o][0].call(v.exports,function(t){var i=n[o][1][t];return s(i||t)},v,v.exports,t,n,e,r)}return e[o].exports}for(var u="function"==typeof i&&i,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(t,n,i){n.exports=function(t){var n=t.g;function i(t){var i=new n(t),e=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),e}t.any=function(t){return i(t)},t.prototype.any=function(){return i(this)}}},{}],2:[function(t,n,i){var e;try{throw new f}catch(t){e=t}var r=t("./schedule"),s=t("./queue"),u=t("./util");function h(){this.M=!1,this.N=!1,this.I=new s(16),this.j=new s(16),this.R=!1,this.U=!0;var t=this;this.drainQueues=function(){t.B()},this.Y=r}function c(t,n,i){this.I.push(t,n,i),this.G()}function a(t,n,i){this.j.push(t,n,i),this.G()}function v(t){this.j.F(t),this.G()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.H();else{var i=t.shift(),e=t.shift();n.call(i,e)}}h.prototype.setScheduler=function(t){var n=this.Y;return this.Y=t,this.M=!0,n},h.prototype.hasCustomScheduler=function(){return this.M},h.prototype.enableTrampoline=function(){this.U=!0},h.prototype.disableTrampolineIfNecessary=function(){u.hasDevTools&&(this.U=!1)},h.prototype.haveItemsQueued=function(){return this.N||this.R},h.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof f?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},h.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==o)o(function(){t(n)},0);else try{this.Y(function(){t(n)})}catch(t){throw new f("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},u.hasDevTools?(h.prototype.invokeLater=function(t,n,i){this.U?c.call(this,t,n,i):this.Y(function(){o(function(){t.call(n,i)},100)})},h.prototype.invoke=function(t,n,i){this.U?a.call(this,t,n,i):this.Y(function(){t.call(n,i)})},h.prototype.settlePromises=function(t){this.U?v.call(this,t):this.Y(function(){t.H()})}):(h.prototype.invokeLater=c,h.prototype.invoke=a,h.prototype.settlePromises=v),h.prototype.B=function(){d(this.j),this.Z(),this.R=!0,d(this.I)},h.prototype.G=function(){this.N||(this.N=!0,this.Y(this.drainQueues))},h.prototype.Z=function(){this.N=!1},n.exports=h,n.exports.firstLineError=e},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,i){n.exports=function(t,n,i,e){var r=!1,s=function(t,n){this.J(n)},u=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.K(s,s,null,this,t)},o=function(t,n){0==(50397184&this.nt)&&this.it(n.target)},h=function(t,n){n.promiseRejectionQueued||this.J(t)};t.prototype.bind=function(s){r||(r=!0,t.prototype.et=e.propagateFromFunction(),t.prototype.st=e.boundValueFunction());var c=i(s),a=new t(n);a.et(this,1);var f=this.ut();if(a.ot(c),c instanceof t){var v={promiseRejectionQueued:!1,promise:a,target:f,bindingPromise:c};f.K(n,u,void 0,a,v),c.K(o,h,void 0,a,v),a.ht(c)}else a.it(f);return a},t.prototype.ot=function(t){void 0!==t?(this.nt=2097152|this.nt,this.ct=t):this.nt=-2097153&this.nt},t.prototype.at=function(){return 2097152==(2097152&this.nt)},t.bind=function(n,i){return t.resolve(i).bind(n)}}},{}],4:[function(t,n,i){var e;"undefined"!=typeof Promise&&(e=Promise);var r=t("./promise")();r.noConflict=function(){try{Promise===r&&(Promise=e)}catch(t){}return r},n.exports=r},{"./promise":22}],5:[function(t,n,i){var e=d.create;if(e){var r=e(null),s=e(null);r[" size"]=s[" size"]=0}n.exports=function(n){var i=t("./util"),e=i.canEvaluate;function r(t){var e=this.pop(),r=function(t,e){var r;if(null!=t&&(r=t[e]),"function"!=typeof r){var s="Object "+i.classString(t)+" has no method '"+i.toString(e)+"'";throw new n.TypeError(s)}return r}(t,e);return r.apply(t,this)}function s(t){return t[this]}function u(t){var n=+this;return n<0&&(n=l.max(0,n+t.length)),t[n]}i.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.K(r,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,i="number"==typeof t;if(i)n=u;else if(e){var r=(void 0)();n=null!==r?r:s}else n=s;return this.K(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,i){n.exports=function(n,i,e,r){var s=t("./util"),u=s.tryCatch,o=s.errorObj,h=n.ft;n.prototype.break=n.prototype.cancel=function(){if(!r.cancellation())return this.vt("cancellation is disabled");for(var t=this,n=t;t.dt();){if(!t.At(n)){n.wt()?n.yt().cancel():n._t();break}var i=t.Mt;if(null==i||!i.dt()){t.wt()?t.yt().cancel():t._t();break}t.wt()&&t.yt().cancel(),t.kt(),n=t,t=i}},n.prototype.pt=function(){this.Nt--},n.prototype.Dt=function(){return void 0===this.Nt||this.Nt<=0},n.prototype.At=function(t){return t===this?(this.Nt=0,this.Tt(),!0):(this.pt(),!!this.Dt()&&(this.Tt(),!0))},n.prototype._t=function(){this.Dt()&&this.It()},n.prototype.It=function(){this.dt()&&(this.bt(),h.invoke(this.Et,this,void 0))},n.prototype.Et=function(){this.Lt()>0&&this.H()},n.prototype.St=function(){this.jt=void 0},n.prototype.dt=function(){return this.isPending()&&!this.Ct()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.Ot=function(t,n){if(s.isArray(t))for(var i=0;i<t.length;++i)this.Ot(t[i],n);else if(void 0!==t)if("function"==typeof t){if(!n){var e=u(t).call(this.st());e===o&&(this.xt(e.e),h.throwLater(e.e))}}else t._resultCancelled(this)},n.prototype.Tt=function(){var t=this.zt();this.St(),h.invoke(this.Ot,this,t)},n.prototype.Rt=function(){this.dt()&&(this.Ot(this.zt(),!0),this.St())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,i){n.exports=function(n){var i=t("./util"),e=t("./es5").keys,r=i.tryCatch,s=i.errorObj;return function(t,u,o){return function(h){var c=o.st();t:for(var a=0;a<t.length;++a){var v=t[a];if(v===f||null!=v&&v.prototype instanceof f){if(h instanceof v)return r(u).call(c,h)}else if("function"==typeof v){var d=r(v).call(c,h);if(d===s)return d;if(d)return r(u).call(c,h)}else if(i.isObject(h)){for(var l=e(v),g=0;g<l.length;++g){var A=l[g];if(v[A]!=h[A])continue t}return r(u).call(c,h)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,i){n.exports=function(t){var n=!1,i=[];function e(){this.Ut=new e.CapturedTrace(r())}function r(){var t=i.length-1;if(t>=0)return i[t]}return t.prototype.Bt=function(){},t.prototype.Qt=function(){},t.prototype.Pt=function(){return null},t.Yt=t.prototype.Yt=function(){},e.prototype.Qt=function(){void 0!==this.Ut&&(this.Ut.Bt=null,i.push(this.Ut))},e.prototype.Pt=function(){if(void 0!==this.Ut){var t=i.pop(),n=t.Bt;return t.Bt=null,n}return null},e.CapturedTrace=null,e.create=function(){if(n)return new e},e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var i=t.prototype.Qt,s=t.prototype.Pt,u=t.Yt,o=t.prototype.Yt,h=t.prototype.Bt;e.deactivateLongStackTraces=function(){t.prototype.Qt=i,t.prototype.Pt=s,t.Yt=u,t.prototype.Yt=o,t.prototype.Bt=h,n=!1},n=!0,t.prototype.Qt=e.prototype.Qt,t.prototype.Pt=e.prototype.Pt,t.Yt=t.prototype.Yt=r,t.prototype.Bt=function(){var t=this.Yt();t&&null==t.Bt&&(t.Bt=this)}},e}},{}],9:[function(t,n,i){n.exports=function(n,i){var e,s,u,h=n.Gt,c=n.ft,a=t("./errors").Warning,l=t("./util"),A=t("./es5"),w=l.canAttachTrace,y=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,_=/\((?:timers\.js):\d+:\d+\)/,M=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,k=null,m=null,p=!1,N=!(0==l.env("BLUEBIRD_DEBUG")),D=!(0==l.env("BLUEBIRD_WARNINGS")||!N&&!l.env("BLUEBIRD_WARNINGS")),T=!(0==l.env("BLUEBIRD_LONG_STACK_TRACES")||!N&&!l.env("BLUEBIRD_LONG_STACK_TRACES")),I=0!=l.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(D||!!l.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.ut();t.nt=-1048577&t.nt|524288},n.prototype.Ft=function(){if(0==(524288&this.nt)){this.Vt();var t=this;o(function(){t.Ht()},1)}},n.prototype.Wt=function(){q("rejectionHandled",e,void 0,this)},n.prototype.Xt=function(){this.nt=268435456|this.nt},n.prototype.Zt=function(){return 0!=(268435456&this.nt)},n.prototype.Ht=function(){if(this.qt()){var t=this.Jt();this.Kt(),q("unhandledRejection",s,t,this)}},n.prototype.Kt=function(){this.nt=262144|this.nt},n.prototype.$t=function(){this.nt=-262145&this.nt},n.prototype.tn=function(){return(262144&this.nt)>0},n.prototype.Vt=function(){this.nt=1048576|this.nt},n.prototype.nn=function(){this.nt=-1048577&this.nt,this.tn()&&(this.$t(),this.Wt())},n.prototype.qt=function(){return(1048576&this.nt)>0},n.prototype.vt=function(t,n,i){return H(t,n,i||this)},n.onPossiblyUnhandledRejection=function(t){var n=h();s="function"==typeof t?null===n?t:l.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=h();e="function"==typeof t?null===n?t:l.domainBind(n,t):void 0};var b=function(){};n.longStackTraces=function(){if(c.haveItemsQueued()&&!rt.longStackTraces)throw new f("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!rt.longStackTraces&&K()){var t=n.prototype.in,e=n.prototype.xt,r=n.prototype.rn;rt.longStackTraces=!0,b=function(){if(c.haveItemsQueued()&&!rt.longStackTraces)throw new f("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.in=t,n.prototype.xt=e,n.prototype.rn=r,i.deactivateLongStackTraces(),c.enableTrampoline(),rt.longStackTraces=!1},n.prototype.in=G,n.prototype.xt=F,n.prototype.rn=V,i.activateLongStackTraces(),c.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return rt.longStackTraces&&K()};var E=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var i={detail:n,cancelable:!0};A.defineProperty(i,"promise",{value:n.promise}),A.defineProperty(i,"reason",{value:n.reason});var e=new CustomEvent(t.toLowerCase(),i);return!l.global.dispatchEvent(e)}}if("function"==typeof Event){var t=new Event("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var i=new Event(t.toLowerCase(),{cancelable:!0});return i.detail=n,A.defineProperty(i,"promise",{value:n.promise}),A.defineProperty(i,"reason",{value:n.reason}),!l.global.dispatchEvent(i)}}var t=r.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),l.global.dispatchEvent(t),function(t,n){var i=r.createEvent("CustomEvent");return i.initCustomEvent(t.toLowerCase(),!1,!0,n),!l.global.dispatchEvent(i)}}catch(t){}return function(){return!1}}(),L=l.isNode?function(){return process.emit.apply(process,arguments)}:l.global?function(t){var n="on"+t.toLowerCase(),i=l.global[n];return!!i&&(i.apply(l.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function S(t,n){return{promise:n}}var j={promiseCreated:S,promiseFulfilled:S,promiseRejected:S,promiseResolved:S,promiseCancelled:S,promiseChained:function(t,n,i){return{promise:n,child:i}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,i){return{reason:n,promise:i}},rejectionHandled:S},C=function(t){var n=!1;try{n=L.apply(null,arguments)}catch(t){c.throwLater(t),n=!0}var i=!1;try{i=E(t,j[t].apply(null,arguments))}catch(t){c.throwLater(t),i=!0}return i||n};function O(){return!1}function x(t,n,i){var e=this;try{t(n,i,function(t){if("function"!=typeof t)throw new v("onCancel must be a function, got: "+l.toString(t));e.sn(t)})}catch(t){return t}}function z(t){if(!this.dt())return this;var n=this.zt();void 0!==n?l.isArray(n)?n.push(t):this.ht([n,t]):this.ht(t)}function R(){return this.jt}function U(t){this.jt=t}function B(){this.Mt=void 0,this.jt=void 0}function Q(t,n){if(0!=(1&n)){this.Mt=t;var i=t.Nt;void 0===i&&(i=0),t.Nt=i+1}0!=(2&n)&&t.at()&&this.ot(t.ct)}n.config=function(t){if("longStackTraces"in(t=d(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&b()),"warnings"in t){var i=t.warnings;rt.warnings=!!i,I=rt.warnings,l.isObject(i)&&"wForgottenReturn"in i&&(I=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!rt.cancellation){if(c.haveItemsQueued())throw new f("cannot enable cancellation after promises are in use");n.prototype.un=B,n.prototype.et=Q,n.prototype.zt=R,n.prototype.ht=U,n.prototype.sn=z,n.prototype.hn=x,P=Q,rt.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!rt.monitoring?(rt.monitoring=!0,n.prototype.cn=C):!t.monitoring&&rt.monitoring&&(rt.monitoring=!1,n.prototype.cn=O)),n},n.prototype.cn=O,n.prototype.hn=function(t,n,i){try{t(n,i)}catch(t){return t}},n.prototype.zt=function(){},n.prototype.ht=function(t){},n.prototype.sn=function(t){},n.prototype.in=function(){},n.prototype.xt=function(){},n.prototype.rn=function(){},n.prototype.un=function(){},n.prototype.et=function(t,n){};var P=function(t,n){0!=(2&n)&&t.at()&&this.ot(t.ct)};function Y(){var t=this.ct;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function G(){this.Ut=new it(this.Yt())}function F(t,n){if(w(t)){var i=this.Ut;if(void 0!==i&&n&&(i=i.an),void 0!==i)i.attachExtraTrace(t);else if(!t.fn){var e=X(t);l.notEnumerableProp(t,"stack",e.message+"\n"+e.stack.join("\n")),l.notEnumerableProp(t,"fn",!0)}}}function V(){this.Ut=void 0}function H(t,i,e){if(rt.warnings){var r,s=new a(t);if(i)e.xt(s);else if(rt.longStackTraces&&(r=n.Yt()))r.attachExtraTrace(s);else{var u=X(s);s.stack=u.message+"\n"+u.stack.join("\n")}C("warning",s)||Z(s,"",!0)}}function W(t){for(var n=[],i=0;i<t.length;++i){var e=t[i],r="    (No stack trace)"===e||k.test(e),s=r&&$(e);r&&!s&&(p&&" "!==e.charAt(0)&&(e="    "+e),n.push(e))}return n}function X(t){var n=t.stack,i=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),i=0;i<n.length;++i){var e=n[i];if("    (No stack trace)"===e||k.test(e))break}return i>0&&"SyntaxError"!=t.name&&(n=n.slice(i)),n}(t):["    (No stack trace)"],{message:i,stack:"SyntaxError"==t.name?n:W(n)}}function Z(t,n,i){if("undefined"!=typeof console){var e;if(l.isObject(t)){var r=t.stack;e=n+m(r,t)}else e=n+String(t);"function"==typeof u?u(e,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(e)}}function q(t,n,i,e){var r=!1;try{"function"==typeof n&&(r=!0,"rejectionHandled"===t?n(e):n(i,e))}catch(t){c.throwLater(t)}"unhandledRejection"===t?C(t,i,e)||r||Z(i,"Unhandled rejection "):C(t,e)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():l.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var i=JSON.stringify(t);n=i}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function K(){return"function"==typeof et}var $=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:g(n[2],10)}}function it(t){this.an=t,this.vn=0;var n=this.Lt=1+(void 0===t?0:t.Lt);et(this,it),n>32&&this.uncycle()}l.inherits(it,f),i.CapturedTrace=it,it.prototype.uncycle=function(){var t=this.Lt;if(!(t<2)){for(var n=[],i={},e=0,r=this;void 0!==r;++e)n.push(r),r=r.an;for(var e=(t=this.Lt=e)-1;e>=0;--e){var s=n[e].stack;void 0===i[s]&&(i[s]=e)}for(var e=0;e<t;++e){var u=n[e].stack,o=i[u];if(void 0!==o&&o!==e){o>0&&(n[o-1].an=void 0,n[o-1].Lt=1),n[e].an=void 0,n[e].Lt=1;var h=e>0?n[e-1]:this;o<t-1?(h.an=n[o+1],h.an.uncycle(),h.Lt=h.an.Lt+1):(h.an=void 0,h.Lt=1);for(var c=h.Lt+1,a=e-2;a>=0;--a)n[a].Lt=c,c++;return}}}},it.prototype.attachExtraTrace=function(t){if(!t.fn){this.uncycle();for(var n=X(t),i=n.message,e=[n.stack],r=this;void 0!==r;)e.push(W(r.stack.split("\n"))),r=r.an;!function(t){for(var n=t[0],i=1;i<t.length;++i){for(var e=t[i],r=n.length-1,s=n[r],u=-1,o=e.length-1;o>=0;--o)if(e[o]===s){u=o;break}for(var o=u;o>=0;--o){var h=e[o];if(n[r]!==h)break;n.pop(),r--}n=e}}(e),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(e),l.notEnumerableProp(t,"stack",function(t,n){for(var i=0;i<n.length-1;++i)n[i].push("From previous event:"),n[i]=n[i].join("\n");return i<n.length&&(n[i]=n[i].join("\n")),t+"\n"+n.join("\n")}(i,e)),l.notEnumerableProp(t,"fn",!0)}};var et=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof f.stackTraceLimit&&"function"==typeof f.captureStackTrace){f.stackTraceLimit+=6,k=t,m=n;var i=f.captureStackTrace;return $=function(t){return y.test(t)},function(t,n){f.stackTraceLimit+=6,i(t,n),f.stackTraceLimit-=6}}var e,r=new f;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return k=/@/,m=n,p=!0,function(t){t.stack=(new f).stack};try{throw new f}catch(t){e="stack"in t}return"stack"in r||!e||"number"!=typeof f.stackTraceLimit?(m=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(k=t,m=n,function(t){f.stackTraceLimit+=6;try{throw new f}catch(n){t.stack=n.stack}f.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(u=function(t){console.warn(t)},l.isNode&&process.stderr.isTTY?u=function(t,n){var i=n?"\x1b[33m":"\x1b[31m";console.warn(i+t+"\x1b[0m\n")}:l.isNode||"string"!=typeof(new f).stack||(u=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var rt={warnings:D,longStackTraces:!1,cancellation:!1,monitoring:!1};return T&&n.longStackTraces(),{longStackTraces:function(){return rt.longStackTraces},warnings:function(){return rt.warnings},cancellation:function(){return rt.cancellation},monitoring:function(){return rt.monitoring},propagateFromFunction:function(){return P},boundValueFunction:function(){return Y},checkForgottenReturns:function(t,n,i,e,r){if(void 0===t&&null!==n&&I){if(void 0!==r&&r.Zt())return;if(0==(65535&e.nt))return;i&&(i+=" ");var s="",u="";if(n.Ut){for(var o=n.Ut.stack.split("\n"),h=W(o),c=h.length-1;c>=0;--c){var a=h[c];if(!_.test(a)){var f=a.match(M);f&&(s="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(h.length>0)for(var v=h[0],c=0;c<o.length;++c)if(o[c]===v){c>0&&(u="\n"+o[c-1]);break}}var d="a promise was created in a "+i+"handler "+s+"but was not returned from it, see http://goo.gl/rRqMUw"+u;e.vt(d,!0,n)}},setBounds:function(t,n){if(K()){for(var i,e,r=(t.stack||"").split("\n"),s=(n.stack||"").split("\n"),u=-1,o=-1,h=0;h<r.length;++h){var c=nt(r[h]);if(c){i=c.fileName,u=c.line;break}}for(var h=0;h<s.length;++h){var c=nt(s[h]);if(c){e=c.fileName,o=c.line;break}}u<0||o<0||!i||!e||i!==e||u>=o||($=function(t){if(y.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===i&&u<=n.line&&n.line<=o)})}},warn:H,deprecated:function(t,n){var i=t+" is deprecated and will be removed in a future version.";return n&&(i+=" Use "+n+" instead."),H(i)},CapturedTrace:it,fireDomEvent:E,fireGlobalEvent:L}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,i){n.exports=function(t){function n(){return this.value}function i(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this.K(n,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.K(i,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.K(void 0,i,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this.K(void 0,n,void 0,{value:i},void 0);var e=arguments[1];return e instanceof t&&e.suppressUnhandledRejections(),this.caught(i,function(){return e})}}},{}],11:[function(t,n,i){n.exports=function(t,n){var i=t.reduce,e=t.all;function r(){return e(this)}t.prototype.each=function(t){return i(this,t,n,0).K(r,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,e){return i(t,e,n,0).K(r,void 0,void 0,t,void 0)},t.mapSeries=function(t,e){return i(t,e,n,n)}}},{}],12:[function(t,n,i){var e,r,s=t("./es5"),u=s.freeze,o=t("./util"),h=o.inherits,c=o.notEnumerableProp;function a(t,n){function i(e){if(!(this instanceof i))return new i(e);c(this,"message","string"==typeof e?e:n),c(this,"name",t),f.captureStackTrace?f.captureStackTrace(this,this.constructor):f.call(this)}return h(i,f),i}var d=a("Warning","warning"),l=a("CancellationError","cancellation error"),g=a("TimeoutError","timeout error"),A=a("AggregateError","aggregate error");try{e=v,r=RangeError}catch(t){e=a("TypeError","type error"),r=a("RangeError","range error")}for(var w="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<w.length;++y)"function"==typeof Array.prototype[w[y]]&&(A.prototype[w[y]]=Array.prototype[w[y]]);s.defineProperty(A.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),A.prototype.isOperational=!0;var _=0;function M(t){if(!(this instanceof M))return new M(t);c(this,"name","OperationalError"),c(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof f?(c(this,"message",t.message),c(this,"stack",t.stack)):f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}A.prototype.toString=function(){var t=Array(4*_+1).join(" "),n="\n"+t+"AggregateError of:\n";_++,t=Array(4*_+1).join(" ");for(var i=0;i<this.length;++i){for(var e=this[i]===this?"[Circular AggregateError]":this[i]+"",r=e.split("\n"),s=0;s<r.length;++s)r[s]=t+r[s];e=r.join("\n"),n+=e+"\n"}return _--,n},h(M,f);var k=f.dn;k||(k=u({CancellationError:l,TimeoutError:g,OperationalError:M,RejectionError:M,AggregateError:A}),s.defineProperty(f,"dn",{value:k,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:f,TypeError:e,RangeError:r,CancellationError:k.CancellationError,OperationalError:k.OperationalError,TimeoutError:k.TimeoutError,AggregateError:k.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(t,n,i){var e=function(){return void 0===this}();if(e)n.exports={freeze:d.freeze,defineProperty:d.defineProperty,getDescriptor:d.getOwnPropertyDescriptor,keys:d.keys,names:d.getOwnPropertyNames,getPrototypeOf:d.getPrototypeOf,isArray:Array.isArray,isES5:e,propertyIsWritable:function(t,n){var i=d.getOwnPropertyDescriptor(t,n);return!(i&&!i.writable&&!i.set)}};else{var r={}.hasOwnProperty,s={}.toString,u={}.constructor.prototype,o=function(t){var n=[];for(var i in t)r.call(t,i)&&n.push(i);return n};n.exports={isArray:function(t){try{return"[object Array]"===s.call(t)}catch(t){return!1}},keys:o,names:o,defineProperty:function(t,n,i){return t[n]=i.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return d(t).constructor.prototype}catch(t){return u}},isES5:e,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,i){n.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,e){return i(this,t,e,n)},t.filter=function(t,e,r){return i(t,e,r,n)}}},{}],15:[function(t,n,i){n.exports=function(n,i,e){var r=t("./util"),s=n.CancellationError,u=r.errorObj,o=t("./catch_filter")(e);function h(t,n,i){this.promise=t,this.type=n,this.handler=i,this.called=!1,this.cancelPromise=null}function c(t){this.finallyHandler=t}function a(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.J(n):t.cancelPromise.It(),t.cancelPromise=null,!0)}function f(){return l.call(this,this.promise.ut().Jt())}function d(t){if(!a(this,t))return u.e=t,u}function l(t){var r=this.promise,o=this.handler;if(!this.called){this.called=!0;var h=this.isFinallyHandler()?o.call(r.st()):o.call(r.st(),t);if(h===e)return h;if(void 0!==h){r.Xt();var v=i(h,r);if(v instanceof n){if(null!=this.cancelPromise){if(v.Ct()){var l=new s("late cancellation observer");return r.xt(l),u.e=l,u}v.isPending()&&v.sn(new c(this))}return v.K(f,d,void 0,this,void 0)}}}return r.isRejected()?(a(this),u.e=t,u):(a(this),t)}return h.prototype.isFinallyHandler=function(){return 0===this.type},c.prototype._resultCancelled=function(){a(this.finallyHandler)},n.prototype.ln=function(t,n,i,e){return"function"!=typeof t?this.then():this.K(i,e,void 0,new h(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.ln(t,0,l,l)},n.prototype.tap=function(t){return this.ln(t,1,l)},n.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this.ln(t,1,void 0,l);var e,s=new Array(i-1),u=0;for(e=0;e<i-1;++e){var h=arguments[e];if(!r.isObject(h))return n.reject(new v("tapCatch statement predicate: expecting an object but got "+r.classString(h)));s[u++]=h}s.length=u;var c=arguments[e];return this.ln(o(s,c,this),1,void 0,l)},h}},{"./catch_filter":7,"./util":36}],16:[function(t,n,i){n.exports=function(n,i,e,r,s,u){var o=t("./errors"),h=o.TypeError,c=t("./util"),a=c.errorObj,v=c.tryCatch,l=[];function g(t,i,r,s){if(u.cancellation()){var o=new n(e),h=this.gn=new n(e);this.An=o.lastly(function(){return h}),o.in(),o.ht(this)}else{var c=this.An=new n(e);c.in()}this.wn=s,this.yn=t,this._n=i,this.Mn=void 0,this.kn="function"==typeof r?[r].concat(l):l,this.mn=null,this.pn=!1}c.inherits(g,s),g.prototype.Nn=function(){return null===this.An},g.prototype.Dn=function(){this.An=this.Mn=null,u.cancellation()&&null!==this.gn&&(this.gn.Tn(),this.gn=null)},g.prototype.In=function(){if(!this.Nn()){var t,i=void 0!==this.Mn.return;if(i)this.An.Qt(),t=v(this.Mn.return).call(this.Mn,void 0),this.An.Pt();else{var e=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=e,this.An.xt(e),this.An.Qt(),t=v(this.Mn.throw).call(this.Mn,e),this.An.Pt()}this.pn=!0,this.mn=null,this.bn(t)}},g.prototype.En=function(t){this.mn=null,this.An.Qt();var n=v(this.Mn.next).call(this.Mn,t);this.An.Pt(),this.bn(n)},g.prototype.Ln=function(t){this.mn=null,this.An.xt(t),this.An.Qt();var n=v(this.Mn.throw).call(this.Mn,t);this.An.Pt(),this.bn(n)},g.prototype._resultCancelled=function(){if(this.mn instanceof n){var t=this.mn;this.mn=null,t.cancel()}},g.prototype.promise=function(){return this.An},g.prototype.Sn=function(){this.Mn=this.yn.call(this._n),this._n=this.yn=void 0,this.En(void 0)},g.prototype.bn=function(t){var i=this.An;if(t===a)return this.Dn(),this.pn?i.cancel():i.jn(t.e,!1);var e=t.value;if(!0===t.done)return this.Dn(),this.pn?i.cancel():i.it(e);var s=r(e,this.An);if(s instanceof n||null!==(s=function(t,i,e){for(var s=0;s<i.length;++s){e.Qt();var u=v(i[s])(t);if(e.Pt(),u===a){e.Qt();var o=n.reject(a.e);return e.Pt(),o}var h=r(u,e);if(h instanceof n)return h}return null}(s,this.kn,this.An))){var u=(s=s.ut()).nt;0==(50397184&u)?(this.mn=s,s.Cn(this,null)):0!=(33554432&u)?n.ft.invoke(this.En,this,s.On()):0!=(16777216&u)?n.ft.invoke(this.Ln,this,s.xn()):this.In()}else this.Ln(new h("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(e))+"From coroutine:\n"+this.wn.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new h("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=d(n).yieldHandler,e=g,r=(new f).stack;return function(){var n=t.apply(this,arguments),s=new e(void 0,void 0,i,r),u=s.promise();return s.Mn=n,s.En(void 0),u}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new h("expecting a function but got "+c.classString(t));l.push(t)},n.spawn=function(t){if(u.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var e=new g(t,this),r=e.promise();return e.Sn(n.spawn),r}}},{"./errors":12,"./util":36}],17:[function(t,n,i){n.exports=function(n,i,e,r,s,u){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var e=[].slice.call(arguments);t&&e.pop();var r=new i(e).promise();return void 0!==t?r.spread(t):r}}},{"./util":36}],18:[function(t,n,i){n.exports=function(n,i,e,r,s,u){var o=n.Gt,h=t("./util"),c=h.tryCatch,a=h.errorObj,f=n.ft;function d(t,n,i,e){this.constructor$(t),this.An.in();var r=o();this.zn=null===r?n:h.domainBind(r,n),this.Rn=e===s?new Array(this.length()):null,this.Un=i,this.Bn=0,this.Qn=[],f.invoke(this.Pn,this,void 0)}function l(t,i,r,s){if("function"!=typeof i)return e("expecting a function but got "+h.classString(i));var u=0;if(void 0!==r){if("object"!=typeof r||null===r)return n.reject(new v("options argument must be an object but it is "+h.classString(r)));if("number"!=typeof r.concurrency)return n.reject(new v("'concurrency' must be a number but it is "+h.classString(r.concurrency)));u=r.concurrency}return u="number"==typeof u&&isFinite(u)&&u>=1?u:0,new d(t,i,u,s).promise()}h.inherits(d,i),d.prototype.Pn=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype.En=function(t,i){var e=this.Yn,s=this.length(),o=this.Rn,h=this.Un;if(i<0){if(e[i=-1*i-1]=t,h>=1&&(this.Bn--,this.Gn(),this.Nn()))return!0}else{if(h>=1&&this.Bn>=h)return e[i]=t,this.Qn.push(i),!1;null!==o&&(o[i]=t);var f=this.An,v=this.zn,d=f.st();f.Qt();var l=c(v).call(d,t,i,s),g=f.Pt();if(u.checkForgottenReturns(l,g,null!==o?"Promise.filter":"Promise.map",f),l===a)return this.J(l.e),!0;var A=r(l,this.An);if(A instanceof n){var w=(A=A.ut()).nt;if(0==(50397184&w))return h>=1&&this.Bn++,e[i]=A,A.Cn(this,-1*(i+1)),!1;if(0==(33554432&w))return 0!=(16777216&w)?(this.J(A.xn()),!0):(this.It(),!0);l=A.On()}e[i]=l}var y=++this.Fn;return y>=s&&(null!==o?this.Vn(e,o):this.Hn(e),!0)},d.prototype.Gn=function(){for(var t=this.Qn,n=this.Un,i=this.Yn;t.length>0&&this.Bn<n;){if(this.Nn())return;var e=t.pop();this.En(i[e],e)}},d.prototype.Vn=function(t,n){for(var i=n.length,e=new Array(i),r=0,s=0;s<i;++s)t[s]&&(e[r++]=n[s]);e.length=r,this.Hn(e)},d.prototype.preservedValues=function(){return this.Rn},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,i,e){return l(t,n,i,e)}}},{"./util":36}],19:[function(t,n,i){n.exports=function(n,i,e,r,s){var u=t("./util"),o=u.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+u.classString(t));return function(){var e=new n(i);e.in(),e.Qt();var r=o(t).apply(this,arguments),u=e.Pt();return s.checkForgottenReturns(r,u,"Promise.method",e),e.Wn(r),e}},n.attempt=n.try=function(t){if("function"!=typeof t)return r("expecting a function but got "+u.classString(t));var e,h=new n(i);if(h.in(),h.Qt(),arguments.length>1){s.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],a=arguments[2];e=u.isArray(c)?o(t).apply(a,c):o(t).call(a,c)}else e=o(t)();var f=h.Pt();return s.checkForgottenReturns(e,f,"Promise.try",h),h.Wn(e),h},n.prototype.Wn=function(t){t===u.errorObj?this.jn(t.e,!1):this.it(t,!0)}}},{"./util":36}],20:[function(t,n,i){var e=t("./util"),r=e.maybeWrapAsError,s=t("./errors"),u=s.OperationalError,o=t("./es5"),h=/^(?:name|message|stack|cause)$/;function c(t){var n;if(function(t){return t instanceof f&&o.getPrototypeOf(t)===f.prototype}(t)){(n=new u(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var i=o.keys(t),r=0;r<i.length;++r){var s=i[r];h.test(s)||(n[s]=t[s])}return n}return e.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(i,e){if(null!==t){if(i){var s=c(r(i));t.xt(s),t.J(s)}else if(n){var u=[].slice.call(arguments,1);t.Tn(u)}else t.Tn(e);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,i){n.exports=function(n){var i=t("./util"),e=n.ft,r=i.tryCatch,s=i.errorObj;function u(t,n){if(!i.isArray(t))return o.call(this,t,n);var u=r(n).apply(this.st(),[null].concat(t));u===s&&e.throwLater(u.e)}function o(t,n){var i=this.st(),u=void 0===t?r(n).call(i,null):r(n).call(i,null,t);u===s&&e.throwLater(u.e)}function h(t,n){if(!t){var i=new f(t+"");i.cause=t,t=i}var u=r(n).call(this.st(),t);u===s&&e.throwLater(u.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var i=o;void 0!==n&&d(n).spread&&(i=u),this.K(i,h,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){n.exports=function(){var i=function(){return new l("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},e=function(){return new E.PromiseInspection(this.ut())},r=function(t){return E.reject(new l(t))};function s(){}var u,o={},h=t("./util");u=h.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},h.notEnumerableProp(E,"Gt",u);var c=t("./es5"),a=t("./async"),f=new a;c.defineProperty(E,"ft",{value:f});var v=t("./errors"),l=E.TypeError=v.TypeError;E.RangeError=v.RangeError;var g=E.CancellationError=v.CancellationError;E.TimeoutError=v.TimeoutError,E.OperationalError=v.OperationalError,E.RejectionError=v.OperationalError,E.AggregateError=v.AggregateError;var A=function(){},w={},y={},_=t("./thenables")(E,A),M=t("./promise_array")(E,A,_,r,s),k=t("./context")(E),m=k.create,p=t("./debuggability")(E,k),N=(p.CapturedTrace,t("./finally")(E,_,y)),D=t("./catch_filter")(y),T=t("./nodeback"),I=h.errorObj,b=h.tryCatch;function E(t){t!==A&&function(t,n){if(null==t||t.constructor!==E)throw new l("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new l("expecting a function but got "+h.classString(n))}(this,t),this.nt=0,this.Xn=void 0,this.Zn=void 0,this.qn=void 0,this.Jn=void 0,this.Kn(t),this.Bt(),this.cn("promiseCreated",this)}function L(t){this.promise.it(t)}function S(t){this.promise.jn(t,!1)}function j(t){var n=new E(A);n.Xn=t,n.Zn=t,n.qn=t,n.Jn=t}return E.prototype.toString=function(){return"[object Promise]"},E.prototype.caught=E.prototype.catch=function(t){var n=arguments.length;if(n>1){var i,e=new Array(n-1),s=0;for(i=0;i<n-1;++i){var u=arguments[i];if(!h.isObject(u))return r("Catch statement predicate: expecting an object but got "+h.classString(u));e[s++]=u}if(e.length=s,"function"!=typeof(t=arguments[i]))throw new l("The last argument to .catch() must be a function, got "+h.toString(t));return this.then(void 0,D(e,t,this))}return this.then(void 0,t)},E.prototype.reflect=function(){return this.K(e,e,void 0,this,void 0)},E.prototype.then=function(t,n){if(p.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var i=".then() only accepts functions but was passed: "+h.classString(t);arguments.length>1&&(i+=", "+h.classString(n)),this.vt(i)}return this.K(t,n,void 0,void 0,void 0)},E.prototype.done=function(t,n){var i=this.K(t,n,void 0,void 0,void 0);i.$n()},E.prototype.spread=function(t){return"function"!=typeof t?r("expecting a function but got "+h.classString(t)):this.all().K(t,void 0,void 0,w,void 0)},E.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},E.prototype.all=function(){return arguments.length>0&&this.vt(".all() was passed arguments but it does not take any"),new M(this).promise()},E.prototype.error=function(t){return this.caught(h.originatesFromRejection,t)},E.getNewLibraryCopy=n.exports,E.is=function(t){return t instanceof E},E.fromNode=E.fromCallback=function(t){var n=new E(A);n.in();var i=arguments.length>1&&!!d(arguments[1]).multiArgs,e=b(t)(T(n,i));return e===I&&n.jn(e.e,!0),n.ti()||n.ni(),n},E.all=function(t){return new M(t).promise()},E.cast=function(t){var n=_(t);return n instanceof E||((n=new E(A)).in(),n.ii(),n.Zn=t),n},E.resolve=E.fulfilled=E.cast,E.reject=E.rejected=function(t){var n=new E(A);return n.in(),n.jn(t,!0),n},E.setScheduler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+h.classString(t));return f.setScheduler(t)},E.prototype.K=function(t,n,i,e,r){var s=void 0!==r,o=s?r:new E(A),c=this.ut(),a=c.nt;s||(o.et(this,3),o.in(),void 0===e&&0!=(2097152&this.nt)&&(e=0!=(50397184&a)?this.st():c===this?void 0:this.ct),this.cn("promiseChained",this,o));var v=u();if(0!=(50397184&a)){var d,l,w=c.ei;0!=(33554432&a)?(l=c.Zn,d=t):0!=(16777216&a)?(l=c.Xn,d=n,c.nn()):(w=c.ri,l=new g("late cancellation observer"),c.xt(l),d=n),f.invoke(w,c,{handler:null===v?d:"function"==typeof d&&h.domainBind(v,d),promise:o,receiver:e,value:l})}else c.si(t,n,o,e,v);return o},E.prototype.Lt=function(){return 65535&this.nt},E.prototype.ti=function(){return 0!=(117506048&this.nt)},E.prototype.wt=function(){return 67108864==(67108864&this.nt)},E.prototype.oi=function(t){this.nt=-65536&this.nt|65535&t},E.prototype.ii=function(){this.nt=33554432|this.nt,this.cn("promiseFulfilled",this)},E.prototype.hi=function(){this.nt=16777216|this.nt,this.cn("promiseRejected",this)},E.prototype.ci=function(){this.nt=67108864|this.nt,this.cn("promiseResolved",this)},E.prototype.$n=function(){this.nt=4194304|this.nt},E.prototype.ai=function(){return(4194304&this.nt)>0},E.prototype.fi=function(){this.nt=-65537&this.nt},E.prototype.bt=function(){this.nt=65536|this.nt,this.cn("promiseCancelled",this)},E.prototype.kt=function(){this.nt=8388608|this.nt},E.prototype.ni=function(){f.hasCustomScheduler()||(this.nt=134217728|this.nt)},E.prototype.vi=function(t){var n=0===t?this.Jn:this[4*t-4+3];if(n!==o)return void 0===n&&this.at()?this.st():n},E.prototype.di=function(t){return this[4*t-4+2]},E.prototype.li=function(t){return this[4*t-4+0]},E.prototype.gi=function(t){return this[4*t-4+1]},E.prototype.st=function(){},E.prototype.Ai=function(t){t.nt;var n=t.Xn,i=t.Zn,e=t.qn,r=t.vi(0);void 0===r&&(r=o),this.si(n,i,e,r,null)},E.prototype.wi=function(t,n){var i=t.li(n),e=t.gi(n),r=t.di(n),s=t.vi(n);void 0===s&&(s=o),this.si(i,e,r,s,null)},E.prototype.si=function(t,n,i,e,r){var s=this.Lt();if(s>=65531&&(s=0,this.oi(0)),0===s)this.qn=i,this.Jn=e,"function"==typeof t&&(this.Xn=null===r?t:h.domainBind(r,t)),"function"==typeof n&&(this.Zn=null===r?n:h.domainBind(r,n));else{var u=4*s-4;this[u+2]=i,this[u+3]=e,"function"==typeof t&&(this[u+0]=null===r?t:h.domainBind(r,t)),"function"==typeof n&&(this[u+1]=null===r?n:h.domainBind(r,n))}return this.oi(s+1),s},E.prototype.Cn=function(t,n){this.si(void 0,void 0,n,t,null)},E.prototype.it=function(t,n){if(0==(117506048&this.nt)){if(t===this)return this.jn(i(),!1);var e=_(t,this);if(!(e instanceof E))return this.Tn(t);n&&this.et(e,2);var r=e.ut();if(r!==this){var s=r.nt;if(0==(50397184&s)){var u=this.Lt();u>0&&r.Ai(this);for(var o=1;o<u;++o)r.wi(this,o);this.ci(),this.oi(0),this.yi(r)}else if(0!=(33554432&s))this.Tn(r.On());else if(0!=(16777216&s))this.J(r.xn());else{var h=new g("late cancellation observer");r.xt(h),this.J(h)}}else this.J(i())}},E.prototype.jn=function(t,n,i){var e=h.ensureErrorObject(t),r=e===t;if(!r&&!i&&p.warnings()){var s="a promise was rejected with a non-error: "+h.classString(t);this.vt(s,!0)}this.xt(e,!!n&&r),this.J(t)},E.prototype.Kn=function(t){if(t!==A){var n=this;this.in(),this.Qt();var i=!0,e=this.hn(t,function(t){n.it(t)},function(t){n.jn(t,i)});i=!1,this.Pt(),void 0!==e&&n.jn(e,!0)}},E.prototype._i=function(t,n,i,e){var r=e.nt;if(0==(65536&r)){var s;e.Qt(),n===w?i&&"number"==typeof i.length?s=b(t).apply(this.st(),i):(s=I).e=new l("cannot .spread() a non-array: "+h.classString(i)):s=b(t).call(n,i);var u=e.Pt();0==(65536&(r=e.nt))&&(s===y?e.J(i):s===I?e.jn(s.e,!1):(p.checkForgottenReturns(s,u,"",e,this),e.it(s)))}},E.prototype.ut=function(){for(var t=this;t.wt();)t=t.yt();return t},E.prototype.yt=function(){return this.Zn},E.prototype.yi=function(t){this.Zn=t},E.prototype.Mi=function(t,n,i,r){var u=t instanceof E,o=this.nt,h=0!=(134217728&o);0!=(65536&o)?(u&&t.Rt(),i instanceof N&&i.isFinallyHandler()?(i.cancelPromise=t,b(n).call(i,r)===I&&t.J(I.e)):n===e?t.Tn(e.call(i)):i instanceof s?i.In(t):u||t instanceof M?t.It():i.cancel()):"function"==typeof n?u?(h&&t.ni(),this._i(n,i,r,t)):n.call(i,r,t):i instanceof s?i.Nn()||(0!=(33554432&o)?i.En(r,t):i.Ln(r,t)):u&&(h&&t.ni(),0!=(33554432&o)?t.Tn(r):t.J(r))},E.prototype.ri=function(t){var n=t.handler,i=t.promise,e=t.receiver,r=t.value;"function"==typeof n?i instanceof E?this._i(n,e,r,i):n.call(e,r,i):i instanceof E&&i.J(r)},E.prototype.ei=function(t){this.Mi(t.promise,t.handler,t.receiver,t.value)},E.prototype.ki=function(t,n,i){var e=this.qn,r=this.vi(0);this.qn=void 0,this.Jn=void 0,this.Mi(e,t,r,n)},E.prototype.mi=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},E.prototype.Tn=function(t){var n=this.nt;if(!((117506048&n)>>>16)){if(t===this){var e=i();return this.xt(e),this.J(e)}this.ii(),this.Zn=t,(65535&n)>0&&(0!=(134217728&n)?this.H():f.settlePromises(this),this.rn())}},E.prototype.J=function(t){var n=this.nt;if(!((117506048&n)>>>16)){if(this.hi(),this.Xn=t,this.ai())return f.fatalError(t,h.isNode);(65535&n)>0?f.settlePromises(this):this.Ft()}},E.prototype.pi=function(t,n){for(var i=1;i<t;i++){var e=this.li(i),r=this.di(i),s=this.vi(i);this.mi(i),this.Mi(r,e,s,n)}},E.prototype.Ni=function(t,n){for(var i=1;i<t;i++){var e=this.gi(i),r=this.di(i),s=this.vi(i);this.mi(i),this.Mi(r,e,s,n)}},E.prototype.H=function(){var t=this.nt,n=65535&t;if(n>0){if(0!=(16842752&t)){var i=this.Xn;this.ki(this.Zn,i,t),this.Ni(n,i)}else{var e=this.Zn;this.ki(this.Xn,e,t),this.pi(n,e)}this.oi(0)}this.un()},E.prototype.Jt=function(){var t=this.nt;return 0!=(33554432&t)?this.Zn:0!=(16777216&t)?this.Xn:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&c.defineProperty(E.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),E.defer=E.pending=function(){p.deprecated("Promise.defer","new Promise");var t=new E(A);return{promise:t,resolve:L,reject:S}},h.notEnumerableProp(E,"Di",i),t("./method")(E,A,_,r,p),t("./bind")(E,A,_,p),t("./cancel")(E,M,r,p),t("./direct_resolve")(E),t("./synchronous_inspection")(E),t("./join")(E,M,_,A,f,u),E.Promise=E,E.version="3.5.5",t("./call_get.js")(E),t("./generators.js")(E,r,A,_,s,p),t("./map.js")(E,M,r,_,A,p),t("./nodeify.js")(E),t("./promisify.js")(E,A),t("./props.js")(E,M,_,r),t("./race.js")(E,A,_,r),t("./reduce.js")(E,M,r,_,A,p),t("./settle.js")(E,M,p),t("./some.js")(E,M,r),t("./timers.js")(E,A,p),t("./using.js")(E,r,_,m,A,p),t("./any.js")(E),t("./each.js")(E,A),t("./filter.js")(E,A),h.toFastProperties(E),h.toFastProperties(E.prototype),j({a:1}),j({b:2}),j({c:3}),j(1),j(function(){}),j(void 0),j(!1),j(new E(A)),p.setBounds(a.firstLineError,h.lastLineError),E}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,i){n.exports=function(n,i,e,r,s){var u=t("./util");function o(t){var e=this.An=new n(i);t instanceof n&&e.et(t,3),e.ht(this),this.Yn=t,this.Lt=0,this.Fn=0,this._init(void 0,-2)}return u.isArray,u.inherits(o,s),o.prototype.length=function(){return this.Lt},o.prototype.promise=function(){return this.An},o.prototype._init=function t(i,s){var o=e(this.Yn,this.An);if(o instanceof n){var h=(o=o.ut()).nt;if(this.Yn=o,0==(50397184&h))return this.An.ni(),o.K(t,this.J,void 0,this,s);if(0==(33554432&h))return 0!=(16777216&h)?this.J(o.xn()):this.It();o=o.On()}if(null!==(o=u.asArray(o)))0!==o.length?this.Ti(o):-5===s?this.Ii():this.Hn(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(s));else{var c=r("expecting an array or an iterable object but got "+u.classString(o)).reason();this.An.jn(c,!1)}},o.prototype.Ti=function(t){var i=this.getActualLength(t.length);this.Lt=i,this.Yn=this.shouldCopyValues()?new Array(i):this.Yn;for(var r=this.An,s=!1,u=null,o=0;o<i;++o){var h=e(t[o],r);h instanceof n?(h=h.ut(),u=h.nt):u=null,s?null!==u&&h.suppressUnhandledRejections():null!==u?0==(50397184&u)?(h.Cn(this,o),this.Yn[o]=h):s=0!=(33554432&u)?this.En(h.On(),o):0!=(16777216&u)?this.Ln(h.xn(),o):this.In(o):s=this.En(h,o)}s||r.ni()},o.prototype.Nn=function(){return null===this.Yn},o.prototype.Hn=function(t){this.Yn=null,this.An.Tn(t)},o.prototype.It=function(){!this.Nn()&&this.An.dt()&&(this.Yn=null,this.An.It())},o.prototype.J=function(t){this.Yn=null,this.An.jn(t,!1)},o.prototype.En=function(t,n){this.Yn[n]=t;var i=++this.Fn;return i>=this.Lt&&(this.Hn(this.Yn),!0)},o.prototype.In=function(){return this.It(),!0},o.prototype.Ln=function(t){return this.Fn++,this.J(t),!0},o.prototype._resultCancelled=function(){if(!this.Nn()){var t=this.Yn;if(this.It(),t instanceof n)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof n&&t[i].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(t){return t},o}},{"./util":36}],24:[function(t,n,i){n.exports=function(n,i){var e={},r=t("./util"),s=t("./nodeback"),u=r.withAppended,o=r.maybeWrapAsError,h=r.canEvaluate,c=t("./errors").TypeError,a={bi:!0},f=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","bi"].join("|")+")$"),v=function(t){return r.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function l(t){return!f.test(t)}function g(t){try{return!0===t.bi}catch(t){return!1}}function A(t,n,i){var e=r.getDataPropertyOrDefault(t,n+i,a);return!!e&&g(e)}function w(t,n,i,e){for(var s=r.inheritedDataKeys(t),u=[],o=0;o<s.length;++o){var h=s[o],a=t[h],f=e===v||v(h);"function"!=typeof a||g(a)||A(t,h,n)||!e(h,a,t,f)||u.push(h,a)}return function(t,n,i){for(var e=0;e<t.length;e+=2){var r=t[e];if(i.test(r))for(var s=r.replace(i,""),u=0;u<t.length;u+=2)if(t[u]===s)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(u,n,i),u}var y=function(t){return t.replace(/([$])/,"\\$")},_=h?void 0:function(t,h,c,a,f,v){var d=function(){return this}(),l=t;function g(){var r=h;h===e&&(r=this);var c=new n(i);c.in();var a="string"==typeof l&&this!==d?this[l]:t,f=s(c,v);try{a.apply(r,u(arguments,f))}catch(t){c.jn(o(t),!0,!0)}return c.ti()||c.ni(),c}return"string"==typeof l&&(t=a),r.notEnumerableProp(g,"bi",!0),g};function M(t,n,i,s,u){for(var o=new RegExp(y(n)+"$"),h=w(t,n,o,i),c=0,a=h.length;c<a;c+=2){var f=h[c],v=h[c+1],d=f+n;if(s===_)t[d]=_(f,e,f,v,n,u);else{var l=s(v,function(){return _(f,e,f,v,n,u)});r.notEnumerableProp(l,"bi",!0),t[d]=l}}return r.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new c("expecting a function but got "+r.classString(t));if(g(t))return t;var i=void 0===(n=d(n)).context?e:n.context,s=!!n.multiArgs,u=function(t,n,i){return _(t,n,void 0,t,null,i)}(t,i,s);return r.copyDescriptors(t,u,l),u},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(n=d(n)).multiArgs,e=n.suffix;"string"!=typeof e&&(e="Async");var s=n.filter;"function"!=typeof s&&(s=v);var u=n.promisifier;if("function"!=typeof u&&(u=_),!r.isIdentifier(e))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=r.inheritedDataKeys(t),h=0;h<o.length;++h){var a=t[o[h]];"constructor"!==o[h]&&r.isClass(a)&&(M(a.prototype,e,s,u,i),M(a,e,s,u,i))}return M(t,e,s,u,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,i){n.exports=function(n,i,e,r){var s,u=t("./util"),o=u.isObject,h=t("./es5");"function"==typeof Map&&(s=Map);var c=function(){var t=0,n=0;function i(i,e){this[t]=i,this[t+n]=e,t++}return function(e){n=e.size,t=0;var r=new Array(2*e.size);return e.forEach(i,r),r}}();function a(t){var n,i=!1;if(void 0!==s&&t instanceof s)n=c(t),i=!0;else{var e=h.keys(t),r=e.length;n=new Array(2*r);for(var u=0;u<r;++u){var o=e[u];n[u]=t[o],n[u+r]=o}}this.constructor$(n),this.Ei=i,this._init$(void 0,i?-6:-3)}function f(t){var i,s=e(t);return o(s)?(i=s instanceof n?s.K(n.props,void 0,void 0,void 0,void 0):new a(s).promise(),s instanceof n&&i.et(s,2),i):r("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}u.inherits(a,i),a.prototype._init=function(){},a.prototype.En=function(t,n){this.Yn[n]=t;var i=++this.Fn;if(i>=this.Lt){var e;if(this.Ei)e=function(t){for(var n=new s,i=t.length/2|0,e=0;e<i;++e){var r=t[i+e],u=t[e];n.set(r,u)}return n}(this.Yn);else{e={};for(var r=this.length(),u=0,o=this.length();u<o;++u)e[this.Yn[u+r]]=this.Yn[u]}return this.Hn(e),!0}return!1},a.prototype.shouldCopyValues=function(){return!1},a.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return f(this)},n.props=function(t){return f(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,i){function e(t){this.Li=t,this.Lt=0,this.Si=0}e.prototype.ji=function(t){return this.Li<t},e.prototype.F=function(t){var n=this.length();this.Ci(n+1);var i=this.Si+n&this.Li-1;this[i]=t,this.Lt=n+1},e.prototype.push=function(t,n,i){var e=this.length()+3;if(this.ji(e))return this.F(t),this.F(n),void this.F(i);var r=this.Si+e-3;this.Ci(e);var s=this.Li-1;this[r+0&s]=t,this[r+1&s]=n,this[r+2&s]=i,this.Lt=e},e.prototype.shift=function(){var t=this.Si,n=this[t];return this[t]=void 0,this.Si=t+1&this.Li-1,this.Lt--,n},e.prototype.length=function(){return this.Lt},e.prototype.Ci=function(t){this.Li<t&&this.Oi(this.Li<<1)},e.prototype.Oi=function(t){var n=this.Li;this.Li=t;var i=this.Si,e=this.Lt,r=i+e&n-1;!function(t,n,i,e,r){for(var s=0;s<r;++s)i[s+e]=t[s+n],t[s+n]=void 0}(this,0,this,n,r)},n.exports=e},{}],27:[function(t,n,i){n.exports=function(n,i,e,r){var s=t("./util"),u=function(t){return t.then(function(n){return o(n,t)})};function o(t,o){var h=e(t);if(h instanceof n)return u(h);if(null===(t=s.asArray(t)))return r("expecting an array or an iterable object but got "+s.classString(t));var c=new n(i);void 0!==o&&c.et(o,3);for(var a=c.Tn,f=c.J,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).K(a,f,void 0,c,null)}return c}n.race=function(t){return o(t,void 0)},n.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,n,i){n.exports=function(n,i,e,r,s,u){var o=n.Gt,h=t("./util"),c=h.tryCatch;function a(t,i,e,r){this.constructor$(t);var u=o();this.xi=null===u?i:h.domainBind(u,i),void 0!==e&&(e=n.resolve(e)).sn(this),this.zi=e,this.Ri=null,this.Ui=r===s?Array(this.Lt):0===r?null:void 0,this.An.in(),this._init$(void 0,-5)}function f(t,n){this.isFulfilled()?n.Hn(t):n.J(t)}function v(t,n,i,r){if("function"!=typeof n)return e("expecting a function but got "+h.classString(n));var s=new a(t,n,i,r);return s.promise()}function d(t){this.accum=t,this.array.Bi(t);var i=r(this.value,this.array.An);return i instanceof n?(this.array.Ri=i,i.K(l,void 0,void 0,this,void 0)):l.call(this,i)}function l(t){var i,e=this.array,r=e.An,s=c(e.xi);r.Qt(),(i=void 0!==e.Ui?s.call(r.st(),t,this.index,this.length):s.call(r.st(),this.accum,t,this.index,this.length))instanceof n&&(e.Ri=i);var o=r.Pt();return u.checkForgottenReturns(i,o,void 0!==e.Ui?"Promise.each":"Promise.reduce",r),i}h.inherits(a,i),a.prototype.Bi=function(t){void 0!==this.Ui&&null!==this.Ui&&t!==s&&this.Ui.push(t)},a.prototype.Qi=function(t){return null!==this.Ui&&this.Ui.push(t),this.Ui},a.prototype._init=function(){},a.prototype.Ii=function(){this.Hn(void 0!==this.Ui?this.Ui:this.zi)},a.prototype.shouldCopyValues=function(){return!1},a.prototype.Hn=function(t){this.An.it(t),this.Yn=null},a.prototype._resultCancelled=function(t){if(t===this.zi)return this.It();this.Nn()||(this._resultCancelled$(),this.Ri instanceof n&&this.Ri.cancel(),this.zi instanceof n&&this.zi.cancel())},a.prototype.Ti=function(t){var i,e;this.Yn=t;var r=t.length;if(void 0!==this.zi?(i=this.zi,e=0):(i=n.resolve(t[0]),e=1),this.Ri=i,!i.isRejected())for(;e<r;++e){var s={accum:null,value:t[e],index:e,length:r,array:this};i=i.K(d,void 0,void 0,s,void 0)}void 0!==this.Ui&&(i=i.K(this.Qi,void 0,void 0,this,void 0)),i.K(f,f,void 0,i,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,i,e){return v(t,n,i,e)}}},{"./util":36}],29:[function(t,n,i){var s,u,h,c,a,v=t("./util"),d=v.getNativePromise();if(v.isNode&&"undefined"==typeof MutationObserver){var l=k.setImmediate,g=process.nextTick;s=v.isRecentNode?function(t){l.call(k,t)}:function(t){g.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var A=d.resolve();s=function(t){A.then(t)}}else s="undefined"!=typeof MutationObserver&&(void 0===e||!e.navigator||!e.navigator.standalone&&!e.cordova)&&"classList"in r.documentElement?(u=r.createElement("div"),h={attributes:!0},c=!1,a=r.createElement("div"),new MutationObserver(function(){u.classList.toggle("foo"),c=!1}).observe(a,h),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(u,h),c||(c=!0,a.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==o?function(t){o(t,0)}:function(){throw new f("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=s},{"./util":36}],30:[function(t,n,i){n.exports=function(n,i,e){var r=n.PromiseInspection,s=t("./util");function u(t){this.constructor$(t)}s.inherits(u,i),u.prototype.Pi=function(t,n){this.Yn[t]=n;var i=++this.Fn;return i>=this.Lt&&(this.Hn(this.Yn),!0)},u.prototype.En=function(t,n){var i=new r;return i.nt=33554432,i.Yi=t,this.Pi(n,i)},u.prototype.Ln=function(t,n){var i=new r;return i.nt=16777216,i.Yi=t,this.Pi(n,i)},n.settle=function(t){return e.deprecated(".settle()",".reflect()"),new u(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,i){n.exports=function(n,i,e){var r=t("./util"),s=t("./errors").RangeError,u=t("./errors").AggregateError,o=r.isArray,h={};function c(t){this.constructor$(t),this.Gi=0,this.Fi=!1,this.Vi=!1}function a(t,n){if((0|n)!==n||n<0)return e("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new c(t),r=i.promise();return i.setHowMany(n),i.init(),r}r.inherits(c,i),c.prototype._init=function(){if(this.Vi)if(0!==this.Gi){this._init$(void 0,-5);var t=o(this.Yn);!this.Nn()&&t&&this.Gi>this.Hi()&&this.J(this.Wi(this.length()))}else this.Hn([])},c.prototype.init=function(){this.Vi=!0,this._init()},c.prototype.setUnwrap=function(){this.Fi=!0},c.prototype.howMany=function(){return this.Gi},c.prototype.setHowMany=function(t){this.Gi=t},c.prototype.En=function(t){return this.Xi(t),this.Zi()===this.howMany()&&(this.Yn.length=this.howMany(),1===this.howMany()&&this.Fi?this.Hn(this.Yn[0]):this.Hn(this.Yn),!0)},c.prototype.Ln=function(t){return this.qi(t),this.Ji()},c.prototype.In=function(){return this.Yn instanceof n||null==this.Yn?this.It():(this.qi(h),this.Ji())},c.prototype.Ji=function(){if(this.howMany()>this.Hi()){for(var t=new u,n=this.length();n<this.Yn.length;++n)this.Yn[n]!==h&&t.push(this.Yn[n]);return t.length>0?this.J(t):this.It(),!0}return!1},c.prototype.Zi=function(){return this.Fn},c.prototype.Ki=function(){return this.Yn.length-this.length()},c.prototype.qi=function(t){this.Yn.push(t)},c.prototype.Xi=function(t){this.Yn[this.Fn++]=t},c.prototype.Hi=function(){return this.length()-this.Ki()},c.prototype.Wi=function(t){var n="Input array must contain at least "+this.Gi+" items but contains only "+t+" items";return new s(n)},c.prototype.Ii=function(){this.J(this.Wi(0))},n.some=function(t,n){return a(t,n)},n.prototype.some=function(t){return a(this,t)},n.g=c}},{"./errors":12,"./util":36}],32:[function(t,n,i){n.exports=function(t){function n(t){void 0!==t?(t=t.ut(),this.nt=t.nt,this.Yi=t.ti()?t.Jt():void 0):(this.nt=0,this.Yi=void 0)}n.prototype.Jt=function(){return this.Yi};var i=n.prototype.value=function(){if(!this.isFulfilled())throw new v("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.Jt()},e=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new v("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.Jt()},r=n.prototype.isFulfilled=function(){return 0!=(33554432&this.nt)},s=n.prototype.isRejected=function(){return 0!=(16777216&this.nt)},u=n.prototype.isPending=function(){return 0==(50397184&this.nt)},o=n.prototype.isResolved=function(){return 0!=(50331648&this.nt)};n.prototype.isCancelled=function(){return 0!=(8454144&this.nt)},t.prototype.$i=function(){return 65536==(65536&this.nt)},t.prototype.Ct=function(){return this.ut().$i()},t.prototype.isCancelled=function(){return 0!=(8454144&this.ut().nt)},t.prototype.isPending=function(){return u.call(this.ut())},t.prototype.isRejected=function(){return s.call(this.ut())},t.prototype.isFulfilled=function(){return r.call(this.ut())},t.prototype.isResolved=function(){return o.call(this.ut())},t.prototype.value=function(){return i.call(this.ut())},t.prototype.reason=function(){var t=this.ut();return t.nn(),e.call(t)},t.prototype.On=function(){return this.Jt()},t.prototype.xn=function(){return this.nn(),this.Jt()},t.PromiseInspection=n}},{}],33:[function(t,n,i){n.exports=function(n,i){var e=t("./util"),r=e.errorObj,s=e.isObject,u={}.hasOwnProperty;return function(t,o){if(s(t)){if(t instanceof n)return t;var h=function(t){try{return function(t){return t.then}(t)}catch(t){return r.e=t,r}}(t);if(h===r){o&&o.Qt();var c=n.reject(h.e);return o&&o.Pt(),c}if("function"==typeof h){if(function(t){try{return u.call(t,"qn")}catch(t){return!1}}(t)){var c=new n(i);return t.K(c.Tn,c.J,void 0,c,null),c}return function(t,s,u){var o=new n(i),h=o;u&&u.Qt(),o.in(),u&&u.Pt();var c=!0,a=e.tryCatch(s).call(t,function(t){o&&(o.it(t),o=null)},function(t){o&&(o.jn(t,c,!0),o=null)});return c=!1,o&&a===r&&(o.jn(a.e,!0,!0),o=null),h}(t,h,o)}}return t}}},{"./util":36}],34:[function(t,n,i){n.exports=function(n,i,e){var r=t("./util"),s=n.TimeoutError;function u(t){this.handle=t}u.prototype._resultCancelled=function(){h(this.handle)};var c=function(t){return a(+this).thenReturn(t)},a=n.delay=function(t,r){var s,h;return void 0!==r?(s=n.resolve(r).K(c,null,null,t,void 0),e.cancellation()&&r instanceof n&&s.ht(r)):(s=new n(i),h=o(function(){s.Tn()},+t),e.cancellation()&&s.ht(new u(h)),s.in()),s.ni(),s};function v(t){return h(this.handle),t}function d(t){throw h(this.handle),t}n.prototype.delay=function(t){return a(t,this)},n.prototype.timeout=function(t,n){var i,h,c=new u(o(function(){i.isPending()&&function(t,n,i){var e;e="string"!=typeof n?n instanceof f?n:new s("operation timed out"):new s(n),r.markAsOriginatingFromRejection(e),t.xt(e),t.J(e),null!=i&&i.cancel()}(i,n,h)},t=+t));return e.cancellation()?(h=this.then(),(i=h.K(v,d,void 0,c,void 0)).ht(c)):i=this.K(v,d,void 0,c,void 0),i}}},{"./util":36}],35:[function(t,n,i){n.exports=function(n,i,e,r,s,u){var h=t("./util"),c=t("./errors").TypeError,a=t("./util").inherits,f=h.errorObj,v=h.tryCatch,d={};function l(t){o(function(){throw t},0)}function g(t,i){var r=0,u=t.length,o=new n(s);return function s(){if(r>=u)return o.Tn();var h=function(t){var n=e(t);return n!==t&&"function"==typeof t.te&&"function"==typeof t.ie&&t.te()&&n.ee(t.ie()),n}(t[r++]);if(h instanceof n&&h.te()){try{h=e(h.ie().tryDispose(i),t.promise)}catch(t){return l(t)}if(h instanceof n)return h.K(s,l,null,null,null)}s()}(),o}function A(t,n,i){this.re=t,this.An=n,this.se=i}function w(t,n,i){this.constructor$(t,n,i)}function y(t){return A.isDisposer(t)?(this.resources[this.index].ee(t),t.promise()):t}function _(t){this.length=t,this.promise=null,this[t-1]=null}A.prototype.data=function(){return this.re},A.prototype.promise=function(){return this.An},A.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},A.prototype.tryDispose=function(t){var n=this.resource(),i=this.se;void 0!==i&&i.Qt();var e=n!==d?this.doDispose(n,t):null;return void 0!==i&&i.Pt(),this.An.ue(),this.re=null,e},A.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},a(w,A),w.prototype.doDispose=function(t,n){var i=this.data();return i.call(t,t,n)},_.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var e=this[i];e instanceof n&&e.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return i("you must pass at least 2 arguments to Promise.using");var r,s=arguments[t-1];if("function"!=typeof s)return i("expecting a function but got "+h.classString(s));var o=!0;2===t&&Array.isArray(arguments[0])?(r=arguments[0],t=r.length,o=!1):(r=arguments,t--);for(var c=new _(t),a=0;a<t;++a){var d=r[a];if(A.isDisposer(d)){var l=d;(d=d.promise()).ee(l)}else{var w=e(d);w instanceof n&&(d=w.K(y,null,null,{resources:c,index:a},void 0))}c[a]=d}for(var M=new Array(c.length),a=0;a<M.length;++a)M[a]=n.resolve(c[a]).reflect();var k=n.all(M).then(function(t){for(var n=0;n<t.length;++n){var i=t[n];if(i.isRejected())return f.e=i.error(),f;if(!i.isFulfilled())return void k.cancel();t[n]=i.value()}m.Qt(),s=v(s);var e=o?s.apply(void 0,t):s(t),r=m.Pt();return u.checkForgottenReturns(e,r,"Promise.using",m),e}),m=k.lastly(function(){var t=new n.PromiseInspection(k);return g(c,t)});return c.promise=m,m.ht(c),m},n.prototype.ee=function(t){this.nt=131072|this.nt,this.oe=t},n.prototype.te=function(){return(131072&this.nt)>0},n.prototype.ie=function(){return this.oe},n.prototype.ue=function(){this.nt=-131073&this.nt,this.oe=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new w(t,this,r());throw new c}}},{"./errors":12,"./util":36}],36:[function(n,i,r){var s,o=n("./es5"),h=void 0===u,c={e:{}},a=void 0!==t?t:void 0!==e?e:void 0!==k?k:void 0!==this?this:null;function v(){try{var t=s;return s=null,t.apply(this,arguments)}catch(t){return c.e=t,c}}function l(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function g(t,n,i){if(l(t))return t;var e={value:i,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(t,n,e),t}var A=function(){var t=[Array.prototype,d.prototype,Function.prototype],n=function(n){for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1};if(o.isES5){var i=d.getOwnPropertyNames;return function(t){for(var e=[],r=d.create(null);null!=t&&!n(t);){var s;try{s=i(t)}catch(t){return e}for(var u=0;u<s.length;++u){var h=s[u];if(!r[h]){r[h]=!0;var c=d.getOwnPropertyDescriptor(t,h);null!=c&&null==c.get&&null==c.set&&e.push(h)}}t=o.getPrototypeOf(t)}return e}}var e={}.hasOwnProperty;return function(i){if(n(i))return[];var r=[];t:for(var s in i)if(e.call(i,s))r.push(s);else{for(var u=0;u<t.length;++u)if(e.call(t[u],s))continue t;r.push(s)}return r}}(),w=/this\s*\.\s*\S+\s*=/,y=/^[a-z$_][a-z$_0-9]*$/i;function _(t){try{return t+""}catch(t){return"[no string representation]"}}function M(t){return t instanceof f||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function m(t){return M(t)&&o.propertyIsWritable(t,"stack")}var p="stack"in new f?function(t){return m(t)?t:new f(_(t))}:function(t){if(m(t))return t;try{throw new f(_(t))}catch(t){return t}};function N(t){return{}.toString.call(t)}var D=function(t){return o.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var T="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,i=[],e=t[Symbol.iterator]();!(n=e.next()).done;)i.push(n.value);return i};D=function(t){return o.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?T(t):null}}var I,b="undefined"!=typeof process&&"[object process]"===N(process).toLowerCase(),E="undefined"!=typeof process&&void 0!==process.env,L={isClass:function(t){try{if("function"==typeof t){var n=o.names(t.prototype),i=o.isES5&&n.length>1,e=n.length>0&&!(1===n.length&&"constructor"===n[0]),r=w.test(t+"")&&o.names(t).length>0;if(i||e||r)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return y.test(t)},inheritedDataKeys:A,getDataPropertyOrDefault:function(t,n,i){if(!o.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var e=d.getOwnPropertyDescriptor(t,n);return null!=e?null==e.get&&null==e.set?e.value:i:void 0},thrower:function(t){throw t},isArray:o.isArray,asArray:D,notEnumerableProp:g,isPrimitive:l,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:M,canEvaluate:h,errorObj:c,tryCatch:function(t){return s=t,v},inherits:function(t,n){var i={}.hasOwnProperty;function e(){for(var e in this.constructor=t,this.constructor$=n,n.prototype)i.call(n.prototype,e)&&"$"!==e.charAt(e.length-1)&&(this[e+"$"]=n.prototype[e])}return e.prototype=n.prototype,t.prototype=new e,t.prototype},withAppended:function(t,n){var i,e=t.length,r=new Array(e+1);for(i=0;i<e;++i)r[i]=t[i];return r[i]=n,r},maybeWrapAsError:function(t){return l(t)?new f(_(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,i){for(var e=new Array(t),r=0;r<t;++r)e[r]=n+r+i;return e},toString:_,canAttachTrace:m,ensureErrorObject:p,originatesFromRejection:function(t){return null!=t&&(t instanceof f.dn.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{g(t,"isOperational",!0)}catch(t){}},classString:N,copyDescriptors:function(t,n,i){for(var e=o.names(t),r=0;r<e.length;++r){var s=e[r];if(i(s))try{o.defineProperty(n,s,o.getDescriptor(t,s))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:b,hasEnvVariables:E,env:function(t){return E?process.env[t]:void 0},global:a,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};L.isRecentNode=L.isNode&&(process.versions&&process.versions.node?I=process.versions.node.split(".").map(Number):process.version&&(I=process.version.split(".").map(Number)),0===I[0]&&I[1]>10||I[0]>0),L.isNode&&L.toFastProperties(process);try{throw new f}catch(t){L.lastLineError=t}i.exports=L},{"./es5":13}]},{},[4])(4),null!=e?e.P=e.Promise:null!=t&&(t.P=t.Promise)});var D,T=function(){},I=function(t){return t};function b(t,n,i){var e;return function(){for(var r=arguments.length,s=new Array(r),u=0;u<r;u++)s[u]=arguments[u];var o=this,h=i&&!e;void 0!==e&&p.he(e),e=p.ce(function(){e=void 0,i||t.apply(o,s)},n),h&&t.apply(o,s)}}(D=N)&&D.config({warnings:!1,longStackTraces:!1});var E,L,S,j,C,O;D&&(j=D.setScheduler(T),E=j,C={ae:function(t){L=t,E(S)},fe:S=function(){var t=L;t&&(L=void 0,t())}},D.setScheduler(C.ae));function x(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function z(t,n,i){return n&&x(t.prototype,n),i&&x(t,i),t}function R(t,n){return(R=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function U(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,R(t,n)}!function(t){t.ve="web",t.de="android",t.Ae="android-tv",t.we="ios",t.ye="tvos",t._e="chromecast"}(O||(O={}));var B=u?u.userAgent:"",Q=B.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),P=B.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Y=B.match(/Android ([0-9\.]+)/i),G=B.match(/Windows NT ([0-9\.]+)/i),F=B.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),V=B.match(/Firefox\/([0-9\.]+)/i),H=B.match(/OPR\/(\d+\.\d+)/i),W=B.match(/Tizen ([0-9\.]+)/i),X=function(){function n(){this.Me=Boolean("ontouchstart"in t||t.DocumentTouch&&r instanceof t.DocumentTouch||u&&u.msMaxTouchPoints),this.ke=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(B)||/(macintosh|mac(?=_powerpc)\s)/i.test(B),this.me=/Windows NT/i.test(B),this.pe=G?A(G[1]):0,this.Ne=/Android/i.test(B),this.De=Y?A(Y[1]):0,this.Te=/windows phone (8|8\.1)/i.test(B),this.Ie=/iPhone/i.test(B),this.be=/iPad/i.test(B),this.Ee=this.ke&&this.Me&&!this.be,this.Le=/iPod/i.test(B),this.Se=/Mobile Safari/i.test(B),this.je=/EOSSTB/i.test(B),this.Ce=(this.Ie||this.be||this.Ee||this.Le)&&!this.Te,this.Oe=this.Te||this.Ce||this.Ne||this.Se,this.xe=/CriOS/i.test(B),this.ze=Boolean(t.chrome&&/google/i.test(u.vendor))||this.xe,this.Re=this.ze&&/Edg\//i.test(u.userAgent),this.Ue=P?g(P[1],10):0,this.Be=Boolean(t.chrome||/Chrome/i.test(B)||/CriOS/i.test(B)),this.Qe=Q?g(Q[1],10):0,this.Pe=/SMART-TV.*Tizen/i.test(B),this.Ye=W?A(W[1]):0,this.Ge=/webos|web0s/i.test(B),this.Fe=/Edge\/\d+/i.test(B),this.Ve=/Trident/i.test(B),this.He=this.Ve&&!t.ActiveXObject&&"ActiveXObject"in t,this.We=/Vivaldi/i.test(B),this.Xe=/Firefox/i.test(B)&&!/Seamonkey/i.test(B),this.Ze=V?A(V[1]):0,this.qe=/Safari/i.test(B)&&!/Chrome/i.test(B)&&!this.Te&&!this.Pe,this.Je=F?A(F[2]):0,this.Ke=Boolean(H),this.$e=H?A(H[1]):0,this.tr=/CrKey/.test(B),this.nr=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(B),this.ir="ios"===O.Ae,this.er="ios"===O.de,this.rr=this.er||this.ir,this.sr="ios"===O.we,this.ur="ios"===O.ye,this.hr="ios"===O._e}return z(n,[{key:"cr",get:function(){return this.Me}},{key:"ar",get:function(){return this.ke}},{key:"dr",get:function(){return this.me}},{key:"gr",get:function(){return this.pe}},{key:"Ar",get:function(){return this.Ne}},{key:"wr",get:function(){return this.De}},{key:"yr",get:function(){return this.Te}},{key:"_r",get:function(){return this.Ie}},{key:"Mr",get:function(){return this.be}},{key:"kr",get:function(){return this.Ee}},{key:"mr",get:function(){return this.Le}},{key:"pr",get:function(){return this.Ce}},{key:"Nr",get:function(){return this.je}},{key:"Dr",get:function(){return this.Se}},{key:"Tr",get:function(){return this.Oe}},{key:"Ir",get:function(){return this.xe}},{key:"Er",get:function(){return this.ze}},{key:"Lr",get:function(){return this.Qe}},{key:"Sr",get:function(){return this.Re}},{key:"jr",get:function(){return this.Ue}},{key:"Cr",get:function(){return this.Pe}},{key:"Or",get:function(){return this.Ye}},{key:"xr",get:function(){return this.Ge}},{key:"zr",get:function(){return this.Fe}},{key:"Rr",get:function(){return this.Ve}},{key:"Ur",get:function(){return this.He}},{key:"Br",get:function(){return this.We}},{key:"Qr",get:function(){return this.Xe}},{key:"Pr",get:function(){return this.Ze}},{key:"Yr",get:function(){return this.qe}},{key:"Gr",get:function(){return this.Je}},{key:"Fr",get:function(){return this.Ke}},{key:"Vr",get:function(){return this.$e}},{key:"Hr",get:function(){return this.tr}},{key:"Wr",get:function(){return this.nr}},{key:"Xr",get:function(){if(!(this.xr||this.Cr))return!1;var t=this.Lr;return void 0===t||Number(t)<56}},{key:"Zr",get:function(){return this.ir}},{key:"qr",get:function(){return this.er}},{key:"Jr",get:function(){return this.rr}},{key:"Kr",get:function(){return this.sr}},{key:"$r",get:function(){return this.ur}},{key:"ts",get:function(){return this.hr}},{key:"es",get:function(){return this.Be}}]),n}();X.rs=new X;var Z=X.rs,q={}.hasOwnProperty,J={}.toString;function K(t){return null!=t}var $=Array.isArray||function(t){return"[object Array]"===J.call(t)};function tt(t){return nt(t)&&q.call(t,"length")&&ot(t.length)}function nt(t){return"object"==typeof t&&null!==t}function it(t){return nt(t)&&t.constructor&&t.constructor===d}function et(t){return"string"==typeof t}function rt(t){return"boolean"==typeof t}function st(t){return Boolean(t)&&"function"==typeof t.then}function ut(t){return"[object Date]"===J.call(t)}function ot(t){return"number"==typeof t}var ht=!(Z.Rr&&!Z.Ur),ct=t.console;function at(t){if(nt(t))try{return JSON.stringify(t)}catch(t){}return t}function ft(t){return t.map(at).join(" ")}function vt(t){var n=ct&&ct[t];return n?n.bind&&ht?n.bind(ct):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];ct[t](ft(i))}:void 0}var dt,lt=vt("log")||T,gt=vt("warn")||lt.bind(void 0,"WARNING:"),At=vt("error")||lt.bind(void 0,"ERROR:"),wt=(dt=ct&&ct.assert)?dt.bind&&ht?dt.bind(ct):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ct.assert(t,ft(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];At.apply(void 0,["Assertion failed:"].concat(i))}},yt=Mt,_t=null;try{_t=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Mt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function kt(t){return!0===(t&&t.us)}Mt.prototype.us,d.defineProperty(Mt.prototype,"us",{value:!0}),Mt.isLong=kt;var mt={},pt={};function Nt(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=pt[t])?e:(i=Tt(t,(0|t)<0?-1:0,!0),r&&(pt[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=mt[t])?e:(i=Tt(t,t<0?-1:0,!1),r&&(mt[t]=i),i)}function Dt(t,n){if(w(t))return n?xt:Ot;if(n){if(t<0)return xt;if(t>=St)return Qt}else{if(t<=-jt)return Pt;if(t+1>=jt)return Bt}return t<0?Dt(-t,n).neg():Tt(t%Lt|0,t/Lt|0,n)}function Tt(t,n,i){return new Mt(t,n,i)}Mt.fromInt=Nt,Mt.fromNumber=Dt,Mt.fromBits=Tt;var It=l.pow;function bt(t,n,i){if(0===t.length)throw f("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return Ot;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw f("interior hyphen");if(0===e)return bt(t.substring(1),n,i).neg();for(var r=Dt(It(i,8)),s=Ot,u=0;u<t.length;u+=8){var o=l.min(8,t.length-u),h=g(t.substring(u,u+o),i);if(o<8){var c=Dt(It(i,o));s=s.mul(c).add(Dt(h))}else s=(s=s.mul(r)).add(Dt(h))}return s.unsigned=n,s}function Et(t,n){return"number"==typeof t?Dt(t,n):"string"==typeof t?bt(t,n):Tt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Mt.fromString=bt,Mt.fromValue=Et;var Lt=4294967296,St=Lt*Lt,jt=St/2,Ct=Nt(1<<24),Ot=Nt(0);Mt.ZERO=Ot;var xt=Nt(0,!0);Mt.UZERO=xt;var zt=Nt(1);Mt.ONE=zt;var Rt=Nt(1,!0);Mt.UONE=Rt;var Ut=Nt(-1);Mt.NEG_ONE=Ut;var Bt=Tt(-1,2147483647,!1);Mt.MAX_VALUE=Bt;var Qt=Tt(-1,-1,!0);Mt.MAX_UNSIGNED_VALUE=Qt;var Pt=Tt(0,-2147483648,!1);Mt.MIN_VALUE=Pt;var Yt=Mt.prototype;Yt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Yt.toNumber=function(){return this.unsigned?(this.high>>>0)*Lt+(this.low>>>0):this.high*Lt+(this.low>>>0)},Yt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Pt)){var n=Dt(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=Dt(It(t,6),this.unsigned),s=this,u="";;){var o=s.div(r),h=(s.sub(o.mul(r)).toInt()>>>0).toString(t);if((s=o).isZero())return h+u;for(;h.length<6;)h="0"+h;u=""+h+u}},Yt.getHighBits=function(){return this.high},Yt.getHighBitsUnsigned=function(){return this.high>>>0},Yt.getLowBits=function(){return this.low},Yt.getLowBitsUnsigned=function(){return this.low>>>0},Yt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Pt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Yt.isZero=function(){return 0===this.high&&0===this.low},Yt.eqz=Yt.isZero,Yt.isNegative=function(){return!this.unsigned&&this.high<0},Yt.isPositive=function(){return this.unsigned||this.high>=0},Yt.isOdd=function(){return 1==(1&this.low)},Yt.isEven=function(){return 0==(1&this.low)},Yt.equals=function(t){return kt(t)||(t=Et(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Yt.eq=Yt.equals,Yt.notEquals=function(t){return!this.eq(t)},Yt.neq=Yt.notEquals,Yt.ne=Yt.notEquals,Yt.lessThan=function(t){return this.comp(t)<0},Yt.lt=Yt.lessThan,Yt.lessThanOrEqual=function(t){return this.comp(t)<=0},Yt.lte=Yt.lessThanOrEqual,Yt.le=Yt.lessThanOrEqual,Yt.greaterThan=function(t){return this.comp(t)>0},Yt.gt=Yt.greaterThan,Yt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Yt.gte=Yt.greaterThanOrEqual,Yt.ge=Yt.greaterThanOrEqual,Yt.compare=function(t){if(kt(t)||(t=Et(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Yt.comp=Yt.compare,Yt.negate=function(){return!this.unsigned&&this.eq(Pt)?Pt:this.not().add(zt)},Yt.neg=Yt.negate,Yt.add=function(t){kt(t)||(t=Et(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=0,c=0,a=0,f=0;return a+=(f+=r+(65535&t.low))>>>16,c+=(a+=e+o)>>>16,h+=(c+=i+u)>>>16,h+=n+s,Tt((a&=65535)<<16|(f&=65535),(h&=65535)<<16|(c&=65535),this.unsigned)},Yt.subtract=function(t){return kt(t)||(t=Et(t)),this.add(t.neg())},Yt.sub=Yt.subtract,Yt.multiply=function(t){if(this.isZero())return Ot;if(kt(t)||(t=Et(t)),_t)return Tt(_t.mul(this.low,this.high,t.low,t.high),_t.get_high(),this.unsigned);if(t.isZero())return Ot;if(this.eq(Pt))return t.isOdd()?Pt:Ot;if(t.eq(Pt))return this.isOdd()?Pt:Ot;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Ct)&&t.lt(Ct))return Dt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=65535&t.low,c=0,a=0,f=0,v=0;return f+=(v+=r*h)>>>16,a+=(f+=e*h)>>>16,f&=65535,a+=(f+=r*o)>>>16,c+=(a+=i*h)>>>16,a&=65535,c+=(a+=e*o)>>>16,a&=65535,c+=(a+=r*u)>>>16,c+=n*h+i*o+e*u+r*s,Tt((f&=65535)<<16|(v&=65535),(c&=65535)<<16|(a&=65535),this.unsigned)},Yt.mul=Yt.multiply,Yt.divide=function(t){if(kt(t)||(t=Et(t)),t.isZero())throw f("division by zero");var n,i,e;if(_t)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Tt((this.unsigned?_t.div_u:_t.div_s)(this.low,this.high,t.low,t.high),_t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?xt:Ot;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return xt;if(t.gt(this.shru(1)))return Rt;e=xt}else{if(this.eq(Pt))return t.eq(zt)||t.eq(Ut)?Pt:t.eq(Pt)?zt:(n=this.shr(1).div(t).shl(1)).eq(Ot)?t.isNegative()?zt:Ut:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(Pt))return this.unsigned?xt:Ot;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=Ot}for(i=this;i.gte(t);){n=l.max(1,l.floor(i.toNumber()/t.toNumber()));for(var r=l.ceil(l.log(n)/l.LN2),s=r<=48?1:It(2,r-48),u=Dt(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=Dt(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=zt),e=e.add(u),i=i.sub(o)}return e},Yt.div=Yt.divide,Yt.modulo=function(t){return kt(t)||(t=Et(t)),_t?Tt((this.unsigned?_t.rem_u:_t.rem_s)(this.low,this.high,t.low,t.high),_t.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Yt.mod=Yt.modulo,Yt.rem=Yt.modulo,Yt.not=function(){return Tt(~this.low,~this.high,this.unsigned)},Yt.and=function(t){return kt(t)||(t=Et(t)),Tt(this.low&t.low,this.high&t.high,this.unsigned)},Yt.or=function(t){return kt(t)||(t=Et(t)),Tt(this.low|t.low,this.high|t.high,this.unsigned)},Yt.xor=function(t){return kt(t)||(t=Et(t)),Tt(this.low^t.low,this.high^t.high,this.unsigned)},Yt.shiftLeft=function(t){return kt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Tt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Tt(0,this.low<<t-32,this.unsigned)},Yt.shl=Yt.shiftLeft,Yt.shiftRight=function(t){return kt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Tt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Tt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Yt.shr=Yt.shiftRight,Yt.shiftRightUnsigned=function(t){if(kt(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?Tt(this.low>>>t|n<<32-t,n>>>t,this.unsigned):Tt(32===t?n:n>>>t-32,0,this.unsigned)},Yt.shru=Yt.shiftRightUnsigned,Yt.shr_u=Yt.shiftRightUnsigned,Yt.toSigned=function(){return this.unsigned?Tt(this.low,this.high,!1):this},Yt.toUnsigned=function(){return this.unsigned?this:Tt(this.low,this.high,!0)},Yt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Yt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Yt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Mt.fromBytes=function(t,n,i){return i?Mt.fromBytesLE(t,n):Mt.fromBytesBE(t,n)},Mt.fromBytesLE=function(t,n){return new Mt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Mt.fromBytesBE=function(t,n){return new Mt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Gt=yt,Ft=l.pow(2,-52);function Vt(t,n,i){return l.min(l.max(t,n),i)}function Ht(t,n,i){return t===n||l.abs(t-n)<=i}function Wt(t,n){if(t===n)return!0;var i=l.abs(t-n);return i<Ft||i<l.max(l.abs(t),l.abs(n))*Ft}function Xt(t){return t!=t}function Zt(t,n){return t===n||Xt(t)&&Xt(n)}function qt(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function Jt(){return Date.now()||(new Date).getTime()}function Kt(t){return t/1e3}var $t,tn=Gt.fromNumber(9007199254740991);function nn(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(tn))return t.toNumber()/n;var i=t.divide(n),e=t.subtract(i.multiply(n));return i.toNumber()+e.toNumber()/n}function en(t){return t.os===$t.hs}function rn(t){return t.os===$t.cs}function sn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.hs=1]="hs",t[t.as=2]="as",t[t.cs=3]="cs",t[t.fs=4]="fs",t[t.vs=9]="vs"}($t||($t={}));var un=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];f.apply(this,n)};(un.prototype=d.create(f.prototype)).constructor=un;var on=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,f.captureStackTrace&&f.captureStackTrace(sn(e),e.constructor),e}return U(n,t),z(n,[{key:"name",get:function(){return"BaseError"}}]),n}(un),hn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return U(n,t),n}(on),cn=function(){function t(){}return t.prototype.ds=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new hn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new hn;return new An(n)},t}(),an=function(){function t(t){this.ls=void 0,this.ls=t}var n=t.prototype;return n.gs=function(t){return this.ls.isEqualNode(t.ls)},n.As=function(n){return new t(this.ls.cloneNode(n))},z(t,[{key:"os",get:function(){return $t.as}},{key:"ys",get:function(){var t;return null!=(t=this.ls.localName)?t:_n(this.ls.nodeName)}},{key:"_s",get:function(){return this.ls.nodeName}},{key:"Ms",get:function(){var t;return null!=(t=this.ls.namespaceURI)?t:void 0}},{key:"ks",get:function(){var t;return null!=(t=this.ls.prefix)?t:void 0}},{key:"ps",get:function(){return this.ls.nodeValue}}]),t}(),fn=function(){function t(t){this.Ns=void 0,this.Ds=void 0,this.Ns=t}var n=t.prototype;return n.Ts=function(t){return this.Is.filter(function(n){return wn(n)&&n.bs===t})},n.Es=function(t,n){return this.Is.filter(function(i){return wn(i)&&i.ys===n&&i.Ms===t})},n.Ls=function(t){this.Ns.appendChild(t.Ss),this.Ds&&this.Ds.push(t)},n.gs=function(t){return this.Ns.isEqualNode(t.Ss)},z(t,[{key:"Is",get:function(){return void 0===this.Ds&&(this.Ds=function(t){for(var n=[],i=0;i<t.length;i++){var e=yn(t.item(i));e&&n.push(e)}return n}(this.Ns.childNodes)),this.Ds}},{key:"js",get:function(){return this.Is.filter(wn)}},{key:"Ss",get:function(){return this.Ns}}]),t}(),vn=function(t){function n(n){return t.call(this,n)||this}U(n,t);var i=n.prototype;return i.Cs=function(t){if(this.Ns.hasAttribute(t))return this.Ns.getAttribute(t)},i.Os=function(t,n){if(this.Ns.hasAttributeNS(t,n))return this.Ns.getAttributeNS(t,n)},i.xs=function(t){this.Ns.removeAttribute(t)},i.zs=function(t,n){this.Ns.removeAttributeNS(t,n)},i.Rs=function(t,n){this.Ns.setAttribute(t,n)},i.Us=function(t,n,i){this.Ns.setAttributeNS(t,n,i)},i.As=function(t){return new n(this.Ns.cloneNode(t))},z(n,[{key:"os",get:function(){return $t.hs}},{key:"ys",get:function(){var t;return null!=(t=this.Ns.localName)?t:_n(this.Ns.nodeName)}},{key:"Ms",get:function(){var t;return null!=(t=this.Ns.namespaceURI)?t:void 0}},{key:"ks",get:function(){var t;return null!=(t=this.Ns.prefix)?t:void 0}},{key:"bs",get:function(){return this.Ns.nodeName}},{key:"Bs",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new an(t.item(i)));return n}(this.Ns.attributes)}},{key:"Qs",get:function(){return this.Ns.textContent}}]),n}(fn),dn=function(){function t(t){this.Ns=void 0,this.Ns=t}return t.prototype.gs=function(t){return this.Ps===t.Ps},z(t,[{key:"Ps",get:function(){return this.Ns.nodeValue}},{key:"Ss",get:function(){return this.Ns}}]),t}(),ln=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.As=function(t){return new n(this.Ns.cloneNode(t))},z(n,[{key:"os",get:function(){return $t.cs}}]),n}(dn),gn=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.As=function(t){return new n(this.Ns.cloneNode(t))},z(n,[{key:"os",get:function(){return $t.fs}}]),n}(dn),An=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.As=function(t){return new n(this.Ns.cloneNode(t))},z(n,[{key:"os",get:function(){return $t.vs}},{key:"Ys",get:function(){return new vn(this.Ns.documentElement)}}]),n}(fn);function wn(t){return en(t)}function yn(t){switch(t.nodeType){case $t.hs:return new vn(t);case $t.cs:return new ln(t);case $t.fs:return new gn(t)}}function _n(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function Mn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function kn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){mn(t,n,r,e);var s=t;t=e,e=s}return t}(t,n);return i!==t&&mn(i,null,t.length,t),t}function mn(t,n,i,e){var r,s,u,o,h,c=t.length,a=0,f=2*i;for(r=0;r<c;r+=f)for(u=(s=r+i)+i,s>c&&(s=c),u>c&&(u=c),o=r,h=s;;)if(o<s&&h<u)n(t[o],t[h])<=0?e[a++]=t[o++]:e[a++]=t[h++];else if(o<s)e[a++]=t[o++];else{if(!(h<u))break;e[a++]=t[h++]}}var pn=/[a-zA-Z]/,Nn=/[0-9]/,Dn=/[0-9a-fA-F]/,Tn=/^0x/i,In=/^[0-9]+$/,bn=/^[0-9a-fA-F]+$/,En=/^[0-7]+$/,Ln=d.prototype.toString,Sn=Array.isArray||function(t){return"[object Array]"===Ln.call(t)},jn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function Cn(t){return Sn(t)?t:Array.from(t)}function On(t){return t>=65&&t<=90}function xn(t){return On(t)||function(t){return t>=97&&t<=122}(t)}function zn(t){return t>=48&&t<=57}function Rn(t){return zn(t)||xn(t)}function Un(t){return zn(t)||t>=65&&t<=70||t>=97&&t<=102}function Bn(t){return On(t)?t+32:t}function Qn(t){return zn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Pn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Yn=l.min,Gn=String.fromCharCode,Fn=16384;function Vn(t){for(var n=t.length,i=[],e=0;e<n;e+=Fn){var r=Yn(e+Fn,n);i.push(Gn.apply(null,t.slice(e,r)))}return i.join("")}var Hn=/[^\0-\x7E]/,Wn=/[\x2E\u3002\uFF0E\uFF61]/g,Xn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Zn=l.floor,qn=String.fromCharCode;function Jn(t){throw new RangeError(Xn[t])}function Kn(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}var $n,ti,ni,ii=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},ei=function(t,n,i){var e=0;for(t=i?Zn(t/700):t>>1,t+=Zn(t/n);t>455;e+=36)t=Zn(t/35);return Zn(e+36*t/(t+38))},ri=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(Wn,".")).split("."),n).join(".");return e+r}(t,function(t){return Hn.test(t)?"xn--"+function(t){for(var n=[],i=(t=Kn(t)).length,e=128,r=0,s=72,u=0,o=t;u<o.length;u++){var h=o[u];h<128&&n.push(qn(h))}var c=n.length,a=c;for(c&&n.push("-");a<i;){for(var f=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=e&&l<f&&(f=l)}var g=a+1;f-e>Zn((2147483647-r)/g)&&Jn("overflow"),r+=(f-e)*g,e=f;for(var A=0,w=t;A<w.length;A++){var y=w[A];if(y<e&&++r>2147483647&&Jn("overflow"),y==e){for(var _=r,M=36;;M+=36){var k=M<=s?1:M>=s+26?26:M-s;if(_<k)break;var m=_-k,p=36-k;n.push(qn(ii(k+m%p,0))),_=Zn(m/p)}n.push(qn(ii(_,0))),s=ei(r,g,a==c),r=0,++a}}++r,++e}return n.join("")}(t):t})};function si(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Vn(n)}function ui(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function oi(t,n){return t>>n&63|128}function hi(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ui(t),n.push(t>>12&15|224),n.push(oi(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(oi(t,12)),n.push(oi(t,6))),n.push(63&t|128)):n.push(t)}function ci(t){for(var n=[],i=0;i<t.length;i++){hi(t[i],n)}return n}function ai(){if(ni>=ti)throw new f("Invalid byte index");var t=255&$n[ni];if(ni++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function fi(){var t,n;if(ni>ti)throw new f("Invalid byte index");if(ni===ti)return!1;if(t=255&$n[ni],ni++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ai())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ai()<<6|ai())>=2048)return ui(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ai()<<12|ai()<<6|ai())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}function vi(t){return[37,Pn(t>>4),Pn(15&t)]}function di(t){return function(t){return t>=0&&t<=31}(t)||t>126}function li(t){return di(t)||32===t||34===t||60===t||62===t||96===t}function gi(t){return li(t)||35===t||63===t||123===t||125===t}function Ai(t){return gi(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function wi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function yi(t){return wi(t)||39===t}function _i(t,n){if(!n(t))return[t];for(var i=ci([t]),e=[],r=0;r<i.length;r++){var s=i[r];e.push.apply(e,vi(s))}return e}function Mi(t,n){for(var i=[],e=0,r=Kn(t);e<r.length;e++){var s=r[e];i.push.apply(i,_i(s,n))}return si(i)}function ki(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&Un(t[e+1])&&Un(t[e+2])){var s=Qn(t[e+1])<<4|Qn(t[e+2]);n.push(s),e+=2}else n.push(r)}return n}(ci(t))}function mi(t){return si(function(t){$n=t.slice(),ti=$n.length,ni=0;for(var n,i=[];!1!==(n=fi());)i.push(n);return i}(ki(Kn(t))))}function pi(t){var n,i,e,r,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,h=null,c=0;if(c<s&&":"===t[c]){if(!(c+1<s&&":"===t[c+1]))throw new v;c+=2,h=o+=1}for(;c<s;){if(8===o)throw new v("Too many groups");if(":"!==t[c]){for(var a=0,f=0;f<4&&c<s&&Dn.test(t[c]);)a=a<<4|g(t[c],16),c+=1,f+=1;if("."===t[c]){if(0===f)throw new v;if(c-=f,o>6)throw new v;for(var d=0;c<s;){var l=null;if(d>0){if(!("."===t[c]&&d<4))throw new v;c+=1}if(!Nn.test(t[c]))throw new v;for(;c<s&&Nn.test(t[c]);){var A=g(t[c],10);if(null===l)l=A;else{if(0===l)throw new v;if((l=10*l+A)>255)throw new v}c+=1}u[o]=u[o]<<8|l,2!==(d+=1)&&4!==d||(o+=1)}if(4!==d)throw new v;break}if(":"===t[c]){if((c+=1)===s)throw new v}else if(c<s)throw new v;u[o]=a,o+=1}else{if(null!==h)throw new v("Too many :: groups");c+=1,h=o+=1}}if(null!==h){var w=o-h;for(o=7;0!==o&&w>0;)e=h+w-1,r=void 0,r=(n=u)[i=o],n[i]=n[e],n[e]=r,o-=1,w-=1}else if(8!==o)throw new v;return u}function Ni(t){var n=10,i=In;return Tn.test(t)?(t=t.slice(2),n=16,i=bn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=En),""===t?0:i.test(t)?g(t,n):void 0}var Di={Gs:4},Ti=/[\0\t\n\r #%/:?@\[\\\]]/,Ii=/[\0\t\n\r #/:?@\[\\\]]/;function bi(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new v("Invalid IPv6 address");return{Gs:2,Fs:pi(t.slice(1,-1))}}if(!n)return function(t){if(Ii.test(t))throw new v("Invalid code point in opaque host");var n=Mi(t,di);return""===n?Di:{Gs:3,re:n}}(t);var i=function(t){return function(t){return ri(t.toLowerCase())}(t)}(mi(t));if(Ti.test(i))throw new v("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var s=Ni(r);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new v;if(i[i.length-1]>=l.pow(256,5-i.length))throw new v;for(var o=i.pop(),h=0;h<i.length;h++)o+=i[h]*l.pow(256,3-h);return o}}(i);return void 0!==e?{Gs:1,Fs:e}:""===i?Di:{Gs:0,Vs:i}}function Ei(t){switch(t.Gs){case 0:return t.Vs;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Fs);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,s=0;s<8;s++)0===t[s]?(0===r&&(e=s),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Fs)+"]";case 3:return t.re;case 4:return""}}var Li=/\+/g;function Si(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var s=r.indexOf("="),u=void 0,o=void 0;-1!==s?(u=r.slice(0,s),o=r.slice(s+1)):(u=r,o=""),u=u.replace(Li," "),o=o.replace(Li," ");var h=mi(u),c=mi(o);i.push([h,c])}}return i}function ji(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Ci(ci(Kn(e[0])))+"="+Ci(ci(Kn(e[1])))}return n}function Ci(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||Rn(n)?i.push(r):i.push.apply(i,vi(r))}return Vn(i)}var Oi=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function xi(t){var n=""+t,i=Oi.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var s=t.charCodeAt(r);if(Ri(s))if(Ui(s)||r===i-1)e.push(zi);else{var u=t.charCodeAt(r+1);Ui(u)?(e.push(s,u),r++):e.push(zi)}else e.push(s)}return t.slice(0,n)+Vn(e)}(n,i.index):n}var zi=65533,Ri=function(t){return 55296==(63488&t)},Ui=function(t){return 0!=(1024&t)};function Bi(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function Qi(t){t.Hs.length=0}function Pi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Hs,Si(n))}function Yi(t){if(t.Ws){var n=ji(t.Hs);""===n&&(n=null),t.Ws.Ws.Xs=n}}var Gi=function(){function t(t){if(void 0===t&&(t=void 0),this.Ws=null,null==t)this.Hs=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof Gi&&Sn(s.Hs)&&(!jn||s[Symbol.iterator]===Fi))this.Hs=t.Hs.slice();else if(function(t){return null!=t&&(!!Sn(t)||!!jn&&"function"==typeof t[Symbol.iterator])}(t)){this.Hs=[];for(var n=0,i=Cn(t);n<i.length;n++){var e=Cn(i[n]);if(2!==e.length)throw new v("Invalid name-value pair");this.Hs.push([xi(e[0]),xi(e[1])])}}else for(var r in this.Hs=[],t)d.prototype.hasOwnProperty.call(t,r)&&this.Hs.push([xi(r),xi(t[r])]);else(t=xi(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Hs=Si(t);var s}var n=t.prototype;return n.append=function(t,n){t=xi(t),n=xi(n),this.Hs.push([t,n]),Yi(this)},n.delete=function(t){t=xi(t);for(var n=this.Hs,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Yi(this)},n.get=function(t){t=xi(t);for(var n=this.Hs,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=xi(t);for(var n=this.Hs,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=xi(t);for(var n=this.Hs,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=xi(t),n=xi(n);for(var i=this.Hs,e=!1,r=0;r<i.length;){var s=i[r];s[0]===t?e?i.splice(r,1):(s[1]=n,e=!0,r++):r++}e||i.push([t,n]),Yi(this)},n.sort=function(){kn(this.Hs,Bi),Yi(this)},n.toString=function(){return ji(this.Hs)},n.entries=function(){return new Xi(this.Hs,Vi)},n.keys=function(){return new Xi(this.Hs,Hi)},n.values=function(){return new Xi(this.Hs,Wi)},n.forEach=function(t){var n=this;this.Hs.forEach(function(i){return t(i[1],i[0],n)})},t}(),Fi=Gi.prototype.entries;jn&&(Gi.prototype[Symbol.iterator]=Fi);var Vi=function(t){return[t[0],t[1]]},Hi=function(t){return t[0]},Wi=function(t){return t[1]},Xi=function(){function t(t,n){this.Zs=0,this.Hs=t,this.qs=n}return t.prototype.next=function(){return this.Zs<this.Hs.length?{done:!1,value:this.qs(this.Hs[this.Zs++])}:{done:!0,value:void 0}},t}(),Zi="null";var qi=d.create(null);qi.ftp=21,qi.file=0,qi.gopher=70,qi.http=80,qi.https=443,qi.ws=80,qi.wss=443;var Ji=/^(?:\.|%2e)$/i,Ki=/^(?:\.|%2e){2}$/i;function $i(t){return Ji.test(t)}function te(t){return Ki.test(t)}function ne(t){return void 0!==qi[t]}function ie(t){return ne(t.Js)}function ee(t){return""!==t.Ks||""!==t.$s}function re(t){var n=t.length;if(!(n>=2))return!1;if(!ue(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function se(t){return 2===t.length&&pn.test(t[0])&&(":"===t[1]||"|"===t[1])}function ue(t){return 2===t.length&&se(Vn(t))}function oe(t){return se(t)&&":"===t[1]}function he(t){var n=t.tu;0!==n.length&&("file"===t.Js&&1===n.length&&oe(n[0])||n.pop())}function ce(t){return null===t.nu||Di===t.nu||t.iu||"file"===t.Js}var ae=-1,fe=/\t|\n|\r/g,ve=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function de(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new ge,t=t.replace(ve,""));var r=null!==e?e:0;n=n||null;for(var s=[],u=!1,o=!1,h=!1,c=Kn(t=t.replace(fe,"")),a=c.length,f=0;f<=a;){var d=f<a?c[f]:ae;switch(r){case 0:if(!xn(d)){if(null===e){s.length=0,r=2;continue}throw new v("Invalid scheme")}s.push(Bn(d)),r=1;break;case 1:if(Rn(d)||43===d||45===d||46===d)s.push(Bn(d));else{if(58!==d){if(null===e){s.length=0,r=2,f=0;continue}throw new v("Invalid scheme")}var l=si(s);if(null!==e){if(ne(i.Js)&&!ne(l))return;if(!ne(i.Js)&&ne(l))return;if((ee(i)||null!==i.eu)&&"file"===l)return;if("file"===i.Js&&(i.nu===Di||null===i.nu))return}if(i.Js=l,null!==e)return void(ie(i)&&i.eu===qi[i.Js]&&(i.eu=null));s.length=0,"file"===i.Js?r=13:ie(i)&&n&&n.Js===i.Js?r=3:ie(i)?r=7:47===c[f+1]?(r=4,f+=1):(i.iu=!0,i.tu.push(""),r=18)}break;case 2:if(!n||n.iu&&35!==d)throw new v("Invalid scheme");n.iu&&35===d?(i.Js=n.Js,i.tu=n.tu.slice(),i.Xs=n.Xs,i.ru="",i.iu=!0,r=20):"file"!==n.Js?(r=5,f-=1):(r=13,f-=1);break;case 3:47===d&&47===c[f+1]?r=8:(r=5,f-=1);break;case 4:47===d?r=9:(r=17,f-=1);break;case 5:i.Js=n.Js,ae===d?(i.Ks=n.Ks,i.$s=n.$s,i.nu=n.nu,i.eu=n.eu,i.tu=n.tu.slice(),i.Xs=n.Xs):47===d?r=6:63===d?(i.Ks=n.Ks,i.$s=n.$s,i.nu=n.nu,i.eu=n.eu,i.tu=n.tu.slice(),i.Xs="",r=19):35===d?(i.Ks=n.Ks,i.$s=n.$s,i.nu=n.nu,i.eu=n.eu,i.tu=n.tu.slice(),i.Xs=n.Xs,i.ru="",r=20):92===d&&ie(i)?r=6:(i.Ks=n.Ks,i.$s=n.$s,i.nu=n.nu,i.eu=n.eu,i.tu=n.tu.slice(),i.tu.pop(),r=17,f-=1);break;case 6:!ie(i)||47!==d&&92!==d?47===d?r=9:(i.Ks=n.Ks,i.$s=n.$s,i.nu=n.nu,i.eu=n.eu,r=17,f-=1):r=8;break;case 7:if(47!==d||47!==c[f+1]){r=8;continue}r=8,f+=1;break;case 8:47!==d&&92!==d&&(r=9,f-=1);break;case 9:if(64===d){u&&s.unshift(37,52,48),u=!0;for(var A=0;A<s.length;A++){var w=s[A];if(58!==w||h){var y=si(_i(w,Ai));h?i.$s+=y:i.Ks+=y}else h=!0}s.length=0}else if(ae===d||47===d||63===d||35===d||ie(i)&&92===d){if(u&&0===s.length)throw new v("Invalid host");f-=s.length+1,s.length=0,r=10}else s.push(d);break;case 10:case 11:if(null!==e&&"file"===i.Js)f-=1,r=15;else if(58!==d||o)if(ae===d||47===d||63===d||35===d||ie(i)&&92===d){if(f-=1,ie(i)&&0===s.length)throw new v("Invalid host");if(null!==e&&0===s.length&&(ee(i)||null!==i.eu))return;var _=bi(si(s),ie(i));if(i.nu=_,s.length=0,r=16,null!==e)return}else 91===d?o=!0:93===d&&(o=!1),s.push(d);else{if(0===s.length)throw new v("Invalid host");var M=bi(si(s),ie(i));if(i.nu=M,s.length=0,r=12,11===e)return}break;case 12:if(zn(d))s.push(d);else{if(!(ae===d||47===d||63===d||35===d||ie(i)&&92===d||null!==e))throw new v("Invalid port");if(0!==s.length){var k=g(si(s),10);if(k>65535)throw new v("Invalid port");i.eu=k===qi[i.Js]?null:k,s.length=0}if(null!==e)return;r=16,f-=1}break;case 13:i.Js="file",47===d||92===d?r=14:n&&"file"===n.Js?ae===d?(i.nu=n.nu,i.tu=n.tu.slice(),i.Xs=n.Xs):63===d?(i.nu=n.nu,i.tu=n.tu.slice(),i.Xs="",r=19):35===d?(i.nu=n.nu,i.tu=n.tu.slice(),i.Xs=n.Xs,i.ru="",r=20):(re(c.slice(f))||(i.nu=n.nu,i.tu=n.tu.slice(),he(i)),r=17,f-=1):(r=17,f-=1);break;case 14:47===d||92===d?r=15:(n&&"file"===n.Js&&!re(c.slice(f))&&(oe(n.tu[0])?i.tu.push(n.tu[0]):i.nu=n.nu),r=17,f-=1);break;case 15:if(ae===d||47===d||92===d||63===d||35===d)if(f-=1,null===e&&ue(s))r=17;else if(0===s.length){if(i.nu=Di,null!==e)return;r=16}else{var m=bi(si(s),ie(i));if(0===m.Gs&&"localhost"===m.Vs&&(m=Di),i.nu=m,null!==e)return;s.length=0,r=16}else s.push(d);break;case 16:ie(i)?(r=17,47!==d&&92!==d&&(f-=1)):null===e&&63===d?(i.Xs="",r=19):null===e&&35===d?(i.ru="",r=20):ae!==d&&(r=17,47!==d&&(f-=1));break;case 17:if(ae===d||47===d||ie(i)&&92===d||null===e&&(63===d||35===d)){var p=si(s);if(te(p)?(he(i),47===d||ie(i)&&92===d||i.tu.push("")):!$i(p)||47===d||ie(i)&&92===d?$i(p)||("file"===i.Js&&0===i.tu.length&&ue(s)&&(Di!==i.nu&&null!==i.nu&&(i.nu=Di),s[1]=58,p=si(s)),i.tu.push(p)):i.tu.push(""),s.length=0,"file"===i.Js&&(ae===d||63===d||35===d))for(;i.tu.length>1&&""===i.tu[0];)i.tu.shift();63===d?(i.Xs="",r=19):35===d&&(i.ru="",r=20)}else s.push.apply(s,_i(d,gi));break;case 18:63===d?(i.Xs="",r=19):35===d?(i.ru="",r=20):ae!==d&&(i.tu[0]+=si(_i(d,di)));break;case 19:null===e&&35===d?(i.ru="",r=20):ae!==d&&(i.Xs+=si(_i(d,ie(i)?yi:wi)));break;case 20:ae===d||0===d||(i.ru+=si(_i(d,li)))}f++}return i}function le(t,n,i,e){try{de(t,n,i,e)}catch(t){}}var ge=function(){this.Js="",this.Ks="",this.$s="",this.nu=null,this.eu=null,this.tu=[],this.Xs=null,this.ru=null,this.iu=!1};function Ae(t){switch(t.Js){case"blob":var n;try{n=de(t.tu[0],null)}catch(t){return Zi}return Ae(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Js,e=t.nu,r=t.eu,i+"://"+Ei(e)+(null===r?"":":"+r);case"file":default:return Zi}var i,e,r}var we,ye,_e,Me,ke,me,pe,Ne=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof Ne&&"object"==typeof i.Ws)r=n.Ws;else try{r=de(String(n),null)}catch(t){throw new v("Invalid base URL: "+t.message)}try{e=de(String(t),r)}catch(t){throw new v("Invalid URL: "+t.message)}var s=e.Xs;this.Ws=e,this.Xs=function(t){var n=new Gi;return null!==t&&Pi(n,t),n}(s),this.Xs.Ws=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Js+":";if(null!==t.nu?(i+="//",ee(t)&&(i+=t.Ks,""!==t.$s&&(i+=":"+t.$s),i+="@"),i+=Ei(t.nu),null!==t.eu&&(i+=":"+t.eu)):null===t.nu&&"file"===t.Js&&(i+="//"),t.iu)i+=t.tu[0];else for(var e=0,r=t.tu;e<r.length;e++)i+="/"+r[e];return null!==t.Xs&&(i+="?"+t.Xs),n||null===t.ru||(i+="#"+t.ru),i}(this.Ws)},set:function(t){var n;try{n=de(String(t),null)}catch(t){throw new v("Invalid URL: "+t.message)}this.Ws=n,Qi(this.Xs);var i=this.Ws.Xs;null!==i&&Pi(this.Xs,i)}},{key:"origin",get:function(){return Ae(this.Ws)}},{key:"protocol",get:function(){return this.Ws.Js+":"},set:function(t){le(t+":",null,this.Ws,0)}},{key:"username",get:function(){return this.Ws.Ks},set:function(t){ce(this.Ws)||(this.Ws.Ks=Mi(t,Ai))}},{key:"password",get:function(){return this.Ws.$s},set:function(t){ce(this.Ws)||(this.Ws.$s=Mi(t,Ai))}},{key:"host",get:function(){var t=this.Ws,n=t.nu;if(null===n)return"";var i=t.eu,e=Ei(n);return null!==i&&(e+=":"+i),e},set:function(t){this.Ws.iu||le(t,null,this.Ws,10)}},{key:"hostname",get:function(){var t=this.Ws.nu;return null===t?"":Ei(t)},set:function(t){this.Ws.iu||le(t,null,this.Ws,11)}},{key:"port",get:function(){var t=this.Ws.eu;return null===t?"":""+t},set:function(t){ce(this.Ws)||(""===t?this.Ws.eu=null:le(t,null,this.Ws,12))}},{key:"pathname",get:function(){var t=this.Ws.tu;return this.Ws.iu?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Ws.iu||(this.Ws.tu.length=0,le(t,null,this.Ws,16))}},{key:"search",get:function(){var t=this.Ws.Xs;return null===t||""===t?"":"?"+t},set:function(t){t=xi(t);var n=this.Ws;if(""===t)return n.Xs=null,void Qi(this.Xs);"?"===t[0]&&(t=t.slice(1)),n.Xs="",le(t,null,n,19),Pi(this.Xs,t)}},{key:"searchParams",get:function(){return this.Xs}},{key:"hash",get:function(){var t=this.Ws.ru;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Ws.ru="",le(t,null,this.Ws,20)):this.Ws.ru=null}}])&&Mn(n.prototype,i),e&&Mn(n,e),t}();function De(t){return t.document&&t.document.baseURI||t.location.href||""}function Te(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ie(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}function be(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}function Ee(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}function Le(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=be(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&Ee(t,(i+" "+n).trim())}}function Se(t){t.stopPropagation()}function je(t,n){Z.Cr&&Z.Or<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function Ce(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function Oe(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function xe(t){t.removeAttribute("title")}function ze(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function Re(t){t.src&&(t.removeAttribute("src"),t.load())}function Ue(){return void 0!==r?r.createElement("video"):void 0}function Be(){return pe||(pe=Ue()),pe}var Qe=!!("ontouchstart"in t||t.DocumentTouch&&r instanceof t.DocumentTouch)||!(!u||!u.msMaxTouchPoints),Pe=Be(),Ye=!(!Pe||!Pe.webkitShowPlaybackTargetPicker),Ge=function(){function t(){this.su=void 0,this.uu=!1,this.cr=Qe,this.Tr=!1,this.ou=!0,this.hu=!0}var n=t.prototype;return n.cu=function(){return 0},n.au=function(t,n){return!0},n.fu=function(t){return t>=1/6*2},z(t,[{key:"vu",get:function(){return void 0===this.su&&(this.su=this.cu()),this.su}},{key:"du",get:function(){return e.devicePixelRatio||1}},{key:"lu",get:function(){return Ye}},{key:"gu",get:function(){return!1}},{key:"Au",get:function(){return!0}},{key:"wu",get:function(){return Z.ar||Z.pr}},{key:"yu",get:function(){return!0}},{key:"_u",get:function(){return!0}},{key:"Mu",get:function(){}},{key:"ku",get:function(){return!0}}]),t}(),Fe=function(){var t=Ue();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(Z.kr)return!1;var t=Ue();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Ve=function(t){function n(n){var i;return(i=t.call(this)||this).mu=void 0,i.mu=n,i.mu&&(i.uu=i.mu.uu,i.cr=i.mu.cr,i.ou=Fe&&i.mu.ou),i}U(n,t);var i=n.prototype;return i.cu=function(){return this.mu?this.mu.vu:t.prototype.cu.call(this)},i.au=function(n,i){return this.mu?this.mu.au(n,i):t.prototype.au.call(this,n,i)},i.fu=function(n){return this.mu?this.mu.fu(n):t.prototype.fu.call(this,n)},z(n,[{key:"Mu",get:function(){var t;return null==(t=this.mu)?void 0:t.Mu}},{key:"ku",get:function(){var t,n;return null==(t=null==(n=this.mu)?void 0:n.ku)||t}}]),n}(Ge),He=function(t){function n(n){var i;return(i=t.call(this,n)||this).uu=!0,i.Tr=!0,i}return U(n,t),n}(Ve),We=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.cu=function(){return Me.MediaSource?t.prototype.cu.call(this):1},n}(He),Xe=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.au=function(n,i){return!(i.pu>1920)&&t.prototype.au.call(this,n,i)},z(n,[{key:"gu",get:function(){return Z.Or<3}},{key:"Au",get:function(){return Z.Or>=3}}]),n}(Ve),Ze=function(t){function n(){return t.call(this)||this}return U(n,t),n}(Ge),qe=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.au=function(t,n){if(t&&t.Nu&&n&&n.Nu){var i=Je(t.Nu,"mp4a.40.2")&&Je(n.Nu,"mp4a.40.5"),e=Je(t.Nu,"mp4a.40.5")&&Je(n.Nu,"mp4a.40.2"),r=Je(t.Nu,"mp4a.40.2")&&Je(n.Nu,"mp4a.40.34"),s=Je(t.Nu,"mp4a.40.34")&&Je(n.Nu,"mp4a.40.2"),u=Je(t.Nu,"mp4a.40.5")&&Je(n.Nu,"mp4a.40.34"),o=Je(t.Nu,"mp4a.40.34")&&Je(n.Nu,"mp4a.40.5");return!(i||e||r||s||u||o)}return!0},z(n,[{key:"Mu",get:function(){if(Z.ar)return 4096}}]),n}(Ze);function Je(t,n){return t.indexOf(n)>-1}var Ke=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.fu=function(t){return t>=2},n}(Ze),$e=function(t){function n(){var n;return(n=t.call(this)||this).uu=Z.Gr>=11,n.ou=Z.Yr&&!(Z.pr&&Z.Gr<10),n}return U(n,t),n}(Ze),tr=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),z(n,[{key:"yu",get:function(){return!1}}]),n}(Ve),nr=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),z(n,[{key:"ku",get:function(){return!Z.dr||!!Z.Sr&&92!==Z.jr}}]),n}(Ze),ir=function(){function n(){var n;this.Du=void 0,this.Tu=new cn,this.Iu=new er,this.bu=(n=function(){if(Z.Qr)return new qe;if(Z.zr||Z.Rr)return new Ke;if(Z.Yr)return new $e;if(Z.Er)return new nr;return new Ze}(),Z.pr?new We(n):Z.Tr?new He(n):Z.Cr?new Xe(n):Z.xr?new tr(n):new Ve(n)),this.Eu=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.Du=function(){return t.performance.now()}:this.Du=Jt}var i=n.prototype;return i.Lu=function(){lt.apply(void 0,arguments)},i.Su=function(){gt.apply(void 0,arguments)},i.ju=function(){At.apply(void 0,arguments)},i.Cu=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];wt.apply(void 0,[t].concat(i))},i.ce=function(t,n){return o(t,n)},i.Ou=function(t,n){return c(t,n)},i.he=function(t){h(t)},i.xu=function(t){a(t)},i.ds=function(t){return this.Tu.ds(t)},i.zu=function(){return this.Ru.zu()},i.Uu=function(){return this.Ru.Uu()},i.Bu=function(){return this.Ru.Bu()},i.Qu=function(){return this.Ru.Qu()},i.Pu=function(){return this.Ru.Pu()},i.Yu=function(t,n){return this.Ru.Yu(t,n)},i.Gu=function(t){return this.Ru.Gu(t)},i.Fu=function(t,n){var i;return void 0===n&&(n=De(Me)),i="object"!=typeof n||n instanceof Ne?n:n.href,new Ne(t,i)},i.Vu=function(n,i){if(void 0===i&&(i=De(Me)),this.Eu){var e=et(i)?i:i.toString();return new t.URL(n,e).href}return this.Fu(n,i).href},z(n,[{key:"Hu",get:function(){return this.Iu}},{key:"Wu",get:function(){return this.bu}},{key:"Xu",get:function(){return{Zu:u&&u.userAgent.match(/Android /i)?"Android":"other",qu:Boolean(u&&u.userAgent.match(/Android 8.0.0/i))}}},{key:"Ju",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Ku",get:function(){return"languages"in u?u.languages.slice():[u.language]}}]),n}(),er=function(){function t(){}return z(t,[{key:"$u",get:function(){return u.oscpu}},{key:"Wu",get:function(){return u.platform}},{key:"to",get:function(){return u.vendor}},{key:"io",get:function(){return u.vendorSub}}]),t}();var rr=m(function(t){!function(t){var n,i=d.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function h(t,n,i,e){var r=n&&n.prototype instanceof _?n:_,s=d.create(r.prototype),u=new S(e||[]);return s.eo=function(t,n,i){var e=a;return function(r,s){if(e===g)throw new f("Generator is already running");if(e===A){if("throw"===r)throw s;return C()}for(i.method=r,i.arg=s;;){var u=i.delegate;if(u){var o=b(u,i);if(o){if(o===y)continue;return o}}if("next"===i.method)i.sent=i.ro=i.arg;else if("throw"===i.method){if(e===a)throw e=A,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=g;var h=c(t,n,i);if("normal"===h.type){if(e=i.done?A:l,h.arg===y)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(e=A,i.method="throw",i.arg=h.arg)}}}(t,i,u),s}function c(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var a="suspendedStart",l="suspendedYield",g="executing",A="completed",y={};function _(){}function M(){}function k(){}var m={};m[s]=function(){return this};var p=d.getPrototypeOf,N=p&&p(p(j([])));N&&N!==i&&e.call(N,s)&&(m=N);var D=k.prototype=_.prototype=d.create(m);function T(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.eo(n,t)}})}function I(t){var n;this.eo=function(i,r){function s(){return new Promise(function(n,s){!function n(i,r,s,u){var o=c(t[i],t,r);if("throw"!==o.type){var h=o.arg,a=h.value;return a&&"object"==typeof a&&e.call(a,"so")?Promise.resolve(a.so).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):Promise.resolve(a).then(function(t){h.value=t,s(h)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,r,n,s)})}return n=n?n.then(s,s):s()}}function b(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,b(t,i),"throw"===i.method))return y;i.method="throw",i.arg=new v("The iterator does not provide a 'throw' method")}return y}var r=c(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,y;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,y):s:(i.method="throw",i.arg=new v("iterator result is not an object"),i.delegate=null,y)}function E(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function L(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!w(t.length)){var r=-1,u=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:C}}function C(){return{value:n,done:!0}}M.prototype=D.constructor=k,k.constructor=M,k[o]=M.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===M||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,k):(t.__proto__=k,o in t||(t[o]="GeneratorFunction")),t.prototype=d.create(D),t},t.awrap=function(t){return{so:t}},T(I.prototype),I.prototype[u]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var s=new I(h(n,i,e,r));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},T(D),D[o]="Generator",D[s]=function(){return this},D.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=j,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.ro=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(L),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!w(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var h=e.call(u,"catchLoc"),c=e.call(u,"finallyLoc");if(h&&c){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(h){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!c)throw new f("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,y):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),L(i),y}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;L(i)}return r}}throw new f("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:j(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),y}}}(t.exports)});function sr(){return(sr=d.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)d.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function ur(){var t=d.create(null);return t.uo=void 0,delete t.uo,t}function or(){return new vr}function hr(){return new lr}function cr(t){var n=or();for(var i in t)q.call(t,i)&&n.set(i,t[i]);return n}var ar,fr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,vr=fr||(ar=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=ur(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=ur(),this.size=0},n.keys=function(){return new ar(this.data,function(t,n){return n})},n.values=function(){return new ar(this.data,function(t,n){return t[n]})},n.entries=function(){return new ar(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var dr,lr=fr||(dr=function(){function t(t,n){this.oo=void 0,this.ho=void 0,this.oo=t,this.ho=n}var n=t.prototype;return n.next=function(){var t=this.oo.next();return t.done?t:{value:this.ho(t.value),done:!1}},t}(),function(){function t(){this.co=or()}var n=t.prototype;return n.get=function(t){return this.co.get(""+t)},n.set=function(t,n){return this.co.set(""+t,n),this},n.has=function(t){return this.co.has(""+t)},n.delete=function(t){return this.co.delete(""+t)},n.clear=function(){this.co.clear()},n.keys=function(){return new dr(this.co.keys(),function(t){return Number(t)})},n.values=function(){return this.co.values()},n.entries=function(){return new dr(this.co.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.co.forEach(function(n,i){t(n,Number(i))})},z(t,[{key:"size",get:function(){return this.co.size}}]),t}());var gr,Ar="urn:mpeg:dash:mp4protection:2011",wr="cenc",yr="sinf",_r="skd",Mr="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",kr="com.microsoft.playready",mr="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",pr="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",Nr="urn:uuid:"+pr,Dr="com.apple.fps.1_0";!function(t){t.ao="playready",t.fo="widevine",t.vo="fairplay",t.do="clearkey",t.lo="aes128"}(gr||(gr={}));var Tr={Ao:gr.ao,wo:kr,yo:"cenc",_o:"9a04f079-9840-4286-ab92-e65be0885f95",Mo:Mr,ko:"PlayReady"},Ir={Ao:gr.fo,wo:"com.widevine.alpha",yo:"cenc",_o:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Mo:mr,ko:"Widevine"},br={Ao:gr.vo,wo:Dr,yo:"skd",_o:pr,Mo:Nr,ko:"FairPlay"},Er=(gr.vo,{Ao:gr.do,wo:"org.w3.clearkey",yo:"cenc",_o:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Mo:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",ko:"ClearKey"}),Lr=[Tr,Ir,br,Er];function Sr(t){return Lr.filter(function(n){return n.Mo===t.toLowerCase()})}function jr(t,n,i){return t.split(n).join(i)}function Cr(t,n){return null!=t&&-1!==t.indexOf(n)}function Or(t,n){return null!=t&&t.substr(0,n.length)===n}function xr(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function zr(t,n){return t.toUpperCase()===n.toUpperCase()}function Rr(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}function Ur(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=Rr(e,r/e.length)),e.slice(0,r)+t)}function Br(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Pr(n)}var Qr=16384;function Pr(t){var n=t.length;if(n<=Qr)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Qr)i.push(String.fromCharCode.apply(String,t.slice(e,e+Qr)));return i.join("")}function Yr(t){return t.replace(/[\\"]/g,function(t){return"\\"+t})}var Gr=Z.Er&&Z.Lr>=42||Z.Qr&&Z.Pr>=38||Z.zr||Z.Ur||Z.Fr&&Z.Vr>=29;function Fr(t,n){return Cr(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[sr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[sr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function Vr(){return void 0!==u&&"function"==typeof u.requestMediaKeySystemAccess}function Hr(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Wr,Xr=function(){function t(t){this.mo=void 0,this.po=or(),this.No=void 0,this.mo=t}var n=t.prototype;return n.Pu=function(){return this.Gu(Ir)},n.Uu=function(){return this.Gu(Er)},n.Qu=function(){return this.Gu(Tr)},n.Bu=function(){return this.Gu(br)},n.Gu=function(t){var n=t.Mo,i=this.po.get(n);if(i)return i;var e=this.Yu(t,'video/mp4; codecs="avc1.42000a"');return this.po.set(n,e),e},n.Yu=function(){var t=N.coroutine(rr.mark(function t(n,i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.mo.Do(n.wo,[Fr(i,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.mo.Do(n.wo,[Fr(i,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.zu=function(){return this.No||(this.No=this.To()),this.No},n.To=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==ke.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Gr){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.Uu();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function Zr(t,n){return Jr(t.slice(),n)}function qr(t,n){var i=Jr(t,n);return i!==t&&Kr(i,void 0,t.length,t),t}function Jr(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),s=1;s<e;s*=2){Kr(i,n,s,r);var u=i;i=r,r=u}return i}function Kr(t,n,i,e){var r,s,u,o,h,c=t.length,a=0,f=2*i;for(s=0;s<c;s+=f)for(r=(u=s+i)+i,u>c&&(u=c),r>c&&(r=c),o=s,h=u;;)if(o<u&&h<r)n&&n(t[o],t[h])<=0?e[a++]=t[o++]:e[a++]=t[h++];else if(o<u)e[a++]=t[o++];else{if(!(h<r))break;e[a++]=t[h++]}}!function(t){t[t.Io=0]="Io",t[t.bo=1]="bo",t[t.Eo=-1]="Eo"}(Wr||(Wr={}));var $r=function(t,n){return(0|t)-(0|n)},ts=function(t,n){return t===n?Wr.Io:t<n?Wr.Eo:t>n?Wr.bo:w(t)?w(n)?Wr.Io:Wr.bo:Wr.Eo};function ns(t,n,i){return Ht(t,n,i)?Wr.Io:ts(t,n)}var is=function(t,n){return Wt(t,n)?Wr.Io:ts(t,n)};function es(t,n,i){var e=rs(t,n,i);return-1===e?void 0:t[e]}function rs(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}function ss(t,n){var i=t.indexOf(n);return-1!==i&&(us(t,i),!0)}function us(t,n){t.splice(n,1)}function os(t,n){return-1!==t.indexOf(n)}function hs(t){t.length=0}function cs(t){var n;return(n=[]).concat.apply(n,t)}function as(t,n){for(var i=[],e=0;e<t.length;e++)i.push.apply(i,n(t[e],e));return i}function fs(t,n){return vs.apply(this,arguments)}function vs(){return(vs=N.coroutine(rr.mark(function t(n,i){var e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<n.length)){t.next=10;break}return r=n[e],t.next=5,i(r);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:e++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t)}))).apply(this,arguments)}function ds(t,n,i){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!i(t[e],n[e]))return!1;return!0}var ls=function(){function t(){this.Lo=!1,this.So=!1,this.jo=[],this.Co=[]}var n=t.prototype;return n.Oo=function(){if(!this.Lo&&!this.So){this.Lo=!0;for(var t=0,n=this.jo.slice();t<n.length;t++){(0,n[t])()}this.xo()}},n.xo=function(){if(!this.So){this.So=!0;for(var t=0,n=this.Co.slice();t<n.length;t++){(0,n[t])()}hs(this.jo),hs(this.Co)}},n.zo=function(t){this.So||this.jo.push(t)},n.Ro=function(t){this.So||ss(this.jo,t)},n.Uo=function(t){this.So||this.Co.push(t)},n.Bo=function(t){this.So||ss(this.Co,t)},t}(),gs=function(){function t(){this.Qo=new ls}var n=t.prototype;return n.Po=function(){this.Qo.Oo()},n.xo=function(){this.Qo.xo()},n.Yo=function(t){var n=this.Qo;if(!n.Lo)if(t.Lo)n.Oo();else if(!n.So&&!t.So){var i=function(){e(),n.Oo()},e=function e(){t.Ro(i),t.Bo(e),n.Ro(i),n.Bo(e)};t.zo(i),t.Uo(e),n.zo(i),n.Uo(e)}},n.Go=function(){var n=new t,i=new t,e=n.Fo,r=i.Fo,s=this.Qo,u=function(){e.Lo&&r.So||r.Lo&&e.So?s.Oo():e.So&&r.So&&s.xo()};e.zo(u),r.zo(u),e.Uo(u),r.Uo(u),n.Yo(s),i.Yo(s);return s.Uo(function(){e.Ro(u),r.Ro(u),e.Bo(u),r.Bo(u)}),[n,i]},z(t,[{key:"Fo",get:function(){return this.Qo}}]),t}(),As=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return U(n,t),z(n,[{key:"name",get:function(){return"AbortError"}}]),n}(on);function ws(t){return t instanceof f&&"AbortError"===t.name}function ys(t){if(t&&t.Lo)throw new As}function _s(t){if(ws(t))throw t}function Ms(t){if(!ws(t))throw t}function ks(t,n){return n?new N(function(i,e){if(n.Lo)return t.catch(T),e(new As);var r=function t(){n.Ro(t),e(new As)};n.zo(r),t.then(function(t){n.Ro(r),i(t)},function(t){n.Ro(r),e(t)})}):t}function ms(t,n){return t.then(function(t){return n.xo(),t},function(t){throw n.xo(),t})}function ps(t,n){var i=new gs;return n&&i.Yo(n),t(i.Fo).then(function(t){return i.Po(),t},function(t){throw i.Po(),t})}var Ns=N.resolve();function Ds(t){Ns.then(t)}function Ts(t){t.then(T,T)}function Is(t){return bs.apply(this,arguments)}function bs(){return(bs=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,N.all(n.map(function(t){return t.catch(T)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function Es(t,n){return new N(function(i,e){if(void 0!==n&&n.Lo)e(new As);else{var r=p.ce(function(){void 0!==n&&n.Ro(s),i()},t),s=function(){p.he(r),e(new As)};void 0!==n&&n.zo(s)}})}function Ls(t){return t&&"function"!=typeof t?t.slice():t}function Ss(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var js,Cs=function(){function t(t){var n=this;this.Vo=ur(),this.Ho=void 0,this.Wo=void 0,this.Xo=function(t){n.Zo(t)},this.Wo=t||this}var n=t.prototype;return n.qo=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Jo(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Jo(e,n)}},n.Jo=function(t,n){var i=this.Vo[t];i?"function"==typeof i?this.Vo[t]=[i,n]:i.push(n):this.Vo[t]=n},n.Ko=function(t){if("function"==typeof t){var n=this.Ho;n?"function"==typeof n?this.Ho=[n,t]:n.push(t):this.Ho=t}},n.$o=function(){this.Vo=ur(),this.Ho=void 0},n.Zo=function(t){var n=Ls(this.Vo[t.type]),i=Ls(this.Ho);Ss(this.Wo,t,n),Ss(this.Wo,t,i)},n.th=function(t,n){if("function"==typeof n)if("string"==typeof t)this.nh(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.nh(e,n)}},n.nh=function(t,n){var i=this.Vo[t];i&&("function"==typeof i?i===n&&(this.Vo[t]=void 0):ss(i,n))},n.ih=function(t){if("string"==typeof t)this.Vo[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Vo[i]=void 0}},n.eh=function(t){var n=this.Ho;n&&("function"==typeof n?n===t&&(this.Ho=void 0):ss(n,t))},n.rh=function(t,n){var i=this;return new N(function(e,r){if(n&&n.Lo)return r(new As);var s=function(t){o(),e(t)},u=function(){o(),r(new As)},o=function(){i.th(t,s),n&&n.Ro(u)};i.qo(t,s),n&&n.zo(u)})},t}(),Os=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.Zo=function(n){var i=this;Ds(function(){t.prototype.Zo.call(i,n)})},n}(Cs),xs=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},zs=["cenc"],Rs=["cbcs","cbcs-1-9"],Us=function(t){function n(n){var i;return(i=t.call(this,"uh")||this).sh=n,i}return U(n,t),n}(xs),Bs=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"oh")||this).sh=n,s.ah=i,s.oh=e,s.fh=r,s}return U(n,t),n}(xs),Qs=function(t){function n(){return t.call(this,"vh")||this}return U(n,t),n}(xs);!function(t){t.dh="lh",t.gh="Ah"}(js||(js={}));var Ps=function(t){function n(n,i){var e;return(e=t.call(this,js.dh)||this).yo=n,e.wh=i,e}return U(n,t),n}(xs),Ys=function(t){function n(){return t.call(this,js.gh)||this}return U(n,t),n}(xs),Gs=new y([0]).buffer,Fs=function(){function t(){this.yh=void 0,this.yh=[]}var n=t.prototype;return n._h=function(t){for(var n=0,i=this.yh;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Mh=function(t){for(var n=0,i=this.yh;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.kh=function(t,n){this.yh.forEach(function(n){return t(n[1],n[0])},n)},n.mh=function(t,n){this.yh.push([t,n])},n.ph=function(){hs(this.yh)},z(t,[{key:"Nh",get:function(){return this.yh.length}}]),t}(),Vs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Hs=16383,Ws=/[\t\n\f\r ]/g;function Xs(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Zs()}function Zs(){throw new f("Invalid base64 input")}function qs(t){var n=t;Ws.test(n)&&(n=n.replace(Ws,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return Zs();for(var r,s=0===e?0:4-e,u=new y(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,h=0,c=0;h<o;h+=4)r=Xs(n.charCodeAt(h))<<18|Xs(n.charCodeAt(h+1))<<12|Xs(n.charCodeAt(h+2))<<6|Xs(n.charCodeAt(h+3)),u[c++]=r>>16&255,u[c++]=r>>8&255,u[c++]=255&r;return 2===s?(r=Xs(n.charCodeAt(h))<<2|Xs(n.charCodeAt(h+1))>>4,u[c++]=255&r):1===s&&(r=Xs(n.charCodeAt(h))<<10|Xs(n.charCodeAt(h+1))<<4|Xs(n.charCodeAt(h+2))>>2,u[c++]=r>>8&255,u[c++]=255&r),u}function Js(t,n,i){for(var e,r,s,u=[],o=n;o<i;o+=3)u.push((e=t[o],r=t[o+1],s=t[o+2],Vs[e>>2]+Vs[(3&e)<<4|r>>4]+Vs[(15&r)<<2|s>>6]+Vs[63&s]));return u.join("")}function Ks(t){for(var n=t.length,i=n%3,e=[],r=n-i,s=0;s<r;s+=Hs)e.push(Js(t,s,l.min(r,s+Hs)));if(1===i){var u=t[n-1];e.push(Vs[u>>2]+Vs[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],h=t[n-1];e.push(Vs[o>>2]+Vs[(3&o)<<4|h>>4]+Vs[(15&h)<<2]+"=")}return e.join("")}var $s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],tu=ArrayBuffer.isView||function(t){return t&&os($s,J.call(t))};function nu(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new y(t),new y(n))}function iu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return eu(t,n)}function eu(t,n){for(var i=new y(n),e=0,r=0;r<t.length;r++){var s=t[r];i.set(s,e),e+=s.byteLength}return i}function ru(t){return qs(t).buffer}function su(t){return Ks(new y(t))}function uu(t){return Ks(Pu(t))}var ou=function(){function t(t){void 0===t&&(t=0),this.Dh=t}var n=t.prototype;return n.Th=function(t){this.Dh+=t},n.Ih=function(t){this.Dh=t},n.bh=function(){return new t(this.Eh)},z(t,[{key:"Eh",get:function(){return this.Dh}}]),t}();function hu(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function cu(t,n){return t>>n&63|128}function au(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(hu(t),n.push(t>>12&15|224),n.push(cu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(cu(t,12)),n.push(cu(t,6))),n.push(63&t|128)):n.push(t)}function fu(t,n){if(n.Eh>=t.length)throw new f("Invalid byte index");var i=255&t[n.Eh];if(n.Th(1),128==(192&i))return 63&i;throw new f("Invalid continuation byte")}function vu(t,n){var i=n.Eh;if(i>t.length)throw new f("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Th(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|fu(t,n);if(r>=128)return r;throw new f("Invalid continuation byte")}if(224==(240&e)){var s=(15&e)<<12|fu(t,n)<<6|fu(t,n);if(s>=2048)return hu(s),s;throw new f("Invalid continuation byte")}if(240==(248&e)){var u=(7&e)<<18|fu(t,n)<<12|fu(t,n)<<6|fu(t,n);if(u>=65536&&u<=1114111)return u}throw new f("Invalid UTF-8 detected")}var du=65279;var lu=[128,64,32,16,8,4,2,1],gu=function(){function t(t){this.Lh=t}return t.prototype.Sh=function(t){return Au(this.Lh,t)},t}();function Au(t,n){return(t&n)===n}function wu(t,n){return Au(t,lu[n])}function yu(t,n){var i=t.getUint8(n.Eh);return n.Th(1),i}function _u(t,n,i){t.setUint8(n.Eh,i),n.Th(1)}function Mu(t,n,i){var e=Wu(qu(t),n.Eh,n.Eh+i);return n.Th(e.byteLength),e}function ku(t,n,i){qu(t).set(qu(i),n.Eh),n.Th(i.byteLength)}function mu(t,n,i){return n.Eh+i<=t.byteLength}function pu(t,n,i,e){return void 0===e&&(e=!1),e?function(t,n,i){for(var e=0,r=1,s=0;s<i;s++)e+=yu(t,n)*r,r*=256;return e}(t,n,i):function(t,n,i){for(var e=0,r=0;r<i;r++)e=256*e+yu(t,n);return e}(t,n,i)}function Nu(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Eh,i);return n.Th(2),e}function Du(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Eh,i,e),n.Th(2)}function Tu(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Eh,i);return n.Th(4),e}function Iu(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Eh,i,e),n.Th(4)}function bu(t,n,i){void 0===i&&(i=!1);var e=Tu(t,n,i),r=Tu(t,n,i),s=i?r:e,u=i?e:r;return Gt.fromBits(u,s,!0)}function Eu(t,n){var i=yu(t,n);if(i)return String.fromCharCode(i)}function Lu(t,n){return Cu(t,n)}function Su(t,n,i){for(var e="",r=0;r<i;r++)e+=Eu(t,n);return e}function ju(t,n){var i,e=yu(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&yu(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&yu(t,n))+(63&yu(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&yu(t,n))+64*(63&yu(t,n))+(63&yu(t,n))),i}function Cu(t,n){return Ou(t,n,!0)}function Ou(t,n,i){for(var e=[];n.Eh<t.byteLength;){var r=yu(t,n);if(i&&!r)break;e.push(r)}return Pr(e)}function xu(t,n){if(n.Eh+2<=t.byteLength){var i=t.getUint8(n.Eh),e=t.getUint8(n.Eh+1);return(254!==i||255!==e)&&(255===i&&254===e||void 0)}}function zu(t,n){var i=xu(t,n);return void 0!==i&&n.Th(2),Ru(t,n,!0===i)}function Ru(t,n,i){return void 0===i&&(i=!1),Uu(t,n,i,!0)}function Uu(t,n,i,e){for(var r=[];n.Eh+2<=t.byteLength;){var s=Nu(t,n,i);if(e&&!s)break;r.push(s)}return Pr(r)}function Bu(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,s=0;s<r;s+=1){Du(t,n,i.charCodeAt(s),e)}}function Qu(t){return Ou(Zu(t),new no,!1)}function Pu(t){var n=new y(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)_u(t,n,i.charCodeAt(r))}(Zu(n),new no,t),n}function Yu(t,n){return void 0===n&&(n=!1),Uu(Zu(t),new no,n,!1)}function Gu(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return Bu(Zu(i),new no,t,n),i}function Fu(t,n){return function(t,n,i){var e=[];(function(t,n){return n.Eh+3<=t.byteLength&&239===t.getUint8(n.Eh)&&187===t.getUint8(n.Eh+1)&&191===t.getUint8(n.Eh+2)})(t,n)&&n.Th(3);for(;n.Eh<t.byteLength;){var r=ju(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Br(e)}(t,n,!0)}function Vu(t){return Br(function(t,n){var i,e=[],r=new no;if(!n){if(!1===(i=vu(t,r)))return e;i===du||e.push(i)}for(;!1!==(i=vu(t,r));)e.push(i);return e}(qu(t)))}function Hu(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)au(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function Wu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Xu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Zu(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function qu(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function Ju(t){return t instanceof ArrayBuffer||tu(t)}function Ku(t){return t instanceof ArrayBuffer?new y(t):qu(t)}function $u(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):to(Wu(t,n,i))}function to(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}var no=function(){function t(t){void 0===t&&(t=0),this.Dh=t}var n=t.prototype;return n.Th=function(t){this.Dh+=t},n.Ih=function(t){this.Dh=t},n.bh=function(){return new t(this.Eh)},n.jh=function(){return new ou(this.Eh<<3)},z(t,[{key:"Eh",get:function(){return this.Dh}}]),t}();function io(t){var n=t,i=0,e=0;Or(n,"0x")&&(n=n.substring(2));var r=new y(l.ceil(n.length/2));for(1==(1&n.length)&&(i=1,r[e++]=g(n[0],16));i<n.length;i+=2)r[e++]=g(n.substr(i,2),16);return r}var eo=function(){function t(){var t=this;this.Ch=void 0,this.Hn=void 0,this.J=void 0,this.Ch=new N(function(n,i){t.Hn=n,t.J=i})}var n=t.prototype;return n.Oh=function(t){this.Hn&&(this.Hn(t),this.xo())},n.xh=function(t){this.J&&(this.J(t),this.xo())},n.Po=function(){this.Ch.catch(T),this.xh(new As)},n.xo=function(){this.Hn=void 0,this.J=void 0},t}();function ro(){return new y([8,4]).buffer}function so(t){return nu(t,ro())}function uo(t,n){return t===kr?function(t){if(t.byteLength<2*oo.length)return t;if(Yu(new DataView(t,0,2*oo.length),!0)===oo)return t;return n=t,Gu('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+su(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var oo="<PlayReady";var ho=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,r)||this).zh=void 0,s.Rh=void 0,s.zh=i,s.Rh=e,s}return U(n,t),n}(on),co=function(t){function n(n,i){var e;(e=t.call(this)||this).Uh=void 0,e.Bh=!1,e.Qh=void 0,e.Ph=void 0,e.Yh=function(){e.Gh()},e.Fh=function(t){e.Zo(new Bs(sn(e),t.messageType,uo(e.Vh,t.message)))},e.Hh=function(){e.Bh=!0,e.Uh.Nh>0&&(e.Uh.ph(),e.Zo(new Us(sn(e)))),e.Wh.removeEventListener("keystatuseschange",e.Yh),e.Wh.removeEventListener("message",e.Fh)},e.Wh=n,e.Vh=i,e.Wh.addEventListener("keystatuseschange",e.Yh),e.Wh.addEventListener("message",e.Fh),e.Uh=new Fs;var r=[];return e.Wh.closed&&r.push(N.resolve(e.Wh.closed)),e.Ph=new eo,r.push(e.Ph.Ch),e.Qh=N.race(r).then(e.Hh,e.Hh),e.Gh(),e}U(n,t);var i=n.prototype;return i.Xh=function(){if(this.Bh)return this.Qh;var t=[];return t.push(N.resolve(this.Wh.close())),t.push(Es(1e3)),this.Ph.Oh(N.race(t).catch(ao)),this.Bh=!0,this.Qh},i.Zh=function(t,n,i){return N.resolve(this.Wh.generateRequest(t,n)).catch(ao)},i.qh=function(t){return N.resolve(this.Wh.load(t)).catch(ao)},i.Jh=function(){return N.resolve(this.Wh.remove()).catch(ao)},i.Kh=function(t){return N.resolve(this.Wh.update(t)).catch(ao)},i.Gh=function(){var t=this;this.Uh.ph(),this.Wh.keyStatuses.forEach(function(n,i){t.$h(i,n)}),this.Zo(new Us(this))},i.$h=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=Ku(t);if(this.Vh===kr&&16===e.byteLength){var r=Zu(e),s=r.getUint32(0,!0),u=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,s,!1),r.setUint16(4,u,!1),r.setUint16(6,o,!1)}this.Vh===kr&&"status-pending"===n&&(n="usable"),this.Uh.mh(e,n)},z(n,[{key:"tc",get:function(){return this.Qh}},{key:"nc",get:function(){return this.Wh.expiration}},{key:"ic",get:function(){return this.Uh}},{key:"ec",get:function(){return this.Wh.sessionId}}]),n}(Cs);function ao(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|g(i[1],16))}throw new ho(t.message,void 0,n,t)}var fo=function(){function t(t,n,i){this.rc=t,this.sc=n,this.uc=i}var n=t.prototype;return n.oc=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new co(this.rc.createSession(n),this.sc));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.hc=function(t){return N.resolve(this.rc.setServerCertificate(t))},n.cc=function(t){return N.resolve(t.setMediaKeys(this.rc))},n.fc=function(t){return N.resolve(t.setMediaKeys(null))},t}(),vo=function(){function t(t,n,i){this.vc=t,this.Vh=n,this.dc=i}var n=t.prototype;return n.lc=function(){var t=N.coroutine(rr.mark(function t(){var n;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.vc.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new fo(n,this.Vh,this.dc));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.gc=function(){return this.dc},z(t,[{key:"sc",get:function(){return this.vc.keySystem}}]),t}(),lo={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function go(t){return Cr(t,lo.APPLICATION_MP4)||Cr(t,lo.VIDEO_MP4)||Cr(t,lo.AUDIO_MP4)}var Ao=function(){function t(t,n){this.Ao=void 0,this.Ac=void 0,this.Ao=t,this.Ac=n}return t.prototype.wc=function(t){for(var n=0,i=this.Ac;n<i.length;n++){var e=i[n],r=e[0],s=e[1];if(r.toLowerCase()===t.toLowerCase())return s}},t}();function wo(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Ao(n,[]);for(var e=n.substr(0,i).trim(),r=n.substr(i+1).trim(),s=[],u=0,o=!1,h=0;h<r.length;h++){var c=r[h];if(o||";"!==c)'"'===c&&(o=!o);else{var a=yo(r.substr(u,h));a&&s.push(a),u=h+1}}if(u!==r.length){var f=yo(r.substr(u));f&&s.push(f)}return new Ao(e,s)}function yo(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),e=t.substr(n+1).trim();return'"'===e[0]&&(e=e.substring(1,e.length-1)),[i,e]}}function _o(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function Mo(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,yc:e.yc},u=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(e){return ko(t,n,i,e)}),u=!0,s.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var h=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});h.length&&(s.videoCapabilities=h.filter(function(e){return ko(t,n,i,e)}),u=!0,s.videoCapabilities.length&&(r=!0))}return u||(r=t(i,"video/mp4")),r?s:void 0}}function ko(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!os(n,e.encryptionScheme))&&(!e.robustness&&t(i,_o(e.contentType))))}function mo(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,s=t.audioCapabilities;r<s.length;r++){var u=s[r];if(u.contentType)return u.contentType}}function po(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function No(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Do))||!(!t.videoCapabilities||!t.videoCapabilities.some(Do))}function Do(t){return!t.robustness}function To(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(sr({},r,{robustness:n}))}return i}var Io=function(){function t(){}return t.prototype.Do=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s,o,h,c,a,f;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(i=i.filter(function(t){return!t.yc}),e=0,r=i;e<r.length;e++)(s=r[e]).audioCapabilities&&(s.audioCapabilities=po(s.audioCapabilities)),s.videoCapabilities&&(s.videoCapabilities=po(s.videoCapabilities));if("com.widevine.alpha"!==n||!i.some(No)){t.next=14;break}return o=i.map(function(t){return i="SW_SECURE_CRYPTO",sr({},n=t,{videoCapabilities:n.videoCapabilities?To(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?To(n.audioCapabilities,i):void 0});var n,i}),t.prev=4,t.next=7,u.requestMediaKeySystemAccess(n,o);case 7:return h=t.sent,c=h.getConfiguration(),t.abrupt("return",new vo(h,n,c));case 12:t.prev=12,t.t0=t.catch(4);case 14:return t.next=16,u.requestMediaKeySystemAccess(n,i);case 16:return a=t.sent,f=a.getConfiguration(),t.abrupt("return",new vo(a,n,f));case 19:case"end":return t.stop()}},t,null,[[4,12]])}));return function(n,i){return t.apply(this,arguments)}}(),t._c=function(){return Vr()},t}(),bo=function(t){function n(n,i){var e;return(e=t.call(this)||this).Bh=!1,e.Mc=void 0,e.kc=void 0,e.mc=void 0,e.pc=void 0,e.Nc=void 0,e.Hh=function(){e.Bh=!0,e.Mc.Oh(void 0),e.Nc&&(e.Nc.removeEventListener("mskeyclose",e.Hh),e.Nc.removeEventListener("mskeymessage",e.Dc),e.Nc.removeEventListener("mskeyerror",e.Tc),e.Nc.removeEventListener("mskeyadded",e.Ic))},e.Dc=function(t){e.mc&&(e.mc.Oh(void 0),e.mc=void 0),e.Zo(new Bs(sn(e),"license-request",to(t.message).buffer,t.destinationURL||void 0))},e.Tc=function(){var t=e.Nc&&e.Nc.error;if(t){var n=new ho("Unknown CDM error",t.code,t.systemCode);if(e.mc)e.mc.xh(n),e.mc=void 0;else if(e.kc)e.kc.xh(n),e.kc=void 0;else switch(n.zh){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.bc("output-not-allowed");break;default:e.bc("internal-error")}}},e.Ic=function(){e.mc&&(e.bc("usable"),e.mc.Oh(void 0),e.mc=void 0),e.kc&&(e.bc("usable"),e.kc.Oh(void 0),e.kc=void 0)},e.Ec=n,e.Lc=i,e.Mc=new eo,e.pc=new Fs,e}U(n,t);var i=n.prototype;return i.Zh=function(){var t=N.coroutine(rr.mark(function t(n,i,e){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Sc(),this.mc=new eo,this.oc(Ku(i),e),t.next=5,this.mc.Ch;case 5:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.oc=function(t,n){if(!t)throw new v("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.jc;return(i=n?this.Ec.createSession(this.Lc,t,e):this.Ec.createSession(this.Lc,t)).addEventListener("mskeyclose",this.Hh),i.addEventListener("mskeymessage",this.Dc),i.addEventListener("mskeyerror",this.Tc),i.addEventListener("mskeyadded",this.Ic),this.Nc=i,this.bc("status-pending"),i},i.qh=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Sc(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Kh=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.kc=new eo,this.Sc(),this.Nc){t.next=4;break}return t.abrupt("return",N.resolve());case 4:if(0!==(i=Ku(n)).byteLength){t.next=7;break}throw new v("Cannot call update with an empty response.");case 7:return this.Nc.update(i),t.next=10,this.kc.Ch;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Xh=function(){return!this.Bh&&this.Nc&&(this.Bh=!0,this.Nc.close()),this.Mc.Ch},i.Jh=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Sc(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Sc=function(){if(this.Bh)throw new v("Already closing or closed.")},i.bc=function(t){this.pc.ph(),this.pc.mh(Gs,t),this.Zo(new Us(this))},z(n,[{key:"ec",get:function(){return this.Nc&&this.Nc.sessionId||""}},{key:"nc",get:function(){return NaN}},{key:"tc",get:function(){return this.Mc.Ch}},{key:"ic",get:function(){return this.pc}}]),n}(Cs),Eo=function(){function t(t,n,i){this.Lc=void 0,this.Ec=t,this.sc=n,this.uc=i;var e=mo(i)||"video/mp4";this.Lc=_o(e)}var n=t.prototype;return n.oc=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new bo(this.Ec,this.Lc));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.hc=function(t){return N.resolve(!1)},n.cc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Ec):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Ec),t.removeEventListener("loadedmetadata",i)}),N.resolve()},n.fc=function(t){return N.resolve()},t}(),Lo=function(){function t(t,n){this.Vh=t,this.Cc=n}var n=t.prototype;return n.gc=function(){return this.Cc},n.lc=function(){var t=new Me.MSMediaKeys(this.Vh);return N.resolve(new Eo(t,this.Vh,this.Cc))},z(t,[{key:"sc",get:function(){return this.Vh}}]),t}(),So=function(){function t(){}return t.prototype.Do=function(t,n){try{return N.resolve(function(t,n){if(!jo())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Mo(Co,zs,t,e);if(r)return new Lo(t,r)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return N.reject(t)}},t._c=function(){return jo()},t}();function jo(){return void 0!==Me.MSMediaKeys&&"function"==typeof Me.MSMediaKeys.isTypeSupported}function Co(t,n){return Me.MSMediaKeys.isTypeSupported(t,n)}var Oo,xo,zo=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Mc=new eo,r.Oc=void 0,r.pc=new Fs,r.xc=void 0,r.zc=new eo,r.Tc=function(){var t=r.xc&&r.xc.error;if(t){var n=new ho("Unknown CDM error",t.code,t.systemCode);r.Oc?(r.Oc.xh(n),r.Oc=void 0):n.zh===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.bc("output-not-allowed"):r.bc("internal-error"),r.Zo(new Qs)}},r.Dc=function(t){r.Oc&&(r.Oc.Oh(void 0),r.Oc=void 0),r.Zo(new Bs(sn(r),"license-request",to(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Rc=n,r.Lc=i,r.Uc=e,r}U(n,t);var i=n.prototype;return i.Zh=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Bc;if(!e)throw new v("Expected FairPlay contentId to be defined but was "+e+".");var r=Ro(Ku(n),e,this.Uc);return this.xc=this.Rc.createSession(this.Lc,r),this.xc.addEventListener("webkitkeymessage",this.Dc,!1),this.xc.addEventListener("webkitkeyerror",this.Tc,!1),this.bc("usable"),this.zc.Oh(this.xc),this.zc=new eo,N.resolve()},i.qh=function(t){return N.resolve(!0)},i.Kh=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Ku(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:if(this.Oc=new eo,t.t0=this.xc,t.t0){t.next=9;break}return t.next=8,this.zc.Ch;case 8:t.t0=t.sent;case 9:return t.t0.update(i),t.next=13,this.Oc.Ch;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Xh=function(){var t=this.xc;return t&&(t.removeEventListener("webkitkeymessage",this.Dc,!1),t.removeEventListener("webkitkeyerror",this.Tc,!1),t.close()),this.zc.Po(),this.Mc.Oh(void 0),this.Mc.Ch},i.Jh=function(){return N.resolve(void 0)},i.bc=function(t){this.pc.ph(),this.pc.mh(Gs,t),this.Zo(new Us(this))},z(n,[{key:"ec",get:function(){return this.xc?this.xc.sessionId:""}},{key:"nc",get:function(){return NaN}},{key:"tc",get:function(){return this.Mc.Ch}},{key:"ic",get:function(){return this.pc}}]),n}(Cs);function Ro(t,n,i){var e=Vu(t),r=2*e.length,s=2*n.length,u=new ArrayBuffer(4+r+4+s+4+i.byteLength),o=new DataView(u),h=new no;return Iu(o,h,r,!0),Bu(o,h,e,!0),Iu(o,h,s,!0),Bu(o,h,n,!0),Iu(o,h,i.byteLength,!0),ku(o,h,i),new y(u)}(Oo=n.ErrorCode||(n.ErrorCode={}))[Oo.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Oo[Oo.LICENSE_ERROR=2e3]="LICENSE_ERROR",Oo[Oo.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Oo[Oo.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Oo[Oo.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Oo[Oo.SOURCE_INVALID=3e3]="SOURCE_INVALID",Oo[Oo.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Oo[Oo.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Oo[Oo.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Oo[Oo.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Oo[Oo.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Oo[Oo.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Oo[Oo.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Oo[Oo.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Oo[Oo.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Oo[Oo.NETWORK_ERROR=6e3]="NETWORK_ERROR",Oo[Oo.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Oo[Oo.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Oo[Oo.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Oo[Oo.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Oo[Oo.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Oo[Oo.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Oo[Oo.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Oo[Oo.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Oo[Oo.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Oo[Oo.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Oo[Oo.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Oo[Oo.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Oo[Oo.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Oo[Oo.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Oo[Oo.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Oo[Oo.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Oo[Oo.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Oo[Oo.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Oo[Oo.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Oo[Oo.AD_ERROR=1e4]="AD_ERROR",Oo[Oo.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Oo[Oo.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(xo=n.ErrorCategory||(n.ErrorCategory={}))[xo.CONFIGURATION=1]="CONFIGURATION",xo[xo.LICENSE=2]="LICENSE",xo[xo.SOURCE=3]="SOURCE",xo[xo.MANIFEST=4]="MANIFEST",xo[xo.MEDIA=5]="MEDIA",xo[xo.NETWORK=6]="NETWORK",xo[xo.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",xo[xo.SUBTITLE=8]="SUBTITLE",xo[xo.VR=9]="VR",xo[xo.AD=10]="AD",xo[xo.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=l.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new v("Invalid error code: "+t)}}();var Uo=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return U(i,t),z(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(on),Bo=function(){function t(t,n,i){this.Lc=void 0,this.Uc=void 0,this.Rc=t,this.sc=n,this.uc=i;var e=mo(i)||"video/mp4";this.Lc=_o(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Rc},i.oc=function(){var t=N.coroutine(rr.mark(function t(i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Uc){t.next=2;break}throw new Uo(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new zo(this.Rc,this.Lc,this.Uc));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.hc=function(t){return this.Uc=Ku(t),N.resolve(!0)},i.cc=function(t){return t.webkitSetMediaKeys(this.Rc),N.resolve()},i.fc=function(t){return t.webkitSetMediaKeys(null),N.resolve()},t}(),Qo=function(){function t(t,n){this.Vh=t,this.Cc=n}var n=t.prototype;return n.gc=function(){return this.Cc},n.lc=function(){var t=new Me.WebKitMediaKeys(this.Vh);return N.resolve(new Bo(t,this.Vh,this.Cc))},z(t,[{key:"sc",get:function(){return this.Vh}}]),t}(),Po=function(){function t(){}return t.prototype.Do=function(t,n){try{return N.resolve(function(t,n){if(t!==Dr)throw new v(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Yo())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Mo(Go,Rs,t,e);if(r)return new Qo(t,r)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return N.reject(t)}},t._c=function(){return Yo()},t}();function Yo(){return void 0!==Me.WebKitMediaKeys&&"function"==typeof Me.WebKitMediaKeys.isTypeSupported}function Go(t,n){return Me.WebKitMediaKeys.isTypeSupported(t,n)}var Fo,Vo=function(){function t(t){this.Qc=t}return t.prototype.Do=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,r=this.Qc;case 1:if(!(e<r.length)){t.next=14;break}return s=r[e],t.prev=3,t.next=6,s.Do(n,i);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:e++,t.next=1;break;case 14:throw new v("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),Ho=function(t){function n(n){var i;return(i=t.call(this)||this).mc=void 0,i.Oc=void 0,i.Mc=void 0,i.Pc=!1,i.Yc=void 0,i.Gc=void 0,i.Fc=void 0,i.Vc=void 0,i.Hc=void 0,i.Vh=n,i.Mc=new eo,i.Gc="",i.Hc=new eo,i.Fc=new Fs,i}U(n,t);var i=n.prototype;return i.Wc=function(){this.Oc&&(this.bc("usable"),this.Oc.Oh(void 0),this.Oc=void 0)},i.Xc=function(t){var n=new ho("Unknown CDM error",t.errorCode,t.systemCode);this.Oc?(this.Oc.xh(n),this.Oc=void 0):this.mc?(this.mc.xh(n),this.mc=void 0):n.zh===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.bc("output-restricted"):1===n.Rh?this.bc("expired"):this.bc("internal-error")},i.Zc=function(t){0!==t.message.byteLength&&(this.mc&&(this.mc.Oh(void 0),this.mc=void 0),this.Zo(new Bs(this,"license-request",uo(this.Vh,to(t.message).buffer),t.defaultURL||void 0)))},i.qc=function(t){this.Vc||(this.Vc=t,this.Hc.Oh(t))},i.Xh=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Pc=!0,this.Mc.Oh(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Zh=function(){var t=N.coroutine(rr.mark(function t(n,i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.mc=new eo,this.Yc=Ku(i),t.t0=this.Vc,t.t0){t.next=8;break}return t.next=7,this.Hc.Ch;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Vh,this.Yc),t.next=12,this.mc.Ch;case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.qh=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Jh=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Kh=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Oc=new eo,t.t0=this.Vc,t.t0){t.next=7;break}return t.next=6,this.Hc.Ch;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.Vh,Ku(n),this.Yc,this.ec),t.next=11,this.Oc.Ch;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.throwIfClosed=function(){if(this.Pc)throw new v("Already closing or closed.")},i.bc=function(t){this.Fc.ph(),this.Fc.mh(Gs,t),this.Zo(new Us(this))},z(n,[{key:"ic",get:function(){return this.Fc}},{key:"ec",get:function(){return this.Gc},set:function(t){this.Gc=t}},{key:"tc",get:function(){return this.Mc.Ch}},{key:"nc",get:function(){return NaN}}]),n}(Cs),Wo=function(){function t(t,n){var i=this;this.Vc=void 0,this.Jc=or(),this.Kc=[],this.Ic=function(t){var n=i.$c(t.sessionId);n&&n.Wc()},this.ta=function(t){var n=i.$c(t.sessionId);n&&n.Xc(t)},this.na=function(t){var n=i.$c(t.sessionId);n&&n.Zc(t)},this.sc=t,this.uc=n}var n=t.prototype;return n.cc=function(t){return this.Vc=t,this.Vc.addEventListener("webkitkeyadded",this.Ic),this.Vc.addEventListener("webkitkeyerror",this.ta),this.Vc.addEventListener("webkitkeymessage",this.na),this.Jc.forEach(function(n,i){return n.qc(t)}),this.Kc.forEach(function(n){return n.qc(t)}),N.resolve()},n.fc=function(t){return t.removeEventListener("webkitkeyadded",this.Ic),t.removeEventListener("webkitkeyerror",this.ta),t.removeEventListener("webkitkeymessage",this.na),this.Vc=void 0,N.resolve()},n.oc=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new Ho(this.sc),this.Vc&&r.qc(this.Vc),this.Kc.push(r),t.abrupt("return",r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),n.hc=function(t){return N.resolve(!1)},n.$c=function(t){if(t){var n=this.Jc.get(t);return n||((n=this.Kc.shift())?(n.ec=t,this.Jc.set(t,n),n):void 0)}},t}(),Xo=function(){function t(t,n){this.sc=t,this.ia=n}var n=t.prototype;return n.lc=function(){return N.resolve(new Wo(this.sc,this.ia))},n.gc=function(){return this.ia},t}(),Zo=function(){function t(){}return t.prototype.Do=function(t,n){try{return N.resolve(qo(t,n))}catch(t){return N.reject(t)}},t._c=function(){return Hr()},t}();function qo(t,n){if(!Zo._c())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Mo(Jo,zs,t,e);if(r)return new Xo(t,r)}throw new v("Unsupported key system configuration for "+t)}function Jo(t,n){var i=Be();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Ko(){return Fo||(Fo=function(){var t=[];Po._c()&&t.push(new Po);Io._c()&&t.push(new Io);So._c()&&t.push(new So);Zo._c()&&t.push(new Zo);return new Vo(t)}()),Fo}var $o=function(){function t(){this.ea=or()}var n=t.prototype;return n.ph=function(t){this.ea.delete(t)},n.ra=function(){this.ea.clear()},n.Mh=function(t){return this.ea.get(t)},n.sa=function(t,n){this.ea.set(t,n)},t}(),th=function(){function t(){}return t.oa=function(){return t.rs||(t.rs=nh._c()?new nh:new $o),t.rs},t.ph=function(n){t.oa().ph(n)},t.ra=function(){t.oa().ra()},t.Mh=function(n){return t.oa().Mh(n)},t.sa=function(n,i){t.oa().sa(n,i)},t}();th.rs=void 0;var nh=function(n){function i(){return n.apply(this,arguments)||this}U(i,n),i._c=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.ph=function(n){t.sessionStorage.removeItem(n)},e.ra=function(){t.sessionStorage.clear()},e.Mh=function(n){return t.sessionStorage[n]},e.sa=function(n,i){t.sessionStorage[n]=i},i}(th);var ih=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return r?(e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var s=t[r];i.append(s)}return i.getBlob(n&&n.type||"")}):null}();function eh(t,n,i){var e=ih([n],{type:"application/octet-stream"}),s=URL.createObjectURL(e),u=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=r.createElement("a");o.href=s,o.download=u,r.body.appendChild(o),o.click(),r.body.removeChild(o),URL.revokeObjectURL(s)}var rh,sh;!function(t){t.ha="ca",t.aa="fa",t.va="contentprotectionerror",t.da="contentprotectionsuccess",t.la="currentsourcechange",t.ga="destroy",t.Aa="durationchange",t.wa="emptied",t.dh="encrypted",t.ya="ended",t._a="Ma",t.ka="loadstart",t.ma="manifestupdate",t.pa="nosupportedrepresentationfound",t.Na="offline",t.Da="online",t.Ta="pause",t.Ia="play",t.ba="progress",t.Ea="ratechange",t.La="representationchange",t.Sa="resize",t.ja="seeked",t.Ca="seeking",t.Oa="segmentnotfound",t.xa="za",t.Ra="Ua",t.Ba="sourcechange",t.Qa="timeupdate",t.Pa="volumechange",t.Ya="Ga",t.Fa="metricschange"}(rh||(rh={})),function(t){t.Va="arraybuffer",t.Ha="json",t.Wa="stream",t.cs="text"}(sh||(sh={}));var uh=function(){function t(n){var i=this;this.co=void 0,this.co={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=oh(i),e=hh(e);var r=i.toLowerCase();if(this.co.hasOwnProperty(r)){var s=this.co[r],u=s[1];s[1]=u?u+", "+e:e}else this.co[r]=[i,e]},n.delete=function(t){var n=oh(t).toLowerCase();delete this.co[n]},n.get=function(t){var n=oh(t).toLowerCase();return this.co.hasOwnProperty(n)?this.co[n][1]:null},n.has=function(t){var n=oh(t).toLowerCase();return this.co.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=oh(i)).toLowerCase();this.co[e]=[i,hh(n)]},n.forEach=function(t,n){for(var i in this.co)this.co.hasOwnProperty(i)&&t.call(n,this.co[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.co)if(this.co.hasOwnProperty(n)){var i=this.co[n],e=i[0],r=i[1];t.push([e,r])}return t},n.Xa=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Za=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.qa=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function oh(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new v("Invalid character in header field name");return n}function hh(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function ah(){}var fh=Number.isNaN||function(t){return t!=t},vh=ah;function dh(t){return"object"==typeof t&&null!==t||"function"==typeof t}function lh(t){return t.slice()}function gh(t){return!1!==function(t){if("number"!=typeof t)return!1;if(fh(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function Ah(t,n,i){if("function"!=typeof t)throw new v("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function wh(t,n,i,e){var r=t[n];if(void 0!==r){if("function"!=typeof r)throw new v(r+" is not a method");switch(i){case 0:return function(){return _h(r,t,e)};case 1:return function(n){var i=[n].concat(e);return _h(r,t,i)}}}return function(){return bh(void 0)}}function yh(t,n,i){var e=t[n];if(void 0!==e)return Ah(e,t,i)}function _h(t,n,i){try{return bh(Ah(t,n,i))}catch(t){return Eh(t)}}function Mh(t){return t}function kh(t){if(t=Number(t),fh(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function mh(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new v("size property of a queuing strategy must be a function");return function(n){return t(n)}}var ph=N,Nh=N.prototype.then,Dh=N.resolve.bind(ph),Th=N.reject.bind(ph);function Ih(t){return new ph(t)}function bh(t){return Dh(t)}function Eh(t){return Th(t)}function Lh(t,n,i){return Nh.call(t,n,i)}function Sh(t,n,i){Lh(Lh(t,n,i),void 0,vh)}function jh(t,n){Sh(t,n)}function Ch(t,n){Sh(t,void 0,n)}function Oh(t,n,i){return Lh(t,n,i)}function xh(t){Lh(t,void 0,vh)}var zh=function(){function t(){this.Ja=0,this.Ka=0,this.Si={$a:[],tf:void 0},this.nf=this.Si,this.Ja=0,this.Ka=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.Ka},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.nf,i=n;16383===n.$a.length&&(i={$a:[],tf:void 0}),n.$a.push(t),i!==n&&(this.nf=i,n.tf=i),++this.Ka},t.prototype.shift=function(){var t=this.Si,n=t,i=this.Ja,e=i+1,r=t.$a,s=r[i];return 16384===e&&(n=t.tf,e=0),--this.Ka,this.Ja=e,t!==n&&(this.Si=n),r[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Ja,i=this.Si,e=i.$a;!(n===e.length&&void 0===i.tf||n===e.length&&(n=0,0===(e=(i=i.tf).$a).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.Si,n=this.Ja;return t.$a[n]},t}();function Rh(t,n,i){var e=null;!0===i&&(e=d.prototype);var r=d.create(e);return r.value=t,r.done=n,r}function Uh(t,n){t.if=!0,t.ef=n,n.rf=t,"readable"===n.sf?Yh(t):"closed"===n.sf?function(t){Yh(t),Vh(t)}(t):Gh(t,n.uf)}function Bh(t,n){return Za(t.ef,n)}function Qh(t){"readable"===t.ef.sf?Fh(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Gh(t,n)}(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")),t.ef.rf=void 0,t.ef=void 0}function Ph(t){return new v("Cannot "+t+" a stream using a released reader")}function Yh(t){t.Qh=Ih(function(n,i){t.hf=n,t.cf=i})}function Gh(t,n){Yh(t),Fh(t,n)}function Fh(t,n){xh(t.Qh),t.cf(n),t.hf=void 0,t.cf=void 0}function Vh(t){t.hf(void 0),t.hf=void 0,t.cf=void 0}var Hh=ch("[[CancelSteps]]"),Wh=ch("[[PullSteps]]");function Xh(t,n){void 0===n&&(n=!1);var i=new nc(t);return i.if=n,i}function Zh(t){return Ih(function(n,i){var e={Hn:n,J:i};t.rf.af.push(e)})}function qh(t,n,i){var e=t.rf;e.af.shift().Hn(Rh(n,i,e.if))}function Jh(t){return t.rf.af.length}function Kh(t){var n=t.rf;return void 0!==n&&!!ic(n)}var $h,tc,nc=function(){function t(t){if(!1===Wa(t))throw new v("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Xa(t))throw new v("This stream has already been locked for exclusive reading by another reader");Uh(this,t),this.af=new zh}return d.defineProperty(t.prototype,"closed",{get:function(){return ic(this)?this.Qh:Eh(rc("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return ic(this)?void 0===this.ef?Eh(Ph("cancel")):Bh(this,t):Eh(rc("cancel"))},t.prototype.read=function(){return ic(this)?void 0===this.ef?Eh(Ph("read from")):ec(this):Eh(rc("read"))},t.prototype.releaseLock=function(){if(!ic(this))throw rc("releaseLock");if(void 0!==this.ef){if(this.af.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Qh(this)}},t}();function ic(t){return!!dh(t)&&!!d.prototype.hasOwnProperty.call(t,"af")}function ec(t){var n=t.ef;return n.ff=!0,"closed"===n.sf?bh(Rh(void 0,!0,t.if)):"errored"===n.sf?Eh(n.uf):n.vf[Wh]()}function rc(t){return new v("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof ch.asyncIterator&&(($h={})[ch.asyncIterator]=function(){return this},tc=$h,d.defineProperty(tc,ch.asyncIterator,{enumerable:!1}));var sc={next:function(){if(!1===uc(this))return Eh(oc("next"));var t=this.df;return void 0===t.ef?Eh(Ph("iterate")):Oh(ec(t),function(n){var i=n.done;return i&&Qh(t),Rh(n.value,i,!0)})},return:function(t){if(!1===uc(this))return Eh(oc("next"));var n=this.df;if(void 0===n.ef)return Eh(Ph("finish iterating"));if(n.af.length>0)return Eh(new v("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.lf){var i=Bh(n,t);return Qh(n),Oh(i,function(){return Rh(t,!0,!0)})}return Qh(n),bh(Rh(t,!0,!0))}};function uc(t){return!!dh(t)&&!!d.prototype.hasOwnProperty.call(t,"df")}function oc(t){return new v("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function hc(t){var n=t.Qn.shift();return t.gf-=n.size,t.gf<0&&(t.gf=0),n.value}function cc(t,n,i){if(!gh(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Qn.push({value:n,size:i}),t.gf+=i}function ac(t){t.Qn=new zh,t.gf=0}void 0!==tc&&d.setPrototypeOf(sc,tc),d.defineProperty(sc,"next",{enumerable:!1}),d.defineProperty(sc,"return",{enumerable:!1});var fc=ch("[[AbortSteps]]"),vc=ch("[[ErrorSteps]]"),dc=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),gc(this);var i=n.size,e=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var r=mh(i);void 0===e&&(e=1),function(t,n,i,e){var r=d.create(Cc.prototype);var s=wh(n,"write",1,[r]),u=wh(n,"close",0,[]),o=wh(n,"abort",1,[]);Oc(t,r,function(){return yh(n,"start",[r])},s,u,o,i,e)}(this,t,e=kh(e),r)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===Ac(this))throw Pc("locked");return wc(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Ac(this)?Eh(Pc("abort")):!0===wc(this)?Eh(new v("Cannot abort a stream that already has a writer")):yc(this,t)},t.prototype.close=function(){return!1===Ac(this)?Eh(Pc("close")):!0===wc(this)?Eh(new v("Cannot close a stream that already has a writer")):!0===pc(this)?Eh(new v("Cannot close an already-closing stream")):_c(this)},t.prototype.getWriter=function(){if(!1===Ac(this))throw Pc("getWriter");return lc(this)},t}();function lc(t){return new Tc(t)}function gc(t){t.sf="writable",t.uf=void 0,t.Af=void 0,t.wf=void 0,t.yf=new zh,t._f=void 0,t.Mf=void 0,t.kf=void 0,t.mf=void 0,t.pf=!1}function Ac(t){return!!dh(t)&&!!d.prototype.hasOwnProperty.call(t,"wf")}function wc(t){return void 0!==t.Af}function yc(t,n){var i=t.sf;if("closed"===i||"errored"===i)return bh(void 0);if(void 0!==t.mf)return t.mf.An;var e=!1;"erroring"===i&&(e=!0,n=void 0);var r=Ih(function(i,r){t.mf={An:void 0,Hn:i,J:r,xn:n,Nf:e}});return t.mf.An=r,!1===e&&kc(t,n),r}function _c(t){var n=t.sf;if("closed"===n||"errored"===n)return Eh(new v("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=Ih(function(n,i){var e={Hn:n,J:i};t.Mf=e}),r=t.Af;return void 0!==r&&!0===t.pf&&"writable"===n&&Kc(r),cc(i=t.wf,"close",0),Rc(i),e}function Mc(t,n){"writable"!==t.sf?mc(t):kc(t,n)}function kc(t,n){var i=t.wf;t.sf="erroring",t.uf=n;var e=t.Af;void 0!==e&&Lc(e,n),!1===function(t){if(void 0===t._f&&void 0===t.kf)return!1;return!0}(t)&&!0===i.Df&&mc(t)}function mc(t){t.sf="errored",t.wf[vc]();var n=t.uf;if(t.yf.forEach(function(t){t.J(n)}),t.yf=new zh,void 0!==t.mf){var i=t.mf;if(t.mf=void 0,!0===i.Nf)return i.J(n),void Nc(t);Sh(t.wf[fc](i.xn),function(){i.Hn(),Nc(t)},function(n){i.J(n),Nc(t)})}else Nc(t)}function pc(t){return void 0!==t.Mf||void 0!==t.kf}function Nc(t){void 0!==t.Mf&&(t.Mf.J(t.uf),t.Mf=void 0);var n=t.Af;void 0!==n&&Hc(n,t.uf)}function Dc(t,n){var i=t.Af;void 0!==i&&n!==t.pf&&(!0===n?function(t){Xc(t)}(i):Kc(i)),t.pf=n}var Tc=function(){function t(t){if(!1===Ac(t))throw new v("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===wc(t))throw new v("This stream has already been locked for exclusive writing by another writer");this.Tf=t,t.Af=this;var n,i=t.sf;if("writable"===i)!1===pc(t)&&!0===t.pf?Xc(this):qc(this),Fc(this);else if("erroring"===i)Zc(this,t.uf),Fc(this);else if("closed"===i)qc(this),Fc(n=this),Wc(n);else{var e=t.uf;Zc(this,e),Vc(this,e)}}return d.defineProperty(t.prototype,"closed",{get:function(){return!1===Ic(this)?Eh(Yc("closed")):this.Qh},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ic(this))throw Yc("desiredSize");if(void 0===this.Tf)throw Gc("desiredSize");return function(t){var n=t.Tf,i=n.sf;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return zc(n.wf)}(this)},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return!1===Ic(this)?Eh(Yc("ready")):this.If},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Ic(this)?Eh(Yc("abort")):void 0===this.Tf?Eh(Gc("abort")):function(t,n){return yc(t.Tf,n)}(this,t)},t.prototype.close=function(){if(!1===Ic(this))return Eh(Yc("close"));var t=this.Tf;return void 0===t?Eh(Gc("close")):!0===pc(t)?Eh(new v("Cannot close an already-closing stream")):bc(this)},t.prototype.releaseLock=function(){if(!1===Ic(this))throw Yc("releaseLock");void 0!==this.Tf&&Sc(this)},t.prototype.write=function(t){return!1===Ic(this)?Eh(Yc("write")):void 0===this.Tf?Eh(Gc("write to")):jc(this,t)},t}();function Ic(t){return!!dh(t)&&!!d.prototype.hasOwnProperty.call(t,"Tf")}function bc(t){return _c(t.Tf)}function Ec(t,n){"pending"===t.bf?Hc(t,n):function(t,n){Vc(t,n)}(t,n)}function Lc(t,n){"pending"===t.Ef?Jc(t,n):function(t,n){Zc(t,n)}(t,n)}function Sc(t){var n=t.Tf,i=new v("Writer was released and can no longer be used to monitor the stream's closedness");Lc(t,i),Ec(t,i),n.Af=void 0,t.Tf=void 0}function jc(t,n){var i=t.Tf,e=i.wf,r=function(t,n){try{return t.Lf(n)}catch(n){return Uc(t,n),1}}(e,n);if(i!==t.Tf)return Eh(Gc("write to"));var s=i.sf;if("errored"===s)return Eh(i.uf);if(!0===pc(i)||"closed"===s)return Eh(new v("The stream is closing or closed and cannot be written to"));if("erroring"===s)return Eh(i.uf);var u=function(t){return Ih(function(n,i){var e={Hn:n,J:i};t.yf.push(e)})}(i);return function(t,n,i){var e={chunk:n};try{cc(t,e,i)}catch(n){return void Uc(t,n)}var r=t.Sf;if(!1===pc(r)&&"writable"===r.sf){var s=Bc(t);Dc(r,s)}Rc(t)}(e,n,r),u}var Cc=function(){function t(){throw new v("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!dh(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"Sf"))return!1;return!0}(this))throw new v("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.Sf.sf&&Qc(this,t)},t.prototype[fc]=function(t){var n=this.jf(t);return xc(this),n},t.prototype[vc]=function(){ac(this)},t}();function Oc(t,n,i,e,r,s,u,o){n.Sf=t,t.wf=n,n.Qn=void 0,n.gf=void 0,ac(n),n.Df=!1,n.Lf=o,n.Cf=u,n.Of=e,n.xf=r,n.jf=s;var h=Bc(n);Dc(t,h),Sh(bh(i()),function(){n.Df=!0,Rc(n)},function(i){n.Df=!0,Mc(t,i)})}function xc(t){t.Of=void 0,t.xf=void 0,t.jf=void 0,t.Lf=void 0}function zc(t){return t.Cf-t.gf}function Rc(t){var n=t.Sf;if(!1!==t.Df&&void 0===n._f)if("erroring"!==n.sf){if(0!==t.Qn.length){var i=t.Qn.peek().value;"close"===i?function(t){var n=t.Sf;(function(t){t.kf=t.Mf,t.Mf=void 0})(n),hc(t);var i=t.xf();xc(t),Sh(i,function(){!function(t){t.kf.Hn(void 0),t.kf=void 0,"erroring"===t.sf&&(t.uf=void 0,void 0!==t.mf&&(t.mf.Hn(),t.mf=void 0)),t.sf="closed";var n=t.Af;void 0!==n&&Wc(n)}(n)},function(t){!function(t,n){t.kf.J(n),t.kf=void 0,void 0!==t.mf&&(t.mf.J(n),t.mf=void 0),Mc(t,n)}(n,t)})}(t):function(t,n){var i=t.Sf;(function(t){t._f=t.yf.shift()})(i),Sh(t.Of(n),function(){!function(t){t._f.Hn(void 0),t._f=void 0}(i);var n=i.sf;if(hc(t),!1===pc(i)&&"writable"===n){var e=Bc(t);Dc(i,e)}Rc(t)},function(n){"writable"===i.sf&&xc(t),function(t,n){t._f.J(n),t._f=void 0,Mc(t,n)}(i,n)})}(t,i.chunk)}}else mc(n)}function Uc(t,n){"writable"===t.Sf.sf&&Qc(t,n)}function Bc(t){return zc(t)<=0}function Qc(t,n){var i=t.Sf;xc(t),kc(i,n)}function Pc(t){return new v("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Yc(t){return new v("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Gc(t){return new v("Cannot "+t+" a stream using a released writer")}function Fc(t){t.Qh=Ih(function(n,i){t.hf=n,t.cf=i,t.bf="pending"})}function Vc(t,n){Fc(t),Hc(t,n)}function Hc(t,n){xh(t.Qh),t.cf(n),t.hf=void 0,t.cf=void 0,t.bf="rejected"}function Wc(t){t.hf(void 0),t.hf=void 0,t.cf=void 0,t.bf="resolved"}function Xc(t){t.If=Ih(function(n,i){t.zf=n,t.Rf=i}),t.Ef="pending"}function Zc(t,n){Xc(t),Jc(t,n)}function qc(t){Xc(t),Kc(t)}function Jc(t,n){xh(t.If),t.Rf(n),t.zf=void 0,t.Rf=void 0,t.Ef="rejected"}function Kc(t){t.zf(void 0),t.zf=void 0,t.Rf=void 0,t.Ef="fulfilled"}function $c(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var ta="undefined"!=typeof DOMException?DOMException:void 0;var na,ia=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(ta)?ta:((na=function(t,n){this.message=t||"",this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=d.create(f.prototype),d.defineProperty(na.prototype,"constructor",{value:na,writable:!0,configurable:!0}),na);function ea(t,n,i,e,r,s){var u=Xh(t),o=lc(n);t.ff=!0;var h=!1,c=bh(void 0);return Ih(function(a,f){var d,l,g,A;if(void 0!==s){if(d=function(){var i=new ia("Aborted","AbortError"),s=[];!1===e&&s.push(function(){return"writable"===n.sf?yc(n,i):bh(void 0)}),!1===r&&s.push(function(){return"readable"===t.sf?Za(t,i):bh(void 0)}),M(function(){return N.all(s.map(function(t){return t()}))},!0,i)},!0===s.aborted)return void d();s.addEventListener("abort",d)}if(_(t,u.Qh,function(t){!1===e?M(function(){return yc(n,t)},!0,t):k(!0,t)}),_(n,o.Qh,function(n){!1===r?M(function(){return Za(t,n)},!0,n):k(!0,n)}),l=t,g=u.Qh,A=function(){!1===i?M(function(){return function(t){var n=t.Tf,i=n.sf;return!0===pc(n)||"closed"===i?bh(void 0):"errored"===i?Eh(n.uf):bc(t)}(o)}):k()},"closed"===l.sf?A():jh(g,A),!0===pc(n)||"closed"===n.sf){var w=new v("the destination writable stream closed before all data could be piped to it");!1===r?M(function(){return Za(t,w)},!0,w):k(!0,w)}function y(){var t=c;return Lh(c,function(){return t!==c?y():void 0})}function _(t,n,i){"errored"===t.sf?i(t.uf):Ch(n,i)}function M(t,i,e){function r(){Sh(t(),function(){return m(i,e)},function(t){return m(!0,t)})}!0!==h&&(h=!0,"writable"===n.sf&&!1===pc(n)?jh(y(),r):r())}function k(t,i){!0!==h&&(h=!0,"writable"===n.sf&&!1===pc(n)?jh(y(),function(){return m(t,i)}):m(t,i))}function m(t,n){Sc(o),Qh(u),void 0!==s&&s.removeEventListener("abort",d),t?f(n):a(void 0)}xh(Ih(function(t,n){!function i(e){e?t():Lh(!0===h?bh(!0):Lh(o.If,function(){return Lh(ec(u),function(t){return!0===t.done||(c=Lh(jc(o,t.value),void 0,ah),!1)})}),i,n)}(!1)}))})}var ra=function(){function t(){throw new v}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===sa(this))throw ga("desiredSize");return va(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===sa(this))throw ga("close");if(!1===da(this))throw new v("The stream is not in a state that permits close");ca(this)},t.prototype.enqueue=function(t){if(!1===sa(this))throw ga("enqueue");if(!1===da(this))throw new v("The stream is not in a state that permits enqueue");return aa(this,t)},t.prototype.error=function(t){if(!1===sa(this))throw ga("error");fa(this,t)},t.prototype[Hh]=function(t){ac(this);var n=this.Uf(t);return ha(this),n},t.prototype[Wh]=function(){var t=this.Bf;if(this.Qn.length>0){var n=hc(this);return!0===this.Qf&&0===this.Qn.length?(ha(this),qa(t)):ua(this),bh(Rh(n,!1,t.rf.if))}var i=Zh(t);return ua(this),i},t}();function sa(t){return!!dh(t)&&!!d.prototype.hasOwnProperty.call(t,"Bf")}function ua(t){!1!==oa(t)&&(!0!==t.Pf?(t.Pf=!0,Sh(t.Yf(),function(){t.Pf=!1,!0===t.Gf&&(t.Gf=!1,ua(t))},function(n){fa(t,n)})):t.Gf=!0)}function oa(t){var n=t.Bf;return!1!==da(t)&&(!1!==t.Df&&(!0===Xa(n)&&Jh(n)>0||va(t)>0))}function ha(t){t.Yf=void 0,t.Uf=void 0,t.Lf=void 0}function ca(t){var n=t.Bf;t.Qf=!0,0===t.Qn.length&&(ha(t),qa(n))}function aa(t,n){var i=t.Bf;if(!0===Xa(i)&&Jh(i)>0)qh(i,n,!1);else{var e=void 0;try{e=t.Lf(n)}catch(n){throw fa(t,n),n}try{cc(t,n,e)}catch(n){throw fa(t,n),n}}ua(t)}function fa(t,n){var i=t.Bf;"readable"===i.sf&&(ac(t),ha(t),Ja(i,n))}function va(t){var n=t.Bf.sf;return"errored"===n?null:"closed"===n?0:t.Cf-t.gf}function da(t){var n=t.Bf.sf;return!1===t.Qf&&"readable"===n}function la(t,n,i,e,r,s,u){n.Bf=t,n.Qn=void 0,n.gf=void 0,ac(n),n.Df=!1,n.Qf=!1,n.Gf=!1,n.Pf=!1,n.Lf=u,n.Cf=s,n.Yf=e,n.Uf=r,t.vf=n,Sh(bh(i()),function(){n.Df=!0,ua(n)},function(t){fa(n,t)})}function ga(t){return new v("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var Aa=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&l.floor(t)===t},wa=function(){function t(){throw new v("ReadableStreamBYOBRequest cannot be used directly")}return d.defineProperty(t.prototype,"view",{get:function(){if(!1===Ma(this))throw za("view");return this.Ff},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===Ma(this))throw za("respond");if(void 0===this.Vf)throw new v("This BYOB request has been invalidated");this.Ff.buffer,function(t,n){if(!1===gh(n=Number(n)))throw new RangeError("bytesWritten must be a finite");La(t,n)}(this.Vf,t)},t.prototype.respondWithNewView=function(t){if(!1===Ma(this))throw za("respond");if(void 0===this.Vf)throw new v("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new v("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.Hf.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,La(t,n.byteLength)}(this.Vf,t)},t}(),ya=function(){function t(){throw new v("ReadableByteStreamController constructor cannot be used directly")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===_a(this))throw Ra("byobRequest");if(void 0===this.Wf&&this.Hf.length>0){var t=this.Hf.peek(),n=new y(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=d.create(wa.prototype);!function(t,n,i){t.Vf=n,t.Ff=i}(i,this,n),this.Wf=i}return this.Wf},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===_a(this))throw Ra("desiredSize");return Oa(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===_a(this))throw Ra("close");if(!0===this.Qf)throw new v("The stream has already been closed; do not close it again!");var t=this.Xf.sf;if("readable"!==t)throw new v("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Xf;if(t.gf>0)return void(t.Qf=!0);if(t.Hf.length>0){var i=t.Hf.peek();if(i.bytesFilled>0){var e=new v("Insufficient bytes to fill elements in the given buffer");throw Ca(t,e),e}}ja(t),qa(n)}(this)},t.prototype.enqueue=function(t){if(!1===_a(this))throw Ra("enqueue");if(!0===this.Qf)throw new v("stream is closed or draining");var n=this.Xf.sf;if("readable"!==n)throw new v("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new v("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Xf,e=n.buffer,r=n.byteOffset,s=n.byteLength,u=Mh(e);if(!0===Kh(i))if(0===Jh(i))Na(t,u,r,s);else{var o=new y(u,r,s);qh(i,o,!1)}else!0===Qa(i)?(Na(t,u,r,s),Ea(t)):Na(t,u,r,s);ka(t)}(this,t)},t.prototype.error=function(t){if(!1===_a(this))throw Ra("error");Ca(this,t)},t.prototype[Hh]=function(t){this.Hf.length>0&&(this.Hf.peek().bytesFilled=0);ac(this);var n=this.Uf(t);return ja(this),n},t.prototype[Wh]=function(){var t=this.Xf;if(this.gf>0){var n=this.Qn.shift();this.gf-=n.byteLength,Ia(this);var i=void 0;try{i=new y(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Eh(t)}return bh(Rh(i,!1,t.rf.if))}var e=this.Zf;if(void 0!==e){var r=void 0;try{r=new ArrayBuffer(e)}catch(t){return Eh(t)}var s={buffer:r,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:y,readerType:"default"};this.Hf.push(s)}var u=Zh(t);return ka(this),u},t}();function _a(t){return!!dh(t)&&!!d.prototype.hasOwnProperty.call(t,"Xf")}function Ma(t){return!!dh(t)&&!!d.prototype.hasOwnProperty.call(t,"Vf")}function ka(t){!1!==function(t){var n=t.Xf;if("readable"!==n.sf)return!1;if(!0===t.Qf)return!1;if(!1===t.Df)return!1;if(!0===Kh(n)&&Jh(n)>0)return!0;if(!0===Qa(n)&&Ba(n)>0)return!0;if(Oa(t)>0)return!0;return!1}(t)&&(!0!==t.Pf?(t.Pf=!0,Sh(t.Yf(),function(){t.Pf=!1,!0===t.Gf&&(t.Gf=!1,ka(t))},function(n){Ca(t,n)})):t.Gf=!0)}function ma(t,n){var i=!1;"closed"===t.sf&&(i=!0);var e=pa(n);"default"===n.readerType?qh(t,e,i):function(t,n,i){var e=t.rf;e.qf.shift().Hn(Rh(n,i,e.if))}(t,e,i)}function pa(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function Na(t,n,i,e){t.Qn.push({buffer:n,byteOffset:i,byteLength:e}),t.gf+=e}function Da(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=l.min(t.gf,n.byteLength-n.bytesFilled),s=n.bytesFilled+r,u=s-s%i,o=r,h=!1;u>e&&(o=u-n.bytesFilled,h=!0);for(var c,a,f,v,d,g=t.Qn;o>0;){var A=g.peek(),w=l.min(o,A.byteLength),_=n.byteOffset+n.bytesFilled;c=n.buffer,a=_,f=A.buffer,v=A.byteOffset,d=w,new y(c).set(new y(f,v,d),a),A.byteLength===w?g.shift():(A.byteOffset+=w,A.byteLength-=w),t.gf-=w,Ta(t,w,n),o-=w}return h}function Ta(t,n,i){ba(t),i.bytesFilled+=n}function Ia(t){0===t.gf&&!0===t.Qf?(ja(t),qa(t.Xf)):ka(t)}function ba(t){void 0!==t.Wf&&(t.Wf.Vf=void 0,t.Wf.Ff=void 0,t.Wf=void 0)}function Ea(t){for(;t.Hf.length>0;){if(0===t.gf)return;var n=t.Hf.peek();!0===Da(t,n)&&(Sa(t),ma(t.Xf,n))}}function La(t,n){var i=t.Hf.peek();if("closed"===t.Xf.sf){if(0!==n)throw new v("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=Mh(n.buffer);var i=t.Xf;if(!0===Qa(i))for(;Ba(i)>0;)ma(i,Sa(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(Ta(t,n,i),!(i.bytesFilled<i.elementSize)){Sa(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,s=i.buffer.slice(r-e,r);Na(t,s,0,s.byteLength)}i.buffer=Mh(i.buffer),i.bytesFilled-=e,ma(t.Xf,i),Ea(t)}}(t,n,i);ka(t)}function Sa(t){var n=t.Hf.shift();return ba(t),n}function ja(t){t.Yf=void 0,t.Uf=void 0}function Ca(t,n){var i=t.Xf;"readable"===i.sf&&(!function(t){ba(t),t.Hf=new zh}(t),ac(t),ja(t),Ja(i,n))}function Oa(t){var n=t.Xf.sf;return"errored"===n?null:"closed"===n?0:t.Cf-t.gf}function xa(t,n,i){var e=d.create(ya.prototype);var r=wh(n,"pull",0,[e]),s=wh(n,"cancel",1,[]),u=n.autoAllocateChunkSize;if(void 0!==u&&(u=Number(u),!1===Aa(u)||u<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,e,r,s,u){n.Xf=t,n.Gf=!1,n.Pf=!1,n.Wf=void 0,n.Qn=n.gf=void 0,ac(n),n.Qf=!1,n.Df=!1,n.Cf=kh(s),n.Yf=e,n.Uf=r,n.Zf=u,n.Hf=new zh,t.vf=n,Sh(bh(i()),function(){n.Df=!0,ka(n)},function(t){Ca(n,t)})}(t,e,function(){return yh(n,"start",[e])},r,s,i,u)}function za(t){return new v("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Ra(t){return new v("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Ua(t){return Ih(function(n,i){var e={Hn:n,J:i};t.rf.qf.push(e)})}function Ba(t){return t.rf.qf.length}function Qa(t){var n=t.rf;return void 0!==n&&!!Ya(n)}var Pa=function(){function t(t){if(!Wa(t))throw new v("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===_a(t.vf))throw new v("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Xa(t))throw new v("This stream has already been locked for exclusive reading by another reader");Uh(this,t),this.qf=new zh}return d.defineProperty(t.prototype,"closed",{get:function(){return Ya(this)?this.Qh:Eh(Ga("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Ya(this)?void 0===this.ef?Eh(Ph("cancel")):Bh(this,t):Eh(Ga("cancel"))},t.prototype.read=function(t){return Ya(this)?void 0===this.ef?Eh(Ph("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Eh(new v("view must have non-zero byteLength")):function(t,n){var i=t.ef;if(i.ff=!0,"errored"===i.sf)return Eh(i.uf);return function(t,n){var i=t.Xf,e=1;n.constructor!==DataView&&(e=n.constructor.BYTES_PER_ELEMENT);var r=n.constructor,s={buffer:Mh(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:e,ctor:r,readerType:"byob"};if(t.Hf.length>0)return t.Hf.push(s),Ua(i);if("closed"===i.sf)return bh(Rh(new r(s.buffer,s.byteOffset,0),!0,i.rf.if));if(t.gf>0){if(!0===Da(t,s)){var u=pa(s);return Ia(t),bh(Rh(u,!1,i.rf.if))}if(!0===t.Qf){var o=new v("Insufficient bytes to fill elements in the given buffer");return Ca(t,o),Eh(o)}}t.Hf.push(s);var h=Ua(i);return ka(t),h}(i.vf,n)}(this,t)):Eh(new v("view must be an array buffer view")):Eh(Ga("read"))},t.prototype.releaseLock=function(){if(!Ya(this))throw Ga("releaseLock");if(void 0!==this.ef){if(this.qf.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Qh(this)}},t}();function Ya(t){return!!dh(t)&&!!d.prototype.hasOwnProperty.call(t,"qf")}function Ga(t){return new v("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Fa=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Ha(this);var i=n.size,e=n.highWaterMark,r=t.type;if("bytes"===String(r)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===e&&(e=0),xa(this,t,e=kh(e))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var s=mh(i);void 0===e&&(e=1),function(t,n,i,e){var r=d.create(ra.prototype),s=wh(n,"pull",0,[r]),u=wh(n,"cancel",1,[]);la(t,r,function(){return yh(n,"start",[r])},s,u,i,e)}(this,t,e=kh(e),s)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===Wa(this))throw Ka("locked");return Xa(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Wa(this)?Eh(Ka("cancel")):!0===Xa(this)?Eh(new v("Cannot cancel a stream that already has a reader")):Za(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Wa(this))throw Ka("getReader");if(void 0===n)return Xh(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Pa(t);return i.if=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,e=t.readable,r=void 0===n?{}:n,s=r.preventClose,u=r.preventAbort,o=r.preventCancel,h=r.signal;if(!1===Wa(this))throw Ka("pipeThrough");if(!1===Ac(i))throw new v("writable argument to pipeThrough must be a WritableStream");if(!1===Wa(e))throw new v("readable argument to pipeThrough must be a ReadableStream");if(s=Boolean(s),u=Boolean(u),o=Boolean(o),void 0!==h&&!$c(h))throw new v("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Xa(this))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===wc(i))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return xh(ea(this,i,s,u,o,h)),e},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,e=i.preventClose,r=i.preventAbort,s=i.preventCancel,u=i.signal;return!1===Wa(this)?Eh(Ka("pipeTo")):!1===Ac(t)?Eh(new v("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(e=Boolean(e),r=Boolean(r),s=Boolean(s),void 0===u||$c(u)?!0===Xa(this)?Eh(new v("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===wc(t)?Eh(new v("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ea(this,t,e,r,s,u):Eh(new v("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Wa(this))throw Ka("tee");var t=function(t,n){var i,e,r,s,u,o=Xh(t),h=!1,c=!1,a=!1,f=Ih(function(t){u=t});function v(){return!0===h?bh(void 0):(h=!0,xh(Oh(ec(o),function(t){if(h=!1,!0===t.done)return!1===c&&ca(r.vf),void(!1===a&&ca(s.vf));var n=t.value,i=n,e=n;!1===c&&aa(r.vf,i),!1===a&&aa(s.vf,e)})),bh(void 0))}function d(){}return r=Va(d,v,function(n){if(c=!0,i=n,!0===a){var r=lh([i,e]),s=Za(t,r);u(s)}return f}),s=Va(d,v,function(n){if(a=!0,e=n,!0===c){var r=lh([i,e]),s=Za(t,r);u(s)}return f}),Ch(o.Qh,function(t){fa(r.vf,t),fa(s.vf,t)}),[r,s]}(this);return lh(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Wa(this))throw Ka("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Xh(t),e=d.create(sc);return e.df=i,e.lf=Boolean(n),e}(this,i)},t}();function Va(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var s=d.create(Fa.prototype);return Ha(s),la(s,d.create(ra.prototype),t,n,i,e,r),s}function Ha(t){t.sf="readable",t.rf=void 0,t.uf=void 0,t.ff=!1}function Wa(t){return!!dh(t)&&!!d.prototype.hasOwnProperty.call(t,"vf")}function Xa(t){return void 0!==t.rf}function Za(t,n){return t.ff=!0,"closed"===t.sf?bh(void 0):"errored"===t.sf?Eh(t.uf):(qa(t),Oh(t.vf[Hh](n),ah))}function qa(t){t.sf="closed";var n=t.rf;void 0!==n&&(ic(n)&&(n.af.forEach(function(t){t.Hn(Rh(void 0,!0,n.if))}),n.af=new zh),Vh(n))}function Ja(t,n){t.sf="errored",t.uf=n;var i=t.rf;void 0!==i&&(ic(i)?(i.af.forEach(function(t){t.J(n)}),i.af=new zh):(i.qf.forEach(function(t){t.J(n)}),i.qf=new zh),Fh(i,n))}function Ka(t){return new v("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof ch.asyncIterator&&d.defineProperty(Fa.prototype,ch.asyncIterator,{value:Fa.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var $a=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),tf=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var e=n.size,r=n.highWaterMark,s=i.size,u=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=mh(e);if(void 0===r&&(r=1),r=kh(r),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var h,c=mh(s);void 0===u&&(u=0),u=kh(u),function(t,n,i,e,r,s){function u(){return n}t.Jf=function(t,n,i,e,r,s){void 0===r&&(r=1),void 0===s&&(s=function(){return 1});var u=d.create(dc.prototype);return gc(u),Oc(u,d.create(Cc.prototype),t,n,i,e,r,s),u}(u,function(n){return function(t,n){var i=t.Kf;if(!0===t.pf){var e=t.$f;return Oh(e,function(){var e=t.Jf,r=e.sf;if("erroring"===r)throw e.uf;return af(i,n)})}return af(i,n)}(t,n)},function(){return function(t){var n=t.tv,i=t.Kf,e=i.nv();return hf(i),Oh(e,function(){if("errored"===n.sf)throw n.uf;var t=n.vf;!0===da(t)&&ca(t)},function(i){throw ef(t,i),n.uf})}(t)},function(n){return function(t,n){return ef(t,n),bh(void 0)}(t,n)},i,e),t.tv=Va(u,function(){return function(t){return sf(t,!1),t.$f}(t)},function(n){return rf(t,n),bh(void 0)},r,s),t.pf=void 0,t.$f=void 0,t.ev=void 0,sf(t,!0),t.Kf=void 0}(this,Ih(function(t){h=t}),r,o,u,c),function(t,n){var i=d.create(uf.prototype),e=function(t){try{return cf(i,t),bh(void 0)}catch(t){return Eh(t)}},r=n.transform;if(void 0!==r){if("function"!=typeof r)throw new v("transform is not a method");e=function(t){return _h(r,n,[t,i])}}var s=wh(n,"flush",0,[i]);!function(t,n,i,e){n.rv=t,t.Kf=n,n.sv=i,n.nv=e}(t,i,e,s)}(this,t);var a=yh(t,"start",[this.Kf]);h(a)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!1===nf(this))throw vf("readable");return this.tv},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!1===nf(this))throw vf("writable");return this.Jf},enumerable:!0,configurable:!0}),t}();function nf(t){return!!dh(t)&&!!d.prototype.hasOwnProperty.call(t,"Kf")}function ef(t,n){fa(t.tv.vf,n),rf(t,n)}function rf(t,n){hf(t.Kf),Uc(t.Jf.wf,n),!0===t.pf&&sf(t,!1)}function sf(t,n){void 0!==t.$f&&t.ev(),t.$f=Ih(function(n){t.ev=n}),t.pf=n}var uf=function(){function t(){throw new v("TransformStreamDefaultController instances cannot be created directly")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===of(this))throw ff("desiredSize");return va(this.rv.tv.vf)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===of(this))throw ff("enqueue");cf(this,t)},t.prototype.error=function(t){if(!1===of(this))throw ff("error");var n;n=t,ef(this.rv,n)},t.prototype.terminate=function(){if(!1===of(this))throw ff("terminate");!function(t){var n=t.rv,i=n.tv.vf;!0===da(i)&&ca(i);var e=new v("TransformStream terminated");rf(n,e)}(this)},t}();function of(t){return!!dh(t)&&!!d.prototype.hasOwnProperty.call(t,"rv")}function hf(t){t.sv=void 0,t.nv=void 0}function cf(t,n){var i=t.rv,e=i.tv.vf;if(!1===da(e))throw new v("Readable side is not in a state that permits enqueue");try{aa(e,n)}catch(t){throw rf(i,t),i.tv.uf}(function(t){return!0!==oa(t)})(e)!==i.pf&&sf(i,!0)}function af(t,n){return Oh(t.sv(n),void 0,function(n){throw ef(t.rv,n),n})}function ff(t){return new v("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function vf(t){return new v("TransformStream.prototype."+t+" can only be used on a TransformStream")}var df,lf=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return U(n,t),z(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(on);function gf(t){return n=[t],new Fa({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function Af(t){return gf(new y(t))}function wf(t,n){return function(t,n){var i=n,e=t.getReader(),r=new eo,s=function(){u();var t=new As;e.cancel(t).catch(T),r.xh(t)},u=function(){i&&(i.Ro(s),i=void 0)};i&&(i.Lo?s():i.zo(s));var o=[];return N.resolve(e.read()).then(function t(n){return n.done?(u(),N.resolve(o)):(o.push(n.value),N.resolve(e.read()).then(t))}).then(function(t){u(),r.Oh(t)},function(t){u(),r.xh(t)}),r.Ch}(t,n).then(function(t){return iu(t).buffer})}function yf(t,n){var i=n,e=new tf,r=e.readable,s=e.writable,u=s.getWriter(),o=function(){i&&i.Po()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(T)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(T)}),r}function _f(t){return Vu(new y(t))}function Mf(t){return Hu(t).buffer}!function(t){t[t.Wa=0]="Wa",t[t.uv=1]="uv"}(df||(df={}));var kf="content-type",mf="text/plain;charset=UTF-8",pf=function(){function t(){}var n=t.prototype;return n.ov=function(t){return this.hv(t).then(JSON.parse)},n.cv=function(t,n){switch(t){case sh.Va:return this.av(n);case sh.Ha:return this.ov(n);case sh.Wa:return this.fv();case sh.cs:return this.hv(n);default:throw new v}},t}();function Nf(t,n,i){if(t instanceof pf)return t;if(t instanceof Fa)return function(t,n){return new Tf({Ao:df.Wa,fv:t,vv:Df(n)})}(t,i);var e=Df(i),r=N.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{Ao:sh.cs,dv:t,vv:n||mf};if(t instanceof ArrayBuffer||tu(t))return{Ao:sh.Va,dv:Cf(t),vv:n};if(it(t)||$(t))return{Ao:sh.Ha,dv:t,vv:n};throw new v("Unsupported BodyInit type")}return{Ao:sh.cs,dv:null,vv:n}}(t,e)});return new Tf({Ao:df.uv,Ch:r,lv:n})}function Df(t){return(t.get(kf)||"").toLowerCase()}var Tf=function(t){function n(n){var i;return(i=t.call(this)||this).gv=!1,i.Av=void 0,i.wv=new eo,i.wv.Ch.catch(T),i.yv(n),i}U(n,t);var i=n.prototype;return i._v=function(){return this.wv.Ch},i.hv=function(t){return this.Mv(If,t)},i.ov=function(t){return this.Mv(Ef,t)},i.av=function(t){return this.Mv(Sf,t)},i.fv=function(){return this.kv((t=this.Av).Ao===df.Wa?t.fv:yf(t.Ch.then(jf).then(Af),t.lv));var t},i.Mv=function(t,n){if(this.gv)return N.reject(new v("Already used"));this.gv=!0;var i=t(this.Av,n);return this.wv.Oh(i.then(T)),i},i.kv=function(t){if(this.gv)throw new v("Already used");if(t.locked)throw new v("Body stream is locked");this.gv=!0;var n=new tf,i=N.resolve(t.pipeTo(n.writable));return this.wv.Oh(i),n.readable},i.yv=function(t){this.Av=t,t.Ao===df.uv&&t.Ch.catch(T)},i.mv=function(){if(this.gv)throw new v("Already used");var t=function(t){if(t.Ao===df.Wa){var n=t.fv.tee(),i=n[0],e=n[1];return[{Ao:t.Ao,fv:i,vv:t.vv},{Ao:t.Ao,fv:e,vv:t.vv}]}var r=t.lv.Go(),s=r[0],u=r[1];return[{Ao:t.Ao,Ch:t.Ch,lv:s},{Ao:t.Ao,Ch:t.Ch,lv:u}]}(this.Av),i=t[0],e=t[1];return this.yv(i),new n(e)},z(n,[{key:"pv",get:function(){return this.gv}}]),n}(pf);function If(t,n){return t.Ao===df.Wa?wf(t.fv,n).then(_f):(n&&t.lv.Yo(n),ms(t.Ch.then(bf),t.lv))}function bf(t){switch(t.Ao){case sh.cs:return N.resolve(t.dv||"");case sh.Va:return N.resolve(t.dv).then(_f);case sh.Ha:return N.resolve(t.dv).then(JSON.stringify)}}function Ef(t,n){return t.Ao===df.Wa?If(t,n).then(JSON.parse):(n&&t.lv.Yo(n),ms(t.Ch.then(Lf),t.lv))}function Lf(t){return t.Ao===sh.Ha?N.resolve(t.dv):bf(t).then(JSON.parse)}function Sf(t,n){return t.Ao===df.Wa?wf(t.fv,n):(n&&t.lv.Yo(n),ms(t.Ch.then(jf),t.lv))}function jf(t){switch(t.Ao){case sh.Va:return N.resolve(t.dv);case sh.cs:case sh.Ha:return bf(t).then(Mf)}}function Cf(t){return t instanceof ArrayBuffer?t:to(qu(t)).buffer}function Of(t){return t.Nv>=200&&t.Nv<=299||304===t.Nv}var xf,zf,Rf,Uf,Bf=function(t){function n(n,i){var e,r,s,u,o,h;i?(r=i.Dv,s=i.Tv,u=i.Nv,o=i.Iv,h=i.bv):(r=[],s=sh.cs,u=200,o="OK",h=!1);var c=n.Ev,a=new uh(n.Dv||r),f=n.Tv||s,v=n.Lv||(i&&i.Ev===c?i.Lv:c.Sv),d=i?i.jv:null,l=Nf(void 0!==n.Ps?n.Ps:d,n.lv||new gs,a);return(e=t.call(this,l)||this).Dv=void 0,e.Ev=void 0,e.Lv=void 0,e.Tv=void 0,e.Nv=void 0,e.Iv=void 0,e.bv=void 0,e.Dv=a,e.Ev=c,e.Lv=v,e.Tv=f,e.Nv=void 0!==n.Nv?n.Nv:u,e.Iv=void 0!==n.Iv?String(n.Iv):o,e.bv=n.bv||h,e}U(n,t);var i=n.prototype;return i.Ps=function(t){return this.cv(this.Tv,t)},i.bh=function(){return new n({Ps:this.mv(),Ev:this.Ev},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).jv=void 0,i.jv=n,i}U(n,t);var i=n.prototype;return i._v=function(){return this.jv._v()},i.hv=function(t){return this.jv.hv(t)},i.ov=function(t){return this.jv.ov(t)},i.av=function(t){return this.jv.av(t)},i.fv=function(){return this.jv.fv()},i.mv=function(){return this.jv.mv()},z(n,[{key:"pv",get:function(){return this.jv.pv}}]),n}(pf));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(xf||(xf={})),function(t){t.Cv="",t.Ov="manifest",t.xv="segment",t.zv="content-protection"}(zf||(zf={})),function(t){t.Cv="",t.Rv="initialization-segment",t.Uv="fairplay-license",t.Bv="fairplay-certificate",t.Qv="widevine-license",t.Pv="widevine-certificate",t.Yv="playready-license",t.Gv="clearkey-license",t.Fv="aes128-key"}(Rf||(Rf={})),function(t){t.Cv="",t.Vv="audio",t.Hv="video",t.cs="text",t.Wv="image"}(Uf||(Uf={}));var Qf=function(t,n){this.dv=void 0,this.Dv=void 0,this.Xv=void 0,this.Tv=void 0,this.Zv=void 0,this.Fo=void 0,this.Ao=void 0,this.qv=void 0,this.Jv=void 0,this.Sv=void 0,this.Kv=void 0,this.$v=void 0;var i,e,r,s,u,o,h,c,a,f,v,d=t.Sv;n?(i=n.dv,e=n.Dv,r=n.Xv,s=n.Tv,u=n.Zv,o=n.Fo,h=n.Ao,c=n.qv,a=n.Jv,f=n.Kv,v=n.$v):(i=null,e={},r=xf.GET,s=sh.cs,u=0,h=zf.Cv,c=Rf.Cv,a=Uf.Cv,f=!1),this.Sv=d,this.dv=t.dv||i,this.Dv=new uh(t.Dv||e),this.Xv=t.Xv||r,this.Tv=t.Tv||s,this.Zv=void 0!==t.Zv?Number(t.Zv)||0:u,this.Fo=t.Fo||o||(new gs).Fo,this.Ao=t.Ao||h,this.qv=t.qv||c,this.Jv=t.Jv||a,this.Kv=void 0!==t.Kv?Boolean(t.Kv):f,this.$v=t.$v||v},Pf=function(){function t(){}var n=t.prototype;return n.Ev=function(t){var n=function(t){return new Bf({Ps:null,Dv:{},Ev:t,Lv:t.Sv,Tv:t.Tv,Nv:0,Iv:rh.Na})}(new Qf(t));return N.resolve(n)},n.td=function(t){},n.nd=function(){},t}();var Yf=function(){function t(t,n){void 0===n&&(n=!0),this.ed=void 0,this.rd=void 0,this.ed=t,this.rd=n}var n=t.prototype;return n.Ev=function(t){var n=this.sd(t);return this.ed.Ev(n)},n.td=function(t){return this.ed.td(this.ud(t))},n.sd=function(n){var i=new Qf(n);if(!this.rd){var e=t.od(i.Sv);i=new Qf({Sv:e},i)}return i},n.ud=function(n){var i=n.Sv;return this.rd||(i=t.od(i)),{Sv:i,dv:n.dv}},t.od=function(t){return p.Ju&&Or(t,"http://")?t.replace(":","s:"):t},n.nd=function(){this.ed.nd()},z(t,null,[{key:"hd",get:function(){return t.fd||(t.fd=new t(new Pf)),t.fd}}]),t}();function Gf(t,n){for(var i=0,e=d.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function Ff(t,n){var i=p.Vu(t);return n&&!xr(i,"/")&&(i+="/"),i}Yf.fd=void 0;var Vf,Hf=/cache:(.+)?(?=&|$)/,Wf="http://webcache.googleusercontent.com/search?q=cache:";function Xf(t){if(!Or(t,Wf))return"";var n=p.Fu(t).search.match(Hf);return n&&n.length>1?n[1]:""}function Zf(t){return p.Fu(t).hostname}!function(t){t.vd="HttpOpenError",t.dd="HttpResponseError",t.ld="HttpTimeoutError"}(Vf||(Vf={}));var qf=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).gd=void 0,r.gd=n,r}return U(n,t),z(n,[{key:"Ev",get:function(){return this.gd}}]),n}(on);var Jf=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.Sv+". Invalid URL.",i)||this}return U(n,t),z(n,[{key:"name",get:function(){return Vf.vd}}]),n}(qf);var Kf=function(t){function n(n,i,e){var r;return(r=t.call(this,n.Ev,null!=e?e:function(t){return"Error while loading "+t.Ev.Sv+", status code "+t.Nv}(n),i)||this).wd=void 0,r.wd=n,r}return U(n,t),z(n,[{key:"name",get:function(){return Vf.dd}},{key:"yd",get:function(){return this.wd}}]),n}(qf);var $f=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Sv+" timed out after "+t.Zv+" seconds."}(n),i)||this}return U(n,t),z(n,[{key:"name",get:function(){return Vf.ld}}]),n}(qf),tv=function(t,n){return(tv=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function nv(t,n){function i(){this.constructor=t}tv(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}var iv="object"==typeof e?e:"object"==typeof t?t:"object"==typeof global?global:null;var ev=function(){var t=iv.Blob;if(t)try{return new t,function(t,n){return new iv.Blob(t,n)}}catch(t){}var n,i=iv.BlobBuilder||iv.WebKitBlobBuilder||iv.MozBlobBuilder||iv.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,s=t;r<s.length;r++){var u=s[r];e.append(u)}return e.getBlob(i&&i.type||"")}):null}(),rv="function"==typeof Fa?Fa:void 0;function sv(t){return t&&"function"==typeof t.getReader}function uv(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&sv(i)}catch(t){return!1}}var ov=function(){function t(t,n){this.rf=t,this._d=n}return t.prototype.pull=function(t){var n=this;return this.rf.read().then(function(i){n._d&&n._d(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.rf.cancel(t)},t}();function hv(t,n){return n.constructor===t?n:new t(new ov(n.getReader()),{highWaterMark:0})}var cv=function(){function t(t,n){this.Md=t,this.It=n}return t.prototype.pull=function(t){return this.Md().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.It&&this.It(t)},t}();function av(t,n,i){return new t(new cv(n,i),{highWaterMark:0})}var fv={searchParams:"URLSearchParams"in iv,iterable:"Symbol"in iv&&"iterator"in Symbol,blob:"FileReader"in iv&&!!ev,formData:"FormData"in iv,arrayBuffer:"ArrayBuffer"in iv,stream:uv(rv),streamRequest:"Request"in iv&&"body"in iv.Request.prototype,streamResponse:"Response"in iv&&"body"in iv.Response.prototype,abort:"AbortController"in iv&&"Request"in iv&&"signal"in iv.Request.prototype,encoding:"TextEncoder"in iv&&"TextDecoder"in iv,url:"URL"in iv&&function(t){try{return new iv.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in iv&&/Firefox\//.test(iv.navigator.userAgent)};function vv(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new v("Invalid character in header field name");return t}function dv(t){return"string"!=typeof t&&(t=String(t)),t}function lv(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return fv.iterable&&(n[Symbol.iterator]=function(){return n}),n}var gv=function(){function t(t){var n=this;this.co={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return fv.iterable&&t&&t[Symbol.iterator]}(t)?t&&d.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=vv(t),n=dv(n);var i=t.toLowerCase();if(this.co.hasOwnProperty(i)){var e=this.co[i],r=e[1];e[1]=r?r+", "+n:n}else this.co[i]=[t,n]},t.prototype.delete=function(t){var n=vv(t).toLowerCase();delete this.co[n]},t.prototype.get=function(t){var n=vv(t).toLowerCase();return this.co.hasOwnProperty(n)?this.co[n][1]:null},t.prototype.has=function(t){var n=vv(t).toLowerCase();return this.co.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=vv(t)).toLowerCase();this.co[i]=[t,dv(n)]},t.prototype.forEach=function(t,n){for(var i in this.co)this.co.hasOwnProperty(i)&&t.call(n,this.co[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),lv(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),lv(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),lv(t)},t.prototype.asList=function(){var t=[];for(var n in this.co)if(this.co.hasOwnProperty(n)){var i=this.co[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function Av(){}fv.iterable&&(gv.prototype[Symbol.iterator]=gv.prototype.entries);var wv,yv,_v,Mv=l.min,kv=String.fromCharCode,mv=16384;function pv(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=mv){var r=Mv(e+mv,n);i.push(kv.apply(null,t.slice(e,r)))}return i.join("")}(n)}function Nv(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Dv(t,n){return t>>n&63|128}function Tv(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Nv(t),n.push(t>>12&15|224),n.push(Dv(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Dv(t,12)),n.push(Dv(t,6))),n.push(63&t|128)):n.push(t)}function Iv(){if(_v>=yv)throw new f("Invalid byte index");var t=255&wv[_v];if(_v++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function bv(){var t,n;if(_v>yv)throw new f("Invalid byte index");if(_v===yv)return!1;if(t=255&wv[_v],_v++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Iv())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Iv()<<6|Iv())>=2048)return Nv(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Iv()<<12|Iv()<<6|Iv())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}var Ev=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function Lv(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Sv(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function jv(t){return t&&DataView.prototype.isPrototypeOf(t)}var Cv,Ov=ArrayBuffer.isView||function(t){return t&&(Ev.indexOf(d.prototype.toString.call(t))>-1||jv(t))};function xv(t){if(t.bodyUsed)return N.reject(new v("Already used"));t.bodyUsed=!0}function zv(t){return new N(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function Rv(t){return fv.encoding?new iv.TextDecoder("utf-8").decode(new y(t)):pv(function(t){yv=(wv=t).length,_v=0;for(var n,i=[];!1!==(n=bv());)i.push(n);return i}(new y(t)))}function Uv(t){return fv.encoding?(new iv.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,e=t;i<e.length;i++)Tv(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function Bv(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,s=t.value;return r?N.resolve(i):(i.push(s),n.read().then(e))};return n.read().then(e)}function Qv(t){return Bv(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(h=e[i]).byteLength;for(var r=new y(n),s=0,u=0,o=t;u<o.length;u++){var h=o[u];r.set(h,s),s+=h.byteLength}return r}(t).buffer})}function Pv(t){return t.slice?t.slice(0):Yv(new y(t))}function Yv(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Gv(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function Fv(t){var n=t;if(n.bodyUsed)throw new v("Already used");if(n.kd===Cv.md){if(!n.pd.tee)throw new f("could not clone ReadableStream body");var i=n.pd.tee(),e=i[0],r=i[1];return n.body=e,n.pd=e,n.Nd=e,r}return n.kd===Cv.Va?Pv(n.pd):n.kd===Cv.uv?n.pd.then(Fv):n.Nd}!function(t){t[t.cs=0]="cs",t[t.Dd=1]="Dd",t[t.Td=2]="Td",t[t.Va=3]="Va",t[t.md=4]="md",t[t.uv=5]="uv"}(Cv||(Cv={}));var Vv=function(){function t(n,i){this.bodyUsed=!1;var e,r,s,u=this;if(this.Nd=n||null,n)if("string"==typeof n)this.kd=Cv.cs,this.pd=n;else if((s=n)&&"function"==typeof s.then)this.kd=Cv.uv,this.pd=N.resolve(n).then(function(n){return new t(n,i)}),this.pd.catch(Av);else if(fv.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.kd=Cv.Dd,this.pd=n;else if(fv.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.kd=Cv.Td,this.pd=n;else if(fv.searchParams&&Lv(n))this.kd=Cv.cs,this.pd=n.toString();else if(fv.arrayBuffer&&(Sv(n)||Ov(n)))jv(n)&&(this.Nd=new y((r=n).buffer,r.byteOffset,r.byteLength)),this.kd=Cv.Va,this.pd=Sv(e=n)?Pv(e):Yv(e);else{if(!fv.stream||!sv(n))throw new f("unsupported BodyInit type");n=hv(rv,n),this.kd=Cv.md,this.pd=n,this.Nd=n}else this.kd=Cv.cs,this.pd="";this.Id="",i.has("content-type")?this.Id=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.Id="text/plain;charset=UTF-8":u.kd===Cv.Dd&&u.pd.type?this.Id=u.pd.type:fv.searchParams&&Lv(n)&&(this.Id="application/x-www-form-urlencoded;charset=UTF-8"),this.Id&&i.set("content-type",this.Id)),fv.stream&&(null==n?this.body=null:u.kd===Cv.md?this.body=u.pd:this.body=av(rv,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=xv(this);return e||(this.kd===Cv.Dd?(t=this.pd,n=new FileReader,i=zv(n),n.readAsText(t),i):this.kd===Cv.Va?N.resolve(this.pd).then(Rv):this.kd===Cv.md?Qv(this.pd).then(Rv):this.kd===Cv.uv?this.pd.then(function(t){return t.text()}):this.kd===Cv.Td?N.reject(new f("could not read FormData body as text")):N.resolve(this.pd))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();fv.blob&&(Vv.prototype.blob=function(){var t,n,i=xv(this);return i||(this.kd===Cv.Dd?N.resolve(this.pd):this.kd===Cv.Va?N.resolve(ev([this.pd],{type:this.Id})):this.kd===Cv.md?(t=this.pd,n=this.Id,Bv(t).then(function(t){return ev(t,{type:n||""})})):this.kd===Cv.uv?this.pd.then(function(t){return t.blob()}):this.kd===Cv.Td?N.reject(new f("could not read FormData body as Blob")):N.resolve(ev([this.pd],{type:this.Id})))}),fv.arrayBuffer&&(Vv.prototype.arrayBuffer=function(){var t,n,i;return this.kd===Cv.Va?xv(this)||N.resolve(this.pd):this.kd===Cv.Dd?xv(this)||(t=this.pd,n=new FileReader,i=zv(n),n.readAsArrayBuffer(t),i):this.kd===Cv.md?Qv(this.pd):this.kd===Cv.uv?xv(this)||this.pd.then(function(t){return t.arrayBuffer()}):this.kd===Cv.Td?N.reject(new f("could not read FormData body as ArrayBuffer")):N.resolve(this.pd).then(Uv)}),fv.formData&&(Vv.prototype.formData=function(){return this.kd===Cv.Td?xv(this)||N.resolve(this.pd):this.text().then(Gv)});var Hv=[301,302,303,307,308],Wv=function(t){function n(n,i){var e=this,r=new gv((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return nv(n,t),n.prototype.clone=function(){return new n(Fv(this),{status:this.status,statusText:this.statusText,headers:new gv(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Hv.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Vv);var Xv,Zv=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function s(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function u(t){return(u=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function h(t,n){return(h=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,n,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(e){var r=d.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}d.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return s(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){o(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,s=e.length;r<s;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=u(n).call(this))||"object"!=typeof r&&"function"!=typeof r?c(e):r).listeners||f.call(c(t)),d.defineProperty(c(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(c(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&h(t,n)}(n,f),s(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),a(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),g=function(){function t(){i(this,t),d.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return s(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==r?r.createEvent?(t=r.createEvent("Event")).initEvent("abort",!1,!1):(t=r.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(g.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=g,n.default=g});(Xv=Zv)&&Xv.__esModule&&d.prototype.hasOwnProperty.call(Xv,"default")&&Xv.default;Zv.AbortSignal;var qv=Zv.AbortController,Jv=iv.DOMException;try{new Jv}catch(t){(Jv=function(t,n){f.call(this,t),this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=d.create(f.prototype),Jv.prototype.constructor=Jv}var Kv=qv;function $v(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function td(t,n,i){return new N(function(e,r){if(n.signal.aborted)return t.catch(Av),r(nd());var s=function(){n.signal.removeEventListener("abort",s),r(nd())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()})})}function nd(){return new Jv("Aborted","AbortError")}var id,ed="moz-chunked-arraybuffer";function rd(t){try{var n=new M;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(id||(id={}));var sd=function(){function t(t,n){var i=this;this.bd=!1,this.gd=t,this.Ed=n,this.Ld=new M,this.Sd=new N(function(t,n){i.jd=t,i.Cd=n})}return t.prototype.send=function(){var t=this;return this.Od().then(function(n){return t.xd(n,t.Ed),t.Sd})},t.prototype.Od=function(){var t=this.gd;return t.kd===Cv.md?t.arrayBuffer():N.resolve(t.Nd)},t.prototype.zd=function(t){this.gd.onprogress&&this.gd.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Rd=function(t){this.Cd(t)},t.prototype.Ud=function(){this.Rd(new v("Network request failed"))},t.prototype.Bd=function(){this.Rd(new v("Network request failed"))},t.prototype.Qd=function(){this.Rd(nd())},t.prototype.xd=function(t,n){var i=this,e=this.gd,r=this.Ld,s=function(){return i.Pd()};if(e.signal.aborted)return this.Qd();r.onreadystatechange=function(){if(r.readyState>=id.HEADERS_RECEIVED&&!i.bd){var t=function(t){var n=new gv;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.bd=!0,i.Yd(n)}},r.onprogress=function(t){return i.zd(t)},r.onload=function(){return i.Gd()},r.onerror=function(){return i.Ud()},r.ontimeout=function(){return i.Bd()},r.onabort=function(){return i.Qd()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",s),r.onloadend=function(){e.signal.removeEventListener("abort",s)},t?r.send(t):r.send()},t.prototype.Pd=function(){this.Qd(),this.Ld.abort()},t}(),ud=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.Fd=void 0,e.Vd=void 0,e}return nv(n,t),n.prototype.Yd=function(t){var n=this;this.Fd=new N(function(t,i){n.Vd=t,n.Hd=i}),this.jd(new Wv(this.Fd,t))},n.prototype.Gd=function(){var t=this.Ld.response||this.Ld.responseText;this.Vd(t)},n.prototype.Rd=function(n){t.prototype.Rd.call(this,n),this.Hd&&this.Hd(n)},n}(sd),od=function(t){function n(n){var i=t.call(this,n,ed)||this;return i.Wd=void 0,i.Xd=void 0,i.Zd=!1,i}return nv(n,t),n.prototype.Yd=function(t){var n=this;this.Wd=new rv({start:function(t){n.Xd=t},cancel:function(){n.Zd=!0,n.Pd()}}),this.jd(new Wv(this.Wd,t))},n.prototype.zd=function(n){this.Zd||this.Xd.enqueue(new y(this.Ld.response)),t.prototype.zd.call(this,n)},n.prototype.Gd=function(){this.Xd.close()},n.prototype.Rd=function(n){t.prototype.Rd.call(this,n),this.Xd&&!this.Zd&&(this.Zd=!0,this.Xd.error(n))},n}(sd),hd=function(){var t=fv.firefox&&rd(ed);return hd=function(){return t},t},cd=function(){var t;return t=fv.arrayBuffer&&rd("arraybuffer")?"arraybuffer":fv.blob&&rd("blob")?"blob":"",cd=function(){return t},t};function ad(t){return(fv.stream&&hd()?new od(t):new ud(t,cd())).send()}var fd=iv.fetch,vd=iv.Request,dd=(iv.Response,iv.AbortController);var ld=["http:","https:"];var gd=function(){try{if(fv.streamRequest){var t=new vd("about:blank",{body:"",method:"POST"}).body;if(t&&uv(t.constructor))return t.constructor}}catch(t){}}();function Ad(t,n,i){var e;if(fv.stream){var r=void 0;if(fv.streamResponse){var s=t.body;r=s&&hv(rv,s)}else r=av(rv,function(){return td(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new ov(n.getReader(),i),{highWaterMark:0})}(rv,t,function(t){var r=t.done,s=t.value;r?i=void 0===i?e:i:e+=s.byteLength,n(e,i)})}(r,i,wd(t.headers))),e=r}else{var u=td(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return N.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(u,i,wd(t.headers))),e=u}return new Wv(e,t)}function wd(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function yd(t){var n=new Kv;return t.signal&&$v(n,t.signal),function(t,n){var i,e,r=t;if(i=r.kd===Cv.md?fv.streamRequest&&gd?N.resolve(hv(gd,r.pd)):td(t.arrayBuffer(),n,!1):td(N.resolve(t.Nd),n,!1),fv.abort){var s=new dd;$v(s,n.signal),e=s.signal}return i.then(function(n){return new vd(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof gv?i:new gv(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return fd(i).then(function(i){return Ad(i,n,t.onprogress)})})}var _d=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var Md=function(t){function n(i,e){var r,s,u,o,h,c,a,f,d,l=this,g=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new v("Already used");r=i.url,s=i.credentials,e.headers||(u=new gv(i.headers)),o=i.method,h=i.mode,c=i.referrer,a=i.referrerPolicy,f=i.signal,d=i.onprogress,g||null==i.Nd||(g=i.Nd,i.bodyUsed=!0)}else r=String(i),s="same-origin",o="GET",h="cors",c="about:client",a="",f=null,d=null;if(!e.headers&&u||(u=new gv(e.headers)),e&&(c="about:client",a=""),(l=t.call(this,g,u)||this).url=r,l.headers=u,l.credentials=e.credentials||s,l.method=function(t){var n=t.toUpperCase();return _d.indexOf(n)>-1?n:t}(e.method||o),l.mode=e.mode||h,l.signal=e.signal||f||(new Kv).signal,l.referrer=void 0!==e.referrer?e.referrer:c,l.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:a,l.onprogress=e.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&g)throw new v("Body not allowed for GET or HEAD requests");return l}return nv(n,t),n.prototype.clone=function(){return new n(this,{body:Fv(this)})},n}(Vv),kd="function"==typeof fd&&fv.stream&&fv.streamResponse&&fv.url;function md(t,n){return new N(function(i){var e=new Md(t,n);i((kd&&function(t){try{return ld.indexOf(new iv.URL(t,iv.location.href).protocol)>=0}catch(t){return!1}}(e.url)?yd:ad)(e))})}md.polyfill=!0;var pd=function(){function t(t){this.yd=void 0,this.gd=void 0,this.qd=new gs,this.wd=void 0,this.Jd=!1,this.gd=t,this.qd.Yo(t.Fo),this.yd=this.Kd()}var n=t.prototype;return n.Kd=function(){var t=N.coroutine(rr.mark(function t(){var n,i,e,r,s,u,h,c,a=this;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.gd).Zv&&o(function(){a.Jd=!0,a.qd.Po()},n.Zv),t.prev=2,i=md(n.Sv,{method:n.Xv,headers:n.Dv.Xa(),body:n.dv,credentials:n.Kv?"include":"same-origin",signal:Td(this.qd.Fo),onprogress:n.$v}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new Jf(n,t.t0);case 9:return t.prev=9,t.next=12,i;case 12:e=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),ws(r=this.$d(t.t1))&&this.qd.Po(),r;case 20:if(s=e.url||n.Sv,u=0===e.status&&"file:"===(f=s,p.Fu(f).protocol)?200:e.status,h=new Nd(this,e,this.qd),c=new Bf({Ps:h,Ev:n,Tv:n.Tv,Dv:new uh(e.headers.asList()),Nv:u,Iv:e.statusText,Lv:s}),this.wd=c,!Of(c)){t.next=29;break}return t.abrupt("return",c);case 29:throw new Kf(c);case 30:case"end":return t.stop()}var f},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.$d=function(t){return ws(t)?this.Jd?new $f(this.gd):new As(t.message,t):this.wd?new Kf(this.wd,t):new Jf(this.gd,t)},t}(),Nd=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).an=void 0,r.tl=void 0,r.qd=void 0,r.wv=new eo,r.an=n,r.tl=i,r.qd=e,r.wv.Ch.catch(T),r}U(n,t);var i=n.prototype;return i._v=function(){return this.wv.Ch},i.hv=function(t){return this.Mv(this.tl.text(),t)},i.av=function(t){return this.Mv(this.tl.arrayBuffer(),t)},i.fv=function(){var t=this.tl.body;return t?this.kv(t):yf(this.av().then(Af),this.qd)},i.mv=function(){var t=this.tl.clone(),i=this.qd.Go(),e=i[0],r=i[1];return this.qd=e,new n(this.an,t,r)},i.Mv=function(t,n){var i=this;n&&this.qd.Yo(n);var e=N.resolve(t).catch(function(t){throw i.an.$d(t)});return e=ms(e,this.qd),this.wv.Oh(e.then(T)),e},i.kv=function(t){var n=this,i=new tf,e=N.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.an.$d(t);throw i.writable.abort(e).catch(T),e});return e=ms(e,this.qd),this.wv.Oh(e.then(T)),i.readable},z(n,[{key:"pv",get:function(){return this.tl.bodyUsed}}]),n}(pf),Dd="abort";function Td(t){var n=new Kv;if(t.Lo)n.abort();else if(!t.So){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(Dd,i),t.Ro(i),t.Bo(e)};n.signal.addEventListener(Dd,i),t.zo(i),t.Uo(e)}return n.signal}function Id(t,n,i){return new N(function(e,r){if(i&&i.Lo)return r(new As);var s=function(t){o(),e(t)},u=function(){o(),r(new As)},o=function(){t.removeEventListener(n,s),i&&i.Ro(u)};t.addEventListener(n,s),i&&i.zo(u)})}var bd,Ed,Ld=function(){function t(){}var n=t.prototype;return n.Ev=function(t){return new pd(t).yd},n.td=function(t){if(me&&me.sendBeacon)me.sendBeacon(t.Sv,ih([t.dv],{type:t.vv}));else{var n=t.vv?{"Content-type":t.vv}:void 0;Ts(this.Ev(new Qf({Xv:xf.POST,Sv:t.Sv,dv:t.dv,Dv:n})))}},n.nd=function(){},t}();bd=new(function(n){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=n.call.apply(n,[this].concat(r))||this).nl=void 0,i.il=function(){if(Z.Nr)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.sl=Z.Xr,i.ul=void 0,i}return U(i,n),z(i,[{key:"Ru",get:function(){return this.nl||(this.nl=new Xr(Ko())),this.nl}},{key:"ol",get:function(){return this.il}},{key:"hl",get:function(){return this.sl}},{key:"cl",get:function(){return!1}},{key:"al",get:function(){return th.oa()}},{key:"fl",get:function(){return{vl:eh}}},{key:"dl",get:function(){return u.connection&&u.connection.effectiveType||"default"}},{key:"ll",get:function(){return u.connection&&u.connection.type||"unknown"}},{key:"Al",get:function(){return this.ul||(this.ul=new Yf(new Ld)),this.ul}}]),i}(ir)),p=bd,function(t){t.wl="yl",t._l="Ml"}(Ed||(Ed={}));Ed.wl,Ed._l;var Sd=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).kl=void 0,e}return U(n,t),z(n,[{key:"ml",get:function(){return this.kl||(this.kl=this.pl()),this.kl}}]),n}(xs);function jd(t){return Boolean(t&&t.ml)}var Cd,Od=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n}(Sd),xd=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n}(xs),zd=function(t){function n(n){var i;return(i=t.call(this,Ed.wl)||this).Nl=n,i}return U(n,t),n.prototype.pl=function(){return new Rd(this.Nl.ml)},n}(Od),Rd=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return U(n,t),n}(xd),Ud=function(t){function n(n){var i;return(i=t.call(this,Ed._l)||this).Nl=n,i}return U(n,t),n.prototype.pl=function(){return new Bd(this.Nl.ml)},n}(Od),Bd=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return U(n,t),n}(xd);!function(t){t.Dl="Tl",t.Il="bl",t.El="Ll",t.Sl="jl",t.Cl="Ol",t.xl="zl",t.Rl="Ul",t.Bl="Ql",t.Pl="Kh",t.Yl="Gl",t.Fl="Vl",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Cd||(Cd={}));var Qd=function(t){function n(){var n;return(n=t.call(this)||this).Hl=[],n.kl=void 0,n}U(n,t);var i=n.prototype;return i.Wl=function(t){return this.Hl[t]},i.Xl=function(t){return!(!t||os(this.Hl,t))&&(this.Hl.push(t),this.kl&&this.kl.push(t.ml),t.qo(Cd.xl,this.Xo),this.Zo(new zd(t)),!0)},i.Zl=function(t){if(!t)return!1;var n=this.Hl.indexOf(t);return!(n<0)&&(us(this.Hl,n),this.kl&&us(this.kl,n),t.th(Cd.xl,this.Xo),this.Zo(new Ud(t)),!0)},i.ql=function(t){return os(this.Hl,t)},i.Jl=function(){for(var t=this.Hl,n=t.length-1;n>=0;n-=1)this.Zl(t[n])},i.nd=function(){this.Jl(),this.$o()},z(n,[{key:"Kl",get:function(){return this.Hl}},{key:"ml",get:function(){return this.kl||(this.kl=this.pl()),this.kl}},{key:"$l",get:function(){return this.Hl.length}}]),n}(Cs),Pd=function(t){function n(n){var i;return(i=t.call(this,Cd.xl)||this).Nl=n,i}return U(n,t),n.prototype.pl=function(){return new Yd(this.Nl.ml)},n}(Od),Yd=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return U(n,t),n}(xd),Gd=function(t){function n(){var n;return(n=t.call(this)||this).tg=void 0,n.ng=function(t){var i=t.Nl;n.Xl(i)},n.ig=function(t){var i=t.Nl;n.Zl(i)},n}U(n,t);var i=n.prototype;return i.eg=function(t){t.qo(Ed.wl,this.ng),t.qo(Ed._l,this.ig)},i.rg=function(t){t.th(Ed.wl,this.ng),t.th(Ed._l,this.ig)},i.nd=function(){this.tg&&this.tg.nd(),t.prototype.nd.call(this)},z(n,[{key:"sg",get:function(){return this.tg},set:function(t){var n=this.tg;if(t!==n){if(n){this.rg(n);for(var i=0,e=n.Kl;i<e.length;i++){var r=e[i];t&&t.ql(r)||this.Zl(r)}}if(this.tg=t,t){for(var s=[],u=0,o=t.Kl;u<o.length;u++){var h=o[u];this.Xl(h),this.ug(h)&&s.push(h)}this.eg(t);for(var c=0;c<s.length;c++){var a=s[c];a.Zo(new Pd(a))}}}}}]),n}(Qd),Fd=d.freeze||I;function Vd(t,n,i){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Hd(t,n){for(var i=0,e=d.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];d.defineProperty(t,r,d.getOwnPropertyDescriptor(n,r))}return t}function Wd(t){if(it(t)){var n={};for(var i in t)q.call(t,i)&&(n[i]=Wd(t[i]));return n}if($(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=Wd(t[r]));return e}return t}function Xd(t,n){return t===n||!(!t||!n)&&(!(!nt(t)||!nt(n))&&(tt(t)?!!tt(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!Xd(t[r],n[r]))return!1;return!0}(t,n):!tt(n)&&function(t,n){var i=d.keys(t),e=d.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(!q.call(n,s)||!Xd(t[s],n[s]))return!1}return!0}(t,n)))}function Zd(t,n){return t.constructor===n.constructor}function qd(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i],s=t[r];null!=s&&(n[r]=s)}return n}function Jd(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Kd(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function $d(t){var n=Kd(t);if(w(n))throw new f("Expected a valid number.");return n}function tl(t){return"string"==typeof t?t:""}function nl(t,n){if(!tt(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function il(t,n){return tt(t)?nl(t,n):n(t)}var el=[Ed.wl,Ed._l,Cd.xl];function rl(t){var n,i=t.Kl.map(function(t){return t.ml});return i.item=function(n){var i=0|n,e=t.Wl(i);return e&&e.ml||void 0},i.addEventListener=function(t,i){n.qo(t,i)},i.removeEventListener=function(t,i){n.th(t,i)},n=new Os(i),t.qo(el,function(t){return n.Zo(t.ml)}),i}function sl(){}function ul(t){var n,i=[Cd.Pl,Cd.xl,Cd.Yl,Cd.Fl,Cd.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.og&&t.og.ml},get enabled(){return t.hg},set enabled(n){t.hg=Jd(n)},get id(){return t.cg},get uid(){return t.ag},get kind(){return t.fg},get label(){return t.vg},set label(n){t.vg=tl(n)},get language(){return t.dg},get qualities(){return t.lg.ml},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.lg.Kl;e<r.length;e++)for(var s=r[e],u=0;u<n.length;u++){var o=n[u];s.ml===o&&i.push(s)}return i}(t,$(n)?n:[n]):[]).length>0?t.gg=i:t.gg=void 0},get targetQuality(){if(t.gg)return 1===t.gg.length?t.gg[0].ml:t.gg.map(function(t){return t.ml})},addEventListener:function(t,i){var e=il(t,tl);n.qo(e,i)},removeEventListener:function(t,i){var e=il(t,tl);n.th(e,i)}};return n=new Os(e),t.qo(i,function(t){return n.Zo(t.ml)}),d.defineProperty(e,"constructor",{value:sl}),e}function ol(){}function hl(t){var n=rl(t);return d.defineProperty(n,"constructor",{value:ol}),n}var cl,al,fl=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.pl=function(){return hl(this)},i.ug=function(t){return t.hg},n}(Gd);function vl(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case cl.Ag:case cl.wg:case cl.yg:return n}}else if("number"==typeof t)switch(t){case 0:return cl.Ag;case 1:return cl.wg;case 2:return cl.yg}return cl.Ag}function dl(){}function ll(t){var n,i=[Cd.xl,Cd.Pl,Cd.Dl,Cd.Il,Cd.El,Cd.Sl,Cd.Cl,Cd.Rl,Cd.Bl],e=[al._g],r={get kind(){return t.fg},get label(){return t.vg},set label(n){t.vg=tl(n)},get language(){return t.dg},get id(){return t.cg},get uid(){return t.ag},get inBandMetadataTrackDispatchType(){return t.Mg},get mode(){return t.kg},set mode(n){n!==cl.yg&&n!==cl.wg&&n!==cl.Ag||t.mg(n)},get forced(){return Boolean(t.pg)},get type(){return t.Ao},get readyState(){return wl(t.Ng)},get cues(){return t.kg===cl.Ag?null:t.Dg.ml},get activeCues(){return t.kg===cl.Ag?null:t.Tg.ml},get src(){return t.Ig||""},addEventListener:function(t,i){var e=il(t,tl);n.qo(e,i)},removeEventListener:function(t,i){var e=il(t,tl);n.th(e,i)}};return n=new Os(t),t.qo(i,function(t){return n.Zo(t.ml)}),t.qo(e,function(t){return n.Zo(t)}),d.defineProperty(r,"constructor",{value:dl}),r}function gl(){}function Al(t){var n=rl(t);return d.defineProperty(n,"constructor",{value:gl}),n}function wl(t){return t}!function(t){t.Ag="disabled",t.wg="hidden",t.yg="showing"}(cl||(cl={})),function(t){t._g="error"}(al||(al={}));var yl=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.pl=function(){return Al(this)},i.ug=function(t){return t.kg===cl.yg},n}(Gd),_l=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Ko=function(n){t.prototype.Ko.call(this,n)},i.eh=function(n){t.prototype.eh.call(this,n)},n}(Cs),Ml=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n}(_l),kl=function(t){function n(){return t.call(this,rh._a)||this}return U(n,t),n}(xs),ml=function(t){function n(n){var i;return(i=t.call(this,rh.la)||this).currentSource=n,i}return U(n,t),n}(xs),pl=function(){function t(){}return t.bg=function(n,i){var e=t.Eg(n,i);return e?t.Lg(e):0},t.Sg=function(){return p.dl||"default"},t.jg=function(){return p.ll||"unknown"},t.Eg=function(n,i){var e,r=null==(e=p.al)?void 0:e.Mh(i),s=r&&JSON.parse(r);if(s&&s[n])return t.Cg(s,n,i)},t.Lg=function(t){var n=t.availableBandwidth;return n||0},t.Cg=function(n,i,e){if(!t.Og(n,i))return n[i];t.xg(n,i,e)},t.xg=function(t,n,i){var e;delete t[n],null==(e=p.al)||e.sa(i,JSON.stringify(t))},t.Og=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.zg=function(t,n,i,e){var r;return sr({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.Rg=function(n){var i=t.Sg();t.Ug(i,"theoplayer-stored-network-info",n,Jt())},t.Ug=function(n,i,e,r){var s,u,o=null==(s=p.al)?void 0:s.Mh(i),h=o?JSON.parse(o):void 0,c=t.zg(h,n,e,r);null==(u=p.al)||u.sa(i,JSON.stringify(c))},t.Bg=function(){var n=t.Sg();return t.bg(n,"theoplayer-stored-network-info")},t}();var Nl,Dl,Tl,Il,bl,El,Ll="1ADD53F3";function Sl(t){return{chromecast:function(t){return{appID:t&&t.appID?tl(t.appID):Ll}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return Nl.AUTO;case"manual":return Nl.MANUAL;case"disabled":return Nl.DISABLED;default:return Nl.MANUAL}}(t?t.strategy:void 0)}}function jl(t){var n,i=Tl.Qg;return(n=t)&&Cr(n,"mpd")&&(i=Tl.Pg),function(t){return!!t&&Cr(t,"m3u8")}(t)&&(i=Tl.Yg),i}function Cl(t){switch(t){case Dl.Gg:case Dl.Fg:return t;default:return Dl.Vg}}function Ol(t){return!!t&&Or(t.toLowerCase(),Tl.Pg)}function xl(t){if(!t)return!1;var n=t.toLowerCase();return Or(n,Tl.Yg)||Or(n,Tl.Hg)}function zl(t){return nt(t)&&nt(t.ssai)&&"google-dai"===t.ssai.integration}function Rl(t){return nt(t)&&et(t.integration)&&"verizon-media"===t.integration}function Ul(t){if(et(t))return!t;if(Rl(t))return!t.id;if(zl(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function Bl(t){return Boolean(nt(t)&&et(t.src))}function Ql(t){return et(t)||Bl(t)||zl(t)||Rl(t)}function Pl(t){if(t){if(Ql(t))return Ul(t);for(var n=0;n<t.length;n++){if(!Ul(t[n]))return!1}return!0}return!0}function Yl(){return{crossOrigin:Dl.Vg,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0}}function Gl(){return sr({},Yl(),{src:void 0,type:Tl.Qg,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Fl(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:Il.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return bl.NONE;case"midroll-and-postroll":default:return bl.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Jd(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return Il.INSECURE;case"disabled":return Il.DISABLED;case"enabled":default:return Il.ENABLED}}(t.vpaidMode)),$(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(et)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Jd(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Vl(t){if(!tt(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];it(r)&&n.push(r)}return n}function Hl(t){return et(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(Nl||(Nl={})),function(t){t.Vg="",t.Gg="anonymous",t.Fg="use-credentials"}(Dl||(Dl={})),function(t){t.Pg="application/dash+xml",t.Yg="application/vnd.apple.mpegurl",t.Hg="application/x-mpegurl",t.Qg="video/mp4",t.Wg="application/vnd.theoplayer.hesp+json",t.Xg="application/vnd.theo.hesp+json"}(Tl||(Tl={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(Il||(Il={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(bl||(bl={})),function(t){t[t.Zg=0]="Zg",t[t.qg=1]="qg",t[t.Jg=2]="Jg",t[t.Kg=3]="Kg",t[t.$g=4]="$g"}(El||(El={}));var Wl,Xl=function(t){function n(n,i){var e;return void 0===i&&(i=El.Zg),(e=t.call(this,rh.wa)||this).currentTime=n,e.readyState=i,e}return U(n,t),n}(xs),Zl=function(t){function n(n){var i;return(i=t.call(this,rh.Ta)||this).currentTime=n,i}return U(n,t),n}(xs),ql=function(t){function n(n){var i;return(i=t.call(this,rh.Ia)||this).currentTime=n,i}return U(n,t),n}(xs);!function(t){t.tA="canplay",t.nA="canplaythrough",t.iA="loadeddata",t.eA="loadedmetadata",t.Rl="readystatechange",t.rA="waiting",t.sA="playing"}(Wl||(Wl={}));var Jl,Kl,$l=[Wl.tA,Wl.nA,Wl.iA,Wl.eA,Wl.Rl,Wl.rA,Wl.sA],tg=function(t){function n(n,i){var e;return void 0===i&&(i=El.qg),(e=t.call(this,Wl.eA)||this).currentTime=n,e.readyState=i,e}return U(n,t),n}(xs),ng=function(t){function n(n){var i;return(i=t.call(this,rh.Aa)||this).duration=n,i}return U(n,t),n}(xs),ig=function(t){function n(n,i){var e;return(e=t.call(this,rh.Ea)||this).currentTime=n,e.playbackRate=i,e}return U(n,t),n}(xs),eg=function(t){function n(n,i){var e;return(e=t.call(this,rh.Qa)||this).currentTime=n,e.currentProgramDateTime=i,e}return U(n,t),n}(xs),rg=function(t){function n(n){var i;return(i=t.call(this,rh.ya)||this).currentTime=n,i}return U(n,t),n}(xs),sg=function(t){function n(n,i){var e;return void 0===i&&(i=El.Jg),(e=t.call(this,Wl.iA)||this).currentTime=n,e.readyState=i,e}return U(n,t),n}(xs),ug=function(t){function n(n){var i;return(i=t.call(this,rh.Ca)||this).currentTime=n,i}return U(n,t),n}(xs),og=function(t){function n(n){var i;return(i=t.call(this,rh.ja)||this).currentTime=n,i}return U(n,t),n}(xs),hg=function(t){function n(n,i){var e;return(e=t.call(this,rh.Pa)||this).currentTime=n,e.volume=i,e}return U(n,t),n}(xs),cg=function(t){function n(n,i){var e;return void 0===i&&(i=El.Kg),(e=t.call(this,Wl.tA)||this).currentTime=n,e.readyState=i,e}return U(n,t),n}(xs),ag=function(t){function n(n,i){var e;return void 0===i&&(i=El.$g),(e=t.call(this,Wl.nA)||this).currentTime=n,e.readyState=i,e}return U(n,t),n}(xs),fg=function(t){function n(n,i){var e;return(e=t.call(this,Wl.Rl)||this).currentTime=n,e.readyState=i,e}return U(n,t),n}(xs),vg=function(t){function n(n){var i;return(i=t.call(this,al._g)||this).errorObject=n,i}return U(n,t),n.prototype.pl=function(){return this},z(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Sd);function dg(t){switch(t){case Jl.ALL:case Jl.CONTENT:return t;default:return Jl.NONE}}function lg(t){var n,i,e,r=Wd(t||{});return r.libraryLocation&&(r.libraryLocation=Ff(r.libraryLocation)),r.isEmbeddable=Boolean(r.isEmbeddable),r.cast=Sl(r.cast),r.ads=Fl(r.ads),r.analytics=Vl(r.analytics),r.mutedAutoplay=dg(r.mutedAutoplay),r.allowNativeFullscreen=Boolean(r.allowNativeFullscreen),r.allowMixedContent=Boolean(r.allowMixedContent),r.persistVolume=Boolean(r.persistVolume),r.liveOffset=(n=r.liveOffset,Number(n)||void 0),r.hlsDateRange=(i=r.hlsDateRange,Boolean(i)),r.retainPlaybackRateOnSourceChange=Boolean(r.retainPlaybackRateOnSourceChange),r.license=et(e=r.license)?e:void 0,r.licenseUrl=function(t){if(!t)return;try{return Ff(t)}catch(t){return void p.Su("Invalid 'licenseUrl', falling back to default URL")}}(r.licenseUrl),r}function gg(t){return{uA:t.uA,oA:t.oA,hA:t.hA,vh:t.vh,cA:t.cA,aA:t.aA,fA:t.fA,vA:t.vA,Ng:t.Ng,dA:t.dA,lA:t.lA,gA:t.gA,AA:t.AA}}function Ag(t,n){var i=n.AA,e=n.aA;t.AA=i,t.aA=e}function wg(t,n,i){if(n!==i){var e=n.uA,r=n.oA,s=n.aA,u=n.fA,o=n.vA,h=n.Ng,c=n.dA,a=(n.gA,n.lA,n.AA),f=i.uA,v=i.oA,d=i.hA,l=i.cA,g=i.aA,A=i.fA,y=i.vA,_=i.Ng,M=i.dA,k=(i.gA,i.lA,i.AA);h!==El.Zg&&t.Zo(new Xl(f,_)),A&&!u?t.Zo(new Zl(f)):!A&&u&&t.Zo(new ql(f)),_>=El.qg&&t.Zo(new tg(f,_)),v===r||w(v)&&w(r)||t.Zo(new ng(v)),y!==o&&t.Zo(new ig(f,y)),f!==e&&t.Zo(new eg(f,void 0)),d&&t.Zo(new rg(f)),_>=El.Jg&&t.Zo(new sg(f,_)),M&&!c?t.Zo(new ug(f)):!M&&c&&t.Zo(new og(f)),k===a&&g===s||t.Zo(new hg(f,k)),_>=El.Kg&&t.Zo(new cg(f,_)),_>=El.$g&&t.Zo(new ag(f,_)),_!==h&&t.Zo(new fg(f,_)),l&&t.Zo(new vg(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Jl||(Jl={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(Kl||(Kl={}));var yg,_g=400,Mg=.25,kg={windowStart:.2,target:.45,windowEnd:.7,maxOffset:3},mg={windowStart:.4,target:.7,windowEnd:.9,maxOffset:3},pg={windowStart:.4,target:.65,windowEnd:1,maxOffset:3},Ng={windowStart:.5,target:1.125,windowEnd:1.75,maxOffset:2.55};function Dg(){var t;return t=p.Wu.wu?pg:p.Wu._u?"Android"===p.Xu.Zu?mg:kg:Ng,p.Xu.qu?function(t){if(p.Xu.qu){var n=(_g+250)/1e3,i=l.max(n,t.windowStart),e=l.max(i+Mg,t.target),r=l.max(e+Mg,t.windowEnd);return{windowStart:i,target:e,windowEnd:r,maxOffset:l.max(r+Mg,t.maxOffset)}}return t}(t):t}function Tg(t){return{goLive:function(){return t.wA()},get isLive(){return t.yA},get currentServerLiveTime(){return t._A},get currentLatency(){return t.MA},get latency(){return t.kA},set latency(n){if(!function(t){if(!nt(t))return!1;var n=t,i=K(n.target)&&"number"==typeof n.target&&K(n.windowEnd)&&"number"==typeof n.windowEnd&&K(n.windowStart)&&"number"==typeof n.windowStart&&K(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new f("Invalid latency configuration");t.kA=n},get manifest(){return t.mA},get metrics(){return t.pA},addEventListener:function(n,i){t.qo(bg(n),i)},removeEventListener:function(n,i){t.th(bg(n),i)}}}!function(t){t[t.Ag=0]="Ag",t[t.NA=1]="NA",t[t.DA=2]="DA"}(yg||(yg={}));var Ig=["analytic","golive","nogolive","bufferedchange"];function bg(t){var n=il(t,tl);return(et(n)?[n]:n).filter(function(t){return os(Ig,t)})}var Eg,Lg=function(t){function n(){var n;return(n=t.call(this)||this).tg=void 0,n.kl=void 0,n.TA=Dg(),n.tg=void 0,n}U(n,t);var i=n.prototype;return i.eg=function(t){t.qo(Ig,this.Xo)},i.rg=function(t){t.th(Ig,this.Xo)},i.wA=function(){var t;null==(t=this.tg)||t.wA()},i.nd=function(){this.$o(),this.tg&&this.rg(this.tg),this.tg=void 0},z(n,[{key:"sg",get:function(){return this.tg},set:function(t){var n=this.tg;t!==n&&(n&&this.rg(n),t&&this.eg(t),this.tg=t,this.tg&&(this.tg.kA=this.TA))}},{key:"ml",get:function(){return this.kl||(this.kl=Tg(this)),this.kl}},{key:"_A",get:function(){var t;return null==(t=this.tg)?void 0:t._A}},{key:"MA",get:function(){var t;return null==(t=this.tg)?void 0:t.MA}},{key:"yA",get:function(){return!!this.tg&&this.tg.yA}},{key:"kA",get:function(){return this.TA},set:function(t){this.tg&&(this.tg.kA=t),this.TA=t}},{key:"mA",get:function(){var t;return null==(t=this.tg)?void 0:t.mA}},{key:"pA",get:function(){var t;return null==(t=this.tg)?void 0:t.pA}}]),n}(Cs),Sg=function(t){function n(n){var i;return(i=t.call(this)||this).tg=void 0,i.IA=[],i.bA=!1,i.EA=new fl,i.LA=new fl,i.SA=new yl,i.jA=new Lg,i.CA=!1,i.OA(n),n.Ko(i.Xo),i.tg=n,i.EA.sg=n.xA,i.LA.sg=n.zA,i.SA.sg=n.RA,i.jA.sg=n.UA,i}U(n,t);var i=n.prototype;return i.BA=function(){this.tg.BA()},i.QA=function(){this.tg.QA()},i.PA=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Is(this.IA.map(function(t){return t.PA()})).then(T));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.YA=function(){return this.tg.YA()},i.GA=function(){var t=N.coroutine(rr.mark(function t(n,i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ys(i),t.next=3,this.tg.GA(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.FA=function(){return this.sg.FA()},i.VA=function(){this.sg.VA()},i.HA=function(){this.sg.HA()},i.WA=function(){if(!this.bA){for(var t=0,n=this.IA;t<n.length;t++){n[t].WA()}this.bA=!0}},i.XA=function(t){this.tg.XA(t)},i.ZA=function(){this.tg.ZA()},i.qA=function(){this.tg.qA()},i.JA=function(){this.tg.JA()},i.KA=function(){return this.tg.KA()},i.$A=function(){return this.tg.$A()},i.tw=function(){for(var t=[],n=0,i=this.IA;n<i.length;n++){var e=i[n];t.push.apply(t,e.tw())}return t},i.nw=function(t){for(var n=!1,i=0,e=this.IA;i<e.length;i++){n=e[i].nw(t)||n}return n},i.Zo=function(n){this.nw(n)||t.prototype.Zo.call(this,n)},i.OA=function(t){this.IA.push(t)},i.iw=function(t){ss(this.IA,t)},i.ew=function(t){if(t!==this.tg){var n=this.tg;n.ZA(),n.eh(this.Xo);var i=gg(this),e=this.rw,r=this.$A();this.tg=t,this.EA.sg=t.xA,this.LA.sg=t.zA,this.SA.sg=t.RA,this.jA.sg=t.UA,wg(this,i,this);var s=this.rw;s!==e&&this.Zo(new ml(s)),this.$A()!==r&&this.Zo(new kl),t.Ko(this.Xo),t.XA(n)}},i.sw=function(){},i.nd=function(){var t=N.coroutine(rr.mark(function t(){var n,i,e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.$o(),this.tg.ZA(),n=0,i=this.IA;case 3:if(!(n<i.length)){t.next=10;break}return e=i[n],t.next=7,e.nd();case 7:n++,t.next=3;break;case 10:this.EA.nd(),this.LA.nd(),this.SA.nd(),this.jA.nd();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Jl=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Is(this.IA.map(function(t){return t.Jl()})).then(T));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),z(n,[{key:"xA",get:function(){return this.EA}},{key:"RA",get:function(){return this.SA}},{key:"zA",get:function(){return this.LA}},{key:"uw",get:function(){return this.tg.uw}},{key:"ow",get:function(){return this.tg.ow},set:function(t){this.tg.ow=t}},{key:"rw",get:function(){return this.tg.rw}},{key:"uA",get:function(){return this.tg.uA},set:function(t){this.tg.uA=t}},{key:"oA",get:function(){return this.tg.oA}},{key:"hw",get:function(){return this.tg.hw}},{key:"hA",get:function(){return this.tg.hA}},{key:"vh",get:function(){return this.tg.vh}},{key:"cA",get:function(){return this.tg.cA}},{key:"UA",get:function(){return this.jA}},{key:"cw",get:function(){return this.tg.cw}},{key:"pA",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var h=t[o];n+=h.aw,i+=h.fw,e+=h.vw,r+=h.dw,s+=h.lw,u.amountOfBufferedAudioSegments+=h.gw.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=h.gw.amountOfBufferedVideoSegments}return{aw:n,fw:i,vw:e,dw:r,lw:s,gw:u}}(this.IA.map(function(t){return t.pA}))}},{key:"aA",get:function(){return this.tg.aA},set:function(t){this.tg.aA=t}},{key:"Aw",get:function(){return this.tg.Aw}},{key:"fA",get:function(){return this.tg.fA}},{key:"vA",get:function(){return this.tg.vA},set:function(t){this.tg.vA=t}},{key:"ww",get:function(){return this.tg.ww}},{key:"yw",get:function(){return this.tg.yw},set:function(t){this.tg.yw=t}},{key:"Ng",get:function(){return this.tg.Ng}},{key:"_w",get:function(){return this.tg._w}},{key:"dA",get:function(){return this.tg.dA}},{key:"lA",get:function(){return this.tg.lA}},{key:"gA",get:function(){return this.tg.gA}},{key:"AA",get:function(){return this.tg.AA},set:function(t){this.tg.AA=t}},{key:"Mw",get:function(){return!1},set:function(t){}},{key:"sg",get:function(){return this.tg},set:function(t){this.ew(t)}}]),n}(Ml),jg=function(t){function n(n,i,e,r,s,u,o,h){var c;return(c=t.call(this,n,i,e)||this).url=void 0,c.status=void 0,c.statusText=void 0,c.response=void 0,c.systemCode=void 0,c.url=r,c.status=s,c.statusText=u,c.response=o,c.systemCode=h,c}return U(n,t),z(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Uo);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(Eg||(Eg={}));var Cg=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=e,s.systemCode=r,f.captureStackTrace&&f.captureStackTrace(sn(s),s.constructor),s}return U(n,t),z(n,[{key:"name",get:function(){return"MediaError"}}]),n}(un);function Og(t){Vd(t,"MEDIA_ERR_ABORTED",Eg.ABORTED),Vd(t,"MEDIA_ERR_NETWORK",Eg.NETWORK),Vd(t,"MEDIA_ERR_DECODE",Eg.DECODE),Vd(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",Eg.SRC_NOT_SUPPORTED),Vd(t,"MEDIA_ERR_ENCRYPTED",Eg.ENCRYPTED)}function xg(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new Cg(Eg.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new Cg(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return Eg.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return Eg.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return Eg.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return Eg.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return Eg.NETWORK;if(i===n.ErrorCategory.SOURCE)return Eg.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return Eg.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return Eg.ENCRYPTED;if(i===n.ErrorCategory.AD)return Eg.ADVERTISEMENT_ERROR;return Eg.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}function zg(t){return new Uo(Rg(t.code),t.message,t)}function Rg(t){switch(t){case Eg.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case Eg.NETWORK:return n.ErrorCode.NETWORK_ERROR;case Eg.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case Eg.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case Eg.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case Eg.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case Eg.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}Og(Cg),Og(Cg.prototype);var Ug,Bg=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Xl=function(n){return t.prototype.Xl.call(this,n)},i.pl=function(){return hl(this)},n}(Qd);!function(t){t.Vv="audio",t.Hv="video",t.cs="text",t.Wv="image",t.Cv="unknown"}(Ug||(Ug={}));var Qg=function(){function t(){this.kw=[],this.kl=void 0}var n=t.prototype;return n.mw=function(t){this.kw.push(t),this.kl&&this.kl.push(t.ml)},n.Wl=function(t){return this.kw[t]},n.pw=function(t){return $(t)?function(t,n){for(var i=0;i<n.length;i++)if(!os(t,n[i]))return!1;return!0}(this.kw,t):os(this.kw,t)},z(t,[{key:"Kl",get:function(){return this.kw}},{key:"$l",get:function(){return this.kw.length}},{key:"ml",get:function(){var t,n;return this.kl||(this.kl=((n=(t=this).Kl.map(function(t){return t.ml})).item=function(n){var i=0|n,e=t.Wl(i);return e&&e.ml||void 0},n)),this.kl}}]),t}(),Pg=function(t){function n(n){var i;return(i=t.call(this,Cd.Pl)||this).Nl=n,i}return U(n,t),n.prototype.pl=function(){return new Yg(this.Nl.ml)},n}(Od),Yg=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return U(n,t),n}(xd),Gg=0;function Fg(){return Gg++}var Vg=0;var Hg=0;var Wg=0;function Xg(){return Wg++}var Zg=0;var qg=function(t){function n(n){var i;return(i=t.call(this)||this).Ao=Ug.Vv,i.Nw=void 0,i.Dw=void 0,i.Tw=void 0,i.Iw=void 0,i.Ew=!1,i.kw=void 0,i.kl=void 0,i.Nw=n,i.Iw=Fg(),i.Dw=Zg+++"",i.Tw=n.label,i.kw=new Qg,i.Lw(),i}U(n,t);var i=n.prototype;return i.Sw=function(t){this.hg=t},i.Lw=function(){this.hg=this.jw},z(n,[{key:"og",get:function(){}},{key:"hg",get:function(){return this.Ew},set:function(t){this.Ew!==t&&(this.Ew=t,this.jw=t,this.Zo(new Pd(this)))}},{key:"jw",get:function(){return!!this.Nw.enabled},set:function(t){this.Nw.enabled=t}},{key:"ml",get:function(){return this.kl||(this.kl=ul(this)),this.kl}},{key:"cg",get:function(){return this.Dw}},{key:"ag",get:function(){return this.Iw}},{key:"fg",get:function(){return this.Nw.kind}},{key:"vg",get:function(){return this.Tw},set:function(t){t!==this.Tw&&(this.Tw=t,this.Zo(new Pg(this)))}},{key:"dg",get:function(){return this.Nw.language}},{key:"kg",get:function(){return this.hg?"enabled":"disabled"}},{key:"Cw",get:function(){return this.Nw}},{key:"lg",get:function(){return this.kw}},{key:"gg",get:function(){},set:function(t){}}]),n}(Cs),Jg=0;var Kg,$g,tA,nA=function(t){function n(n){var i;return(i=t.call(this)||this).Ao=Ug.Hv,i.Nw=void 0,i.Dw=void 0,i.Iw=void 0,i.Ew=!1,i.kw=void 0,i.Tw=void 0,i.kl=void 0,i.Nw=n,i.Iw=Fg(),i.Dw=Jg+++"",i.kw=new Qg,i.Tw=n.label,i.Lw(),i}U(n,t);var i=n.prototype;return i.Lw=function(){this.hg=this.jw},i.Sw=function(t){this.hg=t},z(n,[{key:"og",get:function(){}},{key:"hg",get:function(){return this.Ew},set:function(t){this.Ew!==t&&(this.Ew=t,this.jw=t,this.Zo(new Pd(this)))}},{key:"jw",get:function(){return!!this.Nw.selected},set:function(t){this.Nw.selected=t}},{key:"ml",get:function(){return this.kl||(this.kl=ul(this)),this.kl}},{key:"cg",get:function(){return this.Dw}},{key:"ag",get:function(){return this.Iw}},{key:"fg",get:function(){return"main"}},{key:"vg",get:function(){return this.Tw},set:function(t){t!==this.Tw&&(this.Tw=t,this.Zo(new Pg(this)))}},{key:"dg",get:function(){return this.Nw.language}},{key:"kg",get:function(){return this.hg?"enabled":"disabled"}},{key:"Cw",get:function(){return this.Nw}},{key:"lg",get:function(){return this.kw}},{key:"gg",get:function(){},set:function(t){}}]),n}(Cs),iA=function(t){function n(n){var i;return(i=t.call(this,rh.ha)||this).cw=n,i}return U(n,t),n}(xs);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Kg||(Kg={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}($g||($g={})),function(t){t.Ow="cue",t.xw="region",t.zw="stylesheet"}(tA||(tA={}));var eA,rA,sA={"line-left":"start",center:"middle","line-right":"end"},uA={start:"line-left",middle:"center",end:"line-right"};function oA(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function hA(t,n){if("auto"===t)switch(n){case"start":case"left":return 0;case"end":case"right":return 100;default:return 50}return e=50,r="number"==typeof(i=t)?i:A(i),w(r)?e:r;var i,e,r}!function(t){t.Rw="Uw",t.Bw="Qw",t.Pl="Kh"}(eA||(eA={})),function(t){t.Rw="enter",t.Bw="exit",t.Pl="update"}(rA||(rA={}));var cA=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).Pw=i,e}return U(n,t),n}(Od),aA=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return U(n,t),n}(xd);function fA(t){var n,i=[eA.Rw,eA.Bw,eA.Pl],e={get track(){return t.Nl.ml},get id(){return t.cg},get uid(){return t.ag},get startTime(){return t.Yw},get endTime(){return t.Gw},get content(){return t.Fw},addEventListener:function(t,i){var e=il(t,tl);n.qo(e,i)},removeEventListener:function(t,i){var e=il(t,tl);n.th(e,i)}};return n=new Os(e),t.qo(i,function(t){return n.Zo(t.ml)}),e}function vA(){}function dA(t){return Hd(fA(t),{get align(){return t.Vw},get line(){return t.Hw},get lineAlign(){return t.Ww},get position(){return t.Xw},get positionAlign(){return t.Zw},get region(){return t.qw?t.qw.ml:null},get size(){return t.Nh},get snapToLines(){return t.Jw},get text(){return t.Fw},get vertical(){return t.Kw}})}var lA=.02;function gA(t,n){return Ht(t.Yw,n.Yw,lA)&&Ht(t.Gw,n.Gw,lA)&&t.cg===n.cg}var AA=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Iw=void 0,u.Dw=void 0,u.$w=void 0,u.ty=void 0,u.kl=void 0,u.ny=void 0,u.iy=!1,u.ey=void 0,u.sy=void 0,u.uy="",u.oy=-1,u.Iw=Xg(),u.$w=n,u.ty=i,u.ey=e,u.sy=Boolean(r),u.Dw=null!=s?s:"",u}U(n,t);var i=n.prototype;return i.pl=function(){return fA(this)},i.hy=function(t){return this===t||Zd(this,t)&&gA(this,t)},i.nd=function(){this.$o()},z(n,[{key:"Yw",get:function(){return this.$w},set:function(t){this.$w=t}},{key:"Gw",get:function(){return this.ty},set:function(t){this.ty=t}},{key:"cg",get:function(){return this.Dw}},{key:"ag",get:function(){return this.Iw}},{key:"ml",get:function(){return this.kl||(this.kl=this.pl()),this.kl}},{key:"ay",get:function(){return this.iy},set:function(t){this.iy=t}},{key:"Nl",get:function(){return this.ny},set:function(t){this.ny=t}},{key:"Fw",get:function(){return this.ey},set:function(t){this.ey=t}},{key:"vy",get:function(){return this.uy},set:function(t){this.uy=t}},{key:"ly",get:function(){return this.sy},set:function(t){this.sy=t}}]),n}(Cs);function wA(t,n){return t.Fw===n.Fw&&t.Hw===n.Hw&&t.Ww===n.Ww&&t.Xw===n.Xw&&t.Zw===n.Zw&&t.qw===n.qw&&t.Jw===n.Jw&&t.Nh===n.Nh&&t.Vw===n.Vw&&t.Kw===n.Kw}var yA=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).Hw="auto",u.Ww="start",u.Xw="auto",u.Zw="auto",u.qw=void 0,u.Jw=!0,u.Nh=100,u.Vw="center",u.Kw="",u}return U(n,t),n.prototype.hy=function(n){return this===n||Zd(this,n)&&t.prototype.hy.call(this,n)&&wA(this,n)},z(n,[{key:"ml",get:function(){return this.kl||(this.kl=dA(this)),this.kl}},{key:"Ao",get:function(){return tA.Ow}}]),n}(AA);function _A(t){var n="number"==typeof t.Hw?t.Hw:A(t.Hw);return w(n)||t.Jw||!(n<0||n>100)?w(n)?t.Jw?-1:100:n:100}function MA(t){return hA(t.Xw,t.Vw)}function kA(t){return oA(t.Zw,t.Vw)}function mA(t){var n=100,i=kA(t),e=MA(t);return"line-left"===i&&(n=100-e),"line-right"===i&&(n=e),"center"===i&&e<=50&&(n=2*e),"center"===i&&e>50&&(n=2*(100-e)),t.Nh<n?t.Nh:n}function pA(t){return{get id(){return t.cg},get identifier(){return t.cg},get lines(){return t.gy},get regionAnchorX(){return t.Ay},get regionAnchorY(){return t.wy},get scrollValue(){return t.yy},get viewportAnchorX(){return t._y},get viewportAnchorY(){return t.My},get width(){return t.pu}}}var NA=function(){function t(t,n,i,e,r,s,u,o){this.kl=void 0,this.cg=t,this.pu=n,this.gy=i,this.Ay=e,this.wy=r,this._y=s,this.My=u,this.yy=o}return z(t,[{key:"ml",get:function(){return this.kl||(this.kl=pA(this)),this.kl}},{key:"Ao",get:function(){return tA.xw}}]),t}(),DA=function(){function t(){}var n=t.prototype;return n.ky=function(t){return this.my()*t},n.py=function(t){return this.Ny(t)>0},n.Dy=function(t){return this.Ny(t)>=0},n.Ty=function(t,n){return this.by(t).Iy(n)},n.hy=function(t){return 0===this.Ny(t)},n.Ey=function(t){return this.Ny(t)<0},n.Iy=function(t){return this.Ny(t)<=0},n.Ly=function(){return this.Sy()?this.jy():this},n.Cy=function(t){return this.mw(t.jy())},n.by=function(t){return this.Cy(t).Ly()},t}();function TA(t,n){return t.Oy()?n.Oy()?Wr.Io:Wr.bo:n.Oy()?Wr.Eo:t.xy()?n.xy()&&t.Sy()===n.Sy()?Wr.Io:t.Sy()?Wr.Eo:Wr.bo:n.Sy()?Wr.bo:Wr.Eo}var IA=function(){function t(t,n){this.zy=void 0,this.Ry=void 0,this.zy=t,this.Ry=n}t.Uy=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.By=function(n){return n.unsigned?new t(n,Gt.UZERO):new t(n,n.isNegative()?Gt.NEG_ONE:Gt.ZERO)},t.Qy=function(n,i){if(w(n))return i?t.Py:t.Yy;if(i){if(n<0)return t.Py;if(n>=3.402823669209385e38)return t.Gy}else{if(n<=-1.7014118346046923e38)return t.Fy;if(n+1>=1.7014118346046923e38)return t.Vy}return n<0?t.Qy(-n,i).jy():t.Uy(Gt.fromNumber(n%0x10000000000000000),Gt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Hy=function(){return this.Ry.unsigned},n.Wy=function(){return this.zy.isZero()&&this.Ry.isZero()},n.Sy=function(){return this.Ry.isNegative()},n.Xy=function(){return this.Hy()?t.Uy(this.zy,this.Ry,!1):this},n.Zy=function(){return this.Hy()?this:t.Uy(this.zy,this.Ry,!0)},n.qy=function(){return this.zy},n.my=function(){return this.Sy()?-this.jy().my():0x10000000000000000*this.Ry.toNumber()+this.zy.toUnsigned().toNumber()},n.Jy=function(){return this.zy.toInt()},n.hy=function(t){return(this.Hy()===t.Hy()||this.Ry.getHighBits()>>>31!=1||t.Ry.getHighBits()>>>31!=1)&&(this.Ry.toUnsigned().eq(t.Ry.toUnsigned())&&this.zy.toUnsigned().eq(t.zy.toUnsigned()))},n.Ny=function(t){if(this.hy(t))return Wr.Io;var n=this.Sy(),i=t.Sy();if(n&&!i)return Wr.Eo;if(!n&&i)return Wr.bo;if(!this.Hy())return this.Cy(t).Sy()?Wr.Eo:Wr.bo;var e=this.Zy(),r=t.Zy(),s=r.Ry.comp(e.Ry);return s>0||0===s&&r.zy.gt(e.zy)?Wr.Eo:Wr.bo},n.Ey=function(t){return this.Ny(t)<0},n.Iy=function(t){return this.Ny(t)<=0},n.Ky=function(t){return this.Ny(t)>0},n.$y=function(t){return this.Ny(t)>=0},n.t_=function(){return new t(this.zy.not(),this.Ry.not())},n.n_=function(n){return new t(this.zy.and(n.zy),this.Ry.and(n.Ry))},n.i_=function(n){return new t(this.zy.or(n.zy),this.Ry.or(n.Ry))},n.e_=function(n){var i=127&n;return 0===i?this:i<64?t.Uy(this.zy.shl(i),this.Ry.shl(i).or(this.zy.shru(64-i)),this.Hy()):t.Uy(Gt.ZERO,this.zy.shl(i-64),this.Hy())},n.r_=function(n){var i=127&n;return 0===i?this:i<64?t.Uy(this.zy.shru(i).or(this.Ry.shl(64-i)),this.Ry.shr(i),this.Hy()):t.Uy(this.Ry.shr(i-64),this.Ry.isNegative()?Gt.NEG_ONE:Gt.ZERO,this.Hy())},n.s_=function(n){var i=127&n;return 0===i?this:i<64?t.Uy(this.zy.shru(i).or(this.Ry.shl(64-i)),this.Ry.shru(i),this.Hy()):64===i?t.Uy(this.Ry,Gt.ZERO,this.Hy()):t.Uy(this.Ry.shru(i-64),Gt.ZERO,this.Hy())},n.mw=function(n){var i=this.Ry.high>>>16,e=65535&this.Ry.high,r=this.Ry.low>>>16,s=65535&this.Ry.low,u=this.zy.high>>>16,o=65535&this.zy.high,h=this.zy.low>>>16,c=65535&this.zy.low,a=n.Ry.high>>>16,f=65535&n.Ry.high,v=n.Ry.low>>>16,d=65535&n.Ry.low,l=n.zy.high>>>16,g=65535&n.zy.high,A=n.zy.low>>>16,w=0,y=0,_=0,M=0,k=0,m=0,p=0,N=0;p+=(N+=c+(65535&n.zy.low))>>>16,N&=65535,m+=(p+=h+A)>>>16,p&=65535,k+=(m+=o+g)>>>16,m&=65535,M+=(k+=u+l)>>>16,k&=65535,_+=(M+=s+d)>>>16,M&=65535,y+=(_+=r+v)>>>16,_&=65535,w+=(y+=e+f)>>>16,y&=65535,w+=i+a,w&=65535;var D=this.Hy(),T=Gt.fromBits(_<<16|M,w<<16|y,D),I=Gt.fromBits(p<<16|N,k<<16|m,D);return t.Uy(I,T,D)},n.Cy=function(t){return this.mw(t.jy())},n.jy=function(){return this.t_().mw(t.u_)},n.o_=function(n){if(this.Wy()||n.Wy())return this.Hy()?t.Py:t.Yy;if(this.Sy())return n.Sy()?this.jy().o_(n.jy()):this.jy().o_(n).jy();if(n.Sy())return this.o_(n.jy()).jy();if(this.Ry.isZero()&&0===this.zy.high&&n.Ry.isZero()&&0===n.zy.high)return t.By(this.zy.multiply(n.zy));var i=Gt.fromBits(4294967295,0,!0),e=this.zy.and(i),r=this.zy.shru(32),s=this.Ry.and(i),u=this.Ry.shru(32),o=n.zy.and(i),h=n.zy.shru(32),c=n.Ry.and(i),a=n.Ry.shru(32),f=Gt.UZERO,v=Gt.UZERO,d=Gt.UZERO,l=Gt.UZERO;f=f.add(e.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(r.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(h)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(s.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(h)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(c)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(u.mul(o)).add(s.mul(h)).add(r.mul(c)).add(e.mul(a)).and(i);var g=Gt.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),A=Gt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Uy(g,A,this.Hy())},n.h_=function(n){var i,e,r=n;if(r.Wy())throw new RangeError("division by zero");if(this.Wy())return this.Hy()?[t.Py,t.Py]:[t.Yy,t.Yy];if(this.Hy()){if(r.Hy()||(r=r.Zy()),r.Ky(this))return[t.Py,this];if(r.Ky(this.s_(1)))return[e=t.c_,i=this.Cy(r)];e=t.Py}else{if(this.hy(t.Fy)){if(r.hy(t.u_)||r.hy(t.a_))return[t.Fy,t.Yy];if(r.hy(t.Fy))return[t.u_,t.Yy];var s=this.r_(1).f_(r).e_(1);return s.hy(t.Yy)?e=r.Sy()?t.u_:t.a_:(i=this.Cy(r.o_(s)),e=s.mw(i.f_(r))),[e,i=this.Cy(r.o_(e))]}if(r.hy(t.Fy))return this.Hy()?[t.Py,this]:[t.Yy,this];if(this.Sy()){if(r.Sy())return this.jy().h_(r.jy());var u=this.jy().h_(r);return e=u[0],i=u[1],[e.jy(),i.jy()]}if(r.Sy()){var o=this.h_(r.jy());return e=o[0],i=o[1],[e.jy(),i.jy()]}e=t.Yy}for(i=this;i.$y(r);){for(var h=l.max(1,l.floor(i.my()/r.my())),c=l.ceil(l.log(h)/l.LN2),a=c<=48?1:l.pow(2,c-48),f=t.Qy(h),v=f.o_(r);v.Sy()||v.Ky(i);)h-=a,v=(f=t.Qy(h,this.Hy())).o_(r);f.Wy()&&(f=t.u_),e=e.mw(f),i=i.Cy(v)}return[e,i]},n.f_=function(t){return this.h_(t)[0]},n.v_=function(t){return this.h_(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.Wy())return"0";if(this.Sy()){if(this.hy(t.Fy)){var e=t.Qy(i),r=this.f_(e),s=r.o_(e).Cy(this);return r.toString(i)+s.Jy().toString(i)}return"-"+this.jy().toString(i)}for(var u=t.Qy(l.pow(i,6),this.Hy()),o=this,h="";;){var c=o.f_(u),a=(o.Cy(c.o_(u)).Jy()>>>0).toString(i);if((o=c).Wy())return a+h;for(;a.length<6;)a="0"+a;h=String(a)+h}},t}();IA.Yy=IA.By(Gt.ZERO),IA.Py=IA.By(Gt.UZERO),IA.u_=IA.By(Gt.ONE),IA.c_=IA.By(Gt.UONE),IA.a_=IA.By(Gt.NEG_ONE),IA.Vy=IA.Uy(Gt.NEG_ONE,Gt.MAX_VALUE,!1),IA.Gy=IA.Uy(Gt.MAX_UNSIGNED_VALUE,Gt.MAX_UNSIGNED_VALUE,!0),IA.Fy=IA.Uy(Gt.ZERO,Gt.MIN_VALUE,!1);var bA=function(){function t(t,n){void 0===n&&(n=1),this.d_=void 0,this.l_=void 0,this.d_=t,this.l_=n}t.g_=function(n){return new t(l.ceil(n.d_),n.l_)},t.A_=function(n){return new t(l.floor(n.d_),n.l_)},t.w_=function(t,n){return t.Dy(n)?t:n},t.y_=function(t,n){return t.Iy(n)?t:n};var n=t.prototype;return n.mw=function(n){return this.l_>=n.l_?new t(this.d_+n.__(this.l_).d_,this.l_):new t(this.__(n.l_).d_+n.d_,n.l_)},n.py=function(t){return t.Ey(this)},n.Dy=function(t){return t.Iy(this)},n.by=function(n){return this.l_>=n.l_?new t(l.abs(this.d_-n.__(this.l_).d_),this.l_):n.by(this)},n.Ty=function(t,n){return this.by(t).Iy(n)},n.Ny=function(t){return i=t,(n=this).l_>=i.l_?is(n.d_,i.__(n.l_).d_):is(n.__(i.l_).d_,i.d_);var n,i},n.hy=function(t){return 0===this.Ny(t)},n.Ey=function(t){return this.Ny(t)<0},n.Iy=function(t){return this.Ny(t)<=0},n.__=function(n){return new t(this.d_*(n/this.l_),n)},n.Cy=function(n){return this.l_>=n.l_?new t(this.d_-n.__(this.l_).d_,this.l_):new t(this.__(n.l_).d_-n.d_,n.l_)},n.M_=function(n){return new t(this.d_*n,this.l_)},z(t,[{key:"xy",get:function(){return!isFinite(this.d_)}},{key:"k_",get:function(){return this.d_/this.l_}}]),t}();bA.m_=new bA(1/6,1),bA.Yy=new bA(0),bA.p_=new bA(1/0),bA.N_=1e6;var EA=function(t){function n(n,i){var e;return(e=t.call(this)||this).ps=void 0,e.l_=void 0,e.ps=n.toSigned(),e.l_=i>>>0,e}U(n,t),n.D_=function(t,i){return void 0===i&&(i=1e6),n.Qy(t*i,i)},n.Qy=function(t,i){return w(t)?n.T_:t===1/0?n.I_:t===-1/0?n.b_:new n(Gt.fromNumber(t),i)},n.By=function(t,i){return new n(t,i)},n.E_=function(t){return n.D_(t.k_,1e6)},n.L_=function(t){return new n(Gt.fromNumber(t.getTime()),1e3)},n.w_=function(t,n){return t.Dy(n)?t:n},n.y_=function(t,n){return t.Iy(n)?t:n},n.S_=function(t,i,e){return n.w_(i,n.y_(e,t))};var i=n.prototype;return i.Sy=function(){return this.ps.isNegative()},i.Wy=function(){return 0!==this.l_&&this.ps.isZero()},i.xy=function(){return 0===this.l_&&!this.ps.isZero()},i.Oy=function(){return 0===this.l_&&this.ps.isZero()},i.my=function(){if(0===this.l_)return this.ps.isZero()?NaN:this.ps.isNegative()?-1/0:1/0;var t=this.ps.divide(this.l_),n=this.ps.subtract(t.multiply(this.l_));return t.toNumber()+n.toNumber()/this.l_},i.qy=function(){if(0===this.l_)throw new f("Failed to convert timestamp");return this.ps},i.j_=function(){return new Date(0===this.l_?NaN:this.__(1e3).ps.toNumber())},i.C_=function(){return new bA(0===this.l_?this.my():this.ps.toNumber(),this.l_)},i.__=function(t,i){void 0===i&&(i=jA.O_);var e=this.l_;if(e===t)return this;if(0===e)return this;var r=qt(e,t);return new n(function(t,n,i){var e=t.h_(n),r=e[0],s=e[1];if(s.Wy())return r;if(i===jA.O_)return s.Sy()?r.Cy(IA.u_):r;if(i===jA.x_)return s.Sy()?r:r.mw(IA.u_);var u=s.o_(IA.Qy(2));return u.Sy()?u.jy().Ey(n)?r:r.Cy(IA.u_):u.Ey(n)?r:r.mw(IA.u_)}(IA.By(this.ps).o_(IA.Qy(t/r)),IA.Qy(e/r),i).qy(),t)},i.Ny=function(t){if(this===t)return Wr.Io;if(0===this.l_||0===t.l_)return TA(this,t);if(this.Wy())return t.Wy()?Wr.Io:t.Sy()?Wr.bo:Wr.Eo;if(t.Wy())return this.Sy()?Wr.Eo:Wr.bo;var n=l.min(this.l_,t.l_),i=this.__(n,jA.z_).ps,e=t.__(n,jA.z_).ps;return i.compare(e)},i.jy=function(){return 0===this.l_?LA(this):new n(this.ps.negate(),this.l_)},i.mw=function(t){if(0===this.l_||0===t.l_)return SA(this,t);if(this.Wy())return t;if(t.Wy())return this;var i=l.max(this.l_,t.l_),e=this.__(i,jA.z_),r=t.__(i,jA.z_);return new n(e.ps.add(r.ps),i)},i.o_=function(t){if(this.Oy()||w(t))return n.T_;if(this.xy()||!isFinite(t)){if(this.Wy()||0===t)return n.T_;var i=this.Sy()?n.b_:n.I_;return t<0?i.jy():i}return this.Wy()?this:new n(0===t?Gt.ZERO:this.ps.multiply(t),this.l_)},i.f_=function(t){if(this.Oy()||w(t))return n.T_;if(this.xy())return isFinite(t)?0===t?1/t<0?this.jy():this:t<0?this.jy():this:n.T_;if(!isFinite(t))return new n(Gt.ZERO,this.l_);if(this.Wy())return 0===t?n.T_:new n(Gt.ZERO,this.l_);if(0===t){var i=this.Sy()?n.b_:n.I_;return 1/t<0?i.jy():i}return new n(this.ps.divide(t),this.l_)},i.R_=function(){return[this.ps.low,this.ps.high,this.l_]},n}(DA);function LA(t){return t.Oy()?t:t.Sy()?EA.I_:EA.b_}function SA(t,n){return t.Oy()||n.Oy()?EA.T_:t.xy()&&n.xy()?t.Sy()===n.Sy()?t:EA.T_:t.xy()?t:n}EA.Yy=new EA(Gt.ZERO,1e6),EA.T_=new EA(Gt.ZERO,0),EA.I_=new EA(Gt.ONE,0),EA.b_=new EA(Gt.NEG_ONE,0);var jA,CA=function(t){function n(n,i){var e;return(e=t.call(this)||this).ps=void 0,e.l_=void 0,e.ps=BigInt.asIntN(64,n),e.l_=i>>>0,e}U(n,t),n.D_=function(t,i){return void 0===i&&(i=1e6),n.Qy(t*i,i)},n.Qy=function(t,i){return w(t)?n.T_:t===1/0?n.I_:t===-1/0?n.b_:new n(BigInt(l.floor(t)),i)},n.By=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.E_=function(t){return n.D_(t.k_,1e6)},n.L_=function(t){return n.Qy(t.getTime(),1e3)},n.w_=function(t,n){return t.Dy(n)?t:n},n.y_=function(t,n){return t.Iy(n)?t:n},n.S_=function(t,i,e){return n.w_(i,n.y_(e,t))};var i=n.prototype;return i.Sy=function(){return this.ps<BigInt(0)},i.Wy=function(){return 0!==this.l_&&this.ps===BigInt(0)},i.xy=function(){return 0===this.l_&&this.ps!==BigInt(0)},i.Oy=function(){return 0===this.l_&&this.ps===BigInt(0)},i.my=function(){if(0===this.l_)return this.ps===BigInt(0)?NaN:this.ps<BigInt(0)?-1/0:1/0;var t=this.ps/BigInt(this.l_),n=this.ps-t*BigInt(this.l_);return Number(t)+Number(n)/this.l_},i.qy=function(){if(0===this.l_)throw new f("Failed to convert timestamp");return this.U_()},i.U_=function(){var t=this.ps&BigInt(4294967295),n=this.ps>>BigInt(32)&BigInt(4294967295);return Gt.fromBits(Number(t),Number(n))},i.j_=function(){return new Date(0===this.l_?NaN:Number(this.__(1e3).ps))},i.C_=function(){return new bA(0===this.l_?this.my():Number(this.ps),this.l_)},i.__=function(t,i){void 0===i&&(i=jA.O_);var e=this.l_;if(e===t)return this;if(0===e)return this;var r=qt(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===jA.O_)return r<BigInt(0)?e-BigInt(1):e;if(i===jA.x_)return r<BigInt(0)?e:e+BigInt(1);var s=r*BigInt(2);return s<BigInt(0)?-s<n?e:e-BigInt(1):s<n?e:e+BigInt(1)}(this.ps*BigInt(t/r),BigInt(e/r),i),t)},i.Ny=function(t){if(this===t)return Wr.Io;if(0===this.l_||0===t.l_)return TA(this,t);if(this.Wy())return t.Wy()?Wr.Io:t.Sy()?Wr.bo:Wr.Eo;if(t.Wy())return this.Sy()?Wr.Eo:Wr.bo;var n=l.min(this.l_,t.l_),i=this.__(n,jA.z_).ps,e=t.__(n,jA.z_).ps;return i>e?Wr.bo:i<e?Wr.Eo:Wr.Io},i.jy=function(){return 0===this.l_?OA(this):new n(-this.ps,this.l_)},i.mw=function(t){if(0===this.l_||0===t.l_)return xA(this,t);if(this.Wy())return t;if(t.Wy())return this;var i=l.max(this.l_,t.l_),e=this.__(i,jA.z_),r=t.__(i,jA.z_);return new n(e.ps+r.ps,i)},i.o_=function(t){if(this.Oy()||w(t))return n.T_;if(this.xy()||!isFinite(t)){if(this.Wy()||0===t)return n.T_;var i=this.Sy()?n.b_:n.I_;return t<0?i.jy():i}return this.Wy()?this:new n(0===t?BigInt(0):this.ps*BigInt(t),this.l_)},i.f_=function(t){if(this.Oy()||w(t))return n.T_;if(this.xy())return isFinite(t)?0===t?1/t<0?this.jy():this:t<0?this.jy():this:n.T_;if(!isFinite(t))return new n(BigInt(0),this.l_);if(this.Wy())return 0===t?n.T_:new n(BigInt(0),this.l_);if(0===t){var i=this.Sy()?n.b_:n.I_;return 1/t<0?i.jy():i}return new n(this.ps/BigInt(t),this.l_)},i.R_=function(){var t=this.U_();return[t.low,t.high,this.l_]},z(n,null,[{key:"Yy",get:function(){return n.B_||(n.B_=new n(BigInt(0),1e6)),n.B_}},{key:"T_",get:function(){return n.Q_||(n.Q_=new n(BigInt(0),0)),n.Q_}},{key:"I_",get:function(){return n.P_||(n.P_=new n(BigInt(1),0)),n.P_}},{key:"b_",get:function(){return n.Y_||(n.Y_=new n(BigInt(-1),0)),n.Y_}}]),n}(DA);function OA(t){return t.Oy()?t:t.Sy()?CA.I_:CA.b_}function xA(t,n){return t.Oy()||n.Oy()?CA.T_:t.xy()&&n.xy()?t.Sy()===n.Sy()?t:CA.T_:t.xy()?t:n}CA.B_=void 0,CA.Q_=void 0,CA.P_=void 0,CA.Y_=void 0,function(t){t[t.O_=0]="O_",t[t.x_=1]="x_",t[t.z_=2]="z_"}(jA||(jA={}));var zA=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?CA:EA;function RA(t,n){return t.Ny(n)}function UA(t){return zA.By(Gt.fromBits(t[0],t[1],!1),t[2])}var BA=9e4,QA=l.pow(2,33),PA=zA.Qy(QA,BA),YA=PA.f_(2);function GA(t){return null!=t&&!t.Oy()}function FA(t,n){return t.xy()||n.xy()?zA.w_(t,n):WA(t,n).py(zA.Yy)?t:n}function VA(t,n){var i=t.Cy(n);return i.Ey(zA.Yy)&&(i=i.mw(PA)),i}function HA(t,n){var i=t.mw(n);return i.Dy(PA)&&(i=i.Cy(PA)),i}function WA(t,n){var i=t.Cy(n);return t.xy()||n.xy()?i:(i.Dy(YA)?i=i.Cy(PA):i.Ey(YA.jy())&&(i=i.mw(PA)),i)}function XA(t,n){if(t||n)return t?n?zA.y_(t,n):t:n}function ZA(t,n){if(t||n)return t?n?zA.w_(t,n):t:n}var qA,JA,KA,$A,tw={G_:0,F_:1/0,V_:0},nw=6,iw=["WEBVTT ","WEBVTT\t","WEBVTT\n"],ew=[" ","\t","\n","\f","\r"],rw=/^\d*$/,sw=/.*[0-9]+.*/,uw=/^[\d.-]+$/,ow=/(^\.|\.$)/,hw=/(\D\.|\.\D)/;function cw(t,n){void 0===n&&(n=tw);var i={Dg:[],H_:[],W_:[]},e=aw(t),r=new no;if(Mw(e),fw(e,function(t){return"\n"!==t},r),r.Eh>=e.length)return i;(r.Th(1),"\n"!==e.charAt(r.Eh))?gw(vw(e,r,!1,!0,i,n),i):r.Th(1);for(fw(e,function(t){return"\n"===t},r);r.Eh<e.length;){gw(vw(e,r,!1,!1,i,n),i),fw(e,function(t){return"\n"===t},r)}return i}function aw(t){var n=jr(t,"\0"," "),i=jr(n,"\r\n","\n");return jr(i,"\r","\n")}function fw(t,n,i){for(var e=i.Eh;i.Eh<t.length&&n(t.charAt(i.Eh));)i.Th(1);return t.substring(e,i.Eh)}function vw(t,n,i,e,r,s){for(var u,o=0,h=n.Eh,c="",a=!1,f=!1,v=null,d=null,l=null;!a;)if(u=fw(t,function(t){return"\n"!==t},n),o++,n.Eh>=t.length?a=!0:n.Th(1),Cr(u,"--\x3e")){if(e||1!==o&&(2!==o||f)){n.Ih(h);break}f=!0,h=n.Eh,v=new yA(0,0,"",!1,c);try{Aw(u,r.H_,v,s),c=""}catch(t){p.Su(t),v=null}}else{if(""===u)break;e&&Or(u,"X-TIMESTAMP-MAP")&&(r.X_=dw(u)),e||2!==o||i||(zr("STYLE",c.replace(/ /g,""))?(d={Ao:tA.zw},c=""):zr("REGION",c.replace(/ /g,""))&&(l=new NA("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=u,h=n.Eh}if(v)return v.Fw=c,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&Cr(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var s=r.indexOf(":"),u=r.substring(0,s),o=r.substring(s+1,r.length);switch(u.toUpperCase()){case"ID":Sw(o,n);break;case"WIDTH":Ow(o,n);break;case"LINES":Cw(o,n);break;case"REGIONANCHOR":var h=Lw(o);h&&(n.Ay=h[0],n.wy=h[1]);break;case"VIEWPORTANCHOR":var c=Lw(o);c&&(n._y=c[0],n.My=c[1]);break;case"SCROLL":jw(o,n)}}}}(c,l),l;return null}function dw(t){var n,i,e=t.split("=")[1].trim().split(","),r=lw(e[0].trim(),"MPEGTS")?e[0]:e[1],s=lw(e[0].trim(),"LOCAL")?e[0]:e[1];return{Z_:(i=Number(r.split(/:(.*)/)[1].trim())||0,zA.Qy(i,BA)),q_:zA.D_(null!=(n=_w(s.split(/:(.*)/)[1].trim(),new no))?n:0)}}function lw(t,n){return Or(t,n)}function gw(t,n){t&&function(t){return t.Ao===tA.Ow}(t)?n.Dg.push(t):t&&function(t){return t.Ao===tA.xw}(t)?n.H_.push(t):t&&function(t){return t.Ao===tA.zw}(t)&&n.W_.push(t)}function Aw(t,n,i,e){var r=new no;if(kw(t,r),i.Yw=ww(_w(t,r),e),kw(t,r),"--\x3e"!==t.substring(r.Eh,r.Eh+3))throw f("Something went wrong with parsing a WebVTT Cue");r.Th(3),kw(t,r),i.Gw=ww(_w(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var s=e[r];if(0!==s.length&&Cr(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),h=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":Tw(h,n,i);break;case"VERTICAL":bw(h,n);break;case"D":Ew(h,n);break;case"LINE":case"L":Nw(h,n);break;case"POSITION":case"T":Dw(h,n);break;case"SIZE":case"S":Iw(h,n);break;case"ALIGN":case"A":pw(h,n)}}}}(t.substring(r.Eh,t.length),i,n)}function ww(t,n){return t+n.G_}function yw(t){return/^[0-9]$/.test(t)}function _w(t,n){var i,e,r,s=jr(t,",","."),u=!1;if(n.Eh>=s.length||!yw(s.charAt(n.Eh)))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var o=fw(s,yw,n),h=g(o,10);if((o.length>2||h>59)&&(u=!0),n.Eh>=s.length||":"!==s.charAt(n.Eh))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Th(1);var c=fw(s,yw,n);if(2!==c.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var a=g(c,10);if(u||n.Eh<s.length&&":"===s.charAt(n.Eh)){if(n.Eh>=s.length||":"!==s.charAt(n.Eh))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Th(1);var v=fw(s,yw,n);if(2!==c.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");i=h,e=a,r=g(v,10)}else i=0,e=h,r=a;if(n.Eh>=s.length||"."!==s.charAt(n.Eh))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Th(1);var d=fw(s,yw,n),l=g(d,10);if(a>59||r>59)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+l/1e3}function Mw(t){if(t.length<nw)return!1;for(var n=0;n<iw.length;n++){if(Or(t,iw[n]))return!0}return!1}function kw(t,n){for(;n.Eh<t.length&&(i=t.charAt(n.Eh),os(ew,i));)n.Th(1);var i}function mw(t){var n=t.lastIndexOf("%");if(n>-1){var i=A(t.substring(0,n));if(!w(i)&&i>=0&&i<=100)return i}return null}function pw(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.Vw=i;break;case"middle":n.Vw="center"}}function Nw(t,n){var i=t,e="";if(Cr(t,",")&&(i=t.substring(0,t.indexOf(",")),e=t.substring(t.indexOf(",")+1,t.length)),sw.test(i)){var r;if(xr(i,"%")){var s=mw(i);if(null===s)return;r=s}else{if(!uw.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!hw.test(t)||ow.test(t))return;if(r=A(t),w(r))return}switch(n.Hw=r,n.Jw=xr(i,"%"),e=t.toLowerCase()){case"start":case"center":case"end":n.Ww=e;break;case"middle":n.Ww="center"}}}function Dw(t,n){var i=t,e="";Cr(t,",")&&(i=t.substring(0,t.indexOf(",")),e=t.substring(t.indexOf(",")+1,t.length));var r=mw(i);if(null!==r)switch(n.Xw=r,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Zw=e;break;case"start":n.Zw="line-left";break;case"middle":n.Zw="center";break;case"end":n.Zw="line-right"}}function Tw(t,n,i){for(var e=i.length-1;e>=0;e--)if(i[e].cg===t)return void(n.qw=i[e])}function Iw(t,n){var i=mw(t);null!==i&&(n.Nh=i)}function bw(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Kw="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Kw="lr";break;default:n.Kw=""}}function Ew(t,n){"VERTICAL"===t.toUpperCase()?n.Kw="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Kw="lr")}function Lw(t){if(t.indexOf(",")>=0){var n=mw(t.substring(0,t.indexOf(","))),i=mw(t.substring(t.indexOf(",")+1,t.length));return[Vt(n||0,0,100),Vt(i||100,0,100)]}return null}function Sw(t,n){n.cg=t}function jw(t,n){"up"===t.toLowerCase()&&(n.yy="up")}function Cw(t,n){rw.test(t)&&(n.gy=g(t))}function Ow(t,n){var i=mw(t);null!==i&&(n.pu=i)}!function(t){t.J_="moov",t.K_="mvhd",t.tM="trak",t.nM="tkhd",t.iM="mdia",t.eM="mdhd",t.rM="hdlr",t.sM="minf",t.uM="stbl",t.oM="stsd",t.hM="stsc",t.cM="mvex",t.aM="trex",t.fM="avc1",t.vM="avcC",t.dM="hev1",t.lM="hvc1",t.gM="hvcC",t.AM="pasp",t.wM="mp4a",t.yM="esds",t._M="wvtt",t.MM="vttC",t.kM="vlab",t.mM="enca",t.pM="encv",t.NM="moof",t.DM="mfhd",t.TM="traf",t.IM="tfhd",t.bM="trun",t.EM="tfdt",t.LM="mdat",t.SM="pssh",t.jM="emsg",t.CM="sidx",t.OM="styp",t.xM="ftyp",t.zM="sinf",t.RM="frma"}(qA||(qA={})),function(t){t.Hv="vide",t.Vv="soun",t.UM="subt",t.BM="hint",t.QM="meta",t.PM="auxv"}(JA||(JA={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(KA||(KA={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}($A||($A={}));var xw=function(){function t(t,n){this.Ps=void 0,this.YM=void 0,this.Ps=t,this.YM=n}var n=t.prototype;return n.GM=function(){return yu(this.Ps,this.YM)},n.FM=function(){return Nu(this.Ps,this.YM)},n.VM=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Eh,i);return n.Th(2),e}(this.Ps,this.YM)},n.HM=function(){return Tu(this.Ps,this.YM)},n.WM=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Eh,i);return n.Th(4),e}(this.Ps,this.YM)},n.XM=function(){return bu(this.Ps,this.YM)},n.ZM=function(t){return Mu(this.Ps,this.YM,t)},n.qM=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(Tu(t,n));return e}(this.Ps,this.YM,t)},n.JM=function(t){return Su(this.Ps,this.YM,t)},n.KM=function(){return Fu(this.Ps,this.YM)},n.$M=function(t){this.YM.Th(t)},n.bh=function(){return new t(this.Ps,this.YM.bh())},t}();function zw(t,n){return t.Ao===n}function Rw(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(zw(e,n))return e}}function Uw(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];zw(r,n)&&i.push(r)}return i}var Bw=function(t){function n(n,i){var e;return(e=t.call(this)||this).tk=n,e.nk=i,e}return U(n,t),z(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(on),Qw=function(){function t(){}return t.ik=function(n){var i=n.Ps,e=n.YM,r=t.ek(i,e,!1);if(!r.rk)throw new Bw(e.Eh,r.js);return r.js},t.ek=function(n,i,e){for(var r=[];i.Eh<n.byteLength;){var s=t.sk(n,i,e);if(!s.rk)return{rk:!1,js:r};r.push(s.uk)}return{rk:!0,js:r}},t.hk=function(n,i){var e=t.sk(n,i,!1);if(!e.rk)throw new Bw(i.Eh);return e.uk},t.ck=function(n,i){for(var e=n.Ps,r=n.YM;r.Eh<e.byteLength;){var s=t.sk(e,r,!1);if(!s.rk)return;if(s.uk.Ao===i)return s.uk}},t.sk=function(n,i,e){var r=i.Eh,s=t.ak(n,i);if(!s.rk)return s;var u=s.fk,o=u.Nh;if(0===o){if(e)return i.Ih(r),{rk:!1,vk:1/0};o=n.byteLength-r}var h=r+o;if(h>n.byteLength){var c=h;return i.Ih(r),{rk:!1,vk:c}}var a={Ao:u.Ao,Eh:r,Ps:new xw(Xu(n,r,h),new no(u.dk))};return i.Ih(h),{rk:!0,uk:a}},t.ak=function(t,n){var i=n.Eh;if(!mu(t,n,8))return{rk:!1,vk:n.Eh+8};var e=Tu(t,n),r=Su(t,n,4);if(1===e){if(!mu(t,n,8)){var s=n.Eh+8;return n.Ih(i),{rk:!1,vk:s}}e=bu(t,n).toNumber()}if("uuid"===r){if(!mu(t,n,16)){var u=n.Eh+16;return n.Ih(i),{rk:!1,vk:u}}r=Su(t,n,16)}return{rk:!0,fk:{Ao:r,Nh:e,dk:n.Eh-i}}},t.lk=function(t,n,i){var e=t.Ps,r=t.YM,s=Wu(qu(e),r.Eh,e.byteLength);return i&&(s=to(s)),r.Th(s.byteLength),{Ao:n,Ps:s}},t.gk=function(n,i,e){var r=Fw(n.HM());return{Ao:i,Ak:r.version,wk:r.flags,Ps:t.lk(n,i,e).Ps}},t}();function Pw(t,n){var i=Yw(t,n);if(!i)throw new f("Missing "+n+" atom");return i}function Yw(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.Ao===n)return e.Ps}}function Gw(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.Ao===n&&i.push(r.Ps)}return i}function Fw(t){return{version:t>>24,flags:new gu(16777215&t)}}var Vw=function(){function t(){}return t.yk=function(n){for(var i=[],e=Qw.ik(new xw(n,new no)),r=0;r<e.length;r++){var s=e[r],u=t._k(s);u&&i.push(u)}return i},t.Mk=function(t){return Qw.ek(t,new no,!1).js.some(function(t){return t.Ao===qA.NM||t.Ao===qA.OM})},t.kk=function(n){return Gw(Qw.ik(new xw(n,new no)),qA.SM).map(t.mk)},t.pk=function(n){return Gw(Qw.ik(n.Ps),qA.SM).map(t.mk)},t._k=function(n){switch(n.Ao){case qA.J_:return t.Nk(n.Ps);case qA.NM:return t.Dk(n.Ps,n.Eh);case qA.LM:return t.Tk(n.Ps);case qA.CM:return t.Ik(n.Ps);case qA.jM:return t.bk(n.Ps)}},t.Nk=function(n){var i=Qw.ik(n),e=Pw(i,qA.K_),r=Gw(i,qA.tM),s=Yw(i,qA.cM),u=t.Ek(e),o=r.map(t.Lk),h=s?t.Sk(s):void 0;return{Ao:qA.J_,fk:u,jk:o,Ck:h}},t.Ek=function(t){var n=Fw(t.HM()),i=n.version,e=n.flags,r=1===i?t.XM():t.HM(),s=1===i?t.XM():t.HM(),u=t.HM(),o=1===i?t.XM():t.HM(),h=t.HM(),c=t.FM()>>8;t.$M(2),t.$M(8);var a=t.qM(9);t.$M(24);var f=t.HM();return{Ao:qA.K_,Ak:i,wk:e,Ok:r,xk:s,l_:u,oA:o,zk:h,AA:c,Rk:a,Uk:f}},t.Lk=function(n){var i=Qw.ik(n),e=Pw(i,qA.nM),r=Pw(i,qA.iM),s=t.Bk(e),u=t.Qk(r);return{Ao:qA.tM,fk:s,Pk:u}},t.Bk=function(t){var n=Fw(t.HM()),i=n.version,e=n.flags,r=1===i?t.XM():t.HM(),s=1===i?t.XM():t.HM(),u=t.HM();t.$M(4);var o=1===i?t.XM():t.HM();t.$M(8);var h=t.VM(),c=t.VM(),a=t.VM()/l.pow(2,8);t.$M(2);var f=t.qM(9),v=t.HM()/l.pow(2,16),d=t.HM()/l.pow(2,16);return{Ao:qA.nM,Yk:e.Sh(1),Gk:e.Sh(2),Fk:e.Sh(4),Ok:r,xk:s,Vk:u,oA:o,Hk:h,Wk:c,AA:a,Rk:f,pu:v,Xk:d}},t.Qk=function(n){var i=Qw.ik(n),e=Pw(i,qA.eM),r=Pw(i,qA.rM),s=Pw(i,qA.sM),u=t.Zk(e),o=t.qk(r),h=t.Jk(s);return{Ao:qA.iM,fk:u,Kk:o,$k:h}},t.Zk=function(t){var n=Fw(t.HM()),i=n.version,e=n.flags,r=1===i?t.XM():t.HM(),s=1===i?t.XM():t.HM(),u=t.HM(),o=1===i?t.XM():t.HM();t.FM();return t.$M(2),{Ao:qA.eM,Ak:i,wk:e,Ok:r,xk:s,l_:u,oA:o}},t.qk=function(t){var n=Fw(t.HM()),i=n.version,e=n.flags;t.$M(4);var r=t.JM(4);t.$M(12);var s=t.KM();return{Ao:qA.rM,Ak:i,wk:e,tm:r,_s:s}},t.Jk=function(n){var i=Pw(Qw.ik(n),qA.uM),e=t.nm(i);return{Ao:qA.sM,im:e}},t.nm=function(n){var i=Pw(Qw.ik(n),qA.oM),e=t.rm(i);return{Ao:qA.uM,sm:e}},t.rm=function(n){for(var i=Fw(n.HM()),e=i.version,r=i.flags,s=(n.HM(),[]),u=Qw.ik(n),o=0;o<u.length;o++){var h=u[o],c=t.um(h.Ps,h.Ao);c&&s.push(c)}return{Ao:qA.oM,Ak:e,wk:r,om:s}},t.um=function(n,i){var e=t.hm(n,i);return e||((e=t.cm(n,i))||(i===qA._M?t.am(n):void 0))},t.hm=function(n,i){return i===qA.wM?t.fm(n):i===qA.mM?t.vm(n):void 0},t.cm=function(n,i){return i===qA.fM?t.dm(n):i===qA.dM||i===qA.lM?t.lm(n,i):i===qA.pM?t.gm(n):void 0},t.Am=function(t,n){return t.$M(6),{Ao:n,wm:t.FM()}},t.ym=function(n,i){var e=t.Am(n,i);n.$M(8);var r=n.FM(),s=n.FM();return n.$M(2),n.$M(2),sr({},e,{_m:r,Mm:s,km:n.HM()>>>16})},t.pm=function(n,i){var e=t.Am(n,i);n.$M(2),n.$M(2),n.$M(12);var r=n.FM(),s=n.FM(),u=n.HM(),o=n.HM();n.$M(4);var h=n.FM();n.$M(32);var c=n.FM();return n.$M(2),sr({},e,{pu:r,Xk:s,Nm:u,Dm:o,Tm:h,Im:c})},t.fm=function(n){var i=t.ym(n,qA.wM),e=Pw(Qw.ik(n),qA.yM);return sr({},i,{bm:t.Em(e)})},t.am=function(n){var i=t.Am(n,qA._M),e=Qw.ik(n),r=Pw(e,qA.MM),s=t.Lm(r),u=Yw(e,qA.kM);return sr({},i,{Sm:s,jm:u?t.Cm(u):u})},t.Lm=function(t){return{Ao:qA.MM,uc:t.KM()}},t.Cm=function(t){return{Ao:qA.kM,vg:t.KM()}},t.Em=function(t){return Qw.gk(t,qA.yM,!0)},t.dm=function(n){var i=t.pm(n,qA.fM),e=Qw.ik(n),r=Pw(e,qA.vM),s=Yw(e,qA.AM);return sr({},i,{Om:t.xm(r),zm:s?t.Rm(s):void 0})},t.lm=function(n,i){var e=t.pm(n,i),r=Pw(Qw.ik(n),qA.gM);return sr({},e,{Um:t.Bm(r)})},t.gm=function(n){var i=n.bh(),e=t.pm(n,qA.pM),r=Pw(Qw.ik(n),qA.zM),s=t.Qm(r);return sr({},e,{Pm:t.cm(i,s.Gm.Ym),Fm:s})},t.vm=function(n){var i=n.bh(),e=t.ym(n,qA.mM),r=Pw(Qw.ik(n),qA.zM),s=t.Qm(r);return sr({},e,{Pm:t.hm(i,s.Gm.Ym),Fm:s})},t.Qm=function(n){var i=Pw(Qw.ik(n),qA.RM),e=t.Vm(i);return{Ao:qA.zM,Gm:e}},t.Vm=function(t){var n=t.JM(4);return{Ao:qA.RM,Ym:n}},t.xm=function(t){return Qw.lk(t,qA.vM,!0)},t.Bm=function(t){return Qw.lk(t,qA.gM,!0)},t.Rm=function(t){var n=t.HM(),i=t.HM();return{Ao:qA.AM,Hm:n,Wm:i}},t.Sk=function(n){var i=Gw(Qw.ik(n),qA.aM).map(t.Xm);return{Ao:qA.cM,jk:i}},t.Xm=function(t){var n=Fw(t.HM()),i=n.version,e=n.flags,r=t.HM(),s=t.HM(),u=t.HM(),o=t.HM(),h=t.HM();return{Ao:qA.aM,Ak:i,wk:e,Vk:r,Zm:s,qm:u,Jm:o,Km:h}},t.Dk=function(n,i){var e=Qw.ik(n),r=Pw(e,qA.DM),s=Gw(e,qA.TM),u=t.$m(r),o=s.map(t.tp);return{Ao:qA.NM,np:i,fk:u,jk:o}},t.$m=function(t){var n=Fw(t.HM()),i=n.version,e=n.flags,r=t.HM();return{Ao:qA.DM,Ak:i,wk:e,ip:r}},t.tp=function(n){var i=Qw.ik(n),e=Pw(i,qA.IM),r=Gw(i,qA.bM),s=Yw(i,qA.EM),u=t.ep(e),o=r.map(function(n){return t.rp(n,u)}),h=s?t.sp(s):void 0;return{Ao:qA.TM,fk:u,op:o,hp:h}},t.ep=function(t){var n=Fw(t.HM()),i=n.version,e=n.flags,r=t.HM(),s=e.Sh(KA.BASE_DATA_OFFSET_PRESENT)?t.XM():void 0,u=e.Sh(KA.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.HM():void 0,o=e.Sh(KA.DEFAULT_SAMPLE_DURATION_PRESENT)?t.HM():void 0,h=e.Sh(KA.DEFAULT_SAMPLE_SIZE_PRESENT)?t.HM():void 0,c=e.Sh(KA.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.HM():void 0;return{Ao:qA.IM,Ak:i,wk:e,Vk:r,cp:s,ap:u,qm:o,Jm:h,Km:c}},t.rp=function(n,i){for(var e=Fw(n.HM()),r=e.version,s=e.flags,u=n.HM(),o=s.Sh($A.DATA_OFFSET_PRESENT)?n.WM():void 0,h=s.Sh($A.FIRST_SAMPLE_FLAGS_PRESENT)?n.HM():void 0,c=[],a=0;a<u;a++){var f=t.fp(n,s,r,i);0===a&&void 0!==h&&(f.wk=h),c.push(f)}return{Ao:qA.bM,Ak:r,wk:s,vp:u,np:o,dp:h,lp:c}},t.fp=function(t,n,i,e){return{oA:n.Sh($A.SAMPLE_DURATION_PRESENT)?t.HM():e.qm,Nh:n.Sh($A.SAMPLE_SIZE_PRESENT)?t.HM():e.Jm,wk:n.Sh($A.SAMPLE_FLAGS_PRESENT)?t.HM():e.Km,gp:n.Sh($A.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.HM():t.WM():void 0}},t.bk=function(t){var n=t.Ps,i=t.YM,e=Fw(Tu(n,i)),r=e.version,s=e.flags;if(1===r){var u=Tu(n,i),o=bu(n,i),h=Tu(n,i),c=Tu(n,i),a=Lu(n,i),f=Lu(n,i),v=$u(qu(n),i.Eh,n.byteLength);return i.Th(v.byteLength),{Ao:qA.jM,Ak:r,wk:s,Ap:a,ps:f,l_:u,wp:o,yp:h,cg:c,_p:v}}var d=Lu(n,i),l=Lu(n,i),g=Tu(n,i),A=Tu(n,i),w=Tu(n,i),y=Tu(n,i),_=$u(qu(n),i.Eh,n.byteLength);return i.Th(_.byteLength),{Ao:qA.jM,wk:s,Ak:r,Ap:d,ps:l,l_:g,Mp:A,yp:w,cg:y,_p:_}},t.Tk=function(t){return Qw.lk(t,qA.LM,!1)},t.mk=function(n){var i=n.Ps,e=n.YM,r=to(qu(i)).buffer,s=Fw(Tu(i,e)),u=s.version,o=s.flags,h=t.kp(i,e),c=[];if(u>0)for(var a=Tu(i,e),f=0;f<a;f++){var v=Mu(i,e,16);c.push(v)}var d=Tu(i,e),l=new y(r,e.Eh,d);return e.Th(i.byteLength),{Ao:qA.SM,Ak:u,wk:o,mp:h,pp:c,Np:d,Ps:l,Dp:r}},t.kp=function(t,n){for(var i="",e=0;e<4;e++){var r=yu(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var s=0;s<2;s++){var u=yu(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var h=yu(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var c=0;c<2;c++){var a=yu(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var f=0;f<6;f++){var v=yu(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.Ik=function(t){var n,i,e=t.Ps,r=t.YM,s=Fw(Tu(e,r)),u=s.version,o=s.flags,h=Tu(e,r),c=Tu(e,r);0===u?(n=Gt.fromBits(Tu(e,r),0,!0),i=Gt.fromBits(Tu(e,r),0,!0)):(n=bu(e,r),i=bu(e,r)),r.Th(2);for(var a=Nu(e,r),f=[],v=0;v<a;v+=1){var d=Tu(e,r),l=d>>31&1,g=2147483647&d,A=Tu(e,r),w=Tu(e,r),y=w>>31&1,_=w>>28&7,M=268435455&w;f.push({Tp:l,Ip:g,oA:A,bp:y,Ep:_,Lp:M})}return{Ao:qA.CM,Ak:u,wk:o,Sp:h,l_:c,jp:n,Cp:i,Op:a,xp:f}},t.sp=function(t){var n,i=t.Ps,e=t.YM,r=Fw(Tu(i,e)),s=r.version,u=r.flags;return n=0===s?Gt.fromBits(Tu(i,e),0,!0):bu(i,e),{Ao:qA.EM,Ak:s,wk:u,hp:n}},t}();function Hw(t){return t&&"Ss"in t?t.Ss:t}var Ww=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this,n,i,e,r)||this).zp=void 0,h.Rp=void 0,h.Up=void 0,h.zp=s,h.Rp=u,h.Up=o||void 0,h}return U(n,t),n.prototype.hy=function(n){return this===n||!!Zd(this,n)&&(!!t.prototype.hy.call(this,n)&&(!!Xd(this.Bp,n.Bp)&&(!!Xd(this.H_,n.H_)&&(this.Qp&&n.Qp?!!this.Qp.gs(n.Qp)&&(this.Fw&&n.Fw?this.Fw.gs(n.Fw):this.Fw===n.Fw):this.Qp===n.Qp))))},z(n,[{key:"Bp",get:function(){return this.zp}},{key:"H_",get:function(){return this.Rp}},{key:"Qp",get:function(){return this.Up}},{key:"ml",get:function(){var t;return this.kl||(this.kl=Hd(fA(t=this),{get styles(){return t.Bp},get regions(){return t.H_},get metadata(){return Hw(t.Qp)},get content(){return Hw(t.Fw)}})),this.kl}}]),n}(AA),Xw=function(){function t(t,n,i){this.Ff=void 0,this.Pp=void 0,this.Yp=void 0,this.Pp=t,this.Yp=n,en(i)?this.Ff=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var s=r[e];i.xs(s)}return i}(0,0,i):this.Ff=i}return z(t,[{key:"Gp",get:function(){return this.Ff.As(!0)}},{key:"Yw",get:function(){return this.Pp}},{key:"Gw",get:function(){return this.Yp}}]),t}();var Zw="http://www.w3.org/XML/1998/namespace";function qw(t,n,i,e){var r=t.Es(i,n);return 0===r.length&&(r=t.Ts(e+":"+n)),r}function Jw(t,n){return function(t,n){var i=t.js.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.js)}return e}(t,function(t){return t.bs===n})}function Kw(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function $w(t,n){for(var i=t.Bs,e={},r=0;r<i.length;r++)e[Kw(i[r]._s,n)]=i[r].ps;return e}var ty=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,ny=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,iy="http://www.w3.org/ns/ttml";function ey(t,n,i){return void 0===i&&(i=tw),function(t,n,i){var e,r=[];try{e=p.ds(t)}catch(t){return r}var s=e.Ys;if("tt"!==s.ys)return r;var u=s&&s.Es(iy,"head")[0],o=s&&s.Es(iy,"body")[0],h=["ebutts","tts","xml"];if(!o||!u)return r;for(var c=function(t,n){for(var i={},e=t.Es(iy,"styling")[0],r=e&&e.Es(iy,"style")||[],s=0;s<r.length;s++){var u=r[s],o=u.Os(Zw,"id");i[o]=$w(u,n)}return i}(u,h),a=function(t,n){var i=Wd(t),e=oy(n.Cs("tts:extent"));if(!e)return i;for(var r=0,s=d.keys(i);r<s.length;r++){var u=s[r],o=oy(i[u].extent);if(o){var h=sy(o[0],e[0]),c=sy(o[1],e[1]);i[u].extent=h+" "+c}var a=oy(i[u].origin);if(a){var f=sy(a[0],e[0]),v=sy(a[1],e[1]);i[u].origin=f+" "+v}}return i}(function(t,n){for(var i={},e=t.Es(iy,"layout")[0],r=e&&e.Es(iy,"region")||[],s=0;s<r.length;s++){var u=r[s],o=u.Os(Zw,"id");if(o){i[o]=$w(u,n);var h=ay(u,n);for(var c in h)q.call(h,c)&&(i[o][c]=h[c])}}return i}(u,h),s),f=u.Es(iy,"metadata")[0],v=function t(n,i,e,r){var s=i;var u;var o=e;var h=[];var c=[];if(en(n)){var a,f;s=null!=(a=cy(n.Cs("begin"),r))?a:s,u=cy(n.Cs("dur"),0),o=null!=(f=cy(n.Cs("end"),r))?f:void 0!==u?s+u:o;for(var v=n.Is,d=0;d<v.length;d++)("body"===n.ys||"div"===n.ys)&&v[d].os>1||(h=h.concat(t(v[d],s,o,r)))}var l=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var s=i[r];e.push(s.Yw,s.Gw)}e.sort(ts);for(var u=e.length,o=0;o<u-1;o++)e[o+1]===e[o]&&(us(e,o+1),o--,u=e.length);return e}(s,o,h);for(var g=0;g<l.length-1;g++){var A=hy(l[g],l[g+1],h);if(A.length<=0&&fy(n)){var w=n.As(!1);c.push(new Xw(l[g],l[g+1],w))}else A.length>0&&function(){var t=n.As(!1);A.forEach(function(n){return t.Ls(n.Gp)}),c.push(new Xw(l[g],l[g+1],t))}()}return c}(o,i.G_,i.F_,i.V_),l=0;l<v.length;l++){var g=v[l],A=ry(a,g);r.push(new Ww(g.Yw,g.Gw,g.Gp,!1,c,A,f))}return r}(t,0,i)}function ry(t,n){for(var i=function t(n){var i=[];var e;if(en(n)){(e=n.Cs("region"))&&i.push(e);for(var r=n.Is,s=0;s<r.length;s++)i=i.concat(t(r[s]))}return i}(n.Gp),e={},r=0;r<i.length;r++){var s=i[r];e[s]=t[s]}return e}function sy(t,n){var i=uy(t),e=uy(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-e.length));return w(r)||w(s)?t:r/s*100+"%"}return t}function uy(t){return xr(t,"px")?"px":xr(t,"em")?"em":xr(t,"c")?"c":xr(t,"%")?"%":void 0}function oy(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function hy(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r].Yw,u=i[r].Gw;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&e.push(i[r])}return e}function cy(t,n){if(t){if(ty.test(t)){var i=ty.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*e+60*r+s+(u?Number(u)*l.pow(.1,u.length):0)-n}if(ny.test(t)){var o=ny.exec(t);if(!o)return;var h,c=Number(o[1]);switch(o[4]){case"h":h=3600*c;break;case"m":h=60*c;break;case"s":h=c;break;case"ms":h=.001*c;break;case"f":case"t":default:h=NaN}return h-n}}}function ay(t,n){for(var i={},e=t.Ts("style")||[],r=0;r<e.length;r++){var s=$w(e[r],n);for(var u in s)q.call(s,u)&&(i[u]=s[u])}return i}function fy(t){if(en(t)){var n=t.ys.toUpperCase(),i=Boolean(t.Cs("smpte:backgroundImage"));return"BR"===n||i}return t.os===$t.cs}function vy(t){var n=function(t){try{return p.ds(t).Ys}catch(t){}}(t);return"tt"===(null==n?void 0:n.ys)}var dy,ly=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Xl=function(n){return t.prototype.Xl.call(this,n)},i.Zl=function(n){var i=t.prototype.Zl.call(this,n);return i&&(n.kg=cl.Ag),i},i.pl=function(){return Al(this)},n}(Qd),gy=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).jk=new ly,n.Fp=function(t){var i=t.Nl;n.Vp(i)},n}U(n,t);var i=n.prototype;return i.Xl=function(t){t.qo(Cd.xl,this.Fp),this.jk.Xl(t),this.Vp(t)},i.Zl=function(t){t.th(Cd.xl,this.Fp),t.kg=cl.Ag,this.jk.Zl(t)},i.Hp=function(t){},i.Wp=function(t){},i.Vp=function(t){t.kg!==cl.Ag?this.Hp(t):this.Wp(t)},i.Xp=function(){for(var t=0,n=this.jk.Kl;t<n.length;t++){var i=n[t];i.th(Cd.xl,this.Fp),i.nd()}},i.Jl=function(){return this.Xp(),this.jk.Jl(),N.resolve()},i.nd=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$o(),t.next=3,this.Jl();case 3:this.jk.nd();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(Cs);!function(t){t.UM="subtitles",t.Zp="captions",t.qp="descriptions",t.Jp="chapters",t.QM="metadata",t.Kp="thumbnails"}(dy||(dy={}));var Ay=[dy.UM,dy.Zp,dy.qp,dy.Jp,dy.QM,dy.Kp];function wy(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&os(Ay,t)}(n)?n:n?dy.QM:dy.UM}var yy,_y=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=e,u.status=r,u}return U(n,t),n}(Uo);function My(t){return t instanceof qf}function ky(t){return Cr(t,yy.$p)}function my(t){return t.some(py)}function py(t){return Cr(t,yy.tN)||Cr(t,yy._M)}function Ny(t,n){return go(t)&&my(n)}function Dy(t,n){return!!t&&(go(t)?function(t){return t.some(ky)}(n)||my(n):Cr(t,lo.APPLICATION_TTML_XML)||Cr(t,lo.TEXT_VTT)||Cr(t,lo.IMAGE_JPEG))}function Ty(t,n){return t===dy.Kp||t===dy.QM&&n===dy.Kp}function Iy(t,n,i,e){for(var r=0,s=t.Dg.Kl;r<s.length;r++){var u=s[r];if(u.Yw>i)break;n<=u.Gw&&e.push(u)}}function by(t,n){return $r(t.ag,n.ag)}function Ey(t,i){var e=i,r=0;if(My(t)&&t.name===Vf.vd)e=t.Ev.Sv;else if(t instanceof Kf){var s=t.yd;if(e=s.Lv,0===(r=s.Nv))return new _y(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new _y(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function Ly(t,i,e,r){var s=function(t){switch(t){case $g.WEBVTT:return"WebVTT";case $g.SRT:return"SRT";case $g.TTML:return"TTML";default:return""}}(t);return new _y(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,e,r)}function Sy(t){return Mw(aw(t))?$g.WEBVTT:vy(t)?$g.TTML:$g.SRT}!function(t){t.tN="vtt",t._M="wvtt",t.$p="stpp"}(yy||(yy={}));var jy=function(t){function n(n){var i;return(i=t.call(this,al._g)||this).errorObject=n,i}return U(n,t),n.prototype.pl=function(){return this},z(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Sd),Cy=function(t){function n(n,i){var e;return(e=t.call(this)||this).nN=void 0,e.iN=void 0,e.eN=new gs,e.nN=n,e.iN=i,e}U(n,t);var i=n.prototype;return i.rN=function(t){if(t.src){var n=t.kind||dy.UM,i=this.nN.sN(n,t.id,t.label,t.srclang,t.default);return i.Ig=Ff(t.src),this.Xl(i),i}},i.uN=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s,u,o,h,c,a,f,v;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.Ng=Kg.LOADING,e=new Qf({Sv:n.Ig,Tv:sh.cs,Xv:xf.GET,Fo:i}),t.prev=2,t.next=5,this.iN.Ev(e);case 5:return u=t.sent,s=u.Nv,t.next=9,u.hv();case 9:r=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),_s(t.t0),n.Ng=Kg.ERROR,n.Zo(new jy(Ey(t.t0,n.Ig))),t.abrupt("return");case 18:for(t.prev=18,o=Sy(r),n.Ao=o,h=[],o===$g.WEBVTT||o===$g.SRT?(c=cw(r),h=c.Dg):o===$g.TTML&&(h=ey(r)),a=0,f=h;a<f.length;a++)v=f[a],n.oN(v);t.next=32;break;case 26:return t.prev=26,t.t1=t.catch(18),_s(t.t1),n.Ng=Kg.ERROR,n.Zo(new jy(Ly(n.Ao,n.Ig,s,t.t1))),t.abrupt("return");case 32:n.Ng=Kg.LOADED;case 33:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i.Hp=function(t){os(this.jk.Kl,t)&&t.Ng===Kg.NONE&&this.uN(t,this.eN.Fo).catch(Ms)},i.qh=function(){},i.Jl=function(){var n=N.coroutine(rr.mark(function n(){var i,e,r;return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.eN.Po(),this.eN=new gs,i=0,e=this.jk.Kl;i<e.length;i++)r=e[i],this.nN.hN(r);return n.next=5,t.prototype.Jl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(gy);function Oy(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.fg===n&&e.cN)return e}}function xy(t,n){zy(Oy(t.Kl,n))}function zy(t){void 0!==t&&(t.kg=cl.yg)}function Ry(t,n){zy(Oy(t.Kl,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.fg===n)return e}}(t.Kl,n))}function Uy(t){for(var n=0;n<Ay.length;n++){var i=Ay[n];i===dy.Jp?Ry(t,i):xy(t,i)}}var By,Qy=function(t){function n(){return t.call(this,rh.Sa)||this}return U(n,t),n}(xs);!function(t){t[t.aN=0]="aN",t[t.fN=1]="fN"}(By||(By={}));var Py=t,Yy=Py.MediaSource,Gy=Py.WebKitMediaSource,Fy=Py.TextTrack,Vy=r&&r.createElement("video"),Hy=(r&&r.documentElement.style,Z.ar&&Z.Fr&&Z.Vr<=26),Wy=(Z.Tr,!!_),Xy=!(!Yy&&!Gy),Zy=!!Fy,qy=(r&&(r.fullscreenEnabled||r.webkitFullscreenEnabled||r.mozFullScreenEnabled||r.msFullscreenEnabled)||Z.pr,Z.Qr&&Z.Pr,Vy&&Vy.canPlayType&&(""!==Vy.canPlayType("application/vnd.apple.mpegURL")||Z.Ar&&!Z.Qr&&Z.wr>=4)),Jy=Vy&&Vy.canPlayType&&""!==Vy.canPlayType("video/mp4")&&!Hy,Ky=Xy&&!Z.Yr&&!Z.Rr&&!Z.zr&&((Yy||Gy).isTypeSupported?(Yy||Gy).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Vy&&Vy.canPlayType&&""!==Vy.canPlayType('audio/mp4; codecs="mp4a.40.34"')),$y=Xy&&!Z.Yr&&(Ky||((Yy||Gy).isTypeSupported?(Yy||Gy).isTypeSupported("audio/mpeg"):Vy&&Vy.canPlayType&&""!==Vy.canPlayType("audio/mpeg"))),t_=Xy&&!(Z.Br&&Z.ar)&&((Yy||Gy).isTypeSupported?(Yy||Gy).isTypeSupported('video/mp4; codecs="avc1.4d401e"'):Jy),n_=(Z.Yr||Z.Rr||Z.zr,Z.Ur),i_=n_&&!1,e_=!Z.Yr,r_=Z.Rr&&Z.dr&&Z.gr<=6.1,s_=Vy&&"onresize"in Vy;try{e&&e.top!==e.self}catch(t){!0}var u_=.001,o_=1e4,h_=3,c_=function(t){function n(n){var i;return(i=t.call(this,Wl.rA)||this).currentTime=n,i}return U(n,t),n}(xs),a_=function(t){function n(n){var i;return(i=t.call(this,Wl.sA)||this).currentTime=n,i}return U(n,t),n}(xs),f_=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).vN=El.Zg,e.dN=!0,e.lN=!1,e.gN=!1,e.AN=function(t){var n=t.readyState;n!==e.vN&&e.Zo(t),n===El.Zg&&(e.lN=!1,e.gN=!1),e.wN(n),e.yN(n),e._N(n),e.maybeDispatchCanPlayThroughEvent(n),e.MN(n),e.kN(n),e.vN=n},e.mN=function(){e.kN(e.vN),e.MN(e.vN),e.dN=e.pN.fA},e.NN=function(){e.dN=e.pN.fA},e.pN=n,e.DN=i,e.pN.qo(Wl.Rl,e.AN),e.pN.qo(rh.Ia,e.mN),e.pN.qo(rh.Ta,e.NN),e.DN&&e.pN.qo(Wl.sA,e.Xo),e}U(n,t);var i=n.prototype;return i.wN=function(t){!this.gN&&t>=El.qg&&(this.gN=!0,this.Zo(new tg(this.pN.uA,t)))},i.yN=function(t){!this.lN&&t>=El.Jg&&(this.lN=!0,this.Zo(new sg(this.pN.uA,t)))},i.MN=function(t){this.DN||(t>=El.Kg&&this.vN<El.Kg&&!this.pN.fA||this.TN&&t>=El.Kg)&&this.Zo(new a_(this.pN.uA))},i.kN=function(t){!this.IN(t)||this.pN.hA||this.pN.vh||this.Zo(new c_(this.pN.uA))},i._N=function(t){this.vN<=El.Jg&&t>=El.Kg&&this.Zo(new cg(this.pN.uA,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===El.$g&&this.Zo(new ag(this.pN.uA,t))},i.IN=function(t){var n=!this.pN.fA&&t<=El.Jg,i=!this.dN&&this.vN<=El.Jg;return n&&!i},i.Jl=function(){this.vN=El.Zg,this.dN=!0,this.lN=!1,this.gN=!1},i.nd=function(){this.$o(),this.DN&&this.pN.th(Wl.sA,this.Xo),this.pN.th(rh.Ia,this.mN),this.pN.th(rh.Ta,this.NN),this.pN.th(Wl.Rl,this.AN)},z(n,[{key:"TN",get:function(){return!this.pN.fA&&this.dN}}]),n}(Cs),v_="titanium",d_="conax",l_="ezdrm",g_="irdeto",A_="vudrm",w_="verimatrix",y_="keyos",__="drmtoday",M_="expressplay",k_="azure",m_="xstream",p_="vimond",N_="axinom",D_="uplynk",T_="comcast",I_="custom",b_=function(){function t(t,n,i,e,r){this.sc=void 0,this.bN=void 0,this.EN=void 0,this.LN=void 0,this.iN=void 0,this.SN=void 0,this.jN=void 0,this.sc=t,this.bN=n,this.EN=i,this.iN=e,this.jN=r,this.LN=this.CN(n)}var i=t.prototype;return i.ON=function(){return this.SN},i.xN=function(t){this.SN=t},i.zN=function(){return this.LN.licenseAcquisitionURL||this.ON()},i.RN=function(t){return N.resolve()},i.UN=function(t,n){return N.resolve(void 0)},i.BN=function(){var t=N.coroutine(rr.mark(function t(i,e,r,s){var u,o;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(u=this.QN(i,e,r,s)).Sv){t.next=3;break}throw new jg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.Al.Ev(u);case 6:return o=t.sent,t.next=9,o.cv(e);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),_s(t.t0),t.next=17,this.PN(t.t0,u.Sv,s);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,i,e,r){return t.apply(this,arguments)}}(),i.QN=function(t,n,i,e){var r=this.YN().Xa(),s=this.Kv,u={Sv:this.GN(),Tv:n,Dv:r,dv:t,Kv:s,Xv:xf.POST,Zv:0,Fo:e,Ao:zf.zv,qv:i};return new Qf(u)},i.FN=function(t,n){return N.resolve(t)},i.VN=function(t,n,i,e){return N.resolve(t)},i.YN=function(){return new uh(this.LN.headers||{})},i.PN=function(){var t=N.coroutine(rr.mark(function t(i,e,r){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new jg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",i);case 1:case"end":return t.stop()}},t)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.GN=function(t,n){var i=n,e=this.LN.queryParameters;if(!i){var r=this.zN();if(!r)return"";i=r}if(e||t){var s=p.Fu(i);t&&Gf(s,t),e&&Gf(s,e),i=s.href}return i},i.HN=function(t){return function(t,n){var i=n.licenseResponseProcessor;return N.resolve(new y(E_(t,i)))}(t,this.LN)},i.WN=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r,s,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.XN(n,e);case 2:return r=t.sent,t.next=5,this.BN(r,this.jN,i,e);case 5:return s=t.sent,t.next=8,this.HN(s);case 8:return u=t.sent,t.abrupt("return",u);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.nd=function(){},z(t,[{key:"Al",get:function(){return this.iN}},{key:"ZN",get:function(){return!1}},{key:"qN",get:function(){var t=this.LN.certificate;if(t)return et(t)?qs(t):Ku(t)}},{key:"JN",get:function(){return!1}},{key:"Kv",get:function(){return Boolean(this.LN.useCredentials)}}]),t}();function E_(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new jg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function L_(t,n){var i=to(t).buffer,e=n.licenseRequestProcessor;return N.resolve(E_(i,e))}var S_,j_,C_=function(t){function n(n,i,e,r){return t.call(this,Ir,n,i,e,r)||this}U(n,t);var i=n.prototype;return i.CN=function(t){return t.widevine||{}},i.KN=function(){var t=N.coroutine(rr.mark(function t(n,i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.qN){t.next=2;break}return t.abrupt("return",this.qN);case 2:return t.abrupt("return",this.$N(new y(n),i));case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.$N=function(n,i){return t.prototype.WN.call(this,n,Rf.Qv,i)},n}(b_);function O_(t,n){if(null==t)return{};var i,e,r={},s=d.keys(t);for(e=0;e<s.length;e++)i=s[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function x_(t){return K(t.token&&t.deviceId)}function z_(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&K(i.PreAuthorization)}function R_(t){var n=t;return x_(n)&&""!==n.token&&""!==n.deviceId&&!z_(n)}(j_=S_||(S_={})).tD=!1,j_.nD=!1,j_.iD=!1,j_.eD=!1,j_.LOG_ADS_DETAILS=!1,j_.LOG_CHROMECAST_DETAILS=!1,j_.LOG_CUSTOM_DRM=!1,j_.LOG_BUFFERING_VIDEO_MAIN=!1,j_.LOG_BUFFERING_VIDEO_SELECTION=!1,j_.LOG_BUFFERING_AUDIO_MAIN=!1,j_.LOG_BUFFERING_AUDIO_SELECTION=!1,j_.rD=!1,j_.sD=!1;var U_,B_=function(){function t(t,n,i){this.uD=t,this.Vh=n,this.oD=i}return t.prototype.hD=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new v("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new v("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new v("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new v("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new v("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.oD.build(t))},z(t,[{key:"cD",get:function(){return this.uD}},{key:"sc",get:function(){return this.Vh}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(U_||(U_={}));var Q_=function(){function t(){this.aD=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,e){switch(this.fD(t,i,e)){case U_.FAILED:throw new jg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case U_.OVERRIDDEN:var r=sM(i);p.Su("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case U_.SUCCEEDED:sM(i);0}},i.fD=function(t,n,i){var e=sM(n);if(!e)return U_.FAILED;for(var r=U_.SUCCEEDED,s=0,u=this.aD.slice();s<u.length;s++){var o=u[s];o.cD===t&&o.sc===e&&(r=U_.OVERRIDDEN,ss(this.aD,o))}return this.aD.push(new B_(t,e,i)),r},i.vD=function(t,n){return void 0!==this.dD(t,n)},i.lD=function(t,n,i){var e=this.dD(t,n);if(!e)throw f("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.hD(i)},i.dD=function(t,n){for(var i=0,e=this.aD;i<e.length;i++){var r=e[i];if(r.cD===t&&(!n||r.sc===n))return r}},t}();Q_.gD=new Q_;var P_=["customdata"],Y_={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function G_(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,s=t.useCredentials,u=t.queryParameters,o=t.certificateRequestProcessor,h=t.certificateResponseProcessor,c=t.licenseRequestProcessor,a=t.licenseResponseProcessor;return!(n||i||e||r||s||u||o||h||c||a)}function F_(t){return t&&void 0!==t.licenseAcquisitionURL}var V_,H_=F_,W_=F_;function X_(t){if(!t)return!0;if(K_(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,s=t.aes128;return G_(n)&&G_(i)&&G_(e)&&G_(r)&&G_(s)}function Z_(t){var n=R_(t),i=function(t){var n,i=t;return z_(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!x_(i)}(t);return(!n||!i)&&(n||i)}function q_(t){return t.integration===g_}function J_(t){var n=t;if(!n)return!1;if(X_(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,s=n.clearkey;if(K_(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!H_(e))return!1;if(r&&!W_(r))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(Q_.gD.vD(n.integration))return!0;switch(n.integration){case v_:if(!function(t){return t.integration===v_&&($_(t)||tM(t))}(t))return!1;break;case A_:if(!nM(t))return!1;break;case w_:if(!function(t){return t.integration===w_}(t))return!1;break;case g_:if(!q_(t))return!1;break;case d_:if(!Z_(t))return!1;break;case l_:if(!function(t){return t.integration===l_}(t))return!1;break;case y_:if(!K_(t))return!1;break;case __:if(!function(t){var n=t;return n.integration===__&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case M_:if(!function(t){return t.integration===M_}(t))return!1;break;case m_:if(!iM(t))return!1;break;case p_:if(!function(t){return t.integration===p_}(t))return!1;break;case N_:if(!eM(t))return!1;break;case k_:if(!function(t){var n=t;return n.integration===k_&&void 0!==n.token}(t))return!1;break;case D_:if(!function(t){return t.integration===D_}(t))return!1;break;case T_:if(!function(t){var n=t;return n&&K(n.releasePid)&&K(n.accountId)&&K(n.token)}(t))return!1;break;case I_:return!0;default:return!1}}return!0}function K_(t){return t.integration===y_}function $_(t){return void 0!==t.authToken}function tM(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function nM(t){var n=t;return n.integration===A_&&void 0!==n.token}function iM(t){var n=t;return n&&n.integration===m_&&et(n.ticketAcquisitionURL)&&et(n.streamId)}function eM(t){var n=t;return n.integration===N_&&void 0!==n.token}function rM(t,n){var i,e,r,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:Y_[t],o=null!=(e=null==s?void 0:s.customdata)?e:n.customdata,h=o?{customData:o}:{},c=sr({},null!=(r=null==s?void 0:s.headers)?r:{},h),a=null!=s?s:{};a.customdata;return sr({},O_(a,P_),{licenseAcquisitionURL:u,headers:c})}function sM(t){switch(t.toLowerCase()){case"widevine":case mr:return mr;case"playready":case Mr:return Mr;case"fairplay":case Nr:return Nr}}function uM(t,i){switch(t){case wr:return function(t){for(var n={},i=Vw.kk(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.mp]=r.Dp}return n}(i);case yr:case _r:return function(t){var n;return(n={})[pr]=t,n}(i);default:throw new Uo(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.fo="Widevine",t.ao="PlayreadyV2",t.wD="PlayreadyV2",t.yD="PlayreadyV3",t.vo="Fairplay"}(V_||(V_={}));var oM={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function hM(t,n){var i,e,r,s,u=oM[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=p.Hu)?void 0:i.Wu,OSVersion:null==(e=p.Hu)?void 0:e.$u,DRMProvider:u.DRMProvider,DRMVersion:u.DRMVersion,DRMType:u.DRMType,DeviceVendor:null==(r=p.Hu)?void 0:r.to,DeviceModel:null==(s=p.Hu)?void 0:s.io}}}function cM(t,i){if(!t.accountName)throw new jg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new jg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new jg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new jg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function aM(t,n,i){var e;if($_(t))e={AuthToken:t.authToken,Payload:n};else{if(!tM(t))throw cM(t,i);e={LatensRegistration:hM(t,i),Payload:n}}return uu(JSON.stringify(e))}function fM(t,n,i){return vM.apply(this,arguments)}function vM(){return(vM=N.coroutine(rr.mark(function t(i,e,r){var s,u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i.yd){t.next=3;break}throw new jg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,e);case 3:return u=s,t.prev=4,t.next=7,u.ov(r);case 7:o=t.sent,h=dM(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),h="";case 14:throw new jg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,u.Ev.Sv,u.Nv,u.Iv,h);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function dM(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var lM=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,sh.Ha)||this)._D=void 0,r}U(i,t),i.MD=function(){return p.Wu.yu?"required":"optional"};var e=i.prototype;return e.PN=function(t,n,i){return fM(t,n,i)},e.RN=function(t){return this._D?ks(this._D.Ch,t):(this._D=new eo,N.resolve())},e.XN=function(){var t=N.coroutine(rr.mark(function t(i,e){var r,s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.bN){t.next=3;break}throw new jg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return s=Ks(i),t.abrupt("return",aM(r,s,V_.fo));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.HN=function(t){var i;if(!t.license)throw new jg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=qs(t.license),N.resolve(i)},e.kD=function(t){return N.resolve(new y(t))},e.KN=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mD(),t.next=3,this.XN(n,i);case 3:return e=t.sent,t.next=6,this.BN(e,sh.Va,Rf.Pv,i);case 6:return r=t.sent,t.next=9,this.kD(r);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.$N=function(){var n=N.coroutine(rr.mark(function n(i,e){var r;return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.$N.call(this,i,e);case 2:return r=n.sent,this.mD(),n.abrupt("return",r);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),e.mD=function(){this._D||(this._D=new eo),this._D.Oh()},e.nd=function(){this._D&&this._D.Po(),t.prototype.nd.call(this)},i}(C_),gM=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,sh.Va)||this).xN("https://widevine-proxy.drm.technology/proxy"),r}return U(i,t),i.prototype.XN=function(){var t=N.coroutine(rr.mark(function t(i,e){var r,s,u,o;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L_(i,this.LN);case 2:if(r=t.sent,s=this.EN,e=new y(r),u=[].slice.call(e),o=this.pD){t.next=8;break}throw new jg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:o,drm_info:u,kid:s}));case 9:case"end":return t.stop()}var e},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),z(i,[{key:"pD",get:function(){if(nM(this.bN))return this.bN.token}}]),i}(C_);function AM(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=sr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),sr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var wM=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,sh.Va)||this).xN("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}U(n,t);var i=n.prototype;return i.XN=function(t,n){return L_(t,this.LN)},i.GN=function(n,i){var e=n;return q_(this.bN)&&(e=AM(this.bN,e)),t.prototype.GN.call(this,e,i)},n}(C_),yM="Conax-Custom-Data";function _M(t,n,i){var e=t&&Z_(t)&&t;if(e&&!i.has(yM)){var r=R_(e)?e.token:void 0,s=R_(e)?e.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(yM,u)}return i}var MM=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,sh.Va)||this).xN("https://connect.conax.com:8094/license"),r}U(n,t);var i=n.prototype;return i.XN=function(t,n){return L_(t,this.LN)},i.YN=function(){var n=t.prototype.YN.call(this);return _M(this.bN,"Widevine",n)},n}(C_);function kM(t){var n=Qu(new y(t));return qs(JSON.parse(n).license)}function mM(t){return"string"==typeof t.token?t.token:uu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function pM(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var NM=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,sh.Va)||this).xN("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}U(n,t);var i=n.prototype;return i.XN=function(t,n){return L_(t,this.LN)},i.HN=function(t){return N.resolve(kM(t))},i.YN=function(){return pM(t.prototype.YN.call(this),this.pD,this.bN)},z(n,[{key:"pD",get:function(){return mM(this.bN)}}]),n}(C_),DM=function(t){function n(n,i,e){return t.call(this,n,i,e,sh.Va)||this}U(n,t);var i=n.prototype;return i.XN=function(t,n){return L_(t,this.LN)},i.YN=function(){var n=t.prototype.YN.call(this),i=this.bN.token;return n.set("Authorization","Bearer "+i),n},n}(C_);function TM(t,n,i,e){return IM.apply(this,arguments)}function IM(){return(IM=N.coroutine(rr.mark(function t(i,e,r,s){var u,o,h,c,a,f,v;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(iM(i)){t.next=2;break}throw new jg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(u=new uh).append("Cache-Control","no-cache"),u.append("Content-Type","application/json"),(o=i.sessionId)&&u.append("XSSESSION",o),h=i.streamId,c=i.fairplay?"persistent"===i.fairplay.licenseType?"persistent":"non-persistent":i.widevine&&"persistent"===i.widevine.licenseType?"persistent":"non-persistent",a={drmType:e,licenseType:c,streamId:h},f={Sv:i.ticketAcquisitionURL,Tv:sh.Ha,Dv:u,Xv:xf.POST,dv:JSON.stringify(a),Fo:s},t.next=13,r.Ev(f);case 13:return v=t.sent,t.next=16,v.ov();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var bM=function(t){function n(n,i,e){return t.call(this,n,i,e,sh.Ha)||this}U(n,t);var i=n.prototype;return i.YN=function(){var n=t.prototype.YN.call(this);return n.set("Content-Type","application/json"),n},i.XN=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=su(n.buffer),r=this.bN,t.next=4,TM(r,"widevine_modular",this.Al,i);case 4:return s=t.sent,this.xN(s.licenseServerUrl),u=Pu(JSON.stringify({payload:e,ticket:s.ticket})),t.abrupt("return",L_(u,this.LN));case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.HN=function(t){var n=t;return N.resolve(qs(n.license))},n}(C_),EM=function(t){function i(n,i,e){return t.call(this,n,i,e,sh.Va)||this}U(i,t);var e=i.prototype;return e.XN=function(t,n){return L_(t,this.LN)},e.YN=function(){if(!eM(this.bN))throw new jg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.YN.call(this);return i.set("X-AxDRM-Message",this.bN.token),i},i}(C_);function LM(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var SM=function(t){function n(n,i,e){var r;return(r=t.call(this,Tr,n,i,e,sh.Va)||this).ND=void 0,r}U(n,t);var i=n.prototype;return i.CN=function(t){return t.playready||{}},i.YN=function(){var n=new uh(this.ND);return n.qa(t.prototype.YN.call(this)),n},i.DD=function(t){return t.length>=1&&t[0].Is.length>0},i.UN=function(n){var i=this.bN.playready.customData;if(i){var e=LM(i),r=LM('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Ks(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return N.resolve({playready:{jc:r}})}return t.prototype.UN.call(this,n)},i.XN=function(){var t=N.coroutine(rr.mark(function t(n,i){var e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L_(n,this.LN);case 2:return e=t.sent,t.abrupt("return",this.TD(e));case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.TD=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r,s,u,o,h,c,a,f,v,d,l,g,A,w;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=null,o=new DataView(n),h=Ru(o,new no,!0),t.prev=3,c=p.ds(h),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",u);case 10:for(a=null==(i=c.Ts("PlayReadyKeyMessage")[0])?void 0:i.Ts("LicenseAcquisition")[0],f=null!=(e=null==a?void 0:a.Ts("Challenge"))?e:[],this.DD(f)&&(u=ru(f[0].Qs)),v=new uh,d=null!=(r=null==a?void 0:null==(s=a.Ts("HttpHeaders")[0])?void 0:s.Ts("HttpHeader"))?r:[],l=0;l<d.length;l++)g=d[l],A=g.Ts("name")[0].Qs,w=g.Ts("value")[0].Qs,v.append(A,w);return this.ND=v,t.abrupt("return",u);case 18:case"end":return t.stop()}},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),i.KN=function(t,n){return N.resolve(t)},i.$N=function(n,i){return t.prototype.WN.call(this,n,Rf.Yv,i)},n}(b_),jM=function(){function t(n){this.bD=void 0,this.ED=n,this.bD=t.LD(n)}return t.LD=function(t){return"3"===t.version?V_.yD:V_.wD},t.prototype.SD=function(){var t={};if(this.bD===V_.yD){var n={LatensRegistration:hM(this.ED,V_.yD)};t["X-TITANIUM-DRM-CDATA"]=uu(JSON.stringify(n))}return t},z(t,[{key:"jD",get:function(){return this.bD}},{key:"yc",get:function(){return this.bD===V_.wD}}]),t}();var CM=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).CD=void 0,r.CD=new jM(r.bN),r}U(i,t);var e=i.prototype;return e.UN=function(t){var i=this.bN;if(!this.bN)throw new jg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(tM(i)){var e={};return e.playready={jc:OM(i,this.CD.jD)},N.resolve(e)}return N.reject(cM(i,V_.ao))},e.YN=function(){var n=new uh(this.CD.SD());return n.qa(t.prototype.YN.call(this)),n},e.PN=function(){var t=N.coroutine(rr.mark(function t(i,e,r){var s,u,o,h,c,a,f,v;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i.yd){t.next=3;break}throw new jg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,e);case 3:return t.prev=3,t.next=6,s.av(r);case 6:h=t.sent,c=Qu(new y(h)),(a=p.ds(c))&&(f=Jw(a,"CustomData")).length>0&&(u=JSON.parse(f[0].Qs),o=null==(v=u.DrmErr)?void 0:v.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new jg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,e,s.Nv,s.Iv,o);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,i,e){return t.apply(this,arguments)}}(),e.DD=function(t){if(1!==t.length)throw new jg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(SM);function OM(t,n){var i=hM(t,n),e=i.DeviceInfo.FormatVersion,r=uu('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=Gu(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Gu('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Ks(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var xM,zM=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).xN("https://playready-license.drm.technology/rightsmanager.asmx"),r}U(i,t);var e=i.prototype;return e.DD=function(t){if(1!==t.length)throw new jg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.GN=function(n,i){var e=sr({},n||{},{token:this.pD});return t.prototype.GN.call(this,e,i)},z(i,[{key:"pD",get:function(){if(nM(this.bN))return this.bN.token}}]),i}(SM),RM=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).xN("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return U(n,t),n.prototype.GN=function(n,i){var e=n;return q_(this.bN)&&(e=AM(this.bN,e)),t.prototype.GN.call(this,e,i)},n}(SM),UM=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).xN("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return U(n,t),n.prototype.YN=function(){var n=t.prototype.YN.call(this);return _M(this.bN,"PlayReady",n)},n}(SM),BM=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).xN("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}U(n,t);var i=n.prototype;return i.HN=function(n){return(Or(Qu(new y(n)),"<?xml")?xM.OD:xM.ov)===xM.ov?N.resolve(kM(n)):N.resolve(t.prototype.HN.call(this,new y(n)))},i.YN=function(){return pM(t.prototype.YN.call(this),this.pD,this.bN)},z(n,[{key:"pD",get:function(){return mM(this.bN)}}]),n}(SM);!function(t){t[t.OD=0]="OD",t[t.ov=1]="ov"}(xM||(xM={}));var QM,PM=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).xD=void 0,r}U(n,t);var i=n.prototype;return i.YN=function(){var n=t.prototype.YN.call(this);return this.xD&&n.set("Ticket",this.xD),n.set("Content-Type","text/xml"),n},i.XN=function(){var n=N.coroutine(rr.mark(function n(i,e){var r,s;return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.bN,n.next=3,TM(r,"playready",this.Al,e);case 3:return s=n.sent,this.xN(s.licenseServerUrl),this.xD=s.ticket,n.abrupt("return",t.prototype.XN.call(this,i,e));case 7:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n}(SM),YM=function(t){function i(){return t.apply(this,arguments)||this}return U(i,t),i.prototype.YN=function(){if(!eM(this.bN))throw new jg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.YN.call(this);return i.set("X-AxDRM-Message",this.bN.token),i},i}(SM);!function(t){t.Ha="application/json",t.zD="application/x-www-form-urlencoded",t.RD="application/octet-stream",t.cs="text/plain;charset=UTF-8"}(QM||(QM={}));var GM=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n.sc,i,e,r,s)||this).UD="",u.BD=void 0,u.QD=void 0,u.QD=n.PD,u}U(n,t);var i=n.prototype;return i.YD=function(){return this.LN.certificateURL||this.BD},i.GD=function(t){this.BD=t},i.XN=function(t){return N.resolve(this.FD(t,this.UD))},i.FD=function(t,n){return"spc="+encodeURIComponent(Ks(t))+"&assetId="+encodeURIComponent(n)},i.CN=function(t){return t.fairplay||{}},i.VD=function(t){var n=t.indexOf("?");if(n>=0)return N.resolve(t.substr(n+1));var i=t.split("/");return N.resolve(i[i.length-1])},i.UN=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r,s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=null!=(i=this.QD)?i:Vu(new y(n)),t.next=3,this.VD(e);case 3:return r=t.sent,this.UD=r,(s={}).fairplay={Bc:r},t.abrupt("return",s);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.YN=function(){var n=t.prototype.YN.call(this);return n.set("Content-Type",this.HD),n},i.KN=function(){var t=N.coroutine(rr.mark(function t(n,i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.qN){t.next=2;break}return t.abrupt("return",this.qN);case 2:return t.next=4,this.WD(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.$N=function(n,i){return t.prototype.WN.call(this,n,Rf.Uv,i)},i.XD=function(t){var n=this.YD(),i=this.YN(),e={Sv:n,Tv:sh.Va,Dv:i,Xv:xf.GET,Kv:!1,dv:null,Zv:0,Fo:t,Ao:zf.zv,qv:Rf.Bv};return new Qf(e)},i.WD=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.XD(n),t.next=3,this.Al.Ev(i);case 3:return e=t.sent,t.next=6,e.av();case 6:return r=t.sent,t.abrupt("return",new y(r));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.HN=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=qs(i)}else n=new y(t);return N.resolve(n)},i.GN=function(n,i){var e=t.prototype.GN.call(this,n,i);return Or(e,"skd:")&&(e=e.substr("skd:".length)),e},z(n,[{key:"JN",get:function(){return!0}},{key:"HD",get:function(){return QM.zD}}]),n}(b_),FM=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,sh.Va)||this}U(n,t);var i=n.prototype;return i.VD=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return N.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return N.resolve(i)},i.XN=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.HN=function(t){return N.resolve(new y(t))},i.GN=function(n,i){var e=n||{};return e.p1=Jt(),t.prototype.GN.call(this,e,i)},z(n,[{key:"HD",get:function(){return QM.RD}}]),n}(GM),VM=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,sh.Va)||this).xN("https://fairplay-license.drm.technology/license"),s.GD("https://fairplay-license.drm.technology/certificate"),s}U(i,t);var e=i.prototype;return e.FD=function(t,n){var i={token:this.pD,contentId:n,payload:Ks(t)};return JSON.stringify(i)},e.HN=function(t){return N.resolve(new y(t))},e.YN=function(){var n=t.prototype.YN.call(this);return n.set("x-vudrm-token",this.pD),n},z(i,[{key:"HD",get:function(){return QM.Ha}},{key:"pD",get:function(){if(!nM(this.bN))throw new jg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.bN.token}}]),i}(GM),HM="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",WM="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",XM=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,sh.Va)||this}return U(i,t),i.prototype.HN=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new jg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,HM)}if(!i)throw new jg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,WM);return i}(Qu(new DataView(i)));return t.prototype.HN.call(this,e)},i}(GM);var ZM=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,sh.Ha)||this}U(i,t);var e=i.prototype;return e.XN=function(){var t=N.coroutine(rr.mark(function t(i){var e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.bN){t.next=3;break}throw new jg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return r=Ks(i),t.abrupt("return",aM(e,r,V_.vo));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.HN=function(t){try{var i;if(et(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=ru(i.license);return N.resolve(new y(r))}return N.reject(new jg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return N.reject(new jg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},e.PN=function(t,n,i){return fM(t,n,i)},z(i,[{key:"HD",get:function(){return QM.Ha}}]),i}(GM),qM=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,sh.Va)||this).xN("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.GD("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}U(n,t);var i=n.prototype;return i.YD=function(){var n=t.prototype.YD.call(this);if(!n)return n;var i=p.Fu(n),e=this.bN;return q_(e)&&Gf(i,{accountId:e.accountId,applicationId:e.applicationId||""}),i.href},i.VD=function(n){return q_(this.bN)?N.resolve(this.bN.contentId):t.prototype.VD.call(this,n)},i.XN=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.HN=function(t){return N.resolve(new y(t))},i.GN=function(n,i){var e=n;return q_(this.bN)&&(e=function(t,n){return sr({},AM(t,n),{KeyId:t.keyId})}(this.bN,e)),t.prototype.GN.call(this,e,i)},z(n,[{key:"HD",get:function(){return QM.RD}}]),n}(GM),JM=function(t){function i(i,e,r,s){var u;if(u=t.call(this,i,e,r,s,sh.cs)||this,!Z_(e))throw new jg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.xN("https://connect.conax.com:8097/license"),u}U(i,t);var e=i.prototype;return e.YN=function(){var n=t.prototype.YN.call(this);return _M(this.bN,"FairPlay",n)},e.WD=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r,s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.YD(),e={Sv:i,Tv:sh.Va,Dv:{},Xv:xf.GET,Kv:!1,dv:null,Zv:0,Fo:n,Ao:zf.zv,qv:Rf.Bv},t.next=4,this.Al.Ev(e);case 4:return r=t.sent,t.next=7,r.av();case 7:return s=t.sent,t.abrupt("return",new y(s));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.XN=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),e.VD=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),N.resolve(Qu(qs(n)))):N.resolve("unknown")},e.HN=function(t){try{var n=JSON.parse(t);return N.resolve(new y(ru(n.CkcMessage)))}catch(t){return N.reject("CFLRW-66")}},i}(GM),KM=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,sh.cs)||this).xN(Y_[gr.vo]),s}U(i,t);var e=i.prototype;return e.VD=function(t){return Or(t,"skd://")?N.resolve(t.substring("skd://".length,40)):N.reject(new jg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.FD=function(t,n){return"spc="+Ks(t)+"&assetId="+n},i}(GM),$M=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,sh.cs)||this).xN("https://lic.drmtoday.com/license-server-fairplay/"),s}U(n,t);var i=n.prototype;return i.FD=function(t,n){var i="spc="+encodeURIComponent(Ks(t))+"&"+encodeURI(n);return"persistent"===this.LN.licenseType?i+"&offline=true":i},i.YN=function(){return pM(t.prototype.YN.call(this),this.pD,this.bN)},z(n,[{key:"pD",get:function(){return mM(this.bN)}}]),n}(GM),tk=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,sh.Va)||this}U(n,t);var i=n.prototype;return i.VD=function(t){var n=t;return Or(n,"skd:")&&(n="http:"+n.substring(4)),Or(n,"http:")||Or(n,"https:")?N.resolve(p.Fu(n).hostname):N.reject(new f("Could not parse ExpressPlay FairPlay content ID."))},i.XN=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.HN=function(t){return N.resolve(new y(t))},z(n,[{key:"HD",get:function(){return QM.RD}}]),n}(GM),nk=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,sh.cs)||this}return U(n,t),n.prototype.YN=function(){var n=t.prototype.YN.call(this),i=this.bN.token;return n.set("Authorization","Bearer "+i),n},n}(GM),ik=function(t){function n(n,i,e,r){var s;if(s=t.call(this,n,i,e,r,sh.Ha)||this,!iM(i))throw new f("Invalid Xstream DRM configuration");return s}U(n,t);var i=n.prototype;return i.WD=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r,s,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.YD(),e=this.YN(),r={Sv:i,Tv:sh.Ha,Dv:e,Xv:xf.POST,Fo:n,Ao:zf.zv,qv:Rf.Bv},t.next=5,this.Al.Ev(r);case 5:return s=t.sent,t.next=8,s.ov();case 8:return u=t.sent,t.abrupt("return",new y(qs(u.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.$N=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r,s,u,o,h,c,a;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=sh.cs),r=Ks(n),s=this.bN,t.next=5,TM(s,"fairplay",this.Al,i);case 5:return u=t.sent,o=Pu(JSON.stringify({spc:r,ticket:u.ticket})),h={Sv:this.zN(),Tv:sh.Ha,Dv:this.YN(),Xv:xf.POST,dv:o,Zv:0,Fo:i,Ao:zf.zv,qv:Rf.Uv},t.next=10,this.Al.Ev(h);case 10:return c=t.sent,t.next=13,c.ov();case 13:return a=t.sent,t.abrupt("return",qs(a.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),z(n,[{key:"HD",get:function(){return QM.Ha}}]),n}(GM),ek=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,sh.cs)||this}U(i,t);var e=i.prototype;return e.FD=function(t,n){return Ks(t)},e.HN=function(i){if(0===i.length)throw new jg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.HN.call(this,i)},e.YN=function(){var n=t.prototype.YN.call(this);return n.set("Content-Type","text/plain"),n},i}(GM),rk=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,sh.Va)||this}U(i,t);var e=i.prototype;return e.FD=function(t,n){return t},e.HN=function(t){return N.resolve(new y(t))},e.YN=function(){if(!eM(this.bN))throw new jg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.YN.call(this);return i.set("X-AxDRM-Message",this.bN.token),i},z(i,[{key:"HD",get:function(){return QM.Ha}}]),i}(GM),sk=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,sh.Ha)||this).ZD=void 0,s}U(i,t);var e=i.prototype;return e.FD=function(t,n){var i={spc:Ks(t)};return JSON.stringify(i)},e.VD=function(t){var i=p.Fu(t);return this.ZD=t,i.searchParams.has("b")?N.resolve(i.searchParams.get("b")):N.reject(new jg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},e.GN=function(n,i){var e=this.zN();return!e&&this.ZD&&(e=this.ZD),e&&(e=e.replace("skd://","https://")),t.prototype.GN.call(this,n,i||e)},e.HN=function(){var t=N.coroutine(rr.mark(function t(i){var e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(e=et(i)?JSON.parse(i.trim()):i).ckc){t.next=4;break}return t.abrupt("return",qs(e.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new jg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new jg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),z(i,[{key:"HD",get:function(){return QM.cs}}]),i}(GM),uk=function(){function t(t,n){this.qD=t,this.JD=n}var n=t.prototype;return n.KD=function(t){return this.qD(t)},n.$D=function(t,n){throw new v(n+" must be "+this.JD+". (Received: "+t+")")},t}(),ok=new uk(ot,"a number"),hk=new uk(et,"a string"),ck=new uk(rt,"a boolean");var ak,fk=(ak={responseCode:ok,isException:ck,description:hk,title:hk,correlationId:hk},{KD:function(t){if(!nt(t))return!1;for(var n=0,i=d.keys(ak);n<i.length;n++){var e=i[n];if(!ak[e].KD(t[e]))return!1}return!0},$D:function(t,n){if(!nt(t))throw new v(n+" must be an object.");for(var i=0,e=d.keys(ak);i<e.length;i++){var r=e[i],s=ak[r];if(!s.KD(t[r]))return s.$D(t[r],n+"."+r)}throw new v}});function vk(t,n,i,e,r){return dk.apply(this,arguments)}function dk(){return(dk=N.coroutine(rr.mark(function t(n,i,e,r,s){var u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=lk(n,i,e,s),t.next=3,gk(u,r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function lk(t,n,i,e){var r={token:n.token,account:n.accountId,form:"json"},s=decodeURIComponent(function(t,n){var i=p.Fu(t);return Gf(i,n),i.toString()}(i,r)),u=new uh({});u.append("Content-Type","application/json");var o=Ks(t),h={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{Sv:s,Tv:sh.cs,Dv:u,Xv:xf.POST,dv:JSON.stringify(h),Fo:e,Ao:zf.zv,qv:Rf.Uv}}function gk(t,n){return Ak.apply(this,arguments)}function Ak(){return(Ak=N.coroutine(rr.mark(function t(i,e){var r,s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.Ev(i);case 2:return r=t.sent,t.next=5,r.ov();case 5:if(s=t.sent,!fk.KD(s)){t.next=8;break}throw new jg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,s.description,void 0,i.Sv,s.responseCode);case 8:return t.abrupt("return",qs(s.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var wk=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,sh.Va)||this).tT=void 0,s.tT=i,s}U(n,t);var i=n.prototype;return i.VD=function(n){var i=n.replace("FairPlay",this.tT.releasePid);return t.prototype.VD.call(this,i)},i.$N=function(){var t=N.coroutine(rr.mark(function t(n,i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vk(n,this.tT,this.zN(),this.Al,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(GM),yk=function(t){function i(n,i,e){return t.call(this,Er,n,i,e,sh.Va)||this}U(i,t);var e=i.prototype;return e.CN=function(t){return t.clearkey||{}},e.XN=function(){var t=N.coroutine(rr.mark(function t(n,i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",L_(n,this.LN));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.BN=function(){var i=N.coroutine(rr.mark(function i(e,r,s,u){var o,h;return rr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o=this.LN,!this.zN()){i.next=5;break}return i.abrupt("return",t.prototype.BN.call(this,e,this.jN,s,u));case 5:if(!o.keys||!o.keys.length){i.next=10;break}return h={keys:o.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},i.abrupt("return",Pu(JSON.stringify(h)).buffer);case 10:throw new jg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return i.stop()}},i,this)}));return function(t,n,e,r){return i.apply(this,arguments)}}(),e.KN=function(t,n){return N.resolve(new y(0))},e.$N=function(n,i){return t.prototype.WN.call(this,n,Rf.Gv,i)},i}(b_),_k=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.XN=function(){var t=N.coroutine(rr.mark(function t(n,i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",L_(n,this.LN));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(C_),Mk={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function kk(t,n,i){return mk.apply(this,arguments)}function mk(){return(mk=N.coroutine(rr.mark(function t(n,i,e){var r,s,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=zk(i),(s=n.onCertificateRequest)&&"function"==typeof s){t.next=5;break}return t.abrupt("return",N.resolve(i));case 5:return t.next=8,ks(N.resolve(s.call(n,r)),e);case 8:if(!Ju(u=t.sent)){t.next=11;break}return t.abrupt("return",Ku(u));case 11:return t.abrupt("return",xk(sr({},Mk,u)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function pk(t,n,i,e,r){return Nk.apply(this,arguments)}function Nk(){return(Nk=N.coroutine(rr.mark(function t(n,i,e,r,s){var u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=n.onCertificateResponse,o=Ok(i,e,r),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",N.resolve(i));case 5:return t.next=8,ks(N.resolve(u.call(n,o)),s);case 8:return h=t.sent,t.abrupt("return",Ku(h));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Dk(t,n,i,e){return Tk.apply(this,arguments)}function Tk(){return(Tk=N.coroutine(rr.mark(function t(n,i,e,r){var s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ek(n,i,e,r);case 2:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",s);case 5:return t.abrupt("return",xk(s));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ik(t,n,i,e,r,s){return bk.apply(this,arguments)}function bk(){return(bk=N.coroutine(rr.mark(function t(n,i,e,r,s,u){var o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=Ck(e,s),t.next=3,Sk(n,new y(i),o,r,u);case 3:return h=t.sent,t.abrupt("return",Ku(h).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ek(t,n,i,e){return Lk.apply(this,arguments)}function Lk(){return(Lk=N.coroutine(rr.mark(function t(n,i,e,r){var s,u,o;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null==n?void 0:n.onLicenseRequest,u=Ck(i,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",N.resolve(u));case 5:return t.next=8,ks(N.resolve(s.call(n,u)),r);case 8:if(!Ju(o=t.sent)){t.next=11;break}return t.abrupt("return",Ku(o).buffer);case 11:return t.abrupt("return",sr({fairplaySkdUrl:void 0},Mk,o));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Sk(t,n,i,e,r){return jk.apply(this,arguments)}function jk(){return(jk=N.coroutine(rr.mark(function t(n,i,e,r,s){var u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseResponse,o=Ok(i,e,r),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",N.resolve(i));case 5:return t.next=8,ks(N.resolve(u.call(n,o)),s);case 8:return h=t.sent,t.abrupt("return",Ku(h));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ck(t,n){return sr({},zk(t),{fairplaySkdUrl:n})}function Ok(t,n,i){return{url:i.Lv,status:i.Nv,statusText:i.Iv,headers:i.Dv.Xa(),body:t,request:n}}function xk(t){return new Qf({Sv:t.url,Xv:t.method,Dv:t.headers,dv:t.body,Kv:t.useCredentials})}function zk(t){var n;return{url:t.Sv,body:null!=(n=Rk(t.dv))?n:null,headers:t.Dv.Xa(),method:t.Xv,useCredentials:t.Kv}}function Rk(t){if(t)return"string"==typeof t?Pu(t):t instanceof ArrayBuffer?new y(t):tu(t)?qu(t):void 0}var Uk,Bk=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e)||this).nT=void 0,s.nT=r,s}U(i,t);var e=i.prototype;return e.KN=function(t,n){return N.resolve(t)},e.$N=function(){var t=N.coroutine(rr.mark(function t(i,e){var r,s,u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.TD(to(i).buffer);case 2:return r=t.sent,s=this.QN(r,sh.Va,Rf.Yv,e),t.next=6,Dk(this.nT,s,void 0,e);case 6:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new y(u));case 10:if(""!==u.Sv){t.next=12;break}throw new jg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.Al.Ev(u);case 15:return o=t.sent,t.next=18,o.av(e);case 18:return h=t.sent,t.t0=y,t.next=22,Ik(this.nT,h,s,o,void 0,e);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),_s(t.t2),new jg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(SM),Qk=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,sh.Va)||this).nT=void 0,s.nT=r,s}U(i,t);var e=i.prototype;return e.KN=function(){var t=N.coroutine(rr.mark(function t(i,e){var r,s,u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.qN){t.next=2;break}return t.abrupt("return",this.qN);case 2:return r=this.QN(i,sh.Va,Rf.Pv,e),t.next=5,kk(this.nT,r,e);case 5:if(!((s=t.sent)instanceof y)){t.next=9;break}return t.abrupt("return",s);case 9:if(""!==s.Sv){t.next=11;break}throw new jg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.Al.Ev(s);case 14:return u=t.sent,t.next=17,u.av(e);case 17:o=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),_s(t.t0),new jg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return h=Ck(r,void 0),t.next=27,pk(this.nT,new y(o),h,u,e);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,i){return t.apply(this,arguments)}}(),e.$N=function(){var t=N.coroutine(rr.mark(function t(i,e){var r,s,u,o;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.QN(i,sh.Va,Rf.Qv,e),t.next=3,Dk(this.nT,r,void 0,e);case 3:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new y(s));case 7:if(""!==s.Sv){t.next=9;break}throw new jg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.Al.Ev(s);case 12:return u=t.sent,t.next=15,u.av(e);case 15:o=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),_s(t.t0),new jg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=y,t.next=25,Ik(this.nT,o,r,u,void 0,e);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(_k),Pk=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,sh.Va)||this).nT=void 0,u.iT=void 0,u.nT=s,u}U(i,t);var e=i.prototype;return e.KN=function(){var t=N.coroutine(rr.mark(function t(i,e){var r,s,u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.qN){t.next=2;break}return t.abrupt("return",this.qN);case 2:return r=this.XD(e),t.next=5,kk(this.nT,r,e);case 5:if(s=t.sent,!tu(s)){t.next=8;break}return t.abrupt("return",s);case 8:return t.prev=8,t.next=11,this.Al.Ev(s);case 11:return u=t.sent,t.next=14,u.av();case 14:return o=t.sent,h=Ck(r,void 0),t.next=18,pk(this.nT,new y(o),h,u,e);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),_s(t.t0),new jg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,i){return t.apply(this,arguments)}}(),e.$N=function(){var t=N.coroutine(rr.mark(function t(i,e){var r,s,u,o;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.QN(i,sh.Va,Rf.Uv,e),t.next=3,Dk(this.nT,r,this.iT,e);case 3:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new y(s));case 7:if(""!==s.Sv){t.next=9;break}throw new jg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.Al.Ev(s);case 12:return u=t.sent,t.next=15,u.av(e);case 15:return o=t.sent,t.t0=y,t.next=19,Ik(this.nT,o,r,u,this.iT,e);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),_s(t.t2),new jg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,i){return t.apply(this,arguments)}}(),e.VD=function(n){var i;return this.iT=n,null!=(i=this.nT)&&i.extractFairplayContentId?N.resolve(this.nT.extractFairplayContentId(n)):t.prototype.VD.call(this,n)},i}(GM),Yk=function(){function t(){}var n=t.prototype;return n.eT=function(t,n,i,e){switch(t.sc.Ao){case gr.fo:return this.rT(n,i,e);case gr.ao:return this.sT(n,i,e);case gr.vo:return this.uT(t,n,i,e);case gr.do:default:return this.oT(n,i,e)}},n.rT=function(t,n,i){var e,r=(e=t).integration===I_&&et(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&Q_.gD.vD(r,mr)){var s=Q_.gD.lD(r,mr,t);return new Qk(t,n,i,s)}switch(r){case v_:return new lM(t,n,i);case A_:return new gM(t,n,i);case g_:return new wM(t,n,i);case d_:return new MM(t,n,i);case __:return new NM(t,n,i);case k_:return new DM(t,n,i);case m_:return new bM(t,n,i);case N_:return new EM(t,n,i);case y_:default:return new _k(t,n,i,sh.Va)}},n.sT=function(t,n,i){var e=t.integration;if(e&&Q_.gD.vD(e,Mr)){var r=Q_.gD.lD(e,Mr,t);return new Bk(t,n,i,r)}switch(e){case v_:return new CM(t,n,i);case A_:return new zM(t,n,i);case g_:return new RM(t,n,i);case d_:return new UM(t,n,i);case __:return new BM(t,n,i);case m_:return new PM(t,n,i);case N_:return new YM(t,n,i);case y_:default:return new SM(t,n,i)}},n.uT=function(t,n,i,e){var r=n.integration;if(r&&Q_.gD.vD(r,Nr)){var s=Q_.gD.lD(r,Nr,n);return new Pk(t,n,i,e,s)}switch(r){case l_:return new FM(t,n,i,e);case A_:return new VM(t,n,i,e);case w_:return new XM(t,n,i,e);case v_:return new ZM(t,n,i,e);case g_:return new qM(t,n,i,e);case d_:return new JM(t,n,i,e);case y_:return new KM(t,n,i,e);case __:return new $M(t,n,i,e);case M_:return new tk(t,n,i,e);case k_:return new nk(t,n,i,e);case m_:return new ik(t,n,i,e);case p_:return new ek(t,n,i,e);case N_:return new rk(t,n,i,e);case D_:return new sk(t,n,i,e);case T_:return new wk(t,n,i,e);default:return new GM(t,n,i,e,sh.cs)}},n.oT=function(t,n,i){return new yk(t,n,i)},n.hT=function(t){return t.Ao===gr.ao||t.Ao===gr.fo||t.Ao===gr.vo||t.Ao===gr.do},n.yc=function(t,n){var i;if(t.Ao!==gr.ao)return!1;if(K(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!Q_.gD.vD(e,Nr))&&(e===v_&&new jM(n).yc)},n.MD=function(t,n){if(t.Ao===gr.fo){var i=n.integration;if(!i||!Q_.gD.vD(i,Nr))return i===v_?lM.MD():void 0}},t}();!function(t){t[t.cT=0]="cT",t[t.aT=1]="aT",t[t.fT=2]="fT",t[t.vT=3]="vT",t[t.Yg=4]="Yg",t[t.dT=5]="dT",t[t.Xg=6]="Xg",t[t.lT=7]="lT",t[t.gT=8]="gT"}(Uk||(Uk={}));var Gk,Fk=function(){function t(){}return t.prototype.AT=function(t){},z(t,[{key:"wT",get:function(){return 0}},{key:"yT",get:function(){return 0}}]),t}(),Vk=function(){function t(t,n){void 0===n&&(n=new Yk),this.iN=void 0,this._T=void 0,this.ED=void 0,this.iN=t,this._T=n}var n=t.prototype;return n.MT=function(t){this.ED=t},n.MD=function(t){var n=this.ED;if(void 0!==n)return this._T.MD(t,n)},n.yc=function(t){var n=this.ED;return void 0!==n&&this._T.yc(t,n)},n.kT=function(t){var n={sc:t.sc,mT:t.mT||[],PD:t.PD},i=this._T.eT(n,this.ED||{},t.EN,this.iN);return new Hk(i)},t}(),Hk=function(){function t(t){this.pT=void 0,this.pT=t}var n=t.prototype;return n.RN=function(t){return this.pT.RN(t)},n.UN=function(t,n,i){return this.pT.UN(n,i)},n.JN=function(){return this.pT.JN||void 0!==this.pT.qN},n.KN=function(t,n){return this.pT.KN(t,n)},n.$N=function(t,n,i){return n&&this.pT.xN(n),this.pT.$N(t,i)},n.xo=function(){this.pT.nd()},t}(),Wk=function(t){function n(n){var i;(i=t.call(this)||this).NT=[],i.DT=function(t){i.Xl(t.Nl)},i.TT=function(t){var n=t.Nl;i.IT(n)||i.Zl(n)};for(var e=0;e<n.length;e++){var r=n[e];i.bT(r)}return i}U(n,t);var i=n.prototype;return i.bT=function(t){this.NT.push(t);for(var n=0,i=t.Kl;n<i.length;n++){var e=i[n];this.Xl(e)}this.ET(t)},i.LT=function(t){ss(this.NT,t),this.ST(t);for(var n=0,i=t.Kl;n<i.length;n++){var e=i[n];this.IT(e)||this.Zl(e)}},i.IT=function(t){for(var n=0,i=this.NT;n<i.length;n++){if(i[n].ql(t))return!0}return!1},i.ET=function(t){t.qo(Ed.wl,this.DT),t.qo(Ed._l,this.TT)},i.ST=function(t){t.th(Ed.wl,this.DT),t.th(Ed._l,this.TT)},i.nd=function(){for(;this.NT.length>0;)this.LT(this.NT[0]);t.prototype.nd.call(this)},i.pl=function(){return Al(this)},n}(Qd);function Xk(){return Gk||(Gk=Me&&Me.document&&Me.document.createElement("video")),Gk}var Zk=function(t){function n(n,i,e,r,s,u,o){var h;return void 0===u&&(u=new Yk),void 0===o&&(o=Ko()),(h=t.call(this)||this).jT=void 0,h.CT=void 0,h.OT=void 0,h.EA=void 0,h.LA=void 0,h.SA=void 0,h.xT=void 0,h.zT=void 0,h.RT=void 0,h.UT=void 0,h.BT=void 0,h.iN=void 0,h.mo=void 0,h.QT=void 0,h.PT=void 0,h.YT=new Fk,h.GT=function(t){var n=t.vh,i=n.code,e=new Uo(Rg(i),"Something went wrong during native playback.",n),r=new Cg(i,e.message,n.message);h.FT(e,r)},h.VT=function(){h.Zo(new eg(h.uA,h.ow))},h.HT=function(t){h.fA||(h.PT=void 0),h.Zo(t)},h.WT=function(t){h.PT=void 0,h.Zo(t)},h.XT=function(){h.Zo(new iA(h.cw))},h.ZT=function(){h.gA>0&&h.lA>0&&h.Zo(new Qy)},h.qT=function(t){h.EA.Xl(new qg(t.track))},h.JT=function(t){var n=Jk(h.EA,t.track);n&&h.EA.Zl(n)},h.KT=function(){h.$T(h.EA)},h.tI=function(t){h.LA.Xl(new nA(t.track))},h.nI=function(t){var n=Jk(h.LA,t.track);n&&h.LA.Zl(n)},h.iI=function(){h.$T(h.LA)},h.eI=function(t){h.Zo(t),h.FT(t.errorObject,xg(t.errorObject))},h.jT=i,h.iN=e,h.mo=o,h.CT=h.jT.rI(Ug.Hv),h.RT=h.CT.sI.preload,h.UT=new f_(h.CT,!0),h.UT.qo($l,h.Xo),h.QT=new Vk(e,u),h.CT.uI=h.QT,h.oI(),h.EA=new Bg,h.LA=new Bg,h.hI(),h.BT=new Cy(h.CT,h.iN),h.SA=new Wk([h.CT.RA]),h.qA(),h}U(n,t);var i=n.prototype;return i.JA=function(){this.CT.JA()},i.qA=function(){this.CT.qA()},i.GA=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ys(e),r={Ao:By.aN,Ig:n.src,vv:n.type,cI:this.aI(n),yw:this.RT,fI:n.crossOrigin,vI:i.metadata&&i.metadata.title},this.QT.MT(n.contentProtection),t.next=5,this.CT.qh(r);case 5:this.OT=t.sent,ys(e),i.textTracks&&this.dI(i.textTracks),Uy(this.RA);case 9:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.dI=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.CT.lI()&&Z.pr&&Zy&&!Ty(i.kind,i.label)&&this.gI(i)){var e,r=null!=(e=i.kind)?e:dy.UM;this.CT.AI(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.BT.rN(i)}}},i.gI=function(t){return!t.format||"webvtt"===t.format},i.BA=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.CT.BA();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.wI){t.next=12;break}return t.next=10,this.CT.rh(rh.ba);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.QA=function(){this.CT.QA()},i.FA=function(){return void 0!==this.CT.sI.webkitShowPlaybackTargetPicker},i.VA=function(){this.CT.sI.webkitShowPlaybackTargetPicker&&this.CT.sI.webkitShowPlaybackTargetPicker()},i.HA=function(){this.CT.sI.webkitShowPlaybackTargetPicker&&this.CT.sI.webkitShowPlaybackTargetPicker()},i.KA=function(){return this.CT.sI},i.$A=function(){return this.CT.yI},i.Jl=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.xT=void 0,this.zT=void 0,this.OT=void 0,t.next=5,this.BT.Jl();case 5:return this.CT._I(),t.next=8,this.CT.Jl();case 8:this.UT.Jl(),this.yw=this.RT,this.xA.Jl(),this.zA.Jl(),this.PT=void 0;case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.nd=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Jl();case 2:return this.$o(),this.MI(),this.kI(),this.UT.nd(),this.CT.uI=void 0,t.next=9,this.jT.mI(this.CT);case 9:return this.EA.nd(),this.LA.nd(),this.SA.nd(),t.next=14,this.BT.nd();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.oI=function(){this.CT.qo(rh.Ia,this.Xo),this.CT.qo(rh.Ta,this.Xo),this.CT.qo(rh.Qa,this.VT),this.CT.qo(rh.ba,this.Xo),this.CT.qo(rh.ka,this.Xo),this.CT.qo(rh.Ca,this.Xo),this.CT.qo(rh.ja,this.HT),this.CT.qo(rh.ya,this.Xo),this.CT.qo(rh.Ea,this.Xo),this.CT.qo(rh.Pa,this.Xo),this.CT.qo(rh.Aa,this.Xo),this.CT.qo(rh.Sa,this.ZT),this.CT.qo(Wl.sA,this.WT),this.CT.qo(al._g,this.GT),this.CT.qo(rh.da,this.Xo),this.CT.qo(rh.va,this.eI),this.CT.sI.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.XT)},i.MI=function(){this.CT.th(rh.Ia,this.Xo),this.CT.th(rh.Ta,this.Xo),this.CT.th(rh.Qa,this.VT),this.CT.th(rh.ba,this.Xo),this.CT.th(rh.ka,this.Xo),this.CT.th(rh.Ca,this.Xo),this.CT.th(rh.ja,this.HT),this.CT.th(rh.ya,this.Xo),this.CT.th(rh.Ea,this.Xo),this.CT.th(rh.Pa,this.Xo),this.CT.th(rh.Aa,this.Xo),this.CT.th(rh.Sa,this.ZT),this.CT.th(Wl.sA,this.WT),this.CT.th(al._g,this.GT),this.CT.th(rh.da,this.Xo),this.CT.th(rh.va,this.eI),this.CT.sI.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.XT)},i.aI=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{sc:br,pI:[{initDataTypes:[br.yo],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.hI=function(){var t=this.CT.sI.audioTracks,n=this.CT.sI.videoTracks;t&&(t.addEventListener("addtrack",this.qT),t.addEventListener("removetrack",this.JT),t.addEventListener("change",this.KT)),n&&(n.addEventListener("addtrack",this.tI),n.addEventListener("removetrack",this.nI),n.addEventListener("change",this.iI))},i.kI=function(){var t=this.CT.sI.audioTracks,n=this.CT.sI.videoTracks;t&&(t.removeEventListener("addtrack",this.qT),t.removeEventListener("removetrack",this.JT),t.removeEventListener("change",this.KT)),n&&(n.removeEventListener("addtrack",this.tI),n.removeEventListener("removetrack",this.nI),n.removeEventListener("change",this.iI))},i.$T=function(t){for(var n=0;n<t.$l;n++){t.Wl(n).Lw()}},i.sw=function(){this.CT.sw()},i.FT=function(t,n){this.xT||(this.xT=n,this.zT=t,this.Zo(new vg(t)))},z(n,[{key:"wI",get:function(){var t=this.CT.uw,n=this.uA;return t.NI(n,.01)}},{key:"xA",get:function(){return this.EA}},{key:"uw",get:function(){return this.CT.uw.DI()}},{key:"ow",get:function(){return this.CT.ow},set:function(t){t&&this.CT.TI(t)}},{key:"uA",get:function(){return void 0!==this.PT?this.PT:this.CT.uA},set:function(t){this.cw&&(this.PT=t),this.CT.Ih(t)}},{key:"oA",get:function(){return this.CT.oA}},{key:"hA",get:function(){return this.CT.hA}},{key:"vh",get:function(){return this.xT}},{key:"cA",get:function(){return this.zT}},{key:"UA",get:function(){}},{key:"cw",get:function(){return this.CT.cw}},{key:"pA",get:function(){return sr({},{aw:0,fw:0,vw:0,dw:0,lw:0,gw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.CT.II())}},{key:"aA",get:function(){return this.CT.aA},set:function(t){this.CT.aA=t}},{key:"Aw",get:function(){return!0}},{key:"fA",get:function(){return this.CT.fA}},{key:"vA",get:function(){return this.CT.vA},set:function(t){this.CT.vA=t}},{key:"ww",get:function(){return this.CT.sI.played}},{key:"yw",get:function(){return this.RT},set:function(t){this.RT=t,this.OT&&(this.OT.yw=t)}},{key:"Ng",get:function(){return this.CT.Ng}},{key:"_w",get:function(){return this.CT._w.DI()}},{key:"dA",get:function(){return this.CT.dA}},{key:"bI",get:function(){return this.CT.bI}},{key:"RA",get:function(){return this.SA}},{key:"zA",get:function(){return this.LA}},{key:"lA",get:function(){return this.CT.lA}},{key:"gA",get:function(){return this.CT.gA}},{key:"AA",get:function(){return this.CT.AA},set:function(t){this.CT.AA=t}},{key:"Mw",get:function(){return this.CT.Mw},set:function(t){this.CT.Mw=t}},{key:"EI",get:function(){return this.YT}}]),n}(_l);var qk=function(){function t(){this.LI=Uk.gT}var n=t.prototype;return n.hD=function(t,n,i,e,r,s){return new Zk(t,n,i,e,r)},n.SI=function(t,n){return function(t){return!t.type||!(!Xk().canPlayType||!Xk().canPlayType(t.type))}(t)},n.jI=function(){return!1},t}();function Jk(t,n){for(var i=0,e=t.Kl;i<e.length;i++){var r=e[i];if(r.Cw===n)return r}}var Kk=function(){function t(){this.CI=new qk,this.OI=[]}t.xI=function(){return this.rs};var n=t.prototype;return n.zI=function(t){this.OI.push(t)},n.hD=function(t,n,i,e,r,s){for(var u=this.CI.hD(t,n,i,e,r,s),o=0,h=this.OI;o<h.length;o++){u=(0,h[o])(u,i,e)}return u},n.SI=function(t,n){return this.CI.SI(t,n)},n.jI=function(){return!1},z(t,[{key:"LI",get:function(){return this.CI.LI}}]),t}();function $k(t,n){return $r(t.LI,n.LI)}function tm(t){nm.rs.RI(t)}Kk.rs=new Kk;var nm=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).UI=Kk.xI(),n}U(n,t);var i=n.prototype;return i.BI=function(t){this.UI=t},i.QI=function(){return this.UI},i.YI=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s,u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<n.length)){t.next=11;break}return r=n[e],t.next=5,this.GI(r,i);case 5:if(!(s=t.sent)){t.next=8;break}return t.abrupt("return",{FI:r,VI:s});case 8:e++,t.next=1;break;case 11:u=this.UI,o=0;case 13:if(!(o<n.length)){t.next=20;break}if(h=n[o],!u.SI(h,i)){t.next=17;break}return t.abrupt("return",{FI:h,VI:u});case 17:o++,t.next=13;break;case 20:return t.abrupt("return",{FI:n[0],VI:u});case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(function(){function t(){this.HI=[]}var n=t.prototype;return n.RI=function(t){this.HI.push(t),this.HI.sort($k)},n.GI=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,r=this.HI;case 1:if(!(e<r.length)){t.next=17;break}if(s=r[e],!st(u=s.SI(n,i))){t.next=10;break}return t.next=7,u;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(u);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",s);case 14:e++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}());nm.rs=new nm;var im,em=function(){function t(t){this.WI=void 0,this.WI=Me&&Me.document&&Me.document.createElement("div"),Oe(this.WI),t.appendChild(this.WI)}return t.prototype.nd=function(){Te(this.WI)},t}();function rm(t){switch(t){case im.XI:case"":return im.XI;case im.QM:return im.QM;case im.ZI:default:return im.ZI}}!function(t){t.gT="",t.ZI="none",t.QM="metadata",t.XI="auto"}(im||(im={}));var sm=[al._g,rh.wa,rh.dh,rh.Fa,rh.ha,rh._a,rh.Na,rh.Da,rh.xa,rh.Ra,Wl.tA,Wl.nA,Wl.iA,Wl.eA,Wl.Rl,Wl.rA,Wl.sA,rh.va,rh.da,rh.Aa,rh.ya,rh.ka,rh.ma,rh.Ia,rh.ba,rh.Ta,rh.Ea,rh.Sa,rh.Ca,rh.ja,rh.Qa,rh.Pa,rh.La,rh.pa,rh.Oa],um=function(t){function n(n,i){var e;return(e=t.call(this)||this).qI=void 0,e.JI=void 0,e.KI=void 0,e.$I=void 0,e.RT=im.ZI,e.nb=void 0,e.ib=!0,e.EA=new fl,e.LA=new fl,e.SA=new yl,e.jA=new Lg,e.qI=n,e.KI=i,e.KI.yw=e.yw,e.eb(),e}U(n,t);var i=n.prototype;return i.QA=function(){this.KI.QA()},i.BA=function(){var t=this.KI.BA();st(t)&&Ts(t)},i.PA=function(){return this.GA(void 0)},i.WA=function(){},i.nw=function(t){return!1},i.eb=function(){this.EA.sg=this.KI.xA,this.LA.sg=this.KI.zA,this.SA.sg=this.KI.RA,this.jA.sg=this.KI.UA,this.KI.qo(sm,this.Xo)},i.sb=function(){this.KI.th(sm,this.Xo),this.EA.sg=void 0,this.LA.sg=void 0,this.SA.sg=void 0,this.jA.sg=void 0},i.YA=function(){return this.nb},i.GA=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s,u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ys(i),this.nb=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!Pl(e=n.sources.filter(Hl))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.qI.YI(e,n);case 9:if(r=t.sent,ys(i),s=r.FI,u=r.VI,o=this.$A(),h=gg(this),this.JI===u&&!this.vh){t.next=25;break}return this.sb(),t.next=19,this.KI.nd();case 19:ys(i),this.JI=u,this.KI=this.ub(u),om(this.KI,h),wg(this,h,this),this.eb();case 25:return this.KI.yw=this.yw,this.ib?this.KI.qA():this.KI.JA(),t.next=29,this.KI.GA(s,n,i);case 29:ys(i),this.ob(s),this.$A()!==o&&this.Zo(new kl);case 32:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ob=function(t){this.$I!==t&&(this.$I=t,this.Zo(new ml(t)))},i.FA=function(){return this.KI.FA()},i.VA=function(){this.KI.VA()},i.HA=function(){this.KI.HA()},i.$A=function(){return this.KI.$A()},i.sw=function(){this.KI.sw()},i.Jl=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nb=void 0,this.ob(void 0),t.next=4,this.KI.Jl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.nd=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$o(),t.next=3,this.Jl();case 3:return t.next=5,this.KI.nd();case 5:this.EA.nd(),this.LA.nd(),this.SA.nd(),this.jA.nd();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.qA=function(){this.ib=!0,this.KI.qA()},i.JA=function(){this.ib=!1,this.KI.JA()},z(n,[{key:"xA",get:function(){return this.EA}},{key:"uw",get:function(){return this.KI.uw}},{key:"vh",get:function(){return this.KI.vh}},{key:"cA",get:function(){return this.KI.cA}},{key:"ow",get:function(){return this.KI.ow},set:function(t){this.KI.ow=t}},{key:"rw",get:function(){return this.$I}},{key:"uA",get:function(){return this.KI.uA},set:function(t){this.KI.uA=t}},{key:"oA",get:function(){return this.KI.oA}},{key:"hA",get:function(){return this.KI.hA}},{key:"UA",get:function(){return this.jA}},{key:"cw",get:function(){return this.KI.cw}},{key:"pA",get:function(){return this.KI.pA}},{key:"aA",get:function(){return this.KI.aA},set:function(t){this.KI.aA=t}},{key:"Aw",get:function(){return this.KI.Aw}},{key:"fA",get:function(){return this.KI.fA}},{key:"vA",get:function(){return this.KI.vA},set:function(t){this.KI.vA=t}},{key:"ww",get:function(){return this.KI.ww}},{key:"yw",get:function(){return this.RT},set:function(t){this.RT=t,this.KI&&(this.KI.yw=this.RT)}},{key:"Ng",get:function(){return this.KI.Ng}},{key:"_w",get:function(){return this.KI._w}},{key:"dA",get:function(){return this.KI.dA}},{key:"RA",get:function(){return this.SA}},{key:"lA",get:function(){return this.KI.lA}},{key:"zA",get:function(){return this.LA}},{key:"gA",get:function(){return this.KI.gA}},{key:"AA",get:function(){return this.KI.AA},set:function(t){this.KI.AA=t}},{key:"EI",get:function(){return this.KI.EI}}]),n}(Cs);function om(t,n){t.aA!==n.aA&&(t.aA=n.aA),t.AA!==n.AA&&(t.AA=n.AA),t.vA!==n.vA&&(t.vA=n.vA)}var hm,cm=function(t){function n(n,i){var e;return(e=t.call(this)||this).$l=void 0,e.hb=void 0,e.cb=void 0,e.$l=n.length>>1,e.hb=n,e.cb=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.$l),e}U(n,t);var i=n.prototype;return i.ab=function(t){return this.hb[2*t]},i.fb=function(t){return this.cb[2*t]},i.vb=function(t){return this.hb[2*t+1]},i.lb=function(t){return this.cb[2*t+1]},z(n,[{key:"gb",get:function(){return this.hb.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.hy=function(t,n){return 0===this.Ny(t,n)},n.Ky=function(t,n){return this.Ny(t,n)>0},n.$y=function(t,n){return this.Ny(t,n)>=0},n.Ey=function(t,n){return this.Ny(t,n)<0},n.Iy=function(t,n){return this.Ny(t,n)<=0},n.y_=function(t,n){return this.Ey(t,n)?t:n},n.w_=function(t,n){return this.Ky(t,n)?t:n},n.Ab=function(t,n,i){return i?this.Iy(t,n):this.Ey(t,n)},n.DI=function(){var t=this;return{get length(){return t.$l},start:function(n){var i=0|n;return t.wb(i),t.yb(t.ab(i))},end:function(n){var i=0|n;return t.wb(i),t.yb(t.vb(i))}}},n._b=function(){for(var t=new Array(2*this.$l),n=new Array(2*this.$l),i=0;i<this.$l;i++)t[2*i]=this.ab(i),t[2*i+1]=this.vb(i),n[2*i]=!0,n[2*i+1]=!0;return this.Mb(t,n)},n.wb=function(t){if(t<0)throw new f("The index provided ("+t+") must be non-negative");if(t>=this.$l)throw new f("The index provided ("+t+") is greater than the maximum bound ("+this.$l+")")},n.kb=function(t){if(0===this.$l)return this.mb();if(this.NI(t))return t;if(this.Iy(t,this.ab(0)))return this.ab(0);if(this.$y(t,this.vb(this.$l-1)))return this.vb(this.$l-1);for(var n,i=this.pb(),e=0;e<this.$l;e++){var r=this.ab(e),s=this.by(r,t);this.Ey(s,i)&&(n=r,i=s);var u=this.vb(e),o=this.by(this.vb(e),t);this.Ey(o,i)&&(n=u,i=o)}return n},n.Nb=function(t){for(var n=0,i=0,e=[],r=[];n<this.$l&&i<t.$l;){var s=this.ab(n),u=this.vb(n),o=this.fb(n),h=this.lb(n),c=t.ab(i),a=t.vb(i),f=t.fb(i),v=t.lb(i),d=this.w_(s,c),l=this.y_(u,a),g=void 0;g=this.hy(s,c)?o&&f:this.hy(d,s)?o:f;var A=void 0;A=this.hy(u,a)?h&&v:this.hy(l,u)?h:v,(this.Ey(d,l)||g&&A&&this.hy(d,l))&&(e.push(d,l),r.push(g,A));var w=this.Ny(this.vb(n),t.vb(i));0===w?(n+=1,i+=1):w<0?n+=1:i+=1}return this.Mb(e,r)},n.Db=function(){var t=this.Tb(),n=t.$l;if(0===n)return this.Mb([t.Ib(),t.pb()],[!1,!1]);var i=[],e=[],r=t.ab(0);t.hy(r,t.Ib())||(i.push(t.Ib(),r),e.push(!1,!t.fb(0)));for(var s=0;s<n-1;s++)i.push(t.vb(s),t.ab(s+1)),e.push(!t.lb(s),!t.fb(s+1));var u=t.vb(n-1);return t.hy(u,t.pb())||(i.push(u,t.pb()),e.push(!t.lb(n-1),!1)),t.Mb(i,e)},n.bb=function(t){for(var n=0,i=0,e=this.$l,r=t.$l,s=new Array(2*(e+r)),u=new Array(2*(e+r)),o=0;n<e&&i<r;){var h=this.ab(n),c=this.vb(n),a=t.ab(i),f=t.vb(i);this.Ey(h,a)||this.hy(h,a)&&this.Ey(c,f)?(s[o]=h,s[o+1]=c,u[o]=this.fb(n),u[o+1]=this.lb(n),n++):(s[o]=a,s[o+1]=f,u[o]=t.fb(i),u[o+1]=t.lb(i),i++),o+=2}for(;n<e;)s[o]=this.ab(n),s[o+1]=this.vb(n),u[o]=this.fb(n),u[o+1]=this.lb(n),n++,o+=2;for(;i<r;)s[o]=t.ab(i),s[o+1]=t.vb(i),u[o]=t.fb(i),u[o+1]=t.lb(i),i++,o+=2;return this.Mb(s,u)},n.Eb=function(t){void 0===t&&(t=this.mb());var n=this.$l;if(n<2)return this;for(var i=[],e=[],r=this.ab(0),s=this.vb(0),u=this.fb(0),o=this.lb(0),h=1;h<n;h++){var c=this.ab(h),a=this.vb(h),f=this.fb(h),v=this.lb(h);this.Ey(r,c)&&this.Ky(s,a)||(this.hy(r,c)&&(u=f=u||f),this.hy(s,a)&&(o=v=o||v),this.Ab(c,this.mw(s,t),o||f)?(s=a,o=v):(i.push(r,s),e.push(u,o),r=c,s=a,u=f,o=v))}return i.push(r,s),e.push(u,o),this.Mb(i,e).Tb()},n.Tb=function(){for(var t=[],n=[],i=0;i<this.$l;i++){var e=this.ab(i),r=this.vb(i),s=this.fb(i),u=this.lb(i);this.hy(e,r)?(s||u)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(s,u))}return this.Mb(t,n)},n.Lb=function(t){return this.$l?t.$l?this.bb(t).Eb():this:t},n.Sb=function(t){var n=this.Tb(),i=t.Tb(),e=n.Db(),r=i.Db(),s=e.Nb(i),u=r.Nb(n);return s.Lb(u)},n.Th=function(t){if(this.hy(t,this.mb()))return this;for(var n=[],i=[],e=0;e<this.$l;e++){var r=this.mw(this.ab(e),t),s=this.mw(this.vb(e),t);n.push(r,s),i.push(this.fb(e),this.lb(e))}return this.Mb(n,i)},n.jb=function(t){return 0===this.$l||0===t.$l?this:this.Tb().Nb(t.Tb().Db())},n.NI=function(t,n){return this.Cb(t,n)>=0},n.Ob=function(t,n,i,e,r){return this.xb(t,n,i,e,r)>=0},n.zb=function(t,n,i,e,r){return this.Rb(t,n,i,e,r)>=0},n.Ub=function(t){if(t.$l!==this.$l)return!1;for(var n=0;n<this.$l;n++)if(!this.hy(this.ab(n),t.ab(n))||!this.hy(this.vb(n),t.vb(n))||this.fb(n)!==t.fb(n)||this.lb(n)!==t.lb(n))return!1;return!0},n.Bb=function(t){for(var n=[],i=[],e=0;e<this.$l;e++){var r=this.ab(e),s=this.vb(e),u=this.fb(e),o=this.lb(e);t(r,s,u,o)&&(n.push(r,s),i.push(u,o))}return this.Mb(n,i)},n.Rb=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.mb());for(var s=this.Cy(t,r),u=this.mw(n,r),o=0;o<this.$l;o+=1)if(this.Ab(this.ab(o),u,!e||this.fb(o))&&this.Ab(s,this.vb(o),!i||this.lb(o)))return o;return-1},n.xb=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.mb());for(var s=this.mw(t,r),u=this.Cy(n,r),o=0;o<this.$l;o+=1)if(this.Ab(this.ab(o),s,!i||this.fb(o))&&this.Ab(u,this.vb(o),!e||this.lb(o)))return o;return-1},n.Cb=function(t,n){return this.xb(t,t,!0,!0,n)},n.Qb=function(t,n){void 0===n&&(n=this.mb());for(var i=this.mw(t,n),e=this.$l-1;e>=0;e-=1)if(this.Ab(this.ab(e),i,this.fb(e)))return e;return-1},n.Pb=function(t,n){void 0===n&&(n=this.mb());for(var i=this.Cy(t,n),e=0;e<this.$l;e+=1)if(this.Ab(i,this.vb(e),this.lb(e)))return e;return-1},n.Yb=function(t){return this.wb(t),this.Mb([this.ab(t),this.vb(t)],[this.fb(t),this.lb(t)])},n.Gb=function(t,n){var i=this.Cb(t,n);return i<0?void 0:this.Yb(i)},z(t,[{key:"Fb",get:function(){for(var t=this.mb(),n=0;n<this.$l;n++){var i=this.Cy(this.vb(n),this.ab(n));t=this.mw(t,i)}return t}}]),t}()),am=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.Ny=function(t,n){return t<n?Wr.Eo:t===n?Wr.Io:Wr.bo},i.mw=function(t,n){return t+n},i.Cy=function(t,n){return t-n},i.by=function(t,n){return l.abs(t-n)},i.mb=function(){return 0},i.pb=function(){return 1/0},i.Ib=function(){return-1/0},n.Vb=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.Hb=function(t){for(var i=[],e=[],r=0;r<t.$l;r++)i.push(t.ab(r).k_),i.push(t.vb(r).k_),e.push(t.fb(r)),e.push(t.lb(r));return new n(i,e)},n.Wb=function(t){return new n([t,t],[!0,!0])},i.Mb=function(t,i){return new n(t,i)},i.yb=function(t){return t},n.Xb=function(){return fm},n}(cm),fm=new am([]);!function(t){t.xl="fullscreenchange",t.Zb="fullscreensupportchange",t._g="fullscreenerror"}(hm||(hm={}));var vm=function(t){function n(){return t.call(this,hm._g)||this}return U(n,t),n}(xs),dm=new(function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Uw=function(){this.Zo(new vm)},i.Qw=function(){},i.nd=function(){this.$o()},z(n,[{key:"qb",get:function(){return!1}},{key:"Jb",get:function(){return!1}}]),n}(Cs)),lm=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).jT=void 0,n.CT=void 0,n}U(n,t);var i=n.prototype;return i.KA=function(){var t;return null==(t=this.CT)?void 0:t.sI},i.nd=function(){var n=N.coroutine(rr.mark(function n(){return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.nd.call(this);case 2:if(!this.CT){n.next=6;break}return n.next=5,this.jT.mI(this.CT);case 5:this.CT=void 0;case 6:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),z(n,[{key:"Kb",set:function(t){this.jT=t,this.CT=t.rI(Ug.Hv)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).$b=0,n.tE=!1,n.nE=!0,n.iE=1,n.eE=!1,n.rE=1,n.xA=new Bg,n.uw=am.Xb().DI(),n.oA=NaN,n.hA=!1,n.vh=void 0,n.cA=void 0,n.UA=void 0,n.cw=!1,n.Aw=!0,n.ww=am.Xb().DI(),n.yw=im.ZI,n.Ng=El.Zg,n._w=am.Xb().DI(),n.bI=void 0,n.RA=new ly,n.lA=0,n.zA=new Bg,n.gA=0,n.YT=new Fk,n}U(n,t);var i=n.prototype;return i.qA=function(){},i.JA=function(){},i.BA=function(){this.nE&&(this.nE=!1,this.Zo(new ql(this.uA)),this.Zo(new c_(this.uA)))},i.QA=function(){this.nE||(this.nE=!0,this.Zo(new eg(this.uA,this.ow)),this.Zo(new Zl(this.uA)))},i.GA=function(t,n){return N.resolve()},i.FA=function(){return!1},i.VA=function(){},i.HA=function(){},i.$A=function(){return dm},i.sw=function(){},i.Jl=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.$b=0,this.eE=!1,this.QA(),this.Zo(new Xl(this.$b));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.nd=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.$o(),this.xA.nd(),this.RA.nd(),this.zA.nd();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),z(n,[{key:"ow",get:function(){},set:function(t){}},{key:"uA",get:function(){return this.$b},set:function(t){this.$b!==t&&(this.$b=t,this.eE=!0,this.Zo(new ug(this.uA)))}},{key:"pA",get:function(){return{aw:0,fw:0,vw:0,dw:0,lw:0,gw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"aA",get:function(){return this.tE},set:function(t){this.tE!==t&&(this.tE=t,this.Zo(new hg(this.uA,this.AA)))}},{key:"fA",get:function(){return this.nE}},{key:"vA",get:function(){return this.iE},set:function(t){this.iE!==t&&(this.iE=t,this.Zo(new ig(this.uA,this.vA)))}},{key:"dA",get:function(){return this.eE}},{key:"AA",get:function(){return this.rE},set:function(t){this.rE!==t&&(this.rE=t,this.Zo(new hg(this.uA,this.AA)))}},{key:"Mw",get:function(){return!1},set:function(t){}},{key:"EI",get:function(){return this.YT}}]),n}(Cs)),gm=function(t){function n(n,i,e,r,s,u){var o,h=new lm;return(o=t.call(this,nm.rs,h)||this).Cc=void 0,o.sE=void 0,o.uE=void 0,o.oE=void 0,o.iN=void 0,o.hE=void 0,o.cE=void 0,o.uE=n,o.Cc=i,o.iN=e,o.hE=r,o.oE=u,o.sE=new we(s,o.oE),o.sE.aE(o.uE),h.Kb=o.sE,o.cE=new em(o.uE),o}U(n,t);var i=n.prototype;return i.WA=function(){t.prototype.WA.call(this),this.sE.fE()},i.XA=function(t){Ag(this,t)},i.ZA=function(){},i.ub=function(t){return t.hD(this.uE,this.sE,this.iN,this.Cc,this.hE,this.oE)},i.KA=function(){return this.KI.KA()},i.tw=function(){return this.sE.vE.map(function(t){return t.sI})},i.Ko=function(n){t.prototype.Ko.call(this,n)},i.eh=function(n){t.prototype.eh.call(this,n)},i.nd=function(){var n=N.coroutine(rr.mark(function n(){return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.nd.call(this);case 2:this.sE.nd(),this.cE.nd();case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),z(n,[{key:"hw",get:function(){return this.uE}},{key:"Mw",get:function(){return this.KI.Mw},set:function(t){this.KI.Mw=t}}]),n}(um),Am=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).uE=void 0,r.dE=void 0,r.lE=void 0,r.gE=void 0,r.AE=void 0,r.uE=n,r.dE=i,r.gE=new Bg,r.AE=new ly,r.lE=e,r}U(n,t);var i=n.prototype;return i.nw=function(t){return!0},i.JA=function(){},i.BA=function(){throw this.Zo(new vg(this.lE)),this.dE},i.QA=function(){},i.YA=function(){},i.GA=function(){var t=N.coroutine(rr.mark(function t(n,i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw ys(i),this.Zo(new vg(this.lE)),this.dE;case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.qA=function(){},i.PA=function(){return N.resolve()},i.KA=function(){},i.$A=function(){return dm},i.tw=function(){return[]},i.WA=function(){},i.XA=function(t){},i.ZA=function(){},i.FA=function(){return!1},i.VA=function(){},i.HA=function(){},i.sw=function(){},i.Jl=function(){return N.resolve()},i.nd=function(){return this.$o(),this.gE.nd(),this.AE.nd(),N.resolve()},z(n,[{key:"xA",get:function(){return this.gE}},{key:"uw",get:function(){return am.Xb().DI()}},{key:"ow",get:function(){return new Date(NaN)},set:function(t){}},{key:"rw",get:function(){}},{key:"uA",get:function(){return 0},set:function(t){}},{key:"oA",get:function(){return 0}},{key:"hw",get:function(){return this.uE}},{key:"hA",get:function(){return!0}},{key:"vh",get:function(){return this.dE}},{key:"cA",get:function(){return this.lE}},{key:"UA",get:function(){}},{key:"pA",get:function(){return{aw:0,fw:0,vw:0,dw:0,lw:0,gw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"aA",get:function(){return!1},set:function(t){}},{key:"Aw",get:function(){return!0}},{key:"fA",get:function(){return!0}},{key:"vA",get:function(){return 0},set:function(t){}},{key:"ww",get:function(){return am.Xb().DI()}},{key:"yw",get:function(){return im.ZI},set:function(t){}},{key:"Ng",get:function(){return El.Zg}},{key:"_w",get:function(){return am.Xb().DI()}},{key:"dA",get:function(){return!1}},{key:"RA",get:function(){return this.AE}},{key:"lA",get:function(){return 0}},{key:"zA",get:function(){return this.gE}},{key:"gA",get:function(){return 0}},{key:"AA",get:function(){return 1},set:function(t){}},{key:"Mw",get:function(){return!1},set:function(t){}},{key:"cw",get:function(){return!1}}]),n}(Ml);function wm(t){if(t&&nt(t))return sr({},t,{integration:ym(t.integration),fairplay:Dm(t.fairplay),widevine:_m(t.widevine),playready:Mm(t.playready),clearkey:Tm(t.clearkey),aes128:Im(t.aes128),integrationParameters:bm(t.integrationParameters),preferredKeySystems:Em(t.preferredKeySystems)})}function ym(t){if(et(t))return t}function _m(t){if(t&&nt(t))return{persistentState:km(t.persistentState),distinctiveIdentifier:km(t.distinctiveIdentifier),audioRobustness:mm(t.audioRobustness),videoRobustness:mm(t.videoRobustness),licenseAcquisitionURL:et(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:pm(t.licenseType),headers:t.headers,useCredentials:!!rt(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:et(t.certificate)||Ju(t.certificate)?t.certificate:void 0,certificateRequestProcessor:Nm(t.certificateRequestProcessor),certificateResponseProcessor:Nm(t.certificateResponseProcessor),licenseRequestProcessor:Nm(t.licenseRequestProcessor),licenseResponseProcessor:Nm(t.licenseResponseProcessor)}}function Mm(t){if(t){var n=_m(t);if(n)return sr({},n,{customData:et(t.customData)?t.customData:void 0})}}function km(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function mm(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function pm(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function Nm(t){if("function"==typeof t)return t}function Dm(t){if(t){var n=_m(t);if(n)return sr({},n,{certificateURL:et(t.certificateURL)?t.certificateURL:void 0})}}function Tm(t){if(t){var n=_m(t);if(n)return sr({},n,{keys:$(t.keys)?t.keys.map(function(t){return function(t){if(!t||!nt(t))return;var n=t.id,i=t.value;if(!et(n)||!et(i))return;return{id:n,value:i}}(t)}).filter(K):void 0})}}function Im(t){if(nt(t))return{useCredentials:rt(t.useCredentials)?t.useCredentials:void 0}}function bm(t){if(nt(t))return t}function Em(t){return t&&$(t)?t.map(function(t){return sM(t)}).filter(K):[mr,Mr,Nr]}var Lm,Sm=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return U(n,t),n}(xs),jm=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).wE=[],e.yE=void 0,e._E=function(t){Ds(function(){e.Xo(t)})},e.yE=i?e._E:e.Xo,e}U(n,t);var i=n.prototype;return i.ME=function(t){t.Ko(this.yE),this.wE.push(t)},i.kE=function(t){t.eh(this.yE),ss(this.wE,t)},i.nd=function(){this.$o();for(var t=0,n=this.wE;t<n.length;t++){n[t].eh(this.yE)}hs(this.wE)},n}(_l),Cm=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n}(jm);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(Lm||(Lm={}));var Om,xm=function(t){function i(n){var i;return(i=t.call(this)||this).mE=void 0,i.pE=void 0,i.NE=!1,i.DE=!1,i.TE=void 0,i.IE=void 0,i.bE=void 0,i.kl=void 0,i.EE=function(){return i.LE()},i.SE=function(){return i.jE()},i.bE=n,i.mE=i.pE=i.TE=i.IE=Lm.INLINE,i.bE.qo(hm.xl,i.EE),i.bE.qo(hm._g,i.SE),i.CE(),i}U(i,t);var e=i.prototype;return e.pl=function(){return t=this,i={get currentMode(){return t.OE()},requestMode:function(n){var i=Rm(n);i&&t.xE(i)},supportsMode:function(n){var i=Rm(n);return!!i&&t.zE(i)},addEventListener:function(t,i){n.qo(t,i)},removeEventListener:function(t,i){n.th(t,i)}},(n=new jm(i,!0)).ME(t),i;var t,n,i},e.xE=function(t){this.RE(t,t)},e.RE=function(t,n){this.pE!==n&&(this.NE=!0,this.mE=t,this.UE(n,this.pE),t!==Lm.FULLSCREEN&&(this.TE=t),this.NE=!1,this.CE())},e.OE=function(){return this.DE?Lm.FULLSCREEN:Lm.INLINE},e.zE=function(t){switch(t){case Lm.FULLSCREEN:return this.bE.Jb;case Lm.INLINE:return!0}return!1},e.CE=function(){if(!this.NE){var t=this.pE,n=this.OE();this.pE=n,n!==Lm.FULLSCREEN&&(this.IE=n),t!==n&&this.Zo(new Sm(n))}},e.UE=function(t,n){var i=t===Lm.FULLSCREEN;this.DE=i,i!==this.bE.qb&&(i?this.bE.Uw():this.bE.Qw())},e.LE=function(){if(!this.NE){var t=this.bE.qb;this.DE=t,t?this.RE(Lm.FULLSCREEN,Lm.FULLSCREEN):t||this.mE!==Lm.FULLSCREEN?this.CE():this.RE(this.TE,this.IE)}},e.jE=function(){this.LE(),this.Zo(new vg(new Uo(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.nd=function(){this.bE.nd(),this.$o()},z(i,[{key:"ml",get:function(){return this.kl||(this.kl=this.pl()),this.kl}}]),i}(_l),zm={uA:0,oA:NaN,hA:!1,vh:void 0,cA:void 0,aA:!1,fA:!0,vA:1,Ng:El.Zg,dA:!1,lA:0,gA:0,AA:1};function Rm(t){switch(t){case Lm.INLINE:case Lm.FULLSCREEN:case Lm.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(Om||(Om={}));var Um,Bm,Qm,Pm,Ym,Gm,Fm,Vm,Hm=function(){function t(){this.BE=[]}var n=t.prototype;return n.QE=function(t){var n=this.PE.filter(function(n){return n.YE(t)});if(n.length>1)0;else if(0===n.length)throw f("Unknown ad integration: "+t.integration);return n[0]||null},n.GE=function(t){this.BE.push(t)},z(t,[{key:"PE",get:function(){return this.BE}}]),t}();Hm.rs=new Hm,function(t){t.sA="PLAYING",t.DA="PAUSED",t.FE="SEEK",t.VE="STALLED",t.HE="FAILED",t.WE="INITIAL_BUFFERING",t.XE="NO_ACCESS"}(Um||(Um={})),function(t){t.ZE="HTTP_REQUEST_STATUS_CODE_1XX",t.qE="HTTP_REQUEST_STATUS_CODE_2XX",t.JE="HTTP_REQUEST_STATUS_CODE_3XX",t.KE="HTTP_REQUEST_STATUS_CODE_4XX",t.$E="HTTP_REQUEST_STATUS_CODE_5XX",t.tL="BUFFER_LENGTH",t.nL="BYTES_RECEIVED",t.iL="SEGMENT_READ_BITRATE",t.eL="SEGMENT_PROFILE_BITRATE",t.rL="NUMBER_OF_FRAMES_DROPPED",t.sL="PLAYBACK_POSITION",t.uL="NUMBER_OF_FRAMES_DECODED",t.oL="PLAYBACK_DELTA_TO_ORIGIN",t.hL="STREAM_DELTA_TO_ORIGIN",t.cL="ORIGIN_TIMESTAMP"}(Bm||(Bm={})),function(t){t.aL="MANIFEST_URI",t.fL="ASSET_DURATION",t.vL="NUMBER_OF_CONTENT_PROFILES",t.dL="CDN",t.lL="CONTENT_TITLE",t.gL="SERVICE_NAME",t.AL="CONTENT_TYPE",t.wL="CONTENT_DESCRIPTION"}(Qm||(Qm={})),function(t){t.yL="shutdown_normal_shutdown"}(Pm||(Pm={})),function(t){t._L="session/",t.ML="internalError/",t.kL="drmError/",t.mL="caError/",t.pL="networkError/"}(Ym||(Ym={})),function(t){t.NL="userAction",t.DL="endOfStreamReached"}(Gm||(Gm={})),function(t){t.PAUSE="TL",t.RESUME="IL"}(Fm||(Fm={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(Vm||(Vm={}));var Wm,Xm,Zm,qm,Jm,Km="agama";function $m(t){return function(t){switch(t){case Wm.NONE:case Wm.HORIZONTAL:case Wm.VERTICAL:return!0;default:return!1}}(t)?t:Wm.NONE}function tp(t){switch(t){case"":return Wm.NONE;case"horizontal":return Wm.HORIZONTAL;case"vertical":return Wm.VERTICAL;default:throw new v}}function np(t){return{useSeamlessPeriodSwitch:ip(null==t?void 0:t.useSeamlessPeriodSwitch)}}function ip(t){if(!t||!et(t))return Xm.XI;switch(t){case"always":return Xm.bL;case"never":return Xm.EL;default:return Xm.XI}}function ep(t){return{discontinuityAlignment:rp(null==t?void 0:t.discontinuityAlignment)}}function rp(t){if(!t||!et(t))return Zm.XI;switch(t){case"playlist":return Zm.LL;case"media":return Zm.SL;default:return Zm.XI}}function sp(t,n){var i=nl(null==t?void 0:t.preferredAudioCodecs,tl),e=nl(null==t?void 0:t.preferredVideoCodecs,tl),r=nl(null==n?void 0:n.preferredAudioCodecs,tl),s=nl(null==n?void 0:n.preferredVideoCodecs,tl),u=up(i,r),o=up(e,s);if(u||o)return{preferredAudioCodecs:u,preferredVideoCodecs:o}}function up(t,n){return t.length>0?t:n.length>0?n:void 0}function op(t,n,i){var e=function(t,n){var i=Dl.Vg;t.useCredentials?i=Dl.Fg:t.crossOrigin&&(i=Cl(t.crossOrigin));i===Dl.Vg&&n&&n.vr&&n.vr[360]&&(i=Dl.Gg);return{useCredentials:i===Dl.Fg,crossOrigin:i}}(t,n),r=e.useCredentials,s=e.crossOrigin,u=t.liveOffset;K(u)||(u=i&&K(i.liveOffset)?i.liveOffset:void 0);var o=t.timeServer;K(o)||(o=n&&K(n.timeServer)?n.timeServer:void 0);var h=t.hlsDateRange;return K(h)||(h=i&&K(i.hlsDateRange)?Boolean(i.hlsDateRange):void 0),{crossOrigin:s,useCredentials:r,liveOffset:u,timeServer:o,hlsDateRange:h,experimentalRendering:Boolean(t.experimentalRendering),nativeUiRendering:Boolean(t.nativeUiRendering),lowLatency:Boolean(t.lowLatency),useNativePlayback:Boolean(t.useNativePlayback),dash:K(t.dash)?np(t.dash):void 0,hls:K(t.hls)?ep(t.hls):void 0,abr:sp(t.abr,null==i?void 0:i.abr)}}function hp(t){if(null!==t)return t}function cp(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:hp(t.streamActivityMonitorID),adTagParameters:nt(t.adTagParameters)?t.adTagParameters:{},authToken:hp(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var e=t.videoID,r=t.contentSourceID;return e?r?sr({},i,{availabilityType:"vod",videoID:e,contentSourceID:r}):void p.Su("A VOD DAI configuration was provided without valid contentSourceID which is required."):void p.Su("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var s=t.assetKey;return s?sr({},i,{availabilityType:"live",assetKey:s}):void p.Su("A Live DAI configuration was provided without valid assetKey which is required.")}p.Su("A DAI configuration was provided without a valid availabilityType which is required.")}function ap(t){switch(t.integration){case"google-dai":return cp(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}function fp(t,n,i){var e=op(t,n,i),r=hp(t.src),s=t.type;return s||(s=t.src?jl(t.src):void 0),sr({},e,{src:r,type:s,contentProtection:function(t,n){var i;i=K(t.contentProtection)?t.contentProtection:K(t.drm)?t.drm:K(n)&&K(n.contentProtection)?n.contentProtection:K(n)&&K(n.drm)?n.drm:void 0;return vp(i)}(t,n),ssai:K(t.ssai)?ap(t.ssai):void 0,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function vp(t){if(!J_(t)||!t.integration)return t;switch(t.integration){case y_:return n=t,i=rM(gr.fo,n),e=rM(gr.ao,n),r=n[gr.vo]&&rM(gr.vo,n),sr({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}function dp(t){if(!t)return!0;var n,i,e=!(Ql(n=t.sources)||tt(n)&&Ql(n[0]))||Pl(t.sources),r=!t.ads||(!(i=t.ads)||$(i)&&0===i.length),s=""!==t.poster&&!t.poster;return e&&r&&s}function lp(t){if(t&&t.sources)return function t(n){if(et(n))return n;if(Bl(n))return n.src;if(tt(n)&&n.length>0)return t(n[0]);return}(t.sources)}function gp(t,n,i){return Rl(t)?function(t,n,i){var e=sr({},Yl(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:qm.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:Jm.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,et(r)?r:tt(r)&&et(r[0])?r:nt(s=r)&&et(s.userId)&&(tt(s.externalId)||et(s.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,s;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return Jm.CHANNEL;case"event":return Jm.EVENT;case"asset":default:return Jm.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=Jd(t.contentProtected));t.assetInfo?e.assetInfo=Jd(t.assetInfo):e.assetInfo="asset"===e.assetType;return e.ping=(u=e.assetType,o=t.ping,h=!1,c=!1,a=!1,o?(h=!!rt(o.adImpressions)&&o.adImpressions,c=!!rt(o.freeWheelVideoViews)&&o.freeWheelVideoViews,a=rt(o.linearAdData)?o.linearAdData:u!==Jm.ASSET):u!==Jm.ASSET&&(a=!0),{adImpressions:h,freeWheelVideoViews:c,linearAdData:a}),e=wp(e=yp(e=Ap(e,t),n,i),t,i);var u,o,h,c,a}(t,n,i):function(t,n,i){var e=Gl(),r=n&&(n.contentProtection||n.drm);if(et(t)){if(e.src=t,e.type=jl(t),r){var s=wm(r);e.contentProtection=vp(s)}}else if(Bl(t)||zl(t)){e.src=t.src,e.type=t.type||jl(t.src),e.isAdvertisement=t.isAdvertisement;var u=function(t){return t.type===Tl.Wg||t.type===Tl.Xg}(t)?t.hesp:void 0;void 0!==u&&(e.hesp=u);var o=t.contentProtection||t.drm||r,h=wm(o);e.contentProtection=vp(h),t.ssai&&(e.ssai=ap(t.ssai)),e=Ap(e,t)}return e=wp(e=yp(e,n,i),t,i)}(t,n,i)}function Ap(t,n){n.useCredentials?t.crossOrigin=Dl.Fg:n.crossOrigin&&(t.crossOrigin=Cl(n.crossOrigin)),et(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Jd(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Jd(n.useNativePlayback)),n.dash&&(t.dash=np(n.dash)),n.hls&&(t.hls=ep(n.hls));var i=void 0!==n.experimentalRendering?Jd(n.experimentalRendering):void 0;void 0!==i&&(t.experimentalRendering=i);var e=void 0!==n.nativeUiRendering?Jd(n.nativeUiRendering):void 0;return void 0!==e&&(t.nativeUiRendering=e),t}function wp(t,n,i){return t.abr=sp(et(n)?void 0:n.abr,null==i?void 0:i.abr),t}function yp(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!K(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!K(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===Dl.Vg&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=Dl.Gg),t.useCredentials=t.crossOrigin===Dl.Fg,et(r)&&!t.timeServer&&(t.timeServer=r),t}function _p(t){var n={src:""};if(t&&t.src){if(n.src=tl(t.src),"default"in t&&(n.default=Jd(t.default)),n.kind=wy(t.kind),function(t){switch(t){case $g.DEFAULT:case $g.SRT:case $g.TTML:case $g.WEBVTT:case $g.EMSG:case $g.EVENT_STREAM:case $g.ID3:case $g.CEA608:case $g.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function Mp(t,n){if(it(t))try{return n.QE(t).jL(t)}catch(t){return}}function kp(t){return et(t.sources)&&""!==t.sources||nt(t.sources)&&et(t.sources.src)}function mp(t){return t.integration===Om.SPOTX&&!w(t.id)}function pp(t){return"freewheel"===t.integration}function Np(t,n,i){if(void 0===i&&(i=Hm.rs),dp(t))return{sources:[Gl()]};var e=Wd(t);if(e.sources=function(t,n,i){if(Ql(t))return[gp(t,n,i)];if(tt(t)&&Ql(t[0])){for(var e=[],r=0;r<t.length;r++){var s=t[r];e.push(gp(s,n,i))}return e}return[Gl()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!tt(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var s=r[e];(s=Mp(s,n))&&(kp(s)||mp(s)||pp(s))&&i.push(s)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var s,u,o,h=!Pl(e.sources),c=e.ads&&e.ads.length>0;if(h&&!c?delete e.ads:c&&!h&&(e.sources=[]),"textTracks"in e){var a=function(t){if(!tt(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=_p(r)).src&&n.push(r)}return n}(e.textTracks);0===a.length?delete e.textTracks:e.textTracks=a}if("poster"in e&&(e.poster=tl(e.poster)),"vr"in e&&(e.vr=(s=e.vr,(u=s||{}).stereoMode=$m(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?tp(u.stereoMode):Wm.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=Vl(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=Wd(t),e=function(e){var r=n[e],s=!t.some(function(t){return t.integration===r.integration});s&&r.integration!==Km&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=dg(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(Wm||(Wm={})),function(t){t.XI="auto",t.bL="always",t.EL="never"}(Xm||(Xm={})),function(t){t.XI="auto",t.LL="playlist",t.SL="media"}(Zm||(Zm={})),function(t){t.VERIZON_MEDIA="verizon-media"}(qm||(qm={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(Jm||(Jm={}));var Dp=function(){function t(t){this.CL=t}return t.prototype.OL=function(t){var n,i,e,r,s,u,o,h=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.CL.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.CL.indexOf(t.charAt(n))<<18|this.CL.indexOf(t.charAt(n+1))<<12|(s=this.CL.indexOf(t.charAt(n+2)))<<6|(u=this.CL.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,h[n/4]=String.fromCharCode(i,e,r),64===u&&(h[n/4]=String.fromCharCode(i,e)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},t.prototype.xL=function(t,n){var i,e,r,s,u,o,h,c=[],a="";if((o=t.length%3)>0)for(;o++<3;)a+=this.CL.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,s=i>>6&63,u=63&i,c[o/3]=this.CL.charAt(e)+this.CL.charAt(r)+this.CL.charAt(s)+this.CL.charAt(u);return h=(h=c.join("")).slice(0,h.length-a.length),n||(h+=a),h},t.q_=new t(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.zL=new t(t.q_.OL("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function Tp(t){return"string"==typeof t}function Ip(t){return"number"==typeof t}var bp={}.toString;var Ep,Lp=Array.isArray||function(t){return"[object Array]"===bp.call(t)};function Sp(t,n){return Lp(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(Ep||(Ep={}));var jp,Cp=d.keys(Ep).map(function(t){return Ep[t]});function Op(t){return-1!==Cp.indexOf(t)}function xp(t){try{var n=Dp.zL.OL(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=Tp(t.key),e=Tp(t.customer_id),r=Ip(t.generation_date),s=Ip(t.expiration_date),u=Sp(t.domains_page,Tp),o=Sp(t.domains_source,Tp),h=Sp(t.sdks,Op),c=(a=t.send_impression,"boolean"==typeof a);var a;var f;if(!(n&&i&&e&&r&&s&&u&&o&&h&&c))return!1;return!0}(i))throw new f("The provided license could not be decoded correctly.");return i}catch(t){throw new f("The provided license could not be decoded correctly.")}}function zp(){return jp||(jp={Sv:ke.href,RL:Me.parent&&Me.parent!==e,UL:Bp()}),jp}var Rp,Up=["http:","https:","ftp:","ws:","wss:"];function Bp(){try{return Me.top.location.href}catch(t){return Me&&Me.document&&Me.document.referrer}}!function(t){t[t.BL=0]="BL",t[t.QL=1]="QL",t[t.PL=2]="PL"}(Rp||(Rp={}));var Qp,Pp=function(t,n,i,e,r,s,u,o){void 0===r&&(r=""),void 0===s&&(s=Date.now()),void 0===u&&(u=[]),void 0===o&&(o=!0),this.YL=t,this.GL=n,this.FL=i,this.VL=e,this.HL=r,this.WL=s,this.XL=u,this.ZL=o};!function(t){t.QL="expired",t.qL="invaliddomain",t.JL="invalidsource",t._g="error"}(Qp||(Qp={}));var Yp=function(){function t(t,n,i){this.KL=void 0,this.$L=t,this.tS=n,this.nS=i,this.KL=Xp(this.nS)}var n=t.prototype;return n.iS=function(t,n){var i=this;if(!dp(t)&&0!==n.FL.length&&!Vp(n.FL)){var e=[];if(Ql(t.sources)?e=[t.sources]:tt(t.sources)&&(e=t.sources),!e.every(function(t){return i.eS(t,n)})){var r=Qp.JL,s=qp.rS(r);throw new Uo(Gp(r),s)}}},n.sS=function(n){return this.uS(n.XL)&&this.oS(n)?t.hS(n.VL)?Rp.BL:Rp.QL:Rp.PL},n.uS=function(t){var n=this;return 0===t.length||t.some(function(t){return n.cS(t)})},n.cS=function(t){return"ios"===function(t){switch(t){case Ep.ANDROID:return O.de;case Ep.ANDROIDTV:case Ep.FIRETV:return O.Ae;case Ep.IOS:return O.we;case Ep.TVOS:return O.ye;case Ep.CHROMECAST:case Ep.CHROMECASTCAF:return O._e;default:return O.ve}}(t)},t.hS=function(t){var n=Number(new Date);return!!t&&n<=t},n.oS=function(t){return!(this.KL&&0!==t.GL.length&&!Vp(t.GL))||!!(this.KL&&this.aS(t.GL)&&this.fS(t.GL))},n.aS=function(t){return Hp(this.nS.Sv,t)},n.fS=function(t){if(!this.nS.RL)return!0;if(this.$L)return!0;var n=this.vS();return!!n&&Hp(n,t)},n.vS=function(){if(this.nS.RL){var t=s.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.nS.UL?this.nS.UL:void 0}},n.eS=function(n,i){return!!t.dS(n,i.FL)},t.dS=function(t,n){return Hp(this.lS(t),n)},t.lS=function(t){return et(t)?t:Bl(t)&&t.src||""},t}();function Gp(t){switch(t){case Qp.qL:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case Qp.JL:return n.ErrorCode.LICENSE_INVALID_SOURCE;case Qp.QL:return n.ErrorCode.LICENSE_EXPIRED;case Qp._g:return n.ErrorCode.LICENSE_ERROR}}function Fp(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+r+u+r+u+r+u+"\\)"),h=e.match(o),c=function(t){return"*"===t?"("+s+")":t};if(null!==h&&5===h.length){var a=new RegExp("^"+h[1]+r+c(h[2])+r+c(h[3])+r+c(h[4])+"$");return null!==i.match(a)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function Vp(t){return t.some(function(t){return"*"===t})}function Hp(t,n){var i=p.Fu(t);if(!Wp(i))return!0;for(var e=0;e<n.length;e++){var r=n[e];if(Fp(i.hostname,r))return!0;if(Fp(Xf(t),r))return!0}return!1}function Wp(t){return-1!==Up.indexOf(t.protocol)}function Xp(t){var n=p.Fu(t.Sv);return Wp(n)&&!Fp(n.hostname,"localhost")&&!function(t){return Fp(t.hostname,"theoplayer.doubleclick.net")}(n)}var Zp,qp=function(){function t(){}return t.rS=function(t){return t===Qp.qL?this.gS:t===Qp.JL?this.AS:t===Qp.QL?this.wS:this.yS},t}();function Jp(t){var n=[t.ip,t._S,t.MS];switch(t._S){case Zp.kS:n.push(t.Ig);break;case Zp.mS:n.push(t.uA),n.push(t.vh);break;case Zp.pS:n.push(t.vh)}return n}qp.yS="The license for this player is invalid.",qp.wS="The usage license for this video player has expired.",qp.gS="The current domain is incompatible with the license for this player.",qp.AS="The provided video source is incompatible with the license for this player.",function(t){t[t.kS=1]="kS",t[t.mS=4]="mS",t[t.pS=5]="pS"}(Zp||(Zp={}));for(var Kp=new Array(256),$p=0;$p<256;$p+=1)Kp[$p]=($p<16?"0":"")+$p.toString(16);function tN(){var t=Jt(),n=(4294967296*l.random()|0)+t&3029421624,i=(4294967296*l.random()|0)+t&3595553209,e=(4294967296*l.random()|0)+t&1130486254,r=(4294967296*l.random()|0)+t&1284287105;return Kp[255&n]+Kp[n>>>8&255]+Kp[n>>>16&255]+Kp[n>>>24&255]+"-"+Kp[255&i]+Kp[i>>>8&255]+"-"+Kp[i>>>16&15|64]+Kp[i>>>24&255]+"-"+Kp[63&e|128]+Kp[e>>>8&255]+"-"+Kp[e>>>16&255]+Kp[e>>>24&255]+Kp[255&r]+Kp[r>>>8&255]+Kp[r>>>16&255]+Kp[r>>>24&255]}var nN=function(){function t(t){this.CL=void 0,this.CL=t}var n=t.prototype;return n.OL=function(t){var n,i,e,r,s,u,o,h=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.CL.indexOf(t.charAt(n))<<18|this.CL.indexOf(t.charAt(n+1))<<12|(s=this.CL.indexOf(t.charAt(n+2)))<<6|(u=this.CL.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,h[n/4]=String.fromCharCode(i,e,r),64===u&&(h[n/4]=String.fromCharCode(i,e)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},n.xL=function(t){var n,i,e,r,s,u,o,h=[],c="";if((u=t.length%3)>0)for(;u++<3;)c+=this.CL.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,h[u/3]=this.CL.charAt(i)+this.CL.charAt(e)+this.CL.charAt(r)+this.CL.charAt(s);return(o=h.join("")).slice(0,o.length-c.length)+c},t}();function iN(){return p.Du()}nN.q_=new nN(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),nN.zL=new nN(nN.q_.OL("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var eN,rN="theoplayer-session-id";function sN(){if(!eN){var t=th.Mh(rN);t?eN=t:(eN=tN(),th.sa(rN,eN))}return eN}var uN=/[^\x00-\x7E]/g;function oN(t){return"\\u"+Ur(t.charCodeAt(0).toString(16),4,"0")}var hN=0,cN=1,aN=6e4;function fN(t){var n,i,e,r,s,u=(n=function(t){return[t.NS,t.ec,t.YL,t.Ak,t.DS,t.TS,t.IS.map(Jp)]}(t),i=[],e=n,r=function(t,n){if(nt(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,s).replace(uN,oN));return nN.zL.xL(u)}var vN=function(){function t(t,n,i,e,r,s){var u=this;void 0===e&&(e=nN.q_),void 0===r&&(r=hN),void 0===s&&(s=cN),this.bS=[],this.ES=null,this.LS=0,this.SS="unknown",this.jS=0,this.CS=function(){iN()-u.LS>aN&&u.fe()},this.OS=function(){u.fe(!0)},this.bD=t,this.iN=n,this.xS=i,this.zS=e,this.RS=r,this.US=s,_e.QS(this.OS),c(this.CS,aN)}var n=t.prototype;return n.PS=function(){return Boolean(this.DS)},n.YS=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xS.GS();case 2:if(t.sent.ZL){t.next=5;break}return t.abrupt("return");case 5:return i={_S:Zp.kS,MS:Jt(),Ig:n},t.next=8,this.FS(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.VS=function(){var t=N.coroutine(rr.mark(function t(n,i){var e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={_S:Zp.mS,MS:Jt(),uA:i,vh:n},t.next=3,this.FS(e);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.HS=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={_S:Zp.pS,MS:Jt(),vh:n},t.next=3,this.FS(i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.FS=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xS.GS();case 2:if(i=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.zS.xL(i.YL)){t.next=6;break}if(n._S===Zp.pS){t.next=6;break}return t.abrupt("return");case 6:if(n._S===Zp.kS?this.WS():this.PS()||this.WS(),n.ip=this.jS++,this.bS.push(n),(e=n._S)!==Zp.kS&&e!==Zp.pS){t.next=14;break}return t.next=12,this.fe();case 12:t.next=19;break;case 14:if(!(this.bS.length>this.RS)){t.next=19;break}return t.next=17,this.XS();case 17:t.next=19;break;case 19:case"end":return t.stop()}var e},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.fe=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.bS.length>0)){t.next=6;break}return t.next=4,this.XS(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.ZS=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xS.GS();case 2:return i=t.sent,t.abrupt("return",{NS:Jt(),ec:sN(),YL:this.zS.xL(i.YL)||"dev",Ak:this.bD,DS:this.ES,TS:this.SS,IS:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.XS=function(){var t=N.coroutine(rr.mark(function t(n){var i,e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),i=this.bS.splice(0,this.US),t.next=4,this.ZS(i);case 4:e=t.sent,n?this.td(e):this.qS(e),this.LS=iN();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.qS=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=fN(n),e=new Qf({Sv:"https://license.theoplayer.com",dv:i,Kv:!1,Tv:sh.cs,Dv:{"Content-Type":QM.zD},Zv:4e3,Xv:xf.POST}),t.prev=2,t.next=5,this.iN.Ev(e);case 5:return r=t.sent,t.next=8,r.av();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+i;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.td=function(t){var n=fN(t);this.iN.td({Sv:"https://license.theoplayer.com",dv:n,vv:QM.zD})},n.WS=function(){this.PS()&&this.fe(),this.ES=tN(),this.jS=0},n.nd=function(){_e.JS(this.OS),this.fe()},z(t,[{key:"IS",get:function(){return this.bS}},{key:"DS",get:function(){return this.ES}}]),t}();var dN=Z.Rr||Z.pr&&Z.Gr<13;function lN(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var gN=function(){function t(t){this.VI=void 0,this.kl=void 0,this.KS=void 0,this.VI=t}var n=t.prototype;return n.$S=function(t){if(!t||!t.drawImage)return!1;var n=this.VI.KA();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.tj=function(t,n,i,e,s,u){if(!t||!t.texImage2D)return!1;var o=this.VI,h=o.KA();if(!h)return!1;if(dN){this.KS||(this.KS=r.createElement("canvas"));var c=this.KS,a=c.getContext("2d"),v=o.gA,d=o.lA,l=c.width,g=c.height;a.clearRect(0,0,c.width,c.height),l===v&&g===d||(c.width=v,c.height=d),a.drawImage(h,0,0,v,d);var A=!1;v>0&&lN(a,v-1,0)&&(c.width=l,A=!0),d>0&&lN(a,0,d-1)&&(c.height=g,A=!0),A&&a.drawImage(h,0,0,v,d),h=c}try{t.texImage2D(n,i,e,s,u,h)}catch(t){throw new f("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},z(t,[{key:"ml",get:function(){return this.kl||(this.kl=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.$S.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,s,u){return t.tj(n,i,e,r,s,u)}}));var t}}]),t}(),AN=function(t){function n(n,i){var e;return(e=t.call(this,"nj")||this).pu=n,e.Xk=i,e}return U(n,t),n.prototype.pl=function(){return new wN(this.pu,this.Xk)},n}(Sd),wN=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return U(n,t),n}(xs),yN=function(t,n){this.hw=void 0,this.ij=void 0,this.hw=t,this.ij=n},_N=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).ej=void 0,e.rj=0,e.sj=0,e.uj=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.sj=n.width,e.rj=n.height,e.ij(e.sj,e.rj)}},e.ej=new Me.ResizeObserver(e.uj),e.ej.observe(e.hw),e}return U(n,t),n.prototype.nd=function(){this.ej.disconnect()},z(n,[{key:"oj",get:function(){return this.rj}},{key:"hj",get:function(){return this.sj}}]),n}(yN),MN=0;function kN(t){var n=iN(),i=l.max(0,16-(n-MN)),e=o(function(){return t(n+i)},i);return MN=n+i,e}var mN,pN=h,NN=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,DN=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function TN(){return mN||(mN=Me&&Me.document&&Me.document.createElement("span")),mN}NN&&DN||(NN=kN,DN=pN),NN=NN.bind(t),DN=DN.bind(t);var IN=["Webkit","Moz","O","ms"],bN=(function(){var t=!1;try{if(void 0!==Me&&"function"==typeof Me.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});Me.addEventListener("testPassiveEventSupport",T,n),Me.removeEventListener("testPassiveEventSupport",T,n)}}catch(t){}}(),or());function EN(t){return bN.has(t)||bN.set(t,function(t){var n=TN();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<IN.length;e++){var r=IN[e],s=r+i;if(void 0!==n.style[s])return s}return t}(t)),bN.get(t)}function LN(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function SN(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[EN("transition")]="0s"}var jN=function(t){function n(n,i,s){var u;(u=t.call(this,n,i)||this).cj=void 0,u.aj=0,u.sj=NaN,u.rj=NaN,u.fj=void 0,u.vj=void 0,u.dj=void 0,u.lj=void 0,u.gj=void 0,u.Jl=function(){u.vj.style.width=1e5+"px",u.vj.style.height=1e5+"px",u.fj.scrollLeft=1e5,u.fj.scrollTop=1e5,u.dj.scrollLeft=1e5,u.dj.scrollTop=1e5,0===u.dj.scrollTop&&NN(u.Jl)},u.Aj=function(){var t=u.hj,n=u.oj;u.ij(t,n),u.sj=t,u.rj=n,u.Jl(),u.aj=0},u.wj=function(){if(!u.aj){var t=u.hj,n=u.oj;t===u.sj&&n===u.rj||(u.aj=NN(u.Aj))}},u.yj=function(){u.gj||(u.gj=o(u._j,66))},u._j=function(){u.gj=void 0,u.Mj()},u.Mj=function(){u.wj()};var h=function(t,n){return e.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");s||"static"!==h||(n.style.position="relative");var c,a=r.createElement("div");return u.cj=a,u.fj=r.createElement("div"),u.vj=r.createElement("div"),u.dj=r.createElement("div"),u.lj=r.createElement("div"),LN(u.fj),LN(u.dj),SN(u.vj),SN(c=u.lj),c.style.width="200%",c.style.height="200%",a.appendChild(u.fj),a.appendChild(u.dj),u.fj.appendChild(u.vj),u.dj.appendChild(u.lj),n.appendChild(a),u.fj.addEventListener("scroll",u.wj),u.dj.addEventListener("scroll",u.wj),e&&e.addEventListener("resize",u.yj),u.wj(),u}return U(n,t),n.prototype.nd=function(){DN(this.aj),this.aj=0,this.fj.removeEventListener("scroll",this.wj),this.dj.removeEventListener("scroll",this.wj),Te(this.cj),e&&e.removeEventListener("resize",this.yj)},z(n,[{key:"oj",get:function(){return this.hw.getBoundingClientRect().height||this.rj||0}},{key:"hj",get:function(){return this.hw.getBoundingClientRect().width||this.sj||0}}]),n}(yN),CN=function(t){function n(n){var i;return(i=t.call(this)||this).hw=void 0,i.ej=void 0,i.uj=function(t,n){i.Zo(new AN(t,n))},i.hw=n,i}U(n,t);var i=n.prototype;return i.cc=function(t){this.ej||("function"==typeof Me.ResizeObserver?this.ej=new _N(this.hw,this.uj):this.ej=new jN(this.hw,this.uj,t))},i.nd=function(){this.$o(),this.ej&&(this.ej.nd(),this.ej=void 0)},z(n,[{key:"oj",get:function(){return this.ej?this.ej.oj:0}},{key:"hj",get:function(){return this.ej?this.ej.hj:0}}]),n}(Cs),ON=function(t){function n(){return t.call(this,hm.xl)||this}return U(n,t),n}(xs);var xN=function(){if(r)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in r)return{kj:i[0],mj:i[1],pj:i[2],Nj:i[3],Dj:i[4],Tj:i[5]}}}(),zN=function(t){function n(){return t.call(this,hm.Zb)||this}return U(n,t),n}(xs),RN=function(t){function n(i){var e;return(e=t.call(this)||this).hw=void 0,e.Jb=void 0,e.qb=!1,e.Ij=function(){return e.EE()},e.bj=function(){return e.SE()},e.hw=i,e.Jb=n.Ej(i),r.addEventListener(xN.Dj,e.Ij),e.EE(),e}U(n,t),n.Ej=function(t){return Boolean(xN&&r[xN.Nj]&&xN.kj in t)};var i=n.prototype;return i.Uw=function(){var t=this.hw[xN.kj]();t&&t.then?t.then(this.Ij,this.bj):(r.removeEventListener(xN.Tj,this.bj),r.addEventListener(xN.Tj,this.bj))},i.Qw=function(){var t=r[xN.mj]();t&&t.then?t.then(this.Ij,this.bj):(r.removeEventListener(xN.Tj,this.bj),r.addEventListener(xN.Tj,this.bj))},i.EE=function(){var t=this.qb,n=this.hw===r[xN.pj];this.qb=n,t!==n&&this.Zo(new ON)},i.SE=function(){this.Zo(new vm)},i.nd=function(){this.$o(),r.removeEventListener(xN.Dj,this.Ij),r.removeEventListener(xN.Tj,this.bj)},n}(Cs),UN=function(t){function n(i){var e;return(e=t.call(this)||this).hw=void 0,e.Jb=void 0,e.qb=!1,e.Ij=function(){return e.EE()},e.hw=i,e.Jb=n.Ej(i),e.hw.addEventListener("webkitbeginfullscreen",e.Ij),e.hw.addEventListener("webkitendfullscreen",e.Ij),e.hw.addEventListener("webkitpresentationmodechanged",e.Ij),e.EE(),e}U(n,t),n.Ej=function(t){return Z.pr&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.Uw=function(){var t=this;this.hw.webkitSupportsPresentationMode&&this.hw.webkitSupportsPresentationMode("fullscreen")?Z.pr?requestAnimationFrame(function(){return t.hw.webkitSetPresentationMode("fullscreen")}):this.hw.webkitSetPresentationMode("fullscreen"):this.hw.webkitEnterFullscreen()},i.Qw=function(){this.hw.webkitSupportsPresentationMode&&this.hw.webkitSupportsPresentationMode("inline")?this.hw.webkitSetPresentationMode("inline"):this.hw.webkitExitFullscreen()},i.EE=function(){var t,n=this.qb;t=this.hw.webkitPresentationMode?"fullscreen"===this.hw.webkitPresentationMode:!!this.hw.webkitDisplayingFullscreen,this.qb=t,n!==t&&this.Zo(new ON)},i.nd=function(){this.$o(),this.hw.removeEventListener("webkitbeginfullscreen",this.Ij),this.hw.removeEventListener("webkitendfullscreen",this.Ij),this.hw.removeEventListener("webkitpresentationmodechanged",this.Ij)},n}(Cs),BN=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Lj=[],n.Sj=void 0,n.DE=!1,n.EE=function(){var t=n.DE,i=n.jj();t!==i&&(n.DE=i,n.Zo(new ON))},n}U(n,t);var i=n.prototype;return i.Uw=function(){this.Sj?this.Sj.Uw():this.Zo(new vm)},i.Qw=function(){for(var t=0,n=this.Lj;t<n.length;t++){var i=n[t];i.qb&&i.Qw()}},i.Cj=function(t){this.Sj=t},i.Oj=function(t){this.Lj.push(t),t.qo(hm.xl,this.EE),t.qo(hm._g,this.Xo),this.EE()},i.xj=function(t){ss(this.Lj,t),t.th(hm.xl,this.EE),t.th(hm._g,this.Xo)},i.jj=function(){for(var t=0,n=this.Lj;t<n.length;t++){if(n[t].qb)return!0}return!1},i.Jl=function(){this.Sj=void 0,this.DE=!1;for(var t=this.Lj.slice(),n=0;n<t.length;n++){var i=t[n];this.xj(i),i.nd()}this.EE()},i.nd=function(){this.$o(),this.Jl()},z(n,[{key:"Jb",get:function(){return!!this.Sj&&this.Sj.Jb}},{key:"qb",get:function(){return this.DE}}]),n}(Cs),QN=function(t){function n(n,i){var e;return(e=t.call(this)||this).VI=void 0,e.zj=void 0,e.Rj=void 0,e.Uj=!1,e.Bj=function(){return e.Kh()},e.EE=function(t){e.Uj||e.Zo(t)},e.VI=n,e.zj=i,e.Rj=dm,e.Qj(),e.VI.qo(rh._a,e.Bj),e.Kh(),e}U(n,t);var i=n.prototype;return i.Uw=function(){this.zj&&this.Rj.Uw()},i.Qw=function(){this.Rj.Qw()},i.Qj=function(){this.Rj.qo(hm.xl,this.EE),this.Rj.qo(hm._g,this.Xo)},i.Pj=function(){this.Rj.th(hm.xl,this.EE),this.Rj.th(hm._g,this.Xo)},i.Kh=function(){var t=this.Rj,n=this.VI.$A();if(t!==n){this.Uj=!0;var i=this.qb,e=this.Jb;i&&this.Qw(),this.Pj(),this.Rj=n,this.Qj(),i&&!this.qb&&this.Jb?this.Uw():this.Qw(),this.Uj=!1,e!==this.Jb&&this.Zo(new zN),i!==this.qb&&this.Zo(new ON)}},i.nd=function(){this.$o(),this.Pj(),this.VI.th(rh._a,this.Bj)},z(n,[{key:"Jb",get:function(){return!!this.zj&&this.Rj.Jb}},{key:"qb",get:function(){return this.Rj.qb}}]),n}(Cs);function PN(t){var n;return{get url(){return t.Sv},get method(){return t.Xv},get headers(){return n||(n=t.Dv.Xa()),n},get body(){return t.dv},get useCredentials(){return t.Kv},get type(){return HN(t.Ao)},get subType(){return XN(t.qv)},get mediaType(){return qN(t.Jv)},get responseType(){return GN(t.Tv)}}}function YN(t){switch(t.toLowerCase()){case"arraybuffer":return sh.Va;case"json":return sh.Ha;case"stream":return sh.Wa;case"text":default:return sh.cs}}function GN(t){return t}function FN(t){switch(t.toUpperCase()){case"POST":return xf.POST;case"PUT":return xf.PUT;case"DELETE":return xf.DELETE;case"HEAD":return xf.HEAD;case"OPTIONS":return xf.OPTIONS;case"GET":default:return xf.GET}}function VN(t){switch(t.toLowerCase()){case"manifest":return zf.Ov;case"segment":return zf.xv;case"content-protection":return zf.zv;default:return zf.Cv}}function HN(t){return t}function WN(t){switch(t.toLowerCase()){case"initialization-segment":return Rf.Rv;case"fairplay-license":return Rf.Uv;case"fairplay-certificate":return Rf.Bv;case"widevine-license":return Rf.Qv;case"widevine-certificate":return Rf.Pv;case"playready-license":return Rf.Yv;case"clearkey-license":return Rf.Gv;case"aes128-key":return Rf.Fv;default:return Rf.Cv}}function XN(t){return t}function ZN(t){switch(t.toLowerCase()){case"audio":return Uf.Vv;case"video":return Uf.Hv;case"text":return Uf.cs;case"image":return Uf.Wv;case"":default:return Uf.Cv}}function qN(t){return t}var JN=function(){function t(t,n){this.Yj=new eo,this.Gj=[],this.kl=void 0,this.Fj=!1,this.wd=void 0,this.Vj=0,this.Hj=t,this.Wj=n}var n=t.prototype;return n.rk=function(){this.Fj=!0,this.Yj.Oh(null)},n.Xj=function(){this.Yj.xh(new lf(this.Gj))},n.Zj=function(t){if(!this.qj)throw new v("Cannot respond more than once");if(!nt(t))throw new v("Expected valid response");this.wd=this.Jj(t),this.rk()},n.Kj=function(){try{var t=this.Wj(this.ml);t?this.$j(t):this.tC||this.nC||this.rk()}catch(t){this.Gj.push(t),this.Xj()}},n.$j=function(t){if(this.nC)throw new f("Request has been redirected or a response already exists");if(st(t))this.iC(t);else{if("function"!=typeof t)throw new v("Expected promise or function");var n=new eo;try{var i=t(function(t){t?n.xh(t):n.Oh(void 0)});st(i)&&n.Oh(i)}catch(t){n.xh(t)}this.iC(n.Ch)}},n.iC=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.Vj++,t.next=4,n;case 4:this.Vj--,this.tC||this.nC||(this.Gj.length?this.Xj():this.rk()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.Vj--,this.Gj.push(t.t0),this.tC||this.nC||this.Xj();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),z(t,[{key:"eC",get:function(){return this.Yj.Ch}},{key:"ml",get:function(){return this.kl||(this.kl=this.rC()),this.kl}},{key:"nC",get:function(){return this.Fj}},{key:"qj",get:function(){return!this.Fj}},{key:"tC",get:function(){return this.Vj>0}},{key:"yd",get:function(){return this.wd}}]),t}(),KN=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).sC=void 0,r.sC=e,r.Kj(),r}U(n,t),n.uC=function(t,n,i){var e=void 0===t.body?i:t.body;return new Bf({Ps:e,Ev:n.Ev,Tv:n.Ev.Tv,Dv:t.headers,Nv:t.status,Iv:t.statusText,Lv:t.url,bv:!0},n)};var i=n.prototype;return i.rC=function(){return i=PN((t=this).Ev),{get closed(){return!t.qj},get request(){return i},get url(){return t.Sv},get status(){return t.Nv},get statusText(){return t.Iv},get headers(){return n||(n=t.Dv.Xa()),n},get body(){return t.dv},respondWith:function(n){return t.Zj(n)},waitUntil:function(n){return t.$j(n)}};var t,n,i},i.Jj=function(t){return n.uC(t,this.Hj,this.sC)},z(n,[{key:"dv",get:function(){return this.sC}},{key:"Dv",get:function(){return this.Hj.Dv}},{key:"Ev",get:function(){return this.Hj.Ev}},{key:"yd",get:function(){return this.wd}},{key:"Nv",get:function(){return this.Hj.Nv}},{key:"Iv",get:function(){return this.Hj.Iv}},{key:"Sv",get:function(){return this.Hj.Lv}}]),n}(JN),$N=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).oC=void 0,r.hC=void 0,r.hC=e,r.Kj(),r}U(n,t);var i=n.prototype;return i.rC=function(){return t=this,{get url(){return t.Sv},get method(){return t.Xv},get headers(){return n||(n=t.Dv.Xa()),n},get body(){return t.dv},get closed(){return!t.qj},get useCredentials(){return t.Kv},get type(){return HN(t.Ao)},get subType(){return XN(t.qv)},get mediaType(){return qN(t.Jv)},get responseType(){return GN(t.Tv)},redirect:function(n){return t.cC(n)},respondWith:function(n){return t.Zj(n)},waitUntil:function(n){return t.$j(n)}};var t,n},i.Jj=function(t){var n=this.Hj.dv,i=new Bf({Ps:n,Dv:{},Ev:this.Hj,Lv:this.Hj.Sv,Tv:this.Hj.Tv,Nv:200,Iv:"OK"});return KN.uC(t,i,n)},i.cC=function(t){if(!this.qj)throw new v("Cannot redirect, already redirected or has a response");var n;n=et(t)?{url:t}:t,this.oC=function(t,n){return new Qf({Sv:void 0===t.url?n.Sv:t.url,Xv:void 0!==t.method?FN(t.method):void 0,Dv:t.headers,dv:t.body,Kv:t.useCredentials,Ao:void 0!==t.type?VN(t.type):void 0,qv:void 0!==t.subType?WN(t.subType):void 0,Jv:void 0!==t.mediaType?ZN(t.mediaType):void 0,Tv:void 0!==t.responseType?YN(t.responseType):void 0},n)}(n,this.Hj),this.rk()},z(n,[{key:"dv",get:function(){return this.Hj.dv}},{key:"qj",get:function(){return this.hC&&!this.Fj}},{key:"Dv",get:function(){return this.Hj.Dv}},{key:"Xv",get:function(){return this.Hj.Xv}},{key:"aC",get:function(){return this.oC}},{key:"yd",get:function(){return this.wd}},{key:"Tv",get:function(){return this.Hj.Tv}},{key:"Zv",get:function(){return this.Hj.Zv}},{key:"Fo",get:function(){return this.Hj.Fo}},{key:"Ao",get:function(){return this.Hj.Ao}},{key:"qv",get:function(){return this.Hj.qv}},{key:"Jv",get:function(){return this.Hj.Jv}},{key:"Sv",get:function(){return this.Hj.Sv}},{key:"Kv",get:function(){return this.Hj.Kv}},{key:"$v",get:function(){return this.Hj.$v}}]),n}(JN);var tD,nD=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new iD(n);return(e=t.call(this,r,i)||this).fC=void 0,e.fC=r,e}U(n,t);var i=n.prototype;return i.vC=function(t){this.fC.vC(t)},i.dC=function(t){this.fC.dC(t)},i.lC=function(t){this.fC.lC(t)},i.gC=function(t){this.fC.gC(t)},i.AC=function(t){this.fC.AC(t)},n}(Yf),iD=function(){function t(t){this.ed=void 0,this.wC=[],this.yC=[],this.ed=t}var n=t.prototype;return n.Ev=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this._C(n,n.Fo);case 3:i=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof qf)){t.next=12;break}return t.next=11,this.MC(t.t0,n.Fo);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.kC(i,n.Fo);case 15:if(!Of(i=t.sent)){t.next=20;break}return t.abrupt("return",i);case 20:throw new Kf(i);case 21:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.td=function(t){return this.ed.td(t)},n._C=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s,u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:ys(i),e=n,s=0,u=this.wC.slice();case 3:if(!(s<u.length)){t.next=21;break}if(o=u[s],ys(i),(h=new $N(e,o,!r)).nC){t.next=17;break}return t.prev=8,t.next=11,h.eC;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:h.aC&&!r?e=h.aC:h.yd&&!r&&(r=h.yd);case 18:s++,t.next=3;break;case 21:if(!r){t.next=23;break}return t.abrupt("return",r);case 23:return t.abrupt("return",this.ed.Ev(e));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,i){return t.apply(this,arguments)}}(),n.MC=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n instanceof Kf?n.yd:new Bf({Ps:null,Ev:n.Ev,Nv:0,Iv:""}),t.next=3,this.kC(e,i);case 3:if((r=t.sent)!==e){t.next=8;break}throw n;case 8:if(!Of(r)){t.next=12;break}return t.abrupt("return",r);case 12:throw new Kf(r);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.kC=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s,u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=n,r=0,s=this.yC.slice();case 2:if(!(r<s.length)){t.next=23;break}return u=s[r],ys(i),t.next=7,N.resolve(e.bh().Ps(i));case 7:if(o=t.sent,(h=new KN(e,u,o)).nC){t.next=19;break}return t.prev=10,t.next=13,h.eC;case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(10),t.abrupt("continue",20);case 19:e=h.yd||e;case 20:r++,t.next=2;break;case 23:return t.abrupt("return",e);case 24:case"end":return t.stop()}},t,this,[[10,15]])}));return function(n,i){return t.apply(this,arguments)}}(),n.vC=function(t){this.wC.unshift(t)},n.dC=function(t){this.wC.push(t)},n.lC=function(t){ss(this.wC,t)},n.gC=function(t){this.yC.unshift(t)},n.AC=function(t){ss(this.yC,t)},n.nd=function(){this.ed.nd(),hs(this.wC),hs(this.yC)},t}(),eD=function(){function t(t){this.kl=void 0,this.iN=t}var n=t.prototype;return n.vC=function(t){this.iN.vC(t)},n.lC=function(t){this.iN.lC(t)},n.gC=function(t){this.iN.gC(t)},n.AC=function(t){this.iN.AC(t)},z(t,[{key:"ml",get:function(){var t;return this.kl||(this.kl=(t=this,{addRequestInterceptor:function(n){t.vC(n)},removeRequestInterceptor:function(n){t.lC(n)},addResponseInterceptor:function(n){t.gC(n)},removeResponseInterceptor:function(n){t.AC(n)}})),this.kl}}]),t}(),rD=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).kl=void 0,r.mC=function(t){r.Zo(t)},r.pC=function(t){r.Zo(t)},r.NC=n,r.iN=i,r.hE=e,r.NC.qo(rh.Da,r.mC),r.NC.qo(rh.Na,r.pC),r}U(n,t);var i=n.prototype;return i.DC=function(t){this.hE.DC(t)},i.vC=function(t){this.iN.vC(t)},i.lC=function(t){this.iN.lC(t)},i.gC=function(t){this.iN.gC(t)},i.AC=function(t){this.iN.AC(t)},i.nd=function(){this.$o(),this.NC.th(rh.Da,this.mC),this.NC.th(rh.Na,this.pC)},z(n,[{key:"ml",get:function(){var t;return this.kl||(this.kl=(t=this,{get online(){return t.Aw},get estimator(){return n=t.TC,{get bandwidth(){return n.wT},get roundTripTime(){return n.yT}};var n},setEstimator:function(n){t.DC(function(t){if(t)return{get wT(){return $d(t.bandwidth)},get yT(){return $d(t.roundTripTime)},AT:function(n){return function(t){if(t)return{IC:function(n){t.markRequestStart(n)},bC:function(n){t.markResponseStart(n)},EC:function(n,i){t.markResponseData(n,i)},LC:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(PN(n)))}}}(n))},addRequestInterceptor:function(n){t.vC(n)},removeRequestInterceptor:function(n){t.lC(n)},addResponseInterceptor:function(n){t.gC(n)},removeResponseInterceptor:function(n){t.AC(n)},addEventListener:function(n,i){t.qo(n,i)},removeEventListener:function(n,i){t.th(n,i)}})),this.kl}},{key:"Aw",get:function(){return this.NC.Aw}},{key:"TC",get:function(){return this.hE.TC}}]),n}(Cs);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(tD||(tD={}));var sD=30,uD={type:tD.BANDWIDTH},oD=20,hD=60;function cD(t){var n,i,e,r=Wd(uD);return et(t)?r.type=aD(t):nt(t)&&function(t){switch(t){case tD.PERFORMANCE:case tD.QUALITY:case tD.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=aD(t.type)),nt(t)&&nt(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=Kd(n.bitrate),w(e)||(i.bitrate=e),i)),r}function aD(t){switch(t){case"bandwidth":return tD.BANDWIDTH;case"performance":return tD.PERFORMANCE;case"quality":return tD.QUALITY}}var fD=function(t){function n(n){var i;return(i=t.call(this,"jC")||this).SC=n,i}return U(n,t),n}(xs),vD=function(t){function n(n){var i;return(i=t.call(this,"xC")||this).OC=n,i}return U(n,t),n}(xs),dD=function(t){function n(n){var i;return(i=t.call(this,"RC")||this).zC=n,i}return U(n,t),n}(xs),lD=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(n=t.call.apply(t,[this].concat(r))||this).kl=(i=sn(n),{get strategy(){return{metadata:(t=i.OC).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.OC=cD(t)},get targetBuffer(){return i.SC},set targetBuffer(t){var n=Kd(t);w(n)||(i.SC=n>hD?hD:n)},get bufferLookbackWindow(){return i.zC},set bufferLookbackWindow(t){var n=Kd(t);w(n)||(i.zC=n<=0?sD:n)}}),n.UC=uD,n.BC=oD,n.QC=sD,n.YC=void 0,n.GC=void 0,n}U(n,t);var i=n.prototype;return i.FC=function(t){this.GC=t},i.DC=function(t){this.YC=t},z(n,[{key:"VC",get:function(){switch(this.UC.type){case tD.PERFORMANCE:return 0;case tD.QUALITY:return 1/0;case tD.BANDWIDTH:return this.UC.metadata&&void 0!==this.UC.metadata.bitrate?this.UC.metadata.bitrate:8*pl.Bg();default:return 8*pl.Bg()}}},{key:"ml",get:function(){return this.kl}},{key:"OC",get:function(){return this.UC},set:function(t){this.UC=t,this.Zo(new vD(t))}},{key:"SC",get:function(){return this.BC},set:function(t){this.BC=t,this.Zo(new fD(t))}},{key:"zC",get:function(){return this.QC},set:function(t){this.QC=t,this.Zo(new dD(t))}},{key:"TC",get:function(){var t;return null!=(t=this.YC)?t:this.GC.EI}}]),n}(Cs),gD=function(t){function n(){return t.call(this,"zl")||this}return U(n,t),n.prototype.pl=function(){return new AD},n}(Sd),AD=function(t){function n(){return t.call(this,"change")||this}return U(n,t),n}(xs),wD=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).HC=void 0,r.bS=void 0,r.WC=function(t){jd(t)&&Ds(function(){r.Zo(t.ml)})},r.HC=n,r.bS=i;for(var s=0,u=r.bS;s<u.length;s++){var o=u[s];r.HC.qo(o,r.WC)}return r}return U(n,t),n.prototype.nd=function(){this.$o();for(var t=0,n=this.bS;t<n.length;t++){var i=n[t];this.HC.th(i,this.WC)}},n}(Cs),yD=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).HC=void 0,e.WC=function(t){jd(t)&&Ds(function(){e.Zo(t.ml)})},e.HC=n,e.HC.Ko(e.WC),e}return U(n,t),n.prototype.nd=function(){this.$o(),this.HC.eh(this.WC)},n}(_l),_D=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n}(yD);var MD=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).$w=0,n.ty=1/0,n.kl=void 0,n}U(n,t);var i=n.prototype;return i.Jl=function(){0===this.$w&&this.ty===1/0||(this.$w=0,this.ty=1/0,this.Zo(new gD))},i.XC=function(){return new am([this.Yw,this.Gw],[!0,!0])},z(n,[{key:"Yw",get:function(){return this.$w},set:function(t){if(this.Gw<=t)throw new f("Start time of a clip should be smaller than the end time.");this.$w!==t&&(this.$w=t,this.Zo(new gD))}},{key:"Gw",get:function(){return this.ty},set:function(t){if(t<=this.Yw)throw new f("End time of a clip should be larger than the start time.");this.ty!==t&&(this.ty=t,this.Zo(new gD))}},{key:"ml",get:function(){var t,n,i;return this.kl||(this.kl=(i={get startTime(){return t.Yw},set startTime(n){t.Yw=n},get endTime(){return t.Gw},set endTime(n){t.Gw=n},addEventListener:function(t,i){n.qo(t,i)},removeEventListener:function(t,i){n.th(t,i)}},n=new yD(t=this,i),i)),this.kl}}]),n}(_l),kD=function(t){function n(n){var i;return(i=t.call(this)||this).ZC=function(t){i.qC(t)||i.Zo(t)},i.JC=n,i.JC.Ko(i.ZC),i}U(n,t);var i=n.prototype;return i.KC=function(){return this.JC.xA},i.tw=function(){return this.JC.tw()},i.$C=function(){return this.JC.uw},i.tO=function(){return this.JC.rw},i.nO=function(){return this.JC.ow},i.iO=function(t){this.JC.ow=t},i.eO=function(){return this.JC.uA},i.rO=function(t){this.JC.uA=t},i.sO=function(){return this.JC.oA},i.uO=function(){return this.JC.hw},i.oO=function(){return this.JC.hA},i.hO=function(){return this.JC.vh},i.cO=function(){return this.JC.cA},i.aO=function(){return this.JC.cw},i.fO=function(){return this.JC.aA},i.vO=function(t){this.JC.aA=t},i.dO=function(){return this.JC.Aw},i.lO=function(){return this.JC.fA},i.gO=function(){return this.JC.vA},i.AO=function(t){this.JC.vA=t},i.wO=function(){return this.JC.ww},i.yO=function(){return this.JC.yw},i._O=function(t){this.JC.yw=t},i.MO=function(){return this.JC.Ng},i.kO=function(){return this.JC._w},i.mO=function(){return this.JC.dA},i.YA=function(){return this.JC.YA()},i.GA=function(){var t=N.coroutine(rr.mark(function t(n,i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ys(i),t.next=3,this.JC.GA(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.pO=function(){return this.JC.RA},i.DO=function(){return this.JC.lA},i.TO=function(){return this.JC.zA},i.IO=function(){return this.JC.gA},i.bO=function(){return this.JC.AA},i.EO=function(t){this.JC.AA=t},i.$A=function(){return this.JC.$A()},i.KA=function(){return this.JC.KA()},i.XA=function(t){this.JC.XA(t)},i.ZA=function(){this.JC.ZA()},i.JA=function(){this.JC.JA()},i.WA=function(){this.JC.WA()},i.QA=function(){this.JC.QA()},i.BA=function(){this.JC.BA()},i.qA=function(){this.JC.qA()},i.PA=function(){return this.JC.PA()},i.FA=function(){return this.JC.FA()},i.VA=function(){this.JC.VA()},i.HA=function(){this.JC.HA()},i.Jl=function(){return this.JC.Jl()},i.nd=function(){return this.JC.nd()},i.sw=function(){this.JC.sw()},i.nw=function(t){return this.JC.nw(t)},i.qC=function(t){return!1},z(n,[{key:"xA",get:function(){return this.KC()}},{key:"uw",get:function(){return this.$C()}},{key:"ow",get:function(){return this.nO()},set:function(t){this.iO(t)}},{key:"rw",get:function(){return this.tO()}},{key:"uA",get:function(){return this.eO()},set:function(t){this.rO(t)}},{key:"oA",get:function(){return this.sO()}},{key:"hw",get:function(){return this.uO()}},{key:"hA",get:function(){return this.oO()}},{key:"vh",get:function(){return this.hO()}},{key:"cA",get:function(){return this.cO()}},{key:"UA",get:function(){return this.JC.UA}},{key:"cw",get:function(){return this.aO()}},{key:"pA",get:function(){return this.JC.pA}},{key:"aA",get:function(){return this.fO()},set:function(t){this.vO(t)}},{key:"Aw",get:function(){return this.dO()}},{key:"fA",get:function(){return this.lO()}},{key:"vA",get:function(){return this.gO()},set:function(t){this.AO(t)}},{key:"ww",get:function(){return this.wO()}},{key:"yw",get:function(){return this.yO()},set:function(t){this._O(t)}},{key:"Ng",get:function(){return this.MO()}},{key:"_w",get:function(){return this.kO()}},{key:"dA",get:function(){return this.mO()}},{key:"RA",get:function(){return this.pO()}},{key:"lA",get:function(){return this.DO()}},{key:"zA",get:function(){return this.TO()}},{key:"gA",get:function(){return this.IO()}},{key:"AA",get:function(){return this.bO()},set:function(t){this.EO(t)}},{key:"Mw",get:function(){return this.JC.Mw},set:function(t){this.JC.Mw=t}}]),n}(Ml),mD=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).LO=void 0,r.SO=!1,r.jO=void 0,r.CO=!1,r.OO=function(){r.xO(),r.zO()},r.VT=function(){r.RO(),r.zO(),r.UO&&r.uA>=r.LO.Gw-n.BO&&!r.hA&&(r.jO=NN(r.VT))},r.QO=function(){r.CO=!0},r.PO=function(){r.CO&&(r.CO=!1,r.zO())},r.LO=e,r.LO.qo("zl",r.OO),r.JC.qo("timeupdate",r.VT),r}U(n,t);var i=n.prototype;return i.rO=function(n){var i=this.LO.XC().kb(n);t.prototype.rO.call(this,i),this.zO()},i.oO=function(){return t.prototype.oO.call(this)||this.SO},i.kO=function(){return am.Vb(t.prototype.kO.call(this)).Nb(this.LO.XC()).DI()},i.BA=function(){this.oO()?this.rO(this.YO.start(0)):this.xO(),t.prototype.BA.call(this),this.zO()},i.GA=function(){var n=N.coroutine(rr.mark(function n(i,e){return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return ys(e),this.SO=!1,this.LO.Jl(),n.next=5,t.prototype.GA.call(this,i,e);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.nd=function(){return this.LO.th("zl",this.OO),this.JC.th("timeupdate",this.VT),this.RO(),t.prototype.nd.call(this)},i.qC=function(n){switch(n.type){case"seeking":return this.Zo(n),this.QO(),!0;case"seeked":case"emptied":return this.Zo(n),this.PO(),!0;case"ended":if(this.UO)return!0}return t.prototype.qC.call(this,n)},i.RO=function(){this.jO&&(DN(this.jO),this.jO=void 0)},i.zO=function(){var t=this.uA,i=this.UO&&t>=this.LO.Gw-n.m_;this.SO&&!i?(this.SO=!1,this.fA&&this.BA()):this.SO||!i||this.dA||this.CO||(this.SO=!0,this.Zo(new rg(t)),this.QA())},i.xO=function(){if(this.oA!==1/0){var t=this.YO,i=am.Vb(t).kb(this.uA);Ht(this.uA,i,n.m_)||this.rO(i)}},z(n,[{key:"YO",get:function(){return this.kO().length?this.kO():this.LO.XC().DI()}},{key:"UO",get:function(){return this.LO.Gw<this.oA}}]),n}(kD);mD.BO=1,mD.m_=.001;var pD=function(){function t(){this.GO=void 0,this.GO=!1}return z(t,[{key:"FO",get:function(){return this.GO},set:function(t){this.GO=t}}]),t}(),ND=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).GO=void 0,e.VO=!1,e.HO=!1,e.GO=i,e}U(n,t);var i=n.prototype;return i.oO=function(){return!this.GO.FO&&t.prototype.oO.call(this)},i.QA=function(){this.HO=!0,t.prototype.QA.call(this)},i.BA=function(){this.HO=!1,t.prototype.BA.call(this)},i.qC=function(n){if(this.GO.FO)switch(n.type){case"ended":return this.uA=0,this.HO||(this.dA?this.VO=!0:this.BA()),!0;case"seeked":this.VO&&(this.VO=!1,this.BA());break;case"pause":if(this.VO||t.prototype.oO.call(this))return!0}return t.prototype.qC.call(this,n)},n}(kD);var DD=function(){function t(t){var n;this.kl=(n=this,{get currentBandwidthEstimate(){return n.dw},get corruptedVideoFrames(){return n.fw},get droppedVideoFrames(){return n.aw},get totalBytesLoaded(){return n.lw},get bufferedSegments(){return n.gw}}),this.KI=t}return z(t,[{key:"ml",get:function(){return this.kl}},{key:"fw",get:function(){return this.KI.WO.pA.fw}},{key:"dw",get:function(){return this.KI.WO.pA.dw}},{key:"aw",get:function(){return this.KI.WO.pA.aw}},{key:"XO",get:function(){throw new f("Not implemented")}},{key:"ZO",get:function(){throw new f("Not implemented")}},{key:"lw",get:function(){return this.KI.WO.pA.lw}},{key:"vw",get:function(){return this.KI.WO.pA.vw}},{key:"gw",get:function(){return this.KI.WO.pA.gw}}]),t}();function TD(t){if(!t||!ze(t))return{aw:0,fw:0,vw:0,dw:0,lw:0,gw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{aw:n.droppedVideoFrames,fw:n.corruptedVideoFrames||0,vw:n.totalVideoFrames}}return{aw:t.webkitDroppedFrameCount||0,fw:0,vw:t.webkitDecodedFrameCount||0}}var ID=function(t){function n(){return t.call(this,"qO")||this}return U(n,t),n.prototype.pl=function(){return new bD},n}(Sd),bD=function(t){function n(){return t.call(this,"castingchange")||this}return U(n,t),n}(xs);var ED=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).JO=[],n.kl=void 0,n.KO=function(){return n.Zo(new ID)},n}U(n,t);var i=n.prototype;return i.$O=function(t){this.JO.push(t),t.qo("statechange",this.KO)},i.nd=function(){var t=this;this.JO.forEach(function(n){n.th("statechange",t.KO)}),hs(this.JO)},z(n,[{key:"tx",get:function(){return this.JO.some(function(t){return t.tx})}},{key:"ml",get:function(){var t,n,i;return this.kl||(this.kl=(i={get casting(){return t.tx},addEventListener:function(t,i){n.qo(t,i)},removeEventListener:function(t,i){n.th(t,i)}},n=new _D(t=this,i),i)),this.kl}}]),n}(Ml),LD=function(){function t(){}return t.nx=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=new Qf({Sv:n,Tv:sh.cs,Xv:xf.GET}),t.next=4,i.Ev(e);case 4:return r=t.sent,t.next=7,r.Ps();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),ws(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t.ix=function(t){try{var i=xp(t);return new Pp(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new Uo(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.ex=function(t){void 0===t&&(t=nN.q_),p.Su("The baked-in license is used. Please update the configuration with your license.");var n=t.OL("a]_5N:h4 Ol-COo?arYYa4_[iOpS Ol-_Obsa]C] Oo3CH_|"),i=["fp\"\"","F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.OL(n)}),e=["fp\"\"","F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.OL(n)}),r=Number(new Date(Number(t.OL("CO_[CHp] ep3Ceo3Co\"\""))));return new Pp(n,i,e,r)},t.convertLicenseToDummyLicense=function(t){return new Pp(t.YL,t.GL,t.FL,864e13,t.HL,Date.now(),t.XL,t.ZL)},t}(),SD=function(){function t(){}return t.oa=function(){return t.rs||(t.rs=jD._c()?new jD:new $o),t.rs},t.ph=function(n){t.oa().ph(n)},t.ra=function(){t.oa().ra()},t.Mh=function(n){return t.oa().Mh(n)},t.sa=function(n,i){t.oa().sa(n,i)},t.sx=function(n){var i=t.Mh(n);if(void 0!==i)return A(i)},t.ux=function(n){return"true"===t.Mh(n)},t}();SD.rs=void 0;var jD=function(n){function i(){return n.apply(this,arguments)||this}U(i,n),i._c=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.ph=function(n){t.localStorage.removeItem(n)},e.ra=function(){t.localStorage.clear()},e.Mh=function(n){return t.localStorage[n]},e.sa=function(n,i){t.localStorage[n]=i},i}(SD),CD=l.floor(14399999*l.random()-72e5),OD=function(){function t(t,n,i,e,r,s){this.KL=void 0,this.iN=t,this.ox=n,this.hx=i,this.xS=e,this.ax=r,this.nS=s,this.KL=Xp(s)}var i=t.prototype;return i.vx=function(){var t=N.coroutine(rr.mark(function t(){var n;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.lx(this.ax.license,this.ax.licenseUrl);case 2:n=t.sent,this.xS.gx(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.lx=function(){var t=N.coroutine(rr.mark(function t(i,e){var r,s,u,o,h,c,a,f,v;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e,i?s=LD.ix(i):r||(s=LD.ex()),r||(r="https://validate.theoplayer.com/1/"+s.YL),u=this.Ax(),!s){t.next=14;break}if((o=this.ox.sS(s))!==Rp.BL){t.next=14;break}if(!this.wx(s.VL)||!this.wx(null==u?void 0:u.VL)){t.next=13;break}return t.next=10,this.yx(r);case 10:if(!(h=t.sent)){t.next=13;break}return t.abrupt("return",h);case 13:return t.abrupt("return",s);case 14:if(!u){t.next=25;break}if(this.ox.sS(u)!==Rp.BL){t.next=24;break}if(!this.wx(null==u?void 0:u.VL)){t.next=23;break}return t.next=20,this.yx(r);case 20:if(!(c=t.sent)){t.next=23;break}return t.abrupt("return",c);case 23:return t.abrupt("return",u);case 24:SD.ph("THEOplayer.license");case 25:return t.next=27,LD.nx(r,this.iN);case 27:if(!(a=t.sent)){t.next=37;break}if(f=LD.ix(a),this.ox.sS(f)!==Rp.BL){t.next=34;break}return SD.sa("THEOplayer.license",a),t.abrupt("return",f);case 34:SD.ph("THEOplayer.license"),t.next=39;break;case 37:if(this.KL||!s||o!==Rp.QL||r!=="https://validate.theoplayer.com/1/"+s.YL){t.next=39;break}return t.abrupt("return",LD.convertLicenseToDummyLicense(s));case 39:if(!s&&!f){t.next=43;break}this._x(null!=(v=s)?v:f,new Uo(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new Uo(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.iS=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r,s,u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xS.GS();case 2:if(i=t.sent,!this.wx(i.VL)){t.next=9;break}return r=null!=(e=this.ax.licenseUrl)?e:"https://validate.theoplayer.com/1/"+i.YL,t.next=7,this.yx(r);case 7:(s=t.sent)&&(this.xS.gx(s),i=s);case 9:if(t.prev=9,(u=this.ox.sS(i))!==Rp.PL){t.next=16;break}throw o=Qp.qL,new Uo(Gp(o),qp.rS(o));case 16:if(u!==Rp.QL){t.next=19;break}throw h=Qp.QL,new Uo(Gp(h),qp.rS(h));case 19:this.ox.iS(n,i),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.Mx(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),i.yx=function(){var t=N.coroutine(rr.mark(function t(n){var i,e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,LD.nx(n,this.iN);case 3:if(void 0!==(i=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(e=LD.ix(i),this.ox.sS(e)!==Rp.BL){t.next=11;break}return SD.sa("THEOplayer.license",i),t.abrupt("return",e);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.wx=function(t){return!t||Number(new Date)+2592e5+CD>=t},i.Ax=function(){var t=SD.Mh("THEOplayer.license");if(t)return LD.ix(t)},i._x=function(t,n){this.xS.gx(t),this.Mx(n)},i.Mx=function(t){throw At(t.message),this.hx.HS(t.message),t},t}(),xD=function(){function t(){this.kx=void 0,this.mx=new eo}var n=t.prototype;return n.gx=function(t){this.kx=t,this.mx.Oh()},n.GS=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.kx){t.next=2;break}return t.abrupt("return",N.resolve(this.kx));case 2:return t.next=4,this.mx.Ch;case 4:return t.abrupt("return",this.kx);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),z(t,[{key:"Nx",get:function(){return this.kx}}]),t}(),zD=function(t){function n(){return t.call(this,"zl")||this}return U(n,t),n.prototype.pl=function(){return new RD},n}(Sd),RD=function(t){function n(){return t.call(this,"change")||this}return U(n,t),n}(xs);function UD(t){var n,i={get fontFamily(){return t.Dx},set fontFamily(n){t.Dx=n},get fontColor(){return t.Tx},set fontColor(n){t.Tx=n},get fontSize(){return t.Ix},set fontSize(n){t.Ix=n},get backgroundColor(){return t.bx},set backgroundColor(n){t.bx=n},get windowColor(){return t.Ex},set windowColor(n){t.Ex=n},get edgeStyle(){return t.Lx},set edgeStyle(n){t.Lx=n},addEventListener:function(t,i){var e=il(t,tl);n.qo(e,i)},removeEventListener:function(t,i){var e=il(t,tl);n.th(e,i)}};return n=new Os(i),t.qo(["zl"],function(t){return n.Zo(t.ml)}),i}var BD,QD,PD={Dx:void 0,Tx:void 0,Ix:void 0,bx:void 0,Ex:void 0,Lx:void 0,Sx:void 0},YD="THEOplayer.textTrackStyle.",GD=function(t){function n(){var i;return(i=t.call(this)||this).jx=void 0,i.kl=void 0,i.jx=n.Cx(),i}return U(n,t),n.prototype.Kh=function(t){this.jx=sr({},this.jx,t),n.Ox(this.jx),this.Zo(new zD)},n.Cx=function(){var t=sr({},PD);return t.Dx=SD.Mh(YD+"fontFamily")||t.Dx,t.Tx=SD.Mh(YD+"fontColor")||t.Tx,t.Ix=SD.Mh(YD+"fontSize")||t.Ix,t.bx=SD.Mh(YD+"backgroundColor")||t.bx,t.Ex=SD.Mh(YD+"windowColor")||t.Ex,t.Lx=SD.Mh(YD+"edgeStyle")||t.Lx,t},n.Ox=function(t){SD.sa(YD+"fontFamily",t.Dx||""),SD.sa(YD+"fontColor",t.Tx||""),SD.sa(YD+"fontSize",t.Ix||""),SD.sa(YD+"backgroundColor",t.bx||""),SD.sa(YD+"windowColor",t.Ex||""),SD.sa(YD+"edgeStyle",t.Lx||"")},z(n,[{key:"xx",get:function(){return this.jx}},{key:"Dx",get:function(){return this.jx.Dx},set:function(t){this.Kh({Dx:t})}},{key:"Tx",get:function(){return this.jx.Tx},set:function(t){this.Kh({Tx:t})}},{key:"Ix",get:function(){return this.jx.Ix},set:function(t){this.Kh({Ix:t})}},{key:"bx",get:function(){return this.jx.bx},set:function(t){this.Kh({bx:t})}},{key:"Ex",get:function(){return this.jx.Ex},set:function(t){this.Kh({Ex:t})}},{key:"Lx",get:function(){return this.jx.Lx},set:function(t){this.Kh({Lx:t})}},{key:"Sx",get:function(){return this.jx.Sx}},{key:"ml",get:function(){return this.kl||(this.kl=UD(this)),this.kl}}]),n}(Cs),FD=function(t){function n(n,i){var e;(e=t.call(this)||this).zx=void 0,e.uc=void 0,e.WO=void 0,e.Rx=void 0,e.Al=void 0,e.LO=void 0,e.GO=void 0,e.Ux=void 0,e.Bx=void 0,e.hE=void 0,e.ox=void 0,e.Qx=void 0,e.Px=void 0,e.oE=void 0,e.Yx=!1,e.bA=!1,e.Iw=void 0,e.Gx=!1,e.Fx=void 0,e.Vx=void 0,e.Hx=void 0,e.Wx=void 0,e.Xx=void 0,e.Zx=function(t){if(!e.Gx){e.Gx=!0;var n=e.zx,i=xg(t);e.WO.sg=new Am(e.hw,i,t),Ts(n.nd())}},e.qx=function(t){e.Zo(t.ml)},e.Jx=function(t){t.type!==rh.Da&&t.type!==rh.Na&&e.Zo(t)};var r=Kd(i.uid);w(r)?e.Iw=Vg++:e.Iw=r,e.uc=i;var s=p.Al,u=new xD;e.Rx=new vN("3.2.1",s,u),e.Al=new nD(s,i.allowMixedContent),e.hE=new lD,e.ox=new Yp(i.isEmbeddable,"3.2.1",zp()),e.Xx=new OD(s,e.ox,e.Rx,u,i,zp()),e.Xx.vx().catch(e.Zx),e.Qx=new CN(n),e.Qx.qo("nj",e.qx),e.oE=new GD,e.LO=new MD,e.GO=new pD;var o=new gm(n,i,e.Al,e.hE,e.Qx,e.oE);e.hE.FC(o);var h=o;h=new mD(h,e.Kx),h=new ND(h,e.FO),e.zx=h,e.WO=new Sg(e.zx),e.WO.Ko(e.Jx),e.Wx=new DD(sn(e)),e.Vx=new rD(e.WO,e.Al,e.hE),e.Ux=new gN(sn(e)),e.Px=new QN(e.WO,i.allowNativeFullscreen),e.Bx=new xm(e.Px),e.Qx.cc();var c=new we(e.Qx,e.oE,1,[Ug.Hv]);return e.Fx=new ye(c),e.Hx=new ED,e}U(n,t);var i=n.prototype;return i.vO=function(t){this.WO.aA=t,t||this.fA||this.WA()},i.EO=function(t){this.WO.AA=t},i.$x=function(){wg(this,zm,this)},i.BA=function(){this.WO.BA()},i.QA=function(){this.WO.QA()},i.GA=function(){var t=N.coroutine(rr.mark(function t(n,i){var e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.Xx.iS(n).catch(this.Zx),e=VD(n),t.next=5,this.WO.GA(e,i);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.WA=function(){this.bA||(this.WO.WA(),this.Fx.WA(),this.bA=!0)},i.qb=function(){return this.Bx.OE()===Lm.FULLSCREEN},i.qA=function(){this.WO.qA()},i.JA=function(){this.WO.JA()},i.KA=function(){return this.WO.KA()},i.Jl=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WO.PA();case 2:return t.next=4,this.WO.Jl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.nd=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$o(),this.Hx.nd(),this.Al.nd(),this.Vx.nd(),this.Px.nd(),this.Bx.nd(),this.Qx.nd(),this.Rx.nd(),this.Fx.nd(),t.next=11,this.WO.nd();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),z(n,[{key:"tz",get:function(){return this.hE}},{key:"CA",get:function(){return this.Yx},set:function(t){this.Yx=t,this.WO.CA=t}},{key:"nz",get:function(){return this.Fx}},{key:"xA",get:function(){return this.WO.xA}},{key:"iz",get:function(){return this.Hx}},{key:"ez",get:function(){return this.Qx}},{key:"UA",get:function(){return this.WO.UA}},{key:"pA",get:function(){return this.Wx}},{key:"rz",get:function(){return this.Vx}},{key:"RA",get:function(){return this.WO.RA}},{key:"sz",get:function(){return this.oE}},{key:"zA",get:function(){return this.WO.zA}},{key:"uw",get:function(){return this.WO.uw}},{key:"Kx",get:function(){return this.LO}},{key:"FO",get:function(){return this.GO}},{key:"uA",get:function(){return this.WO.uA},set:function(t){this.WO.uA=t}},{key:"ow",get:function(){return this.WO.ow},set:function(t){this.WO.ow=t}},{key:"rw",get:function(){return this.WO.rw}},{key:"oA",get:function(){return this.WO.oA}},{key:"hw",get:function(){return this.WO.hw}},{key:"hA",get:function(){return this.WO.hA}},{key:"vh",get:function(){return this.WO.vh}},{key:"cA",get:function(){return this.WO.cA}},{key:"aA",get:function(){return this.WO.aA},set:function(t){var n=Boolean(t);this.vO(n)}},{key:"fA",get:function(){return this.WO.fA}},{key:"vA",get:function(){return this.WO.vA},set:function(t){this.WO.vA=t}},{key:"ww",get:function(){return this.WO.ww}},{key:"yw",get:function(){return this.WO.yw},set:function(t){this.WO.yw=rm(t)}},{key:"Ng",get:function(){return this.WO.Ng}},{key:"_w",get:function(){return this.WO._w}},{key:"dA",get:function(){return this.WO.dA}},{key:"ag",get:function(){return this.Iw}},{key:"lA",get:function(){return this.WO.lA}},{key:"gA",get:function(){return this.WO.gA}},{key:"AA",get:function(){return this.WO.AA},set:function(t){var n=Vt(Number(t),0,1)||0;this.EO(n)}}]),n}(Ml);function VD(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.uz=0]="uz",t[t.oz=1]="oz"}(BD||(BD={})),function(t){t[t.hz=0]="hz"}(QD||(QD={}));var HD={};function WD(t,n){(HD[n]||(HD[n]=[])).push(t)}function XD(t,n){var i=t;if(HD[n])for(var e=0,r=HD[n];e<r.length;e++){i=(0,r[e])(i)}return i}var ZD=[];function qD(t){ZD.push(t)}var JD=t.CustomEvent;var KD=function(){try{var t=new JD("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=r.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},$D=function(){function t(t,n){var i=this;this.KI=void 0,this.cz=void 0,this.az=!1,this.fz=function(t){i.cz.VS(t.error,i.uA)},this.vz=function(){i.cz.YS(i.dz),i.KI.removeEventListener("playing",i.vz),i.az=!1},this.lz=function(){i.az||(i.KI.addEventListener("playing",i.vz),i.az=!0)},this.cz=n,this.KI=t,this.KI.addEventListener("error",this.fz),this.KI.addEventListener("sourcechange",this.lz),this.lz()}return t.prototype.Jl=function(){},z(t,[{key:"uA",get:function(){var t=this.KI.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"dz",get:function(){return this.KI.src||""}}]),t}();qD(function(t){new $D(t.ml,t.Rx)});var tT="theoplayer-stored-volume",nT="theoplayer-stored-mutedstate";WD(function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=SD.sx(tT);(void 0===r||w(r))&&(r=1);var s=SD.ux(nT)||!1;e.AA=r,e.aA=s}return e}U(n,t);var i=n.prototype;return i.vO=function(n){this.uc.persistVolume&&SD.sa(nT,""+Boolean(n)),t.prototype.vO.call(this,n)},i.EO=function(n){this.uc.persistVolume&&SD.sa(tT,""+Number(n)),t.prototype.EO.call(this,n)},n}(t)},BD.oz);var iT=new(function(){function t(){this.gz=[],this.kl=void 0}var n=t.prototype;return n.Wl=function(t){return this.gz[t]},n.Az=function(t){this.gz.push(t),this.ml.push(t.ml)},n.Jh=function(t){var n=this.gz.indexOf(t);n<0||(us(this.gz,n),this.kl&&us(this.kl,n))},n.wz=function(t){for(var n=0,i=this.gz;n<i.length;n++){var e=i[n];if(e.ag===t)return e}},z(t,[{key:"$l",get:function(){return this.gz.length}},{key:"ml",get:function(){return this.kl||(this.kl=function(t){for(var n=[],i=0;i<t.$l;i++)n[i]=t.Wl(i).ml;return n.getPlayerByUID=function(n){var i=t.wz(n);return i&&i.ml},n}(this)),this.kl}}]),t}()),eT=function(){function t(t){var n=this;this.yz=[],this._z=void 0,this.qd=new gs,this.Mz=void 0,this.Sn=function(){return 0===n.yz.length?n.Mz?rT(n.Mz,n.qd.Fo).then(n.kz,n.kz):n.kz():n.yz.shift()().then(n.Sn)},this.kz=function(){if(0!==n.yz.length)return n.Sn();n._z=void 0},this.Mz=t}var n=t.prototype;return n.mz=function(t,n){var i=this;return new N(function(e){var r=new gs;r.Yo(i.qd.Fo),n&&r.Yo(n);var s=function(){r.xo()};i.yz.push(function(){var n=rT(t,r.Fo);return e(n),n.then(s,s)}),i._z||(i._z=i.Sn())})},n.Po=function(){return this.pz(!0)},n.nd=function(){return this.Mz=void 0,this.pz(!1)},n.pz=function(t){var n=this._z;return this.qd.Po(),t&&(this.qd=new gs),N.resolve(n)},t}();function rT(t,n){return new N(function(i){return i(t(n))})}var sT,uT=function(t){function n(n){var i;return(i=t.call(this,rh.Ba)||this).source=n,i}return U(n,t),n}(xs),oT=function(t){function n(){var n;return(n=t.call(this)||this).$b=void 0,n.nE=void 0,n.eE=void 0,n.iE=void 0,n.$b=0,n.nE=!0,n.eE=!1,n.iE=1,n}U(n,t);var i=n.prototype;return i.BA=function(){this.nE&&(this.nE=!1,this.Zo(new ql(this.uA)),this.Zo(new c_(this.uA)))},i.QA=function(){this.nE||(this.nE=!0,this.Zo(new eg(this.uA,this.ow)),this.Zo(new Zl(this.uA)))},i.Jl=function(){this.$b=0,this.eE=!1,this.iE=1,this.QA(),this.Zo(new Xl(this.$b))},i.nd=function(){this.$o()},i.JA=function(){},i.qA=function(){},z(n,[{key:"ow",get:function(){},set:function(t){}},{key:"uA",get:function(){return this.$b},set:function(t){this.eE&&this.$b===t||(this.$b=t,this.eE=!0,this.Zo(new ug(this.uA)))}},{key:"fA",get:function(){return this.nE}},{key:"vA",get:function(){return this.iE},set:function(t){this.iE!==t&&(this.iE=t,this.Zo(new ig(this.uA,this.vA)))}},{key:"Ng",get:function(){return El.Zg}},{key:"dA",get:function(){return this.eE}}]),n}(_l),hT=function(t){function n(){return t.call(this,rh.ga)||this}return U(n,t),n}(xs),cT={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},aT={visibility:"hidden"},fT={visibility:"visible"},vT=function(){function t(t){var n,i=this;this.WI=void 0,this.KI=void 0,this.Nz=!1,this.Dz=void 0,this.Tz=void 0,this.Iz=function(t){var n;i.Nz=!1,i.Dz=null==(n=t.source)?void 0:n.poster,i.Kh()},this.mN=function(){i.Nz=!0,i.JA()},this.KI=t,this.eb(),this.WI=((n=Me&&Me.document&&Me.document.createElement("div")).className="theoplayer-poster",Ce(cT,n),n),t.hw.appendChild(this.WI)}var n=t.prototype;return n.Kh=function(){var t=this.KI.fA,n=this.Nz;this.Sv?this.WI.style.backgroundImage='url("'+Yr(this.Sv)+'")':this.WI.style.backgroundImage="",t&&this.Sv&&!n?this.qA():this.JA()},n.qA=function(){Ce(aT,this.KI.hw),Ce(fT,this.WI)},n.JA=function(){Ce(aT,this.WI),Ce(fT,this.KI.hw)},n.eb=function(){this.KI.qo("sourcechange",this.Iz),this.KI.qo("play",this.mN)},n.nd=function(){this.KI.th("sourcechange",this.Iz),this.KI.th("play",this.mN),Te(this.WI)},z(t,[{key:"Sv",get:function(){return void 0!==this.Dz?this.Dz:void 0!==this.Tz?this.Tz:void 0}},{key:"bz",set:function(t){this.Tz=t,this.Kh()}}]),t}();function dT(t){return function(n){function i(i,e){var r;return(r=n.call(this,i)||this).KI=void 0,r.Ez=void 0,r.Lz=void 0,r.Sz=void 0,r.jz=void 0,r.Cz=void 0,r.Oz=void 0,r.xz=void 0,r.ib=void 0,r.nb=void 0,r.kl=void 0,r.zz=function(t){t.type!==rh.Ea&&r.xz.push(t)},r.Ez=new t(i,e),r.Lz=new oT,r.KI=r.Ez,r.Sz=new vT(sn(r)),r.Cz=new eT,r.Oz=!1,r.xz=[],r.ib=!0,r.nb=void 0,r.eb(),r}U(i,n);var e=i.prototype;return e.mz=function(){var t=N.coroutine(rr.mark(function t(n,i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.Cz.mz(n,i).catch(Ms));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.Rz=function(){var t=N.coroutine(rr.mark(function t(n,i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ys(i),this.Ez.Ko(this.zz),t.next=4,this.Ez.GA(n,i);case 4:this.Ez.eh(this.zz);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.Uz=function(){var t=N.coroutine(rr.mark(function t(){var n,i,e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.YA())&&!dp(n)&&this.CA&&this.fA){t.next=3;break}return t.abrupt("return");case 3:return i=n.mutedAutoplay||this.uc.mutedAutoplay,t.next=6,this.nz.Bz();case 6:e=t.sent,t.t0=e,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.Qz(),t.abrupt("break",14);case 12:return(this.aA||i===Jl.ALL)&&(this.aA=!0,this.BA()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.GA=function(t){var n=this,i=this.nb;i&&!dp(i)&&this.Zo(new Xl(0,0)),this.Jl(),this.nb=t,Ts(this.mz(function(){var i=N.coroutine(rr.mark(function i(e){return rr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return ys(e),i.prev=1,i.next=4,n.Rz(t,e);case 4:i.next=10;break;case 6:throw i.prev=6,i.t0=i.catch(1),n.nb=void 0,i.t0;case 10:return i.next=12,n.Pz();case 12:case"end":return i.stop()}},i,null,[[1,6]])}));return function(t){return i.apply(this,arguments)}}()))},e.Pz=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Yz(this.Ez),this.Zo(new uT(this.YA())),t.next=4,this.Uz();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.rO=function(t){this.KI.uA=t},e.hO=function(){return this.Ez.vh},e.cO=function(){return this.Ez.cA},e.BA=function(){this.KI.BA()},e.Qz=function(){this.aA||this.WA(),this.BA()},e.WA=function(){this.Ez.WA()},e.QA=function(){this.KI.QA()},e.PA=function(){this.GA(void 0)},e.qA=function(){this.ib=!0,this.KI.qA()},e.JA=function(){this.ib=!1,this.KI.JA()},e.$x=function(){this.Ez.$x()},e.EO=function(t){this.Ez.EO(t)},e.vO=function(t){this.Ez.vO(t)},e.Gz=function(t){this.jz=t,t.Az(this)},e.qb=function(){return this.Ez.qb()},e.YA=function(){return this.nb},e.KA=function(){return this.Ez.KA()},e.eO=function(){return this.Ez.uA},e.sO=function(){return this.Ez.oA},e.$C=function(){return this.Ez.uw},e.wO=function(){return this.Ez.ww},e.kO=function(){return this.Ez._w},e.Jl=function(){var t=this;this.nb=void 0,hs(this.xz),this.Lz.Jl(),this.Yz(this.Lz),this.Cz.Po(),Ts(this.Cz.mz(function(){var n=N.coroutine(rr.mark(function n(i){return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return ys(i),n.next=3,t.Ez.Jl();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},e.nd=function(){var t=this;this.Zo(new hT),this.Sz.nd(),this.sb(),this.Jl(),Ts(this.mz(N.coroutine(rr.mark(function n(){return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.Ez.nd();case 2:t.jz&&(t.jz.Jh(t),t.jz=void 0),t.Cz.nd();case 4:case"end":return n.stop()}},n)})))),this.$o()},e.Yz=function(t){if(this.KI!==t){var n=this.KI.fA,i=this.KI.uA,e=this.KI.vA,r=this.KI.dA;this.sb(),t===this.Ez?((r||t.uA!==i)&&(t.uA=i),t.vA!==e&&(t.vA=e),n?t.QA():t.BA()):this.uc.retainPlaybackRateOnSourceChange?t.vA=e:1!==e&&this.Zo(new ig(this.eO(),1)),this.KI=t,this.eb();for(var s=0,u=this.xz;s<u.length;s++){var o=u[s];this.Zo(o)}hs(this.xz),this.ib?t.qA():t.JA()}},e.eb=function(){this.KI.Ko(this.Xo)},e.sb=function(){this.KI.eh(this.Xo)},e.pl=function(){return t=this,e=function(n){i=n;var e=Np(n,t.uc);t.GA(e)},r={get abr(){return t.tz.ml},get audioTracks(){return t.xA.ml},get autoplay(){return t.CA},set autoplay(n){t.CA=Boolean(n)},get buffered(){return t.$C()},get canvas(){return t.Ux.ml},get clip(){return t.Kx.ml},get currentProgramDateTime(){var n;return null!=(n=t.ow)?n:null},set currentProgramDateTime(n){t.ow=null!=n?n:void 0},get currentTime(){return t.eO()},set currentTime(n){t.rO(Number(n))},get duration(){return t.sO()},get element(){return t.hw},get ended(){return t.hA},get error(){return t.hO()},get errorObject(){return t.cO()},get loop(){return t.FO.FO},set loop(n){t.FO.FO=Boolean(n)},get metrics(){return t.pA.ml},get muted(){return t.aA},set muted(n){t.vO(n)},get network(){return t.rz.ml},get paused(){return t.fA},get playbackRate(){return t.vA},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.vA=i},get played(){return t.wO()},get poster(){return t.Fz},set poster(n){t.Fz=tl(n)},get preload(){return t.yw},set preload(n){t.yw=n},get presentation(){return t.Bx.ml},get readyState(){return t.Ng},get seekable(){return t.kO()},get seeking(){return t.dA},get source(){return i},set source(t){e(t)},get src(){return lp(t.YA())},set src(t){e({sources:t})},get textTracks(){return t.RA.ml},get textTrackStyle(){return t.sz.ml},get uid(){return t.ag},get videoHeight(){return t.lA},get videoTracks(){return t.zA.ml},get videoWidth(){return t.gA},get volume(){return t.AA},set volume(n){t.EO(Number(n))},destroy:function(){t.nd(),t=null,i=void 0},play:function(){t.Qz()},pause:function(){t.QA()},stop:function(){i=void 0,t.PA()},prepareWithUserAction:function(){t.WA()},addEventListener:function(t,i){n.qo(t,i)},removeEventListener:function(t,i){n.th(t,i)},setSource:function(t){e(t)}},(n=new Cm(r,!0)).ME(t),r;var t,n,i,e,r},z(i,[{key:"Rx",get:function(){return this.Ez.Rx}},{key:"Ux",get:function(){return this.Ez.Ux}},{key:"uc",get:function(){return this.Ez.uc}},{key:"zx",get:function(){return this.Ez.zx}},{key:"Al",get:function(){return this.Ez.Al}},{key:"yI",get:function(){return this.Ez.Px}},{key:"Bx",get:function(){return this.Ez.Bx}},{key:"Qx",get:function(){return this.Ez.Qx}},{key:"WO",get:function(){return this.Ez.WO}},{key:"tz",get:function(){return this.Ez.tz}},{key:"CA",get:function(){return this.Ez.CA},set:function(t){this.Ez.CA=t,this.Uz()}},{key:"nz",get:function(){return this.Ez.nz}},{key:"xA",get:function(){return this.Ez.xA}},{key:"iz",get:function(){return this.Ez.iz}},{key:"ez",get:function(){return this.Ez.Qx}},{key:"ml",get:function(){return this.kl||(this.kl=this.pl()),this.kl}},{key:"UA",get:function(){return this.Ez.UA}},{key:"pA",get:function(){return this.Ez.pA}},{key:"rz",get:function(){return this.Ez.rz}},{key:"RA",get:function(){return this.Ez.RA}},{key:"sz",get:function(){return this.Ez.sz}},{key:"zA",get:function(){return this.Ez.zA}},{key:"Kx",get:function(){return this.Ez.Kx}},{key:"FO",get:function(){return this.Ez.FO}},{key:"ow",get:function(){return this.KI.ow},set:function(t){this.KI.ow=t}},{key:"rw",get:function(){return this.Ez.rw}},{key:"hw",get:function(){return this.Ez.hw}},{key:"hA",get:function(){return this.Ez.hA}},{key:"aA",get:function(){return this.Ez.aA},set:function(t){this.Ez.aA=t}},{key:"fA",get:function(){return this.KI.fA}},{key:"Fz",get:function(){return this.Sz.Sv||""},set:function(t){this.Sz.bz=t}},{key:"vA",get:function(){return this.Ez.vA},set:function(t){this.KI.vA=t}},{key:"yw",get:function(){return this.Ez.yw},set:function(t){this.Ez.yw=rm(t)}},{key:"Ng",get:function(){return this.KI.Ng}},{key:"dA",get:function(){return this.KI.dA}},{key:"ag",get:function(){return this.Ez.ag}},{key:"lA",get:function(){return this.Ez.lA}},{key:"gA",get:function(){return this.Ez.gA}},{key:"AA",get:function(){return this.Ez.AA},set:function(t){this.Ez.AA=t}}]),i}(Ml)}function lT(t,n){var i=lg(n),e=new(sT||(sT=XD(sT=dT(FD),BD.uz),sT=XD(sT,BD.oz)),sT)(t,i),r=e.ml;return e.$x(),e.Gz(iT),d.defineProperty(r,"constructor",{value:lT}),r=Fd(r),function(t){for(var n=0;n<ZD.length;n++)(0,ZD[n])(t)}(e),r}Ds(function(){t.dispatchEvent&&t.dispatchEvent(KD("theoplayerready"))});var gT,AT={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Ks(t)},n.decode=function(t){return qs(t)},t}())},wT=iT.ml,yT=Q_.gD.registerContentProtectionIntegration.bind(Q_.gD),_T=(rh.Ia,rh.Ta,Wl.sA,rh.Qa,rh.ba,rh.ka,rh.Ca,rh.ja,rh.ya,rh.Ea,rh.Pa,rh.Aa,Wl.Rl,rh.Sa,al._g,js.dh,js.gh,rh.da,rh.va,rh.Ya,{Vz:!1,Hz:50}),MT=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.DL="Wz"}(gT||(gT={}));var kT,mT=function(t){function i(n,i,e,r){var s;(s=t.call(this)||this).Cc=void 0,s.CT=void 0,s.Vc=void 0,s.Xz=!1,s.Zz=new eo,s.qz=!1,s.Cz=new eT,s.Jz=void 0,s.mo=void 0,s.rc=void 0,s.Kz=function(){s.qz=!0},s.$z=function(){s.tR(!0)},s.Cc=n,s.CT=i,s.Vc=i.sI,s.Jz=e,s.mo=r,s.Vc.addEventListener("loadedmetadata",s.Kz);for(var u=0;u<MT.length;u++){var o=MT[u];s.Vc.addEventListener(o,s.$z)}return s}U(i,t);var e=i.prototype;return e.nR=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mo.Do(n.wo,i);case 2:return e=t.sent,t.next=5,e.lc();case 5:return r=t.sent,t.next=8,this.iR(r);case 8:return t.abrupt("return",r);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.eR=function(t){var n=this.rc;return n?0!==t.cI.length&&t.cI.some(function(t){return t.sc.wo===n.sc}):0===t.cI.length||!this.qz},e.rR=function(t){return this.Jz.rR(t),this.Cc=t,N.resolve()},e.xo=function(){var t=N.coroutine(rr.mark(function t(){var n,i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(this.$o(),this.Vc.removeEventListener("loadedmetadata",this.Kz),n=0;n<MT.length;n++)i=MT[n],this.Vc.removeEventListener(i,this.$z);return t.next=5,this.Cz.nd();case 5:return t.next=7,this.sR();case 7:return t.next=9,this.Jz.Jl();case 9:return t.next=11,this.iR(void 0);case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.tR=function(t){t!==this.Xz&&(this.Xz=t,t?this.Zz.Oh(void 0):this.Zz=new eo)},e.iR=function(t){var n=this;return this.Cz.mz(function(){return n.uR(t)})},e.uR=function(){var t=N.coroutine(rr.mark(function t(i){var e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i||this.Vc.src){t.next=4;break}throw new jg(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(i||!this.Vc.src){t.next=6;break}throw new jg(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!i||this.Xz){t.next=9;break}return t.next=9,this.Zz.Ch;case 9:if(!(e=this.rc)){t.next=14;break}return t.next=13,e.fc(this.Vc);case 13:this.rc=void 0;case 14:if(!i){t.next=18;break}return t.next=17,i.cc(this.Vc);case 17:this.rc=i;case 18:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.GA=function(t){var n=this;return this.Cz.mz(function(){return n.oR(t)})},e.oR=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.tR(!1),i=this.CT.vA,this.Vc.src=n,this.CT.vA=i;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.qh=function(){var t=this;return this.Cz.mz(function(){return t.Kd()})},e.Kd=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Vc.load();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.sR=function(){var t=this;return this.Cz.mz(function(){return t.hR()})},e.hR=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.tR(!1),Re(this.Vc);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),z(i,[{key:"xA",get:function(){throw new f("Not implemented")}},{key:"uc",get:function(){return this.Cc}},{key:"sI",get:function(){return this.Vc}},{key:"zA",get:function(){throw new f("Not implemented")}}]),i}(Cs),pT=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.FC=function(){var t=N.coroutine(rr.mark(function t(){var n;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this.uc,t.t0=n.fI,t.next=t.t0===Dl.Gg?4:t.t0===Dl.Fg?4:(t.t0,Dl.Vg,6);break;case 4:return this.Vc.setAttribute("crossorigin",n.fI),t.abrupt("break",8);case 6:return this.Vc.removeAttribute("crossorigin"),t.abrupt("break",8);case 8:return void 0!==n.yw?this.Vc.preload=n.yw:this.Vc.preload=im.gT,void 0!==n.vI?this.Vc.title=n.vI:xe(this.Vc),t.next=12,this.GA(n.Ig);case 12:this.Jz.qh(this,n);case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.eR=function(t){return!1},i.rR=function(t){return N.resolve(void 0)},i.xo=function(){var n=N.coroutine(rr.mark(function n(){return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return xe(this.Vc),n.next=3,t.prototype.xo.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n.cR=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.vv))},z(n,[{key:"uw",get:function(){return am.Vb(this.Vc.buffered)}},{key:"oA",get:function(){return this.Vc.duration}},{key:"aR",get:function(){var t=this.oA;if(!isFinite(t))return!1;var n=this.uw;return 0!==n.$l&&t-n.vb(n.$l-1)<1/6}},{key:"yw",get:function(){return this.Vc.preload},set:function(t){this.Vc.preload=t}},{key:"_w",get:function(){return am.Vb(this.Vc.seekable)}},{key:"fR",get:function(){return this.uw}},{key:"vR",get:function(){if(ze(this.Vc)&&(this.Vc.videoWidth>0||this.Vc.videoHeight>0))return this.uw}}]),n}(mT),NT=function(t){function n(n){var i;return(i=t.call(this,rh.ba)||this).currentTime=n,i}return U(n,t),n}(xs),DT=function(t){function n(){return t.call(this,rh.ka)||this}return U(n,t),n}(xs);!function(t){t.dR="lR"}(kT||(kT={}));var TT,IT;kT.dR;!function(t){t[t.gR=0]="gR",t[t.Wa=1]="Wa",t[t.AR=2]="AR"}(TT||(TT={})),function(t){t.wR="yR"}(IT||(IT={}));var bT=function(t){function n(n){var i;return(i=t.call(this,IT.wR)||this)._R=n,i}return U(n,t),n}(xs),ET=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).MR=am.Xb(),n}U(n,t);var i=n.prototype;return i.kR=function(t,n){var i=new am([t,n]);this.MR=this.MR.Lb(i),this.Zo(new bT(i))},i.mR=function(t,n){this.MR=this.MR.jb(new am([t,n]))},i.Jl=function(){this.MR=am.Xb()},i.nd=function(){this.$o()},z(n,[{key:"pR",get:function(){return this.MR}}]),n}(Cs);function LT(t,n){return void 0===n&&(n=new $a({highWaterMark:1/0})),new Fa(new ST(t,n),{highWaterMark:0})}var ST=function(){function t(t,n){var i=this,e=n.size,r=void 0===e?function(){return 1}:e,s=n.highWaterMark,u=void 0===s?1:s;this.rf=void 0,this.NR=void 0,this.DR=void 0,this.Qn=[],this.gf=0,this.mx=void 0,this.IR=!1,this.bR=void 0,this.ER=function(t){return t.done?(i.Gn(),void i.mx.close()):(i.Qn.push(t.value),i.gf+=i.NR(t.value),i.IR&&i.Gn(),i.LR()?i.rf.read().then(i.ER):void 0)},this.Ud=function(t){i.Gn(),i.mx.error(t)},this.rf=t.getReader(),this.NR=r,this.DR=u}var n=t.prototype;return n.start=function(t){this.mx=t,this.LR()&&this.SR()},n.pull=function(){this.Qn.length>0?this.Gn():this.IR=!0,this.LR()&&this.SR()},n.cancel=function(t){return hs(this.Qn),this.gf=0,this.IR=!1,this.rf.cancel(t)},n.Gn=function(){if(0!==this.Qn.length){var t=this.Qn;this.Qn=[],this.gf=0,this.IR=!1,this.mx.enqueue(t)}},n.LR=function(){return!!this.IR||this.DR-this.gf>0},n.SR=function(){var t=this;if(!this.bR){var n=this.rf.read().then(this.ER).catch(this.Ud);this.bR=n;var i=function(){t.bR===n&&(t.bR=void 0)};n.then(i,i)}},t}(),jT=function(t,n){return(jT=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)d.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function CT(t,n){if("function"!=typeof n&&null!==n)throw new v("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}jT(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}function OT(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}!function(){function t(t,n){this.jR=t,this.OR=n}t.prototype.get=function(t){var n=this.jR.get(t);if(0===this.OR||void 0===n)return n;var i=this.jR.get(t+1)||0,e=n&(1<<8-this.OR)-1,r=i>>8-this.OR;return(e<<this.OR)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.jR.get(l.floor((t+this.OR)/8));if(void 0!==n)return(n&1<<7-this.OR-t%8)>0?1:0}},d.defineProperty(t.prototype,"bitLength",{get:function(){return this.jR.bitLength-this.OR},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"length",{get:function(){return this.jR.length},enumerable:!1,configurable:!0})}();function xT(t,n,i){return l.min(l.max(t,n),i)}function zT(t,n){return t>>8-n}function RT(t,n){return t&(1<<n)-1}var UT=function(){function t(t){this.xR=t,this.zR=0,this.RR=0}return d.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.zR+this.RR},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"done",{get:function(){return this.zR===this.xR.length&&0===this.RR},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"location",{get:function(){return{byte:this.zR,bit:this.RR}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.xR);return n.seek(this.zR,this.RR),n},t.prototype.canReadBits=function(t){return 8*this.zR+t+this.RR<=8*this.xR.length},t.prototype.canReadBytes=function(t){return 0===this.RR?this.zR+t<=this.xR.length:this.zR+t<this.xR.length},t.prototype.incBit=function(){this.RR++,this.RR>7&&(this.zR++,this.RR=0)},t.prototype.seek=function(t,n){this.zR=t,this.RR=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new f("Cannot read past end of buffer.");return this.xR.get(this.zR)>>7-this.RR&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new f("Cannot read past end of buffer.");if(0===this.RR)return this.xR.get(this.zR++);var t=RT(this.xR.get(this.zR),8-this.RR),n=zT(this.xR.get(this.zR+1),this.RR);return this.zR++,t<<this.RR|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=0;if(0===this.RR&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-l.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new f("Skipping over the buffer edge is not allowed.");var n=this.RR+t;this.zR+=n>>3,this.RR=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new f("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}(),BT=function(t,n){return t===n?0:t<n?-1:t>n?1:w(t)?w(n)?0:1:-1},QT=function(){function t(){this.UR=[],this.QR=[],this.Lt=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,s=n;r<s.length;r++){var u=s[r];e.pushRange(u)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new f("The buffer length must be positive.");if(0!==i){if(0===this.QR.length)this.QR.push(0);else{var e=this.QR[this.QR.length-1]+this.UR[this.UR.length-1].length;this.QR.push(e)}this.UR.push(t.subarray(n,n+i)),this.Lt+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,s=this.UR;r<s.length;r++){var u=s[r];t.set(u,e),i+=u.length,e+=u.length}return i},t.prototype.clear=function(){this.UR=[],this.QR=[],this.Lt=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.QR[n];return this.UR[n][i]}},d.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.UR.length<1)return-1;if(this.UR.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.UR[0];return"number"==typeof t?OT(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,s=0;s<=r&&!((s=OT(t,i,s))<0||s>r);s++){for(var u=s+1,o=s+e,h=1;u<o&&t[u]===n[h];u++,h++);if(u===o)return s}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var s=l.ceil((e+r)/2);i(t[s],n)<=0?e=s:r=s-1}return e}}}(this.QR,t,BT)},t.prototype.join=function(){if(1===this.UR.length)return this.UR[0];var t=new y(this.length);return this.copyInternal(t,0),t},d.defineProperty(t.prototype,"length",{get:function(){return this.Lt},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new f("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new f("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*l.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=xT(n,0,this.length),r=xT(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var s=new t,u=this.findContainingBufferIndex(e),o=this.UR[u],h=e,c=h-this.QR[u];h+o.length-c<r;)s.pushRange(o,c,o.length-c),u+=1,c=(h+=o.length-c)-this.QR[u],o=this.UR[u];var a=r-h;return s.pushRange(o,c,a),s},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.UR.length-1,e=this.UR[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.UR[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),PT=function(){function t(n){this.PR=n||t.BUFFER_CHUNK_SIZE,this.Pc=!1,this.YR=new QT,this.xR=new y(this.PR),this.GR=0,this.FR=0,this.RR=7}return t.prototype.closeByte=function(){this.xR[this.GR++]=this.FR,this.GR>=this.PR&&this.closeBuffer(),this.FR=0,this.RR=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.GR&&(this.YR.pushRange(this.xR,0,this.GR),t&&(this.xR=new y(this.PR)),this.GR=0)},d.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.RR},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.Pc)throw new f("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.Pc=!0,this.YR},t.prototype.writeBit=function(t){if(this.Pc)throw new f("Cannot write to a closed BitWriter.");this.FR|=t<<this.RR,0===this.RR?this.closeByte():this.RR--},t.prototype.writeByte=function(t){if(this.Pc)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.FR=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.RR;this.FR|=zT(t,n+1),this.closeByte(),this.FR=RT(t,8-n)<<n+1,this.RR=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.Pc)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.GR+t.length<=this.PR?(this.xR.set(t,this.GR),this.GR+=t.length,this.GR===this.PR&&this.closeBuffer()):(this.closeBuffer(),this.YR.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.RR;this.FR|=zT(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=RT(t[i-1],8-n),r=zT(t[i],n+1);this.FR=e<<n+1|r,this.closeByte()}this.FR=RT(t[t.length-1],8-n)<<n+1,this.RR=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new f("Received a negative number.");if(n>32)throw new f("The max bitlength that can be provided is 32.");if(t>=l.pow(2,n))throw new f("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new f("The max bitlength that can be provided is 32.");if(l.abs(t)>=l.pow(2,n-1))throw new f("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+l.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new f("Received a negative number.");for(var n=l.floor(l.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),YT=function(){function t(t){this.rb=new QT,this.Af=t}return t.prototype.closeWriter=function(){void 0!==this.Af&&(this.rb=this.rb.concat(this.Af.close()),this.Af=void 0)},d.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Af&&(this.Af=new PT),this.Af},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),GT=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new f("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(l.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new YT;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=l.pow(2,32),t}();function FT(t,n){return t instanceof yt?64===n:t<l.pow(2,n)}function VT(t,n){return l.round(t*l.pow(2,n))}function HT(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function WT(t,n){return t/l.pow(2,n)}var XT=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!FT(i,8))throw new f("the provided version cannot fit in 8 bits.");return r.flags=e,r}return CT(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.HR},set:function(t){this.HR=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(GT),ZT=function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}return CT(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(QT.from(this.data))},n}(GT),qT=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();function JT(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){var n=t.length;if(n<=KT)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=KT)i.push(String.fromCharCode.apply(String,t.slice(e,e+KT)));return i.join("")}(n)}var KT=16384;var $T=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function tI(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function nI(t,n,i){return n.offset+i<=t.byteLength}function iI(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function eI(t,n,i){void 0===i&&(i=!1);var e=iI(t,n,i),r=iI(t,n,i),s=i?r:e,u=i?e:r;return yt.fromBits(u,s,!0)}function rI(t,n){var i=tI(t,n);if(i)return String.fromCharCode(i)}function sI(t,n,i){for(var e="",r=0;r<i;r++)e+=rI(t,n);return e}function uI(t,n){var i,e=tI(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&tI(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&tI(t,n))+(63&tI(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&tI(t,n))+64*(63&tI(t,n))+(63&tI(t,n))),i}function oI(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=uI(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return JT(e)}(t,n,!0)}function hI(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function cI(t){return new y(t.buffer,t.byteOffset,t.byteLength)}var aI=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new qT(this.offset<<3)},t}(),fI=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return tI(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return iI(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=iI(t,n,i),r=iI(t,n,i),s=i?r:e,u=i?e:r;return yt.fromBits(u,s,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return eI(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return function(t,n,i){var e=hI(cI(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(iI(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return sI(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return oI(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function vI(t,n){return t.type===n}var dI=8;function lI(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=gI(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new f("Data incomplete");return n.boxes}function gI(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!nI(t,n,dI)){var e=n.offset+dI;return{complete:!1,neededOffset:e}}var r=iI(t,n),s=sI(t,n,4);if(1===r){if(!nI(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=eI(t,n).toNumber()}if("uuid"===s){if(!nI(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}s=sI(t,n,16)}var u=n.offset;return{complete:!0,header:{type:s,size:r,headerSize:u-i}}}(t,n);if(!e.complete)return e;var r=e.header,s=r.size;0===s&&(s=t.byteLength-i);var u=i+s;if(u>t.byteLength){var o=u;return n.seek(i),{complete:!1,neededOffset:o}}var h,c,a,f={type:r.type,offset:i,data:new fI((h=t,c=i,a=u,void 0===c&&(c=0),void 0===a&&(a=h.byteLength),new DataView(h.buffer,h.byteOffset+c,a-c)),new aI(r.headerSize))};return n.seek(u),{complete:!0,box:f}}function AI(t){return{version:t>>24,flags:new $T(16777215&t)}}function wI(t,n){var i,e,r,s;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),s=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),s=t.nextUint32()),{creation:i,modification:e,scale:r,duration:s}}function yI(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function _I(t){var n=t.nextUint32Array(9);return{a:WT(n[0],16),b:WT(n[1],16),u:WT(n[2],30),c:WT(n[3],16),d:WT(n[4],16),v:WT(n[5],30),x:WT(n[6],16),y:WT(n[7],16),w:WT(n[8],30)}}function MI(t){return new ZT(t.type,hI(cI(t.data.data),t.data.cursor.offset))}var kI=function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var s=t.call(this,"hdlr",e,r)||this;return s.name=i,s.handlerType=n,s}return CT(n,t),d.defineProperty(n.prototype,"handlerType",{get:function(){return this.WR},set:function(t){this.WR=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(XT);function mI(t){var n=t.data,i=AI(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var s=n.nextChars(4);n.skip(12);var u=n.nextUTF8String();return new kI(s,u,e,r.raw)}!function(t){function n(){return t.call(this,"mdir")||this}CT(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(kI);var pI=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},d.defineProperty(t.prototype,"tag",{get:function(){return this.XR},set:function(t){if(!FT(t,8))throw new f("Provided tag does not fit in 8 bits.");this.XR=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}(),NI=(function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var h=t.call(this,4,o.fixed28BitMode)||this;return h.upStream=e,h.decoderSpecificInfo=u,h.objectTypeIndication=n,h.streamType=i,h.bufferSizeDb=r,h.maxBitrate=s.max,h.avgBitrate=s.avg,h}CT(n,t),d.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.ZR},set:function(t){if(!FT(t,8))throw new f("Provided objectTypeIndication does not fit in 8 bits.");this.ZR=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamType",{get:function(){return this.qR},set:function(t){if(!FT(t,6))throw new f("Provided streamType does not fit in 6 bits.");this.qR=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.JR},set:function(t){if(!FT(t,24))throw new f("Provided bufferSizeDb does not fit in 24 bits.");this.JR=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.KR},set:function(t){if(!FT(t,32))throw new f("Provided maxBitrate does not fit in 32 bits.");this.KR=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.$R},set:function(t){if(!FT(t,32))throw new f("Provided avgBitrate does not fit in 32 bits.");this.$R=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(pI),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}CT(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(QT.from(this.data))}}(pI),function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return CT(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(pI)),DI=(function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,3,r.fixed28BitMode)||this;return s.decoderConfigDescriptor=e,s.esId=n,s.streamPriority=i,s.dependsOnEsId=null==r?void 0:r.dependsOnEsId,s.urlString=null==r?void 0:r.url,s.ocrEsId=null==r?void 0:r.ocrEsId,s.slConfigDescriptor=new NI(r.fixed28BitMode),s}CT(n,t),d.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"esId",{get:function(){return this.tU},set:function(t){if(!FT(t,16))throw new f("Provided esId does not fit in 16 bits.");this.tU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamPriority",{get:function(){return this.nU},set:function(t){if(!FT(t,5))throw new f("Provided streamPriority does not fit in 5 bits.");this.nU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.iU},set:function(t){if(t&&!FT(t,16))throw new f("Provided dependsOnEsId does not fit in 16 bits.");this.iU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.eU},set:function(t){if(t&&!FT(t,16))throw new f("Provided ocrEsId does not fit in 16 bits.");this.eU=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(pI),function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return CT(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(GT)),TI=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return CT(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(DI),II=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return CT(n,t),d.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.rU},set:function(t){if(!FT(t,16))throw new f("Provided dataReferenceIndex does not fit in 16 bits.");this.rU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(TI),bI=function(t){function n(n,i,e,r){var s,u,o=t.call(this,n,i)||this;return o.extra=r,o.channelCount=null!==(s=e.channelCount)&&void 0!==s?s:2,o.sampleSize=null!==(u=e.sampleSize)&&void 0!==u?u:16,o.sampleRate=e.sampleRate,o}return CT(n,t),d.defineProperty(n.prototype,"channelCount",{get:function(){return this.sU},set:function(t){if(!FT(t,16))throw new f("Provided channelCount does not fit in 16 bits.");this.sU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleSize",{get:function(){return this.uU},set:function(t){if(!FT(t,16))throw new f("Provided sampleSize does not fit in 16 bits.");this.uU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleRate",{get:function(){return this.oU},set:function(t){if(!FT(VT(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.oU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(VT(this.sampleRate,16),32),this.extra&&HT(n.writer,this.extra)},n}(II),EI=(function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}CT(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.hU},set:function(t){if(!FT(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!FT(t,32)}))throw new f("Not all entries can be represented in 32 bits.");this.hU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(XT),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}CT(n,t),d.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.cU},set:function(t){if(!FT(t,32))throw new f("Provided cleanApertureWidthN does not fit in 32 bits.");this.cU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.aU},set:function(t){if(!FT(t,32))throw new f("Provided cleanApertureWidthD does not fit in 32 bits.");this.aU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.fU},set:function(t){if(!FT(t,32))throw new f("Provided cleanApertureHeightN does not fit in 32 bits.");this.fU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.vU},set:function(t){if(!FT(t,32))throw new f("Provided cleanApertureHeightD does not fit in 32 bits.");this.vU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffN",{get:function(){return this.dU},set:function(t){if(!FT(t,32))throw new f("Provided horizOffN does not fit in 32 bits.");this.dU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffD",{get:function(){return this.lU},set:function(t){if(!FT(t,32))throw new f("Provided horizOffD does not fit in 32 bits.");this.lU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffN",{get:function(){return this.gU},set:function(t){if(!FT(t,32))throw new f("Provided vertOffN does not fit in 32 bits.");this.gU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffD",{get:function(){return this.AU},set:function(t){if(!FT(t,32))throw new f("Provided vertOffD does not fit in 32 bits.");this.AU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(GT),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}CT(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.hU},set:function(t){if(!FT(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!FT(t.sampleCount,32)||!FT(t.sampleOffset,32)}))throw new f("Not all entries can be represented in 64 bits.");this.hU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(XT),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}CT(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.nS},set:function(t){this.flags=void 0===t?1:0,this.nS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(XT),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}CT(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.nS},set:function(t){if(1&this.flags)throw new f("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.nS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(XT),function(t){function n(){return t.call(this,"dinf")||this}CT(n,t)}(TI),function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!FT(i,8))throw new f("the provided version cannot fit in 8 bits.");return r.flags=e,r}return CT(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.HR},set:function(t){this.HR=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(DI)),LI=(function(t){function n(){return t.call(this,"dref",0,0)||this}CT(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(EI),function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return CT(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this.hU},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!FT(e.segmentDuration,this.bitSize))throw new f("SegmentDuration of one of the entries does not fit in "+this.bitSize+" bits.");if(!FT(e.mediaTime,this.bitSize))throw new f("MediaTime of one of the entries does not fit in "+this.bitSize+" bits.");if(!FT(e.mediaRateInteger,16))throw new f("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!FT(e.mediaRateFraction,16))throw new f("Provided mediaRateFraction does not fit in 16 bits.")}this.hU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(XT)),SI=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return CT(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(LI),jI=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return CT(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(LI);function CI(t){for(var n=t.data,i=AI(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=[],o=0;o<s;o++){var h=void 0,c=void 0;0===e?(h=n.nextUint32(),c=n.nextInt32()):(h=n.nextUint64(),c=n.nextInt64());var a=n.nextInt16(),f=n.nextInt16();u.push({segmentDuration:h,mediaTime:c,mediaRateFraction:f,mediaRateInteger:a})}return 0===e?new SI(u,r.raw):new jI(u,r.raw)}var OI=function(t){function n(){return t.call(this,"edts")||this}return CT(n,t),n}(TI);function xI(t){for(var n=new OI,i=0,e=lI(t.data);i<e.length;i++){var r=e[i];vI(r,"elst")?n.boxes.push(CI(r)):n.boxes.push(MI(r))}return n}var zI=function(t){function n(n,i,e,r){var s=t.call(this,n)||this;return s.majorBrand=i,s.minorVersion=e,s.compatibleBrands=r,s}return CT(n,t),d.defineProperty(n.prototype,"majorBrand",{get:function(){return this.wU},set:function(t){if(4!==t.length)throw new f("the provided major brand does not conform to the 4 character requirement");this.wU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"minorVersion",{get:function(){return this.yU},set:function(t){if(!FT(t,32))throw new f("the provided minor version does not fit in 32 bits.");this.yU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this._U},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new f("Some of the compatible brands do not conform to the 4 character requirement");this._U=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(GT),RI=(function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}CT(n,t)}(zI),function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}CT(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(QT.from(this.data))}}(GT),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=t.call(this,"mdhd",e,r)||this;return s.creationTime=n.creation,s.modificationTime=n.modification,s.timescale=n.scale,s.duration=n.duration,s.language=i,s}return CT(n,t),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.MU},set:function(t){if(!FT(t,this.bitSize))throw new f("Provided sequence number does not fit in "+this.bitSize+" bits.");this.MU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.kU},set:function(t){if(!FT(t,this.bitSize))throw new f("Provided sequence number does not fit in "+this.bitSize+" bits.");this.kU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.mU},set:function(t){if(!FT(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.mU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.pU},set:function(t){if(!FT(t,this.bitSize))throw new f("Provided sequence number does not fit in "+this.bitSize+" bits.");this.pU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"language",{get:function(){return this.NU},set:function(t){if(!PI(t))throw new f("Expected an ISO-639-2/T language code");this.NU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(XT)),UI=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}return CT(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(RI),BI=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}return CT(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(RI);function QI(t){var n=t.data,i=AI(n.nextUint32()),e=i.version,r=i.flags,s=wI(n,e),u=new UT(QT.from(n.nextUint8Array(2)));u.skipBits(1);for(var o=[],h=0;h<3;h++)o.push(u.readUInt(5));var c=o.map(function(t){return String.fromCharCode(t+96)}).join("");return PI(c)||(c="und"),n.skip(2),0===e?new UI(s,c,r.raw):new BI(s,c,r.raw)}function PI(t){return/^[a-z]{3}$/.test(t)}var YI=function(t){function n(){return t.call(this,"mdia")||this}return CT(n,t),n}(TI);function GI(t){for(var n=new YI,i=0,e=lI(t.data);i<e.length;i++){var r=e[i];vI(r,"mdhd")?n.boxes.push(QI(r)):vI(r,"hdlr")?n.boxes.push(mI(r)):n.boxes.push(MI(r))}return n}var FI;(function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new QT,n}CT(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}})(GT),function(t){function n(){return t.call(this,"minf")||this}CT(n,t)}(TI),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}CT(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(EI);!function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(FI||(FI={}));var VI,HI,WI={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function XI(t,n){n.writer.writeUInt(VT(t.a,16),32),n.writer.writeUInt(VT(t.b,16),32),n.writer.writeUInt(VT(0,30),32),n.writer.writeUInt(VT(t.c,16),32),n.writer.writeUInt(VT(t.d,16),32),n.writer.writeUInt(VT(0,30),32),n.writer.writeUInt(VT(t.x,16),32),n.writer.writeUInt(VT(t.y,16),32),n.writer.writeUInt(VT(1,30),32)}function ZI(t,n){var i,e,r,s;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:VI.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:HI.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:HI.UNKNOWN,2),n.writer.writeUInt(null!==(s=t.sampleHasRedundancy)&&void 0!==s?s:HI.UNKNOWN,2)}function qI(t,n){var i,e,r;n.writer.writeUInt(0,4),ZI(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(VI||(VI={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(HI||(HI={}));var JI=function(){return function(){}}(),KI=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return CT(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.DU},set:function(t){if(!FT(t,this.bitSize))throw new f("The provided fragmentDuration does not fit in "+this.bitSize+" bits.");this.DU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(XT),$I=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return CT(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(KI),tb=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return CT(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(KI);function nb(t){var n=t.data,i=AI(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new $I(n.nextUint32(),r.raw):new tb(n.nextUint64(),r.raw)}var ib=function(t){function n(n,i,e,r){var s,u,o;void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var h=t.call(this,"trex",e,r)||this;return h.trackId=n,h.defaultSampleDescriptionIndex=null!==(s=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==s?s:0,h.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,h.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,h.defaultSampleFlags=i.sampleFlags,h}return CT(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.TU},set:function(t){if(!FT(t,32))throw new f("Provided track id does not fit in 32 bits.");this.TU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.IU},set:function(t){if(!FT(t,32))throw new f("Provided default sample description index does not fit in 32 bits.");this.IU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.bU},set:function(t){if(!FT(t,32))throw new f("Provided default sample duration does not fit in 32 bits.");this.bU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.EU},set:function(t){if(!FT(t,32))throw new f("Provided default sample size does not fit in 32 bits.");this.EU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.LU},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!FT(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!FT(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.LU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),qI(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(XT);function eb(t){var n=t.data,i=AI(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=n.nextUint32(),o=n.nextUint32(),h=n.nextUint32(),c=yI(new UT(QT.from(n.nextUint8Array(4))));return new ib(s,{sampleDescriptionIndex:u,sampleDuration:o,sampleSize:h,sampleFlags:c},e,r.raw)}var rb=function(t){function n(){return t.call(this,"mvex")||this}return CT(n,t),n}(TI);function sb(t){for(var n=new rb,i=0,e=lI(t.data);i<e.length;i++){var r=e[i];vI(r,"mehd")?n.boxes.push(nb(r)):vI(r,"trex")?n.boxes.push(eb(r)):n.boxes.push(MI(r))}return n}var ub=function(t){function n(i,e,r,s,u){var o,h,c;void 0===u&&(u=0);var a=t.call(this,"mvhd",s,u)||this;return a.creationTime=i.creation,a.modificationTime=i.modification,a.timescale=i.scale,a.duration=i.duration,a.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,a.volume=null!==(h=r.volume)&&void 0!==h?h:n.DEFAULT_VOLUME,a.matrix=null!==(c=r.matrix)&&void 0!==c?c:WI,a.SU=e,a}return CT(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.MU},set:function(t){if(!FT(t,this.bitSize))throw new f("Provided sequence number does not fit in "+this.bitSize+" bits.");this.MU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.kU},set:function(t){if(!FT(t,this.bitSize))throw new f("Provided sequence number does not fit in "+this.bitSize+" bits.");this.kU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.mU},set:function(t){if(!FT(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.mU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.pU},set:function(t){if(!FT(t,this.bitSize))throw new f("Provided sequence number does not fit in "+this.bitSize+" bits.");this.pU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"rate",{get:function(){return this.jU},set:function(t){if(!FT(VT(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.jU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.rE},set:function(t){if(!FT(VT(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.rE=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.CU},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.CU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.SU},set:function(t){if(0===t)throw new f("NextTrackId cannot be 0.");if(!FT(t,32))throw new f("NextTrackId cannot exceed 32 bits.");this.SU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(VT(this.rate,16),32),n.writer.writeUInt(VT(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),XI(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(XT),ob=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}return CT(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(ub),hb=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}return CT(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(ub);function cb(t){var n=t.data,i=AI(n.nextUint32()),e=i.version,r=i.flags,s=wI(n,e),u=WT(n.nextUint32(),16),o=WT(n.nextUint16(),8);n.skip(2),n.skip(8);var h=_I(n);n.skip(24);var c=n.nextUint32();return 0===e?new ob(s,c,{rate:u,volume:o,matrix:h},r.raw):new hb(s,c,{rate:u,volume:o,matrix:h},r.raw)}var ab=function(t){function n(n,i,e,r,s,u,o){var h,c,a;void 0===o&&(o={});var f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this;return f.creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=s,f.height=u,f.layer=null!==(h=o.layer)&&void 0!==h?h:0,f.alternateGroup=null!==(c=o.alternateGroup)&&void 0!==c?c:0,f.matrix=null!==(a=o.matrix)&&void 0!==a?a:WI,f}return CT(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.MU},set:function(t){if(!FT(t,this.bitSize))throw new f("Provided sequence number does not fit in "+this.bitSize+" bits.");this.MU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.kU},set:function(t){if(!FT(t,this.bitSize))throw new f("Provided sequence number does not fit in "+this.bitSize+" bits.");this.kU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"trackId",{get:function(){return this.TU},set:function(t){if(0===t)throw new f("trackId cannot be 0.");if(!FT(t,32))throw new f("trackId cannot exceed 32 bits.");this.TU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.pU},set:function(t){if(!FT(t,this.bitSize))throw new f("Provided sequence number does not fit in "+this.bitSize+" bits.");this.pU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.rE},set:function(t){if(!FT(VT(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.rE=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"width",{get:function(){return this.OU},set:function(t){if(!FT(VT(t,16),32))throw new f("Provided width does not fit in 32 bits (fixed 16.16).");this.OU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.xU},set:function(t){if(!FT(VT(t,16),32))throw new f("Provided height does not fit in 32 bits (fixed 16.16).");this.xU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"layer",{get:function(){return this.zU},set:function(t){if(!FT(t,16))throw new f("Provided layer does not fit in 16 bits.");this.zU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.RU},set:function(t){if(!FT(t,16))throw new f("Provided alternateGroup does not fit in 16 bits.");this.RU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.CU},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.CU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(VT(this.volume,8),16),n.writer.writeUInt(0,16),XI(this.matrix,n),n.writer.writeUInt(VT(this.width,16),32),n.writer.writeUInt(VT(this.height,16),32)},n}(XT),fb=function(t){function n(n,i,e,r,s,u){return t.call(this,0,n,i,e,r,s,u)||this}return CT(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(ab),vb=function(t){function n(n,i,e,r,s,u){return t.call(this,1,n,i,e,r,s,u)||this}return CT(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(ab);function db(t){var n,i,e,r,s=t.data,u=AI(s.nextUint32()),o=u.version,h=u.flags,c=h.isSet(8),a=h.isSet(4),f=h.isSet(2),v=h.isSet(1);0===o?(n=s.nextUint32(),i=s.nextUint32(),e=s.nextUint32(),s.skip(4),r=s.nextUint32()):(n=s.nextUint64(),i=s.nextUint64(),e=s.nextUint32(),s.skip(4),r=s.nextUint64()),s.skip(8);var d=s.nextInt16(),l=s.nextInt16(),g=WT(s.nextInt16(),8);s.skip(2);var A=_I(s),w=WT(s.nextUint32(),16),y=WT(s.nextUint32(),16);return 0===o?new fb({creation:n,modification:i,duration:r},e,g,w,y,{layer:d,matrix:A,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:a,trackInMovie:f}):new vb({creation:n,modification:i,duration:r},e,g,w,y,{layer:d,matrix:A,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:a,trackInMovie:f})}var lb=function(t){function n(){return t.call(this,"trak")||this}return CT(n,t),n}(TI);function gb(t){for(var n=new lb,i=0,e=lI(t.data);i<e.length;i++){var r=e[i];vI(r,"tkhd")?n.boxes.push(db(r)):vI(r,"mdia")?n.boxes.push(GI(r)):vI(r,"edts")?n.boxes.push(xI(r)):n.boxes.push(MI(r))}return n}var Ab=function(t){function n(){return t.call(this,"moov")||this}return CT(n,t),n}(TI);var wb=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return CT(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.UU},set:function(t){if(!FT(t,this.bitSize))throw new f("Provided baseMediaDecodeTime does not fit in "+this.bitSize+" bits.");this.UU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(XT),yb=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return CT(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(wb),_b=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return CT(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(wb);function Mb(t){var n=t.data,i=AI(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new yb(n.nextUint32(),r.raw):new _b(n.nextUint64(),r.raw)}var kb=function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}return CT(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.TU},set:function(t){if(!FT(t,32))throw new f("Provided track id does not fit in 32 bits.");this.TU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.BU},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is not set.");if(t&&!FT(t,64))throw new f("Provided baseDataOffset does not fit in 32 bits.");this.BU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.QU},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is not set.");if(t&&!FT(t,32))throw new f("Provided sampleDescriptionIndex does not fit in 32 bits.");this.QU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.bU},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is not set.");if(t&&!FT(t,32))throw new f("Provided defaultSampleDuration does not fit in 32 bits.");this.bU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.EU},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is not set.");if(t&&!FT(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.EU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.LU},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!FT(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!FT(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.LU=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&qI(this.defaultSampleFlags,n)},n}(XT);function mb(t){var n=t.data,i=n.nextUint8(),e=new UT(QT.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),s=Boolean(e.readBit());e.skipBits(10);var u=Boolean(e.readBit()),o=Boolean(e.readBit()),h=Boolean(e.readBit());e.skipBits(1);var c=Boolean(e.readBit()),a=Boolean(e.readBit()),f=n.nextUint32(),v=a?n.nextUint64():void 0,d=c?n.nextUint32():void 0,l=h?n.nextUint32():void 0,g=o?n.nextUint32():void 0,A=u?yI(new UT(QT.from(n.nextUint8Array(4)))):void 0;return new kb({trackId:f,defaultBaseIsMoof:r,durationIsEmpty:s,baseDataOffset:v,sampleDescriptionIndex:d,defaultSampleDuration:l,defaultSampleSize:g,defaultSampleFlags:A},i)}var pb=function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}return CT(n,t),d.defineProperty(n.prototype,"dataOffset",{get:function(){return this.PU},set:function(t){if(t&&!FT(t,32))throw new f("Provided data offset does not fit in 32 bits.");this.PU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.YU},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!FT(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!FT(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.YU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.GU},set:function(t){var n,i;if(!FT(t.length,32))throw new f("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var s=r[e];if(void 0===s.duration&&this.flags.sampleDurationPresent)throw new f("The sample duration present flag is set.");if(void 0!==s.duration&&!this.flags.sampleDurationPresent)throw new f("The sample duration present flag is not set.");if(s.duration&&!FT(s.duration,32))throw new f("Provided sample duration does not fit in 32 bits.");if(void 0===s.size&&this.flags.sampleSizePresent)throw new f("The sample size present flag is set.");if(void 0!==s.size&&!this.flags.sampleSizePresent)throw new f("The sample size present flag is not set.");if(s.size&&!FT(s.size,32))throw new f("Provided sample size does not fit in 32 bits.");if(void 0===s.flags&&this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is set.");if(void 0!==s.flags&&!this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is not set.");if((null===(n=s.flags)||void 0===n?void 0:n.samplePaddingValue)&&!FT(s.flags.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null===(i=s.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!FT(s.flags.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");if(void 0===s.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is set.");if(void 0!==s.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is not set.");if(s.compositionTimeOffset&&!FT(s.compositionTimeOffset,32))throw new f("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.GU=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&qI(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&qI(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(XT);function Nb(t){var n=t.data,i=n.nextUint8(),e=new UT(QT.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),s=Boolean(e.readBit()),u=Boolean(e.readBit()),o=Boolean(e.readBit());e.skipBits(5);var h=Boolean(e.readBit());e.skipBits(1);var c=Boolean(e.readBit()),a=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:u,sampleFlagsPresent:s,sampleCompositionTimeOffsetsPresent:r};c&&(f.dataOffset=n.nextInt32()),h&&(f.firstSampleFlags=yI(new UT(QT.from(n.nextUint8Array(4)))));for(var v=[],d=0;d<a;d++){var l={};o&&(l.duration=n.nextUint32()),u&&(l.size=n.nextUint32()),s&&(l.flags=yI(new UT(QT.from(n.nextUint8Array(4))))),r&&(l.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(l)}return new pb(i,f,v)}var Db=function(t){function n(){return t.call(this,"traf")||this}return CT(n,t),n}(TI);function Tb(t){for(var n=new Db,i=0,e=lI(t.data);i<e.length;i++){var r=e[i];vI(r,"tfhd")?n.boxes.push(mb(r)):vI(r,"tfdt")?n.boxes.push(Mb(r)):vI(r,"trun")?n.boxes.push(Nb(r)):n.boxes.push(MI(r))}return n}var Ib=function(t){function n(){return t.call(this,"moof")||this}return CT(n,t),n}(TI);!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}CT(n,t),d.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.jS},set:function(t){if(!FT(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.jS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(XT);var bb=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return CT(n,t),d.defineProperty(n.prototype,"codingName",{get:function(){return this.FU},set:function(t){if(4!==t.length)throw new f("Provided coding name was not 4 characters long.");this.FU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(GT),Eb=(function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}CT(n,t),d.defineProperty(n.prototype,"hSpacing",{get:function(){return this.VU},set:function(t){if(!FT(t,32))throw new f("Provided hSpacing does not fit in 32 bits.");this.VU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vSpacing",{get:function(){return this.HU},set:function(t){if(!FT(t,32))throw new f("Provided vSpacing does not fit in 32 bits.");this.HU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(GT),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}CT(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(TI),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new bb(n),r}CT(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(GT),function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return CT(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this.hU},set:function(t){var n=this;if(!FT(t.length,32))throw new f("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!FT(t,n.bitSize)}))throw new f("Not all provided entries fit in "+this.bitSize+" bits.");this.hU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.WU},set:function(t){if(void 0===t)this.flags=0;else{if(!FT(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!FT(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.WU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(XT)),Lb=(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}CT(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(Eb),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}CT(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(Eb),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}CT(n,t),d.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.XU},set:function(t){if(!FT(t,8))throw new f("Provided defaultSampleInfoSize does not fit in a single byte.");this.XU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.ZU},set:function(t){if(!FT(t.length,32))throw new f("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!FT(t,8)}))throw new f("Not all provided sampleInfoSizes fit in a byte.");this.ZU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.WU},set:function(t){if(void 0===t)this.flags=0;else{if(!FT(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!FT(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.WU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0===this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0===this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new f("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(XT),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}CT(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){ZI(e[i],n)}}}(XT),function(t){function n(n){return t.call(this,"stsd",n,0)||this}CT(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(EI),function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return CT(n,t),d.defineProperty(n.prototype,"groupingType",{get:function(){return this.qU},set:function(t){if(4!==t.length)throw new f("The provided groupingType does not equal 4 characters.");this.qU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(XT)),Sb=(function(t){function n(n,i){return t.call(this,0,n,i)||this}CT(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(Lb),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}CT(n,t),d.defineProperty(n.prototype,"defaultLength",{get:function(){return this.JU},set:function(t){if(!FT(t,32))throw new f("The provided defaultLength does not fit in 32 bits.");this.JU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(Lb),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=this;if(n<2)throw new f("This constructor is only meant for versions 2 and up.");return(s=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,s}CT(n,t),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.IU},set:function(t){if(!FT(t,32))throw new f("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.IU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(Lb),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}CT(n,t),d.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.KU},set:function(t){if(!FT(t.length,32))throw new f("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!FT(t,32)}))throw new f("Not all sampleSizes can be represented in 32 bits.");this.KU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(XT),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}CT(n,t),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.EU},set:function(t){if(!FT(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.EU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.GU},set:function(t){if(!FT(t,32))throw new f("Number of allowed samples cannot fit in 32 bits.");this.GU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(XT),function(t){function n(){return t.call(this,"stbl")||this}CT(n,t)}(TI),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}CT(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.hU},set:function(t){if(!FT(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!FT(t.firstChunk,32)||!FT(t.sampleDescriptionIndex,32)||!FT(t.samplesPerChunk,32)}))throw new f("Not all entries can be represented in 96 bits.");this.hU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(XT),function(t){function n(){return t.call(this,"schi")||this}CT(n,t)}(TI),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}CT(n,t),d.defineProperty(n.prototype,"schemeType",{get:function(){return this.$U},set:function(t){if(4!==t.length)throw new f("The provided schemeType does not have a length of 4.");this.$U=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.tB},set:function(t){if(!FT(t,32))throw new f("The provided schemeVersion does not fit in 23 bits.");this.tB=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeUri",{get:function(){return this.nB},set:function(t){if(t&&4!==t.length)throw new f("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.nB=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(XT),function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o=0);var h=t.call(this,"sidx",n,o)||this;return h.referenceId=i,h.timescale=e,h.earliestPresentationTime=r,h.firstOffset=s,h.references=u,h}return CT(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"referenceId",{get:function(){return this.iB},set:function(t){if(!FT(t,32))throw new f("Provided referenceId does not fit in 32 bits.");this.iB=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.mU},set:function(t){if(!FT(t,32))throw new f("Provided timescale does not fit in 32 bits.");this.mU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.eB},set:function(t){if(!FT(t,this.bitSize))throw new f("Provided earliestPresentationTime does not fit in "+this.bitSize+" bits.");this.eB=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstOffset",{get:function(){return this.rB},set:function(t){if(!FT(t,this.bitSize))throw new f("Provided timescale does not fit in "+this.bitSize+" bits.");this.rB=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"references",{get:function(){return this.sB},set:function(t){if(!FT(t.length,16))throw new f("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!FT(e.referencedSize,31))throw new f("Provided referenced size does not fit in 31 bits.");if(!FT(e.subsegmentDuration,32))throw new f("Provided subsegment duration does not fit in 31 bits.");if(!FT(e.sapType,3))throw new f("Provided SAP type does not fit in 3 bits.");if(!FT(e.sapDeltaTime,28))throw new f("Provided SAP delta time does not fit in 28 bits.")}this.sB=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(XT)),jb=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,0,n,i,e,r,s,u)||this}return CT(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(Sb),Cb=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,1,n,i,e,r,s,u)||this}return CT(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(Sb);(function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}CT(n,t)})(zI),function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}CT(n,t),d.defineProperty(n.prototype,"balance",{get:function(){return this.uB},set:function(t){if(t<-1||t>1)throw new f("Provided balance does not fit in the allowed range [-1, 1].");if(!FT(VT(t,8),16))throw new f("Provided balance does not fit in 16 bits (fixed 8.8).");this.uB=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(VT(this.balance,8),16),n.writer.writeUInt(0,16)}}(XT),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}CT(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.hU},set:function(t){if(!FT(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!FT(t,32)}))throw new f("Not all entries can be represented in 32 bits.");this.hU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(XT),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}CT(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.hU},set:function(t){if(!FT(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!FT(t.sampleCount,32)||!FT(t.sampleDelta,32)}))throw new f("Not all entries can be represented in 64 bits.");this.hU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(XT),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}CT(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.TU},set:function(t){if(!FT(t,32))throw new f("The provided trackId does not fit in 32 bits.");this.TU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(EI),function(t){function n(){return t.call(this,"udta")||this}CT(n,t)}(TI);var Ob={red:0,green:0,blue:0},xb=(function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=Ob);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}CT(n,t),d.defineProperty(n.prototype,"opColor",{get:function(){return this.oB},set:function(t){if(!FT(t.red,16)||!FT(t.green,16)||!FT(t.blue,16))throw new f("Not all colors could be represented in 16 bits.");this.oB=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(XT),function(t){function n(n,i,e,r,s){var u,o,h,c,a;void 0===r&&(r={});var f=t.call(this,n,i)||this;return f.extra=s,f.width=e.width,f.height=e.height,f.horizontalResolution=null!==(u=e.horizontal)&&void 0!==u?u:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(h=r.compressorName)&&void 0!==h?h:"",f.frameCount=null!==(c=r.frameCount)&&void 0!==c?c:1,f.depth=null!==(a=r.depth)&&void 0!==a?a:24,f.clap=r.clap,f.pasp=r.pasp,f}return CT(n,t),d.defineProperty(n.prototype,"width",{get:function(){return this.OU},set:function(t){if(!FT(t,16))throw new f("Provided width does not fit in 16 bits.");this.OU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.xU},set:function(t){if(!FT(t,16))throw new f("Provided height does not fit in 16 bits.");this.xU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.hB},set:function(t){if(!FT(VT(t,16),32))throw new f("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.hB=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.cB},set:function(t){if(!FT(VT(t,16),32))throw new f("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.cB=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compressorName",{get:function(){return this.aB},set:function(t){if(t.length>31)throw new f("The provided compressorName should at most be 31 characters long.");this.aB=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"frameCount",{get:function(){return this.fB},set:function(t){if(!FT(t,16))throw new f("Provided frameCount does not fit in 16 bits.");this.fB=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"depth",{get:function(){return this.vB},set:function(t){if(!FT(t,16))throw new f("Provided depth does not fit in 16 bits.");this.vB=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,s,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(u=null===(s=this.extra)||void 0===s?void 0:s.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(VT(this.horizontalResolution,16),32),n.writer.writeUInt(VT(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&HT(n.writer,this.extra)},n}(II)),zb=(function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}CT(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(QT.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(XT),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}CT(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(bI),function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,"mp4v",n,i,r)||this;return s.esDescriptor=e,s}CT(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(xb),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}CT(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(II),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}CT(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(GT),function(){function t(t,n,i,e,r,s){void 0===s&&(s=1),this.lengthSizeMinusOne=i,this.version=s,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}d.defineProperty(t.prototype,"version",{get:function(){return this.bD},set:function(t){if(!FT(t,8))throw new f("Provided version does not fit in 8 bits.");this.bD=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileIndication",{get:function(){return this.dB},set:function(t){if(!FT(t,8))throw new f("Provided profileIndication does not fit in 8 bits.");this.dB=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.lB},set:function(t){if(!FT(t,8))throw new f("Provided profileCompatibility does not fit in 8 bits.");this.lB=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"levelIndication",{get:function(){return this.gB},set:function(t){if(!FT(t,8))throw new f("Provided levelIndication does not fit in 8 bits.");this.gB=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"spsSets",{get:function(){return this.AB},set:function(t){if(!FT(t.length,5))throw new f("Provided number of spsSets exceeds the max (32)");this.AB=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"ppsSets",{get:function(){return this.wB},set:function(t){if(!FT(t.length,8))throw new f("Provided number of ppsSets exceeds the max (256)");this.wB=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(QT.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,s=this.ppsSets;r<s.length;r++){var u=s[r];t.writer.writeUInt(u.length,16),t.concat(QT.from(u))}}}(),function(t){function n(n,i,e,r,s){void 0===r&&(r={});var u=t.call(this,"avc1",n,i,r)||this;return u.configurationBox=e,u.bitrateBox=s,u}CT(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(xb),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}CT(n,t),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.JR},set:function(t){if(!FT(t,32))throw new f("Provided bufferSizeDb does not fit in 32 bits.");this.JR=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"max",{get:function(){return this.yB},set:function(t){if(!FT(t,32))throw new f("Provided max does not fit in 32 bits.");this.yB=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avg",{get:function(){return this._B},set:function(t){if(!FT(t,32))throw new f("Provided avg does not fit in 32 bits.");this._B=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(GT),function(t){function n(n,i){var e,r,s,u,o=t.call(this,"tenc",n,0)||this;if(i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new f("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(s=i.isProtected)&&void 0!==s?s:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new y(0),o}return CT(n,t),d.defineProperty(n.prototype,"isProtected",{get:function(){return this.MB},set:function(t){if(!FT(t,8))throw new f("Provided isProtected does not fit in 1 byte.");this.MB=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.kB},set:function(t){if(![8,16].includes(t))throw new f("Provided perSampleIvSize does not match any allowed value [8, 16].");this.kB=t,this.mB=new y(0)},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"kId",{get:function(){return this.pB},set:function(t){if(16!==t.length)throw new f("Provided kId length is not 16.");this.pB=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"constantIv",{get:function(){return this.mB},set:function(t){if(![8,16].includes(t.length))throw new f("Provided constant IV length does not match any allowed value [8, 16].");this.mB=t,this.kB=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),HT(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),HT(t.writer,this.constantIv))},n}(XT)),Rb=(function(t){function n(n){return t.call(this,0,n)||this}CT(n,t)}(zb),function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return CT(n,t),d.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.NB},set:function(t){if(!FT(t,4))throw new f("Provided cryptByteBlocks does not fit in 4 bits.");this.NB=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.DB},set:function(t){if(!FT(t,4))throw new f("Provided skipByteBlocks does not fit in 4 bits.");this.DB=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(zb)),Ub=(function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new Rb(n),i}CT(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(JI),function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return CT(n,t),d.defineProperty(n.prototype,"systemId",{get:function(){return this.TB},set:function(t){if(16!==t.length)throw new f("Provided systemId length is not 16.");this.TB=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"data",{get:function(){return this.re},set:function(t){if(!FT(t.length,32))throw new f("Provided data length does not fit in 32 bits.");this.re=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(QT.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(QT.from(this.data))},n}(XT));(function(t){function n(n,i){return t.call(this,0,n,i)||this}CT(n,t)})(Ub),function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}CT(n,t),d.defineProperty(n.prototype,"kIds",{get:function(){return this.IB},set:function(t){if(!FT(t.length,32))throw new f("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new f("Not all provided key ids are 16 bytes long.");this.IB=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(QT.from(e))}}}(Ub);function Bb(t){return void 0!==t.iv}function Qb(t){return void 0!==t.subsamples}(function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}CT(n,t),d.defineProperty(n.prototype,"samples",{get:function(){return this.GU},set:function(t){var n;if(!FT(t.length,32))throw new f("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(Bb(r)&&![8,16].includes(r.iv.length))throw new f("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=Qb(r)),!0===n&&!Qb(r)||!1===n&&Qb(r))throw new f("Mix of samples with and without subsamples detected.");if(Qb(r)){if(!FT(r.subsamples.length,16))throw new f("Subsample length of one of the provided samples does not fit in 16 bits.");for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];if(!FT(o.clearData,16))throw new f("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!FT(o.protectedData,23))throw new f("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.GU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];Bb(r)&&(n+=r.iv.length),Qb(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(Bb(r)&&HT(n.writer,r.iv),Qb(r)){n.writer.writeUInt(r.subsamples.length,16);for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}})(XT),function(t){function n(n,i,e,r,s){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=s,u.id=e,u.timescale=r.timescale,u.presentationTimeDelta=r.presentationTimeDelta,u.eventDuration=r.eventDuration,u}CT(n,t),d.defineProperty(n.prototype,"timescale",{get:function(){return this.mU},set:function(t){if(!FT(t,32))throw new f("The provided timescale does not fit in 32 bits.");this.mU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.bB},set:function(t){if(!FT(t,32))throw new f("The provided presentationTimeDelta does not fit in 32 bits.");this.bB=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"eventDuration",{get:function(){return this.EB},set:function(t){if(!FT(t,32))throw new f("The provided eventDuration does not fit in 32 bits.");this.EB=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"id",{get:function(){return this.Dw},set:function(t){if(!FT(t,32))throw new f("The provided id does not fit in 32 bits.");this.Dw=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(QT.from(this.data))}}(XT);function Pb(t,n){return function(i){var e,r=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=gI(i,e);if(!r.complete)return;if(vI(r.box,n))return r.box}}(new fI((e=i,new DataView(e.buffer,e.byteOffset,e.byteLength)),new aI),t);if(!r)throw new f(t+" box not found");return n(r)}}var Yb,Gb=Pb("moov",function(t){for(var n=new Ab,i=0,e=lI(t.data);i<e.length;i++){var r=e[i];vI(r,"mvhd")?n.boxes.push(cb(r)):vI(r,"trak")?n.boxes.push(gb(r)):vI(r,"mvex")?n.boxes.push(sb(r)):n.boxes.push(MI(r))}return n}),Fb=Pb("sidx",function(t){var n,i,e=t.data,r=AI(e.nextUint32()),s=r.version,u=r.flags,o=e.nextUint32(),h=e.nextUint32();0===s?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var c=e.nextUint16(),a=[],f=0;f<c;f++){var v=new UT(QT.from(e.nextUint8Array(12))),d=v.readBit(),l=v.readUInt(31),g=v.readUInt(32),A=Boolean(v.readBit()),w=v.readUInt(3),y=v.readUInt(28);a.push({referenceType:d,referencedSize:l,subsegmentDuration:g,startsWithSap:A,sapType:w,sapDeltaTime:y})}return 0===s?new jb(o,h,n,i,a,u.raw):new Cb(o,h,n,i,a,u.raw)}),Vb=Pb("moof",function(t){for(var n=new Ib,i=0,e=lI(t.data);i<e.length;i++){var r=e[i];vI(r,"traf")?n.boxes.push(Tb(r)):n.boxes.push(MI(r))}return n}),Hb=function(){function t(){this.LB=[],this.Nh=0}var n=t.prototype;return n.Az=function(t){this.LB.push(t),this.Nh+=t.byteLength},n.SB=function(t){if(this.Nh<=t)return this.jB();for(var n=this.LB,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.slice(0,e);if(e<n.length&&i<t){var s=t-i;0,r.push(Wu(n[e],0,s)),i+=s}return{LB:r,Nh:i}},n.CB=function(t){var n=this.SB(t);return 1===n.LB.length?n.LB[0]:eu(n.LB,n.Nh)},n.jB=function(){return{LB:this.LB,Nh:this.Nh}},n.OB=function(t){if(this.Nh<=t)return this.xB();for(var n=this.LB,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.splice(0,e);if(n.length>0&&i<t){var s=t-i;0,r.push(Wu(n[0],0,s)),n[0]=Wu(n[0],s),i+=s}return this.Nh-=i,{LB:r,Nh:i}},n.zB=function(t){var n=this.OB(t);return 1===n.LB.length?n.LB[0]:eu(n.LB,n.Nh)},n.xB=function(){var t=this.jB();return this.LB=[],this.Nh=0,t},n.RB=function(){var t=1===this.LB.length?this.LB[0]:eu(this.LB,this.Nh);return this.LB=[],this.Nh=0,t},t}();!function(t){t[t.UB=0]="UB",t[t.BB=1]="BB",t[t.QB=2]="QB"}(Yb||(Yb={}));var Wb=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).mx=void 0,n.PB=1e5,n.YB=void 0,n.GB=void 0,n}U(n,t);var i=n.prototype;return i.start=function(t){this.mx=t},i.transform=function(t){this.FB(t)},i.flush=function(){this.VB()},i.HB=function(t){return t===qA.J_||t===qA.NM||t===qA.CM},i.WB=function(t){var n=this.XB(t);this.mx.enqueue(n)},i.ZB=function(t){this.mx.enqueue(t)},i.XB=function(t){var n=qu(t.Ps.Ps);switch(t.Ao){case"moov":return this.qB(n);case"sidx":return this.JB(n);case"moof":return this.KB(n)}return n},i.qB=function(t){for(var n=Gb(t),i=0,e=n.boxes;i<e.length;i++){var r=e[i];r instanceof ob?this.$B(r):r instanceof hb?this.tQ(r):r instanceof lb&&this.nQ(r)}for(var s=0,u=n.boxes;s<u.length;s++){var o=u[s];o instanceof rb&&this.iQ(o)}return n.serialize().join()},i.$B=function(t){this.YB=t.timescale,t.timescale=this.PB,t.duration=t.duration/this.eQ*this.PB},i.tQ=function(t){this.YB=t.timescale,t.timescale=this.PB,t.duration=Gt.fromNumber(t.duration.toNumber()/this.eQ*this.PB)},i.nQ=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof fb?this.rQ(e):e instanceof vb?this.sQ(e):e instanceof YI?this.uQ(e):e instanceof OI&&this.oQ(e)}},i.rQ=function(t){t.duration=t.duration/this.eQ*this.PB},i.sQ=function(t){t.duration=Gt.fromNumber(t.duration.toNumber()/this.eQ*this.PB)},i.uQ=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof UI?this.hQ(e):e instanceof BI&&this.cQ(e)}},i.hQ=function(t){this.GB=t.timescale,t.timescale=this.PB,t.duration=t.duration/this.aQ*this.PB},i.cQ=function(t){this.GB=t.timescale,t.timescale=this.PB,t.duration=Gt.fromNumber(t.duration.toNumber()/this.aQ*this.PB)},i.oQ=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof SI?this.fQ(e):e instanceof jI&&this.vQ(e)}},i.fQ=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=e.mediaTime/this.eQ*this.PB,e.segmentDuration=e.segmentDuration/this.eQ*this.PB}},i.vQ=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=Gt.fromNumber(e.mediaTime.toNumber()/this.eQ*this.PB),e.segmentDuration=Gt.fromNumber(e.segmentDuration.toNumber()/this.eQ*this.PB)}},i.iQ=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof ib?this.dQ(e):e instanceof $I?this.lQ(e):e instanceof tb&&this.gQ(e)}},i.dQ=function(t){t.defaultSampleDuration=t.defaultSampleDuration/this.aQ*this.PB},i.lQ=function(t){t.fragmentDuration=t.fragmentDuration/this.eQ*this.PB},i.gQ=function(t){t.fragmentDuration=Gt.fromNumber(t.fragmentDuration.toNumber()/this.eQ*this.PB)},i.JB=function(t){var n=Fb(t);return n instanceof jb?this.AQ(n):this.wQ(n),n.serialize().join()},i.AQ=function(t){var n=t.timescale;t.timescale=this.PB,t.earliestPresentationTime=t.earliestPresentationTime/n*this.PB;for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=r.subsegmentDuration/n*this.PB}},i.wQ=function(t){var n=t.timescale;t.timescale=this.PB,t.earliestPresentationTime=Gt.fromNumber(t.earliestPresentationTime.toNumber()/n*this.PB);for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=r.subsegmentDuration/n*this.PB}},i.KB=function(t){for(var n=Vb(t),i=0,e=n.boxes;i<e.length;i++){var r=e[i];r instanceof Db&&this.yQ(r)}return n.serialize().join()},i.yQ=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof kb?this._Q(e):e instanceof yb?this.MQ(e):e instanceof _b?this.kQ(e):e instanceof pb&&this.mQ(e)}},i._Q=function(t){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=t.defaultSampleDuration/this.aQ*this.PB)},i.MQ=function(t){t.baseMediaDecodeTime=t.baseMediaDecodeTime/this.aQ*this.PB},i.kQ=function(t){t.baseMediaDecodeTime=Gt.fromNumber(t.baseMediaDecodeTime.toNumber()/this.aQ*this.PB)},i.mQ=function(t){for(var n=0,i=0,e=0,r=t.samples;e<r.length;e++){var s=r[e];if(void 0!==s.duration){var u=(i+=s.duration)/this.aQ*this.PB;s.duration=u-n,n=u}void 0!==s.compositionTimeOffset&&(s.compositionTimeOffset=s.compositionTimeOffset/this.aQ*this.PB)}},z(n,[{key:"eQ",get:function(){if(void 0===this.YB)throw new f("Expected to have found a movie header timescale.");return this.YB}},{key:"aQ",get:function(){if(void 0===this.GB)throw new f("Expected to have found a media header timescale.");return this.GB}}]),n}(function(){var t=n.prototype;function n(){this.Qn=new Hb,this.sf=Yb.UB,this.pQ=0,this.NQ=0,this.DQ()}return t.TQ=function(t,n){},t.IQ=function(){},t.FB=function(t){this.Qn.Az(t),this.bQ(!1)},t.VB=function(){this.bQ(!0)},t.EQ=function(){return this.sf!==Yb.UB||0!==this.Qn.Nh},t.bQ=function(t){for(;0!==this.Qn.Nh;){if(!t&&this.pQ>this.Qn.Nh)return;switch(this.sf){case Yb.UB:this.LQ(t);break;case Yb.BB:this.SQ(t);break;case Yb.QB:this.jQ(t)}}},t.DQ=function(){this.sf=Yb.UB,this.pQ=8},t.LQ=function(t){var n=Zu(this.Qn.CB(this.pQ)),i=new no,e=Qw.ak(n,i);if(!e.rk)return this.pQ=e.vk,void(t&&this.pQ>this.Qn.Nh&&this.CQ(this.Qn.Nh));var r=e.fk.Ao,s=e.fk.Nh;0===s&&(s=1/0),this.TQ(r,s),this.HB(r)?this.OQ(s):this.CQ(s)},t.OQ=function(t){this.sf=Yb.BB,this.pQ=t},t.SQ=function(t){var n=Zu(this.Qn.zB(this.pQ)),i=new no,e=Qw.sk(n,i,!t);if(!e.rk)throw new Bw(i.Eh);this.IQ(),this.WB(e.uk),this.DQ()},t.CQ=function(t){this.sf=Yb.QB,this.pQ=0,this.NQ=t},t.jQ=function(t){var n=this.Qn.OB(this.NQ);this.NQ-=n.Nh;for(var i=0,e=n.LB;i<e.length;i++){var r=e[i];this.ZB(r)}(0===this.NQ||t&&this.NQ===1/0)&&(this.IQ(),this.DQ())},n}()),Xb=function(){function t(){this.xQ=void 0,this.xQ=new Wb}return t.prototype.zQ=function(t){return t.pipeThrough(new tf(this.xQ))},t}(),Zb=20,qb=Z.Cr&&Z.Or<3,Jb=Z.Yr,Kb=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).RQ=void 0,r.UQ=void 0,r.BQ=void 0,r.BC=Zb,r.QC=sD,r.QQ=!1,r.PQ=!1,r.YQ=void 0,r.GQ=new gs,r.FQ=void 0,r.VQ=!1,r.HQ=void 0,r.WQ=function(){r.QQ=!1},r.RQ=i,r.UQ=n,r.BQ=e,r.BQ.addEventListener("updateend",r.WQ),qb&&(r.FQ=new Xb),r}U(n,t);var i=n.prototype;return i.XQ=function(t,n,i){var e=this;switch(t.Ao){case TT.gR:case TT.Wa:return this.ZQ(function(i){return e.qQ(t,n,i)},i);case TT.AR:throw new f("Opaque segments are not supported on web.")}},i.JQ=function(t,n){var i=this;switch(t.Ao){case TT.gR:return this.ZQ(function(n){return i.KQ(t,n)},n);case TT.Wa:throw new f("Streaming initialization segments are not supported on web.");case TT.AR:throw new f("Opaque initialization segments are not supported on web.")}},i.KQ=function(){var t=N.coroutine(rr.mark(function t(n,i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$Q(n,void 0,i);case 2:Jb&&(this.VQ=!1,this.HQ=n);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.qQ=function(){var t=N.coroutine(rr.mark(function t(n,i,e){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(Jb&&this.VQ&&this.HQ)){t.next=3;break}return t.next=3,this.KQ(this.HQ,e);case 3:return t.prev=3,ys(e),t.next=7,this.$Q(n,i,e);case 7:this.Zo(new xs(kT.dR));case 8:return t.prev=8,n.Ao===TT.Wa&&n.Ps.cancel(new As).catch(T),t.finish(8);case 11:case"end":return t.stop()}},t,this,[[3,,8,11]])}));return function(n,i,e){return t.apply(this,arguments)}}(),i.$Q=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r,s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:ys(e),i&&this.tP(i),t.t0=n.Ao,t.next=t.t0===TT.gR?5:t.t0===TT.Wa?13:21;break;case 5:if(!qb){t.next=10;break}return r=this.FQ.zQ(gf(n.Ps)),t.next=9,this.nP(r,e);case 9:return t.abrupt("return",t.sent);case 10:return t.next=12,this.iP(n.Ps);case 12:return t.abrupt("return",t.sent);case 13:if(!qb){t.next=18;break}return s=this.FQ.zQ(n.Ps),t.next=17,this.nP(s,e);case 17:return t.abrupt("return",t.sent);case 18:return t.next=20,this.nP(n.Ps,e);case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.nP=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s,u,o,h,c,a;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this.UQ.uw,r=LT(n),s=r.getReader(),u=!1,t.prev=4;case 5:return t.next=8,ks(s.read(),i);case 8:if(!(o=t.sent).done){t.next=12;break}return u=!1,t.abrupt("break",19);case 12:return ys(i),h=iu(o.value),u=!0,t.next=17,this.iP(h);case 17:t.next=5;break;case 19:t.next=36;break;case 21:if(t.prev=21,t.t0=t.catch(4),s.cancel(t.t0).catch(T),!u){t.next=35;break}return t.next=27,this.eP();case 27:c=this.UQ.uw.Nb(e.Db()),a=0;case 29:if(!(a<c.$l)){t.next=35;break}return t.next=32,this.rP(c.ab(a),c.vb(a));case 32:a++,t.next=29;break;case 35:throw t.t0;case 36:case"end":return t.stop()}},t,this,[[4,21]])}));return function(n,i){return t.apply(this,arguments)}}(),i.sP=function(t,n){var i=this;return this.ZQ(function(){return i.uP(t,n)})},i.uP=function(){var t=N.coroutine(rr.mark(function t(n,i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.BQ.appendWindowStart===n&&this.BQ.appendWindowEnd===i){t.next=6;break}return t.next=3,this.eP();case 3:this.BQ.appendWindowStart=0,this.BQ.appendWindowEnd=i,this.BQ.appendWindowStart=n;case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.tP=function(t){this.BQ.timestampOffset!==t.V_&&(this.BQ.timestampOffset=t.V_)},i.iP=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.BQ.appendBuffer(n),this.PQ=!0,t.next=4,this.oP();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.hP=function(t,n,i){var e=this;return this.ZQ(function(i){return e.rP(t,n,i)},i)},i.rP=function(){var t=N.coroutine(rr.mark(function t(n,i,e){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ys(e),this.BQ.remove(n,i),t.next=4,this.oP();case 4:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.oP=function(){var t=this,n=this.UQ.uw;return new N(function(i,e){var r,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},h=function(){s=!1,r="aborted"},c=function(){a(),s&&!r?(n.Ub(t.UQ.uw)||t.Zo(new xs(kT.dR)),i()):e(new f(r))},a=function(){t.BQ.removeEventListener("update",u),t.BQ.removeEventListener("error",o),t.BQ.removeEventListener("abort",h),t.BQ.removeEventListener("updateend",c)};t.BQ.addEventListener("update",u),t.BQ.addEventListener("error",o),t.BQ.addEventListener("abort",h),t.BQ.addEventListener("updateend",c)})},i.cP=function(){var t=this;return this.ZQ(function(){return t.eP()})},i.eP=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.RQ.Ng===gE.vd){t.next=2;break}return t.abrupt("return");case 2:Jb&&(this.VQ=!0),this.BQ.updating&&(this.QQ=!0);try{this.BQ.abort()}catch(t){0,this.QQ=!1}if(!this.Uj){t.next=8;break}return t.next=8,this.oP().catch(T);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.aP=function(){return"function"==typeof this.BQ.changeType},i.fP=function(t){this.vP(),this.RQ.Ng!==gE.dP&&this.BQ.changeType(t)},i.lP=function(){this.RQ.Ng!==gE.ya||this.YQ||this.Uj||(this.BQ.timestampOffset=this.BQ.timestampOffset,this.RQ.gP())},i.ZQ=function(){var t=N.coroutine(rr.mark(function t(n,i){var e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.vP(),(e=new gs).Yo(this.GQ.Fo),i&&e.Yo(i),t.prev=4,this.YQ=n(e.Fo),t.next=8,this.YQ;case 8:if(this.RQ.gP(),!this.Uj){t.next=12;break}return t.next=12,this.oP();case 12:return t.prev=12,this.YQ=void 0,e.xo(),t.finish(12);case 16:case"end":return t.stop()}},t,this,[[4,,12,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.vP=function(){if(this.YQ)throw new f("Internal error")},i.xo=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$o(),this.GQ.Po(),!this.YQ){t.next=6;break}return t.next=5,this.YQ.catch(T);case 5:this.YQ=void 0;case 6:this.BQ.removeEventListener("updateend",this.WQ);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),z(n,[{key:"SC",get:function(){return this.BC},set:function(t){this.BC=t}},{key:"zC",get:function(){return this.QC},set:function(t){this.QC=t}},{key:"Uj",get:function(){return this.QQ||this.BQ.updating}}]),n}(Cs),$b=function(){function t(t,n){this.AP=void 0,this.BQ=void 0,this.wP=void 0,this.AP=n,this.BQ=t}var n=t.prototype;return n.aR=function(){return!!this.wP&&this.uw._b().NI(this.wP)},n.yP=function(){var t=this.uw;this.wP=t.$l>0?t.vb(t.$l-1):0,this.AP._P()},n.lP=function(){this.wP=void 0},z(t,[{key:"uw",get:function(){if(this.AP.Ng===gE.dP)return am.Xb();var t=am.Vb(this.BQ.buffered).Nb(new am([0,1/0])),n=this.wP;return void 0!==n&&t.$l>0&&t.vb(t.$l-1)===n&&(t=t.Lb(am.Wb(n))),t}}]),t}();function tE(t){var n=t.wc("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function nE(t,n){var i=iE(t)||eE(t),e=iE(n)||eE(n);return!i&&!e||t===n}function iE(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function eE(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function rE(t,n){if(t===n)return!0;var i=t.split("."),e=n.split("."),r=i[0];if(r!==e[0])return!1;if("mp4a"===r){var s=i[1],u=i[2],o=e[1],h=e[2];if(s!==o)return!1;if(Number(u)!==Number(h))return!1}return!0}function sE(t,n,i,e,r,s){var u=new $b(r,t),o=new Kb(u,t,r);return new uE(t,n,i,e,u,o,s)}var uE=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this)||this).RQ=void 0,h.Cc=void 0,h.MP=void 0,h.CT=void 0,h.Lc=void 0,h.kP=void 0,h.UQ=void 0,h.mP=void 0,h.pP=or(),h.RQ=n,h.Cc=e,h.Lc=e.vv,h.MP=r,h.CT=i,h.UQ=s,h.mP=u,h.kP=o,h.mP.qo(kT.dR,h.Xo),h}U(n,t);var i=n.prototype;return i.aR=function(){return this.UQ.aR()},i.yP=function(){this.UQ.yP()},i.lP=function(){this.UQ.lP(),this.mP.lP()},i.NP=function(t,n){this.kP.kR(t,n)},i.DP=function(t,n){this.kP.mR(t,n)},i.TP=function(){return this.mP.cP()},i.XQ=function(t,n,i){return this.mP.XQ(t,n,i)},i.JQ=function(t,n){return this.mP.JQ(t,n)},i.sP=function(t,n){return this.mP.sP(t,n)},i.Jh=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r,s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.DP(n,i),r=this.uw,t.next=4,this.mP.hP(n,i,e);case 4:s=0!==r.$l&&0===this.uw.$l,(Z.Hr||Z.xr)&&s&&this.CT.Ih(this.CT.uA);case 6:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.eR=function(t){var n=t.vv;if(this.Lc===n)return!0;var i=this.pP.get(n);if(void 0!==i)return i;var e=this.IP(t);return this.pP.set(n,e),e},i.IP=function(t){var n=t.vv;if(!MediaSource.isTypeSupported(n))return!1;var i=wo(this.Lc),e=wo(n),r=tE(i),s=tE(e);if(this.mP.aP()){if(!function(t,n){return ds(t,n,nE)}(r,s))return!1}else{if(i.Ao!==e.Ao)return!1;if(!function(t,n){return ds(t,n,rE)}(r,s))return!1}return!0},i.rR=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=n.vv,this.Lc!==i&&(this.pP.clear(),this.mP.aP()&&this.mP.fP(i),this.Lc=i),this.Cc=n,this.RQ.bP();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.xo=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.pP.clear(),this.$o(),this.kP.nd(),t.prev=3,this.mP.th(kT.dR,this.Xo),t.next=7,this.mP.xo();case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}},t,this,[[3,9]])}));return function(){return t.apply(this,arguments)}}(),z(n,[{key:"uw",get:function(){return this.UQ.uw}},{key:"uc",get:function(){return this.Cc}},{key:"vv",get:function(){return this.Lc}},{key:"EP",get:function(){return this.kP.pR}},{key:"SC",get:function(){return this.mP.SC},set:function(t){this.mP.SC=t}},{key:"zC",get:function(){return this.mP.zC},set:function(t){this.mP.zC=t}},{key:"Uj",get:function(){return this.mP.Uj}}]),n}(Cs),oE=function(){function t(t,n,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.LP=void 0,this.ab=t,this.vb=n,this.SP=i,this.jP=e,this.LP=iN()}return t.prototype.CP=function(){var t=this.ab,n=this.vb;if(this.SP||this.jP){var i=.001*(iN()-this.LP);this.SP&&(t+=i),this.jP&&(n+=i)}return t>=n?am.Xb():new am([t,n])},t}(),hE=100,cE=1e3,aE=1e4,fE=.01,vE=[rh.Ia,rh.Ta,rh.Ca,rh.ja,rh.ya,rh.Ea,Wl.Rl,al._g],dE=function(){function t(t,n){var i=this;this.vN=El.Zg,this.OP=!1,this.xP=[],this.zP=void 0,this.RP=0,this.UP=0,this.BP=0,this.QP=0,this.PP=0,this.YP=cE,this.GP=function(t){var n=i.CT.uA;t._R.NI(n)&&i.FP(n)},this.VP=b(function(){i.HP(Wl.Rl)},hE),this.WP=b(function(){i.HP(rh.ba)},hE),this.XP=function(){i.ZP()?i.qP():i.JP()},this.KP=function(){var t=i.RP,n=i.BP,e=i.CT.uA,r=p.Du(),s=t!==e;if(s||!i.ZP())return i.RP=e,i.BP=r,void(s&&(i.PP=0,i.YP=cE));if(n>0&&r>n+i.YP){var u=e+i.PP*fE,o=i.UQ.uw;o.NI(u)||(u=i.$P(e,o)),i.RP=u,i.BP=r,i.PP++,i.YP=l.min(2*i.YP,aE),i.CT.Ih(u)}},this.UQ=t,this.CT=n,this.CT.qo(Wl.Rl,this.VP),this.CT.qo(rh.ba,this.WP),this.CT.qo(vE,this.XP)}var n=t.prototype;return n.tY=function(t){this.xP.push(t),t.qo(IT.wR,this.GP)},n.nd=function(){var t=this;this.JP(),this.vN=El.Zg,this.CT.th(Wl.Rl,this.VP),this.CT.th(rh.ba,this.WP),this.CT.th(vE,this.XP),this.xP.forEach(function(n){return n.th(IT.wR,t.GP)}),void 0!==this.zP&&(p.he(this.zP),this.zP=void 0),this.OP=!0},n.HP=function(t){if(!this.OP){var n=this.CT.Ng;if(n<=El.Jg){var i=this.CT.uA,e=this.UQ.uw,r=e.Cb(i),s=e.vb(r);-1!==r&&(t===Wl.Rl&&n<this.vN||t===rh.ba&&n===this.vN)&&s<i+.5&&(i=s),this.FP(i)}t===Wl.Rl&&(this.vN=n)}},n.FP=function(t){var n=this;if(!this.CT.hA){var i=this.pR.jb(this.UQ.uw)._b(),e=i.Cb(t);if(-1!==e)if(!(l.abs(i.ab(e)-i.vb(e))<=.001))if(p.hl){if(void 0!==this.zP)return;this.UP=this.CT.uA,this.zP=p.ce(function(){n.UP===n.CT.uA&&n.CT.Ih(i.vb(e)),n.zP=void 0},1500)}else this.CT.Ih(i.vb(e))}},n.qP=function(){0===this.QP&&(this.QP=p.Ou(this.KP,250))},n.JP=function(){0!==this.QP&&(p.xu(this.QP),this.QP=0),this.CT.dA||(this.BP=0)},n.ZP=function(){return!this.CT.fA&&!this.CT.dA&&0!==this.CT.vA&&!this.CT.hA&&!this.CT.vh&&this.CT.Ng>=El.Kg},n.$P=function(t,n){var i=n.Cb(t);return i>-1?n.vb(i):t},z(t,[{key:"pR",get:function(){return this.xP.reduce(function(t,n){return t.Lb(n.pR)},am.Xb())}}]),t}();function lE(t){var n=[];if(t.nY&&n.push(t.nY.uw),t.iY&&n.push(t.iY.uw),0===n.length)return am.Xb();for(var i=0,e=0;e<n.length;e++){var r=n[e];r.$l>0&&(i=l.max(i,r.vb(r.$l-1)))}for(var s=t.aR,u=new am([0,i],[!0,s]),o=0;o<n.length;o++){var h=n[o];s&&h.$l>0&&(h=h.Lb(new am([h.vb(h.$l-1),i],[!0,!0]))),u=u.Nb(h)}return u}var gE,AE=Z.zr||Z.Rr;!function(t){t.dP="closed",t.vd="open",t.ya="ended"}(gE||(gE={}));var wE=function(){function t(){}return t.prototype.eY=function(){return new MediaSource},t}(),yE=function(t){function n(n,i,e,r,s){var u;return void 0===s&&(s=new wE),(u=t.call(this,n,i,e,r)||this).rY=void 0,u.sY=void 0,u.uY=void 0,u.oY=new oE(0,1/0),u.OT=void 0,u.hY=void 0,u.cY=void 0,u.aY=!1,u.fY=function(){u.vY()},u.dY=function(){u.CT.dY()},u.rY=s,u.OT=u.rY.eY(),u.CT.qo(rh.Ca,u.fY),u.cY=new dE(sn(u),u.CT),u}U(n,t);var i=n.prototype;return i.lY=function(t){if(w(t)||t<0)throw new f("Invalid duration");this.gY()?this.AY(t):this.hY=t},i.AY=function(t){var n=t===1/0,i=n?9007199254740991:t;if(n&&this.OT.setLiveSeekableRange){var e=l.pow(2,39);this.OT.setLiveSeekableRange(0,e)}this.OT.duration=i,this.hY=void 0},i.wY=function(t,n,i,e){this.oY=new oE(t,n,!!i,!!e)},i.FC=function(){var t=N.coroutine(rr.mark(function t(){var n,i,e,r,s,u,o;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.Cc,i=es(n.yY,function(t){return Or(t.vv,"audio")}),e=es(n.yY,function(t){return Or(t.vv,"video")}),t.next=5,this._Y();case 5:i&&(r=new ET,this.cY.tY(r),s=this.OT.addSourceBuffer(i.vv),this.sY=sE(this,this.CT,i,Ug.Vv,s,r),this.sY.qo(kT.dR,this.dY)),e&&(u=new ET,this.cY.tY(u),o=this.OT.addSourceBuffer(e.vv),this.uY=sE(this,this.CT,e,Ug.Hv,o,u),this.uY.qo(kT.dR,this.dY)),this.Jz.qh(this,n);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i._Y=function(){var n=N.coroutine(rr.mark(function n(){var i;return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=URL.createObjectURL(this.OT),n.next=3,t.prototype.GA.call(this,i);case 3:return n.next=5,t.prototype.qh.call(this);case 5:if(this.Ng===gE.vd){n.next=8;break}return n.next=8,Id(this.OT,"sourceopen");case 8:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.gY=function(){if(this.Ng!==gE.vd)return!1;var t=this.sY&&this.sY.Uj,n=this.uY&&this.uY.Uj;return!(t||n)},i.yP=function(){this.aY=!0,this.sY&&this.sY.yP(),this.uY&&this.uY.yP(),this.aY=!1,this.vY()},i.lP=function(){this.sY&&this.sY.lP(),this.uY&&this.uY.lP()},i.eR=function(n){var i=es(n.yY,function(t){return Or(t.vv,"audio")}),e=es(n.yY,function(t){return Or(t.vv,"video")});if(this.sY){if(!i)return!1;if(!this.sY.eR(i))return!1}else if(i)return!1;if(this.uY){if(!e)return!1;if(!this.uY.eR(e))return!1}else if(e)return!1;return!!t.prototype.eR.call(this,n)},i.rR=function(){var n=N.coroutine(rr.mark(function n(i){var e,r,s;return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=es(i.yY,function(t){return Or(t.vv,"audio")}),r=es(i.yY,function(t){return Or(t.vv,"video")}),s=[],this.sY&&s.push(this.sY.rR(e)),this.uY&&s.push(this.uY.rR(r)),n.next=7,N.all(s);case 7:return n.next=9,t.prototype.rR.call(this,i);case 9:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i.xo=function(){var n=N.coroutine(rr.mark(function n(){return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.sY){n.next=4;break}return n.next=3,this.sY.xo();case 3:this.sY=void 0;case 4:if(!this.uY){n.next=8;break}return n.next=7,this.uY.xo();case 7:this.uY=void 0;case 8:return this.Vc.src&&URL.revokeObjectURL(this.Vc.src),this.CT.th(rh.Ca,this.fY),this.cY.nd(),n.next=13,t.prototype.xo.call(this);case 13:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.bP=function(){var t=this,n=this.Cc,i=n.yY.map(function(n){return Or(n.vv,"audio")&&t.sY?t.sY.uc:Or(n.vv,"video")&&t.uY?t.uY.uc:n});this.Cc=sr({},n,{yY:i})},i._P=function(){this.aY||this.vY()},i.vY=function(){this.MY&&this.gY()&&(this.OT.endOfStream(),this.hY=void 0,this.Zo(new xs(gT.DL)),this.CT.dY())},i.gP=function(){this.gY()&&(this.aR?this.vY():void 0!==this.hY&&this.AY(this.hY))},n.cR=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.yY;n<i.length;n++){var e=i[n];if(!MediaSource.isTypeSupported(e.vv))return!1}return!0},z(n,[{key:"nY",get:function(){return this.sY}},{key:"iY",get:function(){return this.uY}},{key:"oA",get:function(){if(this.hY)return this.hY;var t=this.OT.duration;return 9007199254740991===t?1/0:t}},{key:"uw",get:function(){return AE?lE(this):(t=this,n=am.Vb(this.Vc.buffered),(i=n).$l>0&&t.aR&&(i=i.Lb(am.Wb(i.vb(i.$l-1)))),i);var t,n,i}},{key:"fR",get:function(){var t;return null==(t=this.sY)?void 0:t.uw}},{key:"vR",get:function(){var t;return null==(t=this.uY)?void 0:t.uw}},{key:"_w",get:function(){return this.oY.CP().Nb(new am([0,this.oA],[!0,!0]))}},{key:"aR",get:function(){return(!this.sY||this.sY.aR())&&(!this.uY||this.uY.aR())}},{key:"Ng",get:function(){return this.OT.readyState}},{key:"MY",get:function(){if(!this.aR)return!1;var t=this.uw;return 0!==t.$l&&t.ab(t.$l-1)<=this.CT.uA}}]),n}(mT),_E=[rh.Pa,rh.Ea,rh.Ca,rh.Ia,rh.Ta],ME=function(t){function n(n,i,e,r,s,u,o,h,c){var a;return(a=t.call(this)||this).$b=n,a.pU=i,a.kY=e,a.nE=r,a.eE=s,a.tE=u,a.iE=o,a.rE=h,a.mY=c,a}U(n,t);var i=n.prototype;return i.QA=function(){this.nE||(this.nE=!0,this.Zo(new Zl(this.uA)))},i.BA=function(){this.nE&&(this.nE=!1,this.Zo(new ql(this.uA)))},i.xo=function(){this.$o()},z(n,[{key:"uA",get:function(){return this.$b},set:function(t){this.uA!==t&&(this.$b=t,this.eE=!0,this.Zo(new ug(this.uA)))}},{key:"oA",get:function(){return this.pU}},{key:"hA",get:function(){return this.kY}},{key:"fA",get:function(){return this.nE}},{key:"Ng",get:function(){return this.mY}},{key:"dA",get:function(){return this.eE}},{key:"aA",get:function(){return this.tE},set:function(t){this.aA!==t&&(this.tE=t,this.Zo(new hg(this.uA,this.AA)))}},{key:"vA",get:function(){return this.iE},set:function(t){this.vA!==t&&(this.iE=t,this.Zo(new ig(this.uA,this.vA)))}},{key:"AA",get:function(){return this.rE},set:function(t){this.AA!==t&&(this.rE=t,this.Zo(new hg(this.uA,this.AA)))}}]),n}(Cs);var kE=function(t){function n(n){var i;return(i=t.call(this)||this).CT=void 0,i.vN=El.Zg,i.pY=function(){i.NY()},i.CT=n,i}U(n,t);var i=n.prototype;return i.DY=function(t){this.vN!==t&&(this.vN=t,this.Zo(new fg(this.CT.uA,t)))},i.NY=function(){this.DY(this.MO())},i.Jl=function(){this.DY(El.Zg)},i.xo=function(){this.$o()},z(n,[{key:"Ng",get:function(){return this.MO()}}]),n}(Cs),mE=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],pE=function(t){function n(n){var i;i=t.call(this,n)||this;for(var e=0;e<mE.length;e++){var r=mE[e];i.CT.sI.addEventListener(r,i.pY)}return i}U(n,t);var i=n.prototype;return i.MO=function(){var t=this.CT.sI.readyState;return t>El.Jg&&this.CT.TY?El.Jg:(this.CT.sI.seeking&&t>El.qg&&(t=El.qg),t)},i.xo=function(){for(var n=0;n<mE.length;n++){var i=mE[n];this.CT.sI.removeEventListener(i,this.pY)}t.prototype.xo.call(this)},n}(kE),NE=function(t){function n(n){var i;(i=t.call(this,n)||this).CT.qo(rh.Ca,i.pY);for(var e=0;e<mE.length;e++){var r=mE[e];i.CT.sI.addEventListener(r,i.pY)}return i}U(n,t);var i=n.prototype;return i.MO=function(){if(this.CT.sI.readyState===El.Zg)return El.Zg;var t=this.IY(),n=t?t.vb-t.ab:0;if(!t)return El.qg;var i=this.CT.vA;return this.bY()||n>=3*i?El.$g:n>=3?El.Kg:El.Jg},i.IY=function(){var t=this.CT.uA,n=this.CT.uw.Eb(.04),i=n.Cb(t);if(!(i<0))return{ab:t,vb:n.vb(i)}},i.bY=function(){if(this.CT.hA)return!0;var t=this.CT.oA,n=this.IY();return!!n&&t-n.vb<=1/6},i.xo=function(){this.CT.th(rh.Ca,this.pY);for(var n=0;n<mE.length;n++){var i=mE[n];this.CT.sI.removeEventListener(i,this.pY)}t.prototype.xo.call(this)},n}(kE),DE=[Wl.Rl,rh.Ia,rh.Ta,rh.Ca,rh.ja,rh.ya,al._g],TE=function(t){function n(n){var i;return(i=t.call(this,n)||this).Vc=void 0,i.EY=!1,i.LY=function(){i.EY=!0,i.Kh()},i.Vc=n.sI,i.Vc.addEventListener(Wl.sA,i.LY),i}U(n,t);var i=n.prototype;return i.SY=function(){return this.EY&&t.prototype.SY.call(this)},i.Kh=function(){this.EY&&(this.Vc.paused||this.Vc.ended||this.Vc.error)&&(this.EY=!1),t.prototype.Kh.call(this)},i.Jl=function(){t.prototype.Jl.call(this),this.EY=!1},i.xo=function(){this.Vc.removeEventListener(Wl.sA,this.LY),t.prototype.xo.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).pN=void 0,i.jY=!1,i.Bj=function(){i.Kh()},i.pN=n,i.pN.qo(DE,i.Bj),i}U(n,t);var i=n.prototype;return i.CY=function(){return this.pN.Ng<El.Kg},i.SY=function(){return!this.pN.dA&&!(this.pN.fA||this.pN.hA||this.pN.vh||this.CY())},i.Kh=function(){var t=this.jY;this.jY=this.SY(),!t&&this.jY&&this.Zo(new a_(this.pN.uA))},i.Jl=function(){this.jY=!1},i.xo=function(){this.$o(),this.pN.th(DE,this.Bj)},n}(Cs)),IE=function(t){function n(n){var i;return(i=t.call(this,al._g)||this).vh=void 0,i.vh=n,i}return U(n,t),n}(xs);function bE(t,n,i,e,r,s,u){void 0===r&&(r=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,h=u-1;o<=h;){var c=o+(h-o>>1),a=e(i(t[c]),n);if(a<0)o=c+1;else if(a>0)h=c-1;else{if(!(r&&c>s&&0===e(i(t[c-1]),n)))return c;h=c-1}}return~o}function EE(t,n){return t.Yw<=n&&t.Gw>n}function LE(t,n){return function(t,n){return ns(t.Yw,n.Yw,lA)}(t,n)||function(t,n){return ns(t.Gw,n.Gw,lA)}(t,n)}function SE(t,n){var i=bE(t,n,I,LE,!0);if(i<0)return i;for(;i<t.length&&LE(n,t[i])===Wr.Io;i++)if(t[i].hy(n))return i;return-(i+1)}function jE(t){var n=t.Nl;if(!n)return-1;if(t instanceof AA)return n.OY(t);var i=n.Dg;if(!i)return-1;var e=SE(i.Kl,t);return e>=0?e:-1}function CE(t,n){var i=function(t,n,i){for(var e=t.length,r=n.length,s=0,u=0,o=[],h=[];s<e&&u<r;){var c=t[s],a=n[u];c===a?(s++,u++):i(a,c)<=0?(o.push(a),u++):(h.push(c),s++)}for(;s<e;)h.push(t[s]),s++;for(;u<r;)o.push(n[u]),u++;return{xY:o,zY:h}}(t,n,LE);return function(t,n){for(var i=n.length,e=0;e<i;e++)t[e]=n[e];t.length=i}(t,n),i}var OE=function(){function t(t){this.RY=void 0,this.kl=void 0,this.RY=t}var n=t.prototype;return n.pl=function(){return function(t){for(var n=[],i=0;i<t.$l;i++)n[i]=t.Mh(i).ml;return n.item=function(n){var i=0|n,e=t.Mh(i);return e&&e.ml||void 0},d.defineProperty(n,"constructor",{value:vA}),n}(this)},n.pw=function(t){for(var n=this.RY,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.hy(e))return!0}return!1},n.Mh=function(t){return this.RY[t]},z(t,[{key:"Kl",get:function(){return this.RY}},{key:"$l",get:function(){return this.RY.length}},{key:"ml",get:function(){if(this.kl){var t=this.RY;this.kl.length=t.length;for(var n=0;n<t.length;n++)this.kl[n]=t[n].ml}else this.kl=this.pl();return this.kl}}]),t}(),xE=function(t){function n(n,i){var e;return(e=t.call(this,Cd.Rl)||this).Nl=n,e.Ng=i,e}return U(n,t),n.prototype.pl=function(){return new zE(this.Nl.ml,wl(this.Ng))},n}(Od),zE=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return U(n,t),n}(xd),RE=function(t){function n(n){var i;return(i=t.call(this,Cd.Bl)||this).Nl=n,i}return U(n,t),n.prototype.pl=function(){return new UE(this.Nl.ml)},n}(Od),UE=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return U(n,t),n}(xd),BE=function(t){function n(n){var i;return(i=t.call(this,Cd.Dl)||this).Pw=n,i}return U(n,t),n.prototype.pl=function(){return new QE(this.Pw.ml)},n}(Od),QE=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return U(n,t),n}(xd),PE=function(t){function n(n){var i;return(i=t.call(this,Cd.Il)||this).Pw=n,i}return U(n,t),n.prototype.pl=function(){return new YE(this.Pw.ml)},n}(Od),YE=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return U(n,t),n}(xd),GE=function(t){function n(n,i,e,r,s,u,o,h){var c;return(c=t.call(this)||this).kl=void 0,c.Dw=void 0,c.Iw=Fg(),c.UY=!1,c.BY=void 0,c.QY=void 0,c.Tw=void 0,c.NU=void 0,c.mE=cl.Ag,c.mY=Kg.NONE,c.PY=void 0,c.Gs=void 0,c.YY=void 0,c.RY=[],c.GY=[],c.FY=void 0,c.VY=void 0,c.HY=0,c.WY=0,c.Dw=i||"",c.BY=h||"",c.QY=n,c.NU=r||"",c.UY=Boolean(s),c.YY=Boolean(o),c.Gs=u||$g.DEFAULT,c.Tw=e||"",c.FY=new OE(c.RY),c.VY=new OE(c.GY),c}U(n,t);var i=n.prototype;return i.XY=function(t){return es(this.FY.Kl,function(n){return n.cg===t})},i.pl=function(){return ll(this)},i.RE=function(t){var n=vl(t);n!==this.kg&&(this.mE=n,n===cl.Ag&&(this.GY.forEach(function(t){t.ay=!1}),hs(this.GY),this.WY=0),this.Zo(new Pd(this)))},i.oN=function(t){if(t&&!t.Nl){var n=SE(this.Dg.Kl,t);if(!(n>=0)){t.Nl=this;var i=-(n+1);this.RY.splice(i,0,t),this.ZY(i),t.oy=i,i<this.WY&&(this.WY=i),this.Zo(new BE(t))}}},i.qY=function(t){if(t&&t.Nl===this){var n=this.OY(t);if(!(n<0)){t.ay=!1;var i=this.GY,e=SE(i,t);e>=0&&us(i,e),us(this.RY,n),this.ZY(n),t.oy=-1,this.WY>n&&--this.WY,this.Zo(new PE(t))}}},i.JY=function(t,n){var i=this.GY,e=this.RY,r=this.WY,s=!1;n&&(r=0);for(var u=i.length-1;u>=0;u--){EE(i[u],t)||(s=!0,us(i,u))}for(;r<e.length&&e[r].Yw<=t;){var o=e[r];if(0===t)break;EE(o,t)&&!os(i,o)&&(s=!0,i.push(o)),r++}s&&qr(i,LE),this.WY=r},i.OY=function(t){return(-1===t.oy||t.oy>=this.HY)&&this.KY(),t.oy},i.KY=function(){for(var t=this.RY,n=this.HY;n<t.length;n++)t[n].oy=n;this.HY=t.length},i.ZY=function(t){t<this.HY&&(this.HY=t)},i.mg=function(t){this.pg||(this.kg=t)},i.nd=function(){this.$o();for(var t=this.RY.slice(),n=0;n<t.length;n++){t[n].nd()}hs(this.RY),hs(this.GY)},z(n,[{key:"Tg",get:function(){return this.VY}},{key:"Dg",get:function(){return this.FY}},{key:"cN",get:function(){return this.UY},set:function(t){this.UY=t}},{key:"pg",get:function(){return this.YY}},{key:"ml",get:function(){return this.kl||(this.kl=this.pl()),this.kl}},{key:"cg",get:function(){return this.Dw}},{key:"ag",get:function(){return this.Iw}},{key:"Mg",get:function(){return this.BY},set:function(t){this.BY=t}},{key:"fg",get:function(){return this.QY}},{key:"vg",get:function(){return this.Tw},set:function(t){t!==this.Tw&&(this.Tw=t,this.Zo(new Pg(this)))}},{key:"dg",get:function(){return this.NU}},{key:"kg",get:function(){return this.mE},set:function(t){this.RE(t)}},{key:"Ng",get:function(){return this.mY},set:function(t){this.mY!==t&&(this.mY=t,this.Zo(new xE(this,this.mY)))}},{key:"Ig",get:function(){return this.PY},set:function(t){this.PY=t}},{key:"Ao",get:function(){return this.Gs},set:function(t){this.Gs!==t&&(this.Gs=t,this.Zo(new RE(this)))}}]),n}(Cs),FE=function(t){function n(n,i){var e;return(e=t.call(this,eA.Rw,n)||this).d_=i,e}return U(n,t),n.prototype.pl=function(){return new VE(this.Pw.ml)},n}(cA),VE=function(t){function n(n){return t.call(this,rA.Rw,n)||this}return U(n,t),n}(aA),HE=function(t){function n(n,i){var e;return(e=t.call(this,eA.Bw,n)||this).d_=i,e}return U(n,t),n.prototype.pl=function(){return new WE(this.Pw.ml)},n}(cA),WE=function(t){function n(n){return t.call(this,rA.Bw,n)||this}return U(n,t),n}(aA),XE=function(t){function n(n){var i;return(i=t.call(this,Cd.El)||this).Pw=n,i}return U(n,t),n.prototype.pl=function(){return new ZE(this.Pw.ml)},n}(Od),ZE=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return U(n,t),n}(xd),qE=function(t){function n(n){var i;return(i=t.call(this,Cd.Sl)||this).Pw=n,i}return U(n,t),n.prototype.pl=function(){return new JE(this.Pw.ml)},n}(Od),JE=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return U(n,t),n}(xd),KE=function(t){function n(n){var i;return(i=t.call(this)||this).$Y=void 0,i.Iw=void 0,i.ny=void 0,i.kl=void 0,i.iy=!1,i.uy="",i.tG=function(){i.ay=!0},i.nG=function(){i.ay=!1},i.Iw=Xg(),i.$Y=n,i.$Y.addEventListener("enter",i.tG),i.$Y.addEventListener("exit",i.nG),i}U(n,t);var i=n.prototype;return i.pl=function(){return fA(this)},i.hy=function(t){return this===t||Zd(this,t)&&gA(this,t)},i.nd=function(){this.$o(),this.$Y.removeEventListener("enter",this.tG),this.$Y.removeEventListener("exit",this.nG)},z(n,[{key:"ag",get:function(){return this.Iw}},{key:"Yw",get:function(){return this.$Y.startTime},set:function(t){this.$Y.startTime=t}},{key:"Gw",get:function(){return this.$Y.endTime},set:function(t){this.$Y.endTime=t}},{key:"Fw",get:function(){return this.$Y.text},set:function(t){this.$Y.text=t+""}},{key:"ly",get:function(){return!!this.$Y.pauseOnExit},set:function(t){this.$Y.pauseOnExit=!!t}},{key:"Nl",get:function(){return this.ny},set:function(t){this.ny=t}},{key:"cg",get:function(){return this.$Y.id||""}},{key:"ml",get:function(){return this.kl||(this.kl=this.pl()),this.kl}},{key:"vy",get:function(){return this.uy},set:function(t){this.uy=t}},{key:"ay",get:function(){return this.iy},set:function(t){this.ay!==t&&(this.iy=t,t?(this.Zo(new FE(this,this.Yw)),this.ny&&this.ny.Zo(new XE(this))):(this.Zo(new HE(this,this.Gw)),this.ny&&this.ny.Zo(new qE(this))))}}]),n}(_l),$E=function(t){function n(n){var i;return(i=t.call(this,Cd.Cl)||this).Nl=n,i}return U(n,t),n.prototype.pl=function(){return new tL(this.Nl.ml)},n}(Od),tL=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return U(n,t),n}(xd);function nL(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new iL(t),t.THEOplayerVTTRegion=n),n}}var iL=function(){function t(t){this.iG=void 0,this.kl=void 0,this.iG=t}return z(t,[{key:"eG",get:function(){return this.iG}},{key:"cg",get:function(){return this.iG.id||""}},{key:"pu",get:function(){return+this.iG.width||0},set:function(t){this.iG.width=t||0}},{key:"gy",get:function(){return+this.iG.lines||0},set:function(t){this.iG.lines=t||0}},{key:"Ay",get:function(){return+this.iG.regionAnchorX||0},set:function(t){this.iG.regionAnchorX=t||0}},{key:"wy",get:function(){return+this.iG.regionAnchorY||0},set:function(t){this.iG.regionAnchorY=t||0}},{key:"_y",get:function(){return+this.iG.viewportAnchorX||0},set:function(t){this.iG.viewportAnchorX=t||0}},{key:"My",get:function(){return+this.iG.viewportAnchorY||0},set:function(t){this.iG.viewportAnchorY=t||0}},{key:"yy",get:function(){return this.iG.scroll||""}},{key:"ml",get:function(){return this.kl||(this.kl=pA(this)),this.kl}}]),t}(),eL=function(t){function n(n){return t.call(this,n)||this}return U(n,t),z(n,[{key:"Kw",get:function(){return this.$Y.vertical||""},set:function(t){this.$Y.vertical=t||""}},{key:"Jw",get:function(){return!!this.$Y.snapToLines},set:function(t){this.$Y.snapToLines=!!t}},{key:"Hw",get:function(){return this.$Y.line},set:function(t){this.$Y.line=t}},{key:"Nh",get:function(){return+this.$Y.size},set:function(t){this.$Y.size=Vt(t,0,100)}}]),n}(KE),rL=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.hy=function(n){return this===n||Zd(this,n)&&t.prototype.hy.call(this,n)&&wA(this,n)},z(n,[{key:"qw",get:function(){return nL(this.$Y.region)}},{key:"Ww",get:function(){return this.$Y.lineAlign||"start"},set:function(t){this.$Y.lineAlign=t||"start"}},{key:"Xw",get:function(){return this.$Y.position},set:function(t){this.$Y.position=t}},{key:"Zw",get:function(){return this.$Y.positionAlign||"auto"},set:function(t){this.$Y.positionAlign=t||"auto"}},{key:"Vw",get:function(){return this.$Y.align||"center"},set:function(t){this.$Y.align=t||"center"}},{key:"ml",get:function(){return this.kl||(this.kl=dA(this)),this.kl}}]),n}(eL),sL=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.hy=function(n){return this===n||Zd(this,n)&&t.prototype.hy.call(this,n)&&wA(this,n)},z(n,[{key:"qw",get:function(){return nL(this.eG)}},{key:"eG",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.$Y.track,this.$Y.regionId)}},{key:"Ww",get:function(){return"middle"===(t=this.$Y.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.$Y.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"Xw",get:function(){return this.$Y.position},set:function(t){var n,i;this.$Y.position=(n=t,i=this.Vw,hA(n,i))}},{key:"Zw",get:function(){return t=this.$Y.positionAlign||"middle",uA[t];var t},set:function(t){var n,i;this.$Y.positionAlign=(n=t||"center",i=this.Vw,sA[oA(n,i)])}},{key:"Vw",get:function(){return"middle"===(t=this.$Y.align||"middle")?"center":t;var t},set:function(t){var n;this.$Y.align="center"===(n=t||"center")?"middle":n}},{key:"ml",get:function(){return this.kl||(this.kl=dA(this)),this.kl}}]),n}(eL);function uL(t,n){return t.Fw===n.Fw}function oL(t,n,i){for(var e=t[n].Yw,r=n;r>=0&&t[r].Yw===e;r--)t[r].Gw=i}function hL(t){return fA(t)}var cL,aL,fL=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).rG=void 0,e.rG=i,e}return U(n,t),n.prototype.hy=function(n){return this===n||Zd(this,n)&&t.prototype.hy.call(this,n)&&uL(this,n)},z(n,[{key:"Fw",get:function(){return this.rG}},{key:"ml",get:function(){return this.kl||(this.kl=hL(this)),this.kl}}]),n}(KE);function vL(t){switch(t){case cL.ISO_8859_1:case cL.UTF16_BOM:case cL.UTF16:case cL.UTF8:return!0}return!1}function dL(t){switch(t){case cL.ISO_8859_1:return Cu;case cL.UTF16_BOM:return zu;case cL.UTF16:return Ru;case cL.UTF8:return Fu}}function lL(t,n){var i=n.Eh,e=t.byteLength,r=qu(t);return n.Th(e-i),$u(r,i,e).buffer}function gL(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function AL(t,n,i){var e=yu(t,n);if(vL(e)){var r=dL(e);return{id:i,language:Su(t,n,3),description:r(t,n),text:r(t,n)}}}function wL(t,n,i){var e=yu(t,n);if(vL(e)){var r=dL(e);return{id:i,mimeType:Cu(t,n),fileName:r(t,n),description:r(t,n),data:lL(t,n)}}}function yL(t,n,i){var e=yu(t,n);if(vL(e)){for(var r=dL(e),s=[];n.Eh<t.byteLength;)s.push({involvement:r(t,n),involvee:r(t,n)});return{id:i,entries:s}}}function _L(t,n,i){var e=yu(t,n);if(vL(e)){for(var r=dL(e),s=Su(t,n,3),u=yu(t,n),o=yu(t,n),h=r(t,n),c=!1,a=[];n.Eh<t.byteLength;){var f=void 0;if(e===cL.UTF16_BOM){var v=xu(t,n);void 0===v?v=c:c=v,f=Ru(t,n,v)}else f=r(t,n);if(!f||n.Eh+4>t.byteLength)break;a.push({text:f,timestamp:Tu(t,n)})}return{id:i,language:s,format:u,contentType:o,description:h,entries:a}}}function ML(t,n,i){return{id:i,ownerIdentifier:Cu(t,n),identifier:lL(t,n)}}function kL(t,n,i){var e=yu(t,n);if(vL(e)){var r=dL(e);return{id:i,language:Su(t,n,3),description:r(t,n),text:r(t,n)}}}function mL(t,n,i){var e=yu(t,n);if(vL(e))return{id:i,text:dL(e)(t,n)}}function pL(t,n,i){return{id:i,url:Cu(t,n)}}function NL(t,n,i){var e=yu(t,n);if(vL(e)){var r=dL(e);return{id:i,description:r(t,n),text:r(t,n)}}}function DL(t,n,i){var e=yu(t,n);if(vL(e))return{id:i,description:dL(e)(t,n),url:Cu(t,n)}}function TL(t,n,i){switch(i){case"COM":return AL(t,n,i);case"GEO":return wL(t,n,i);case"IPL":return yL(t,n,i);case"PIC":return function(t,n,i){var e=yu(t,n);if(vL(e)){var r,s,u=dL(e),o=Su(t,n,3),h=yu(t,n),c=u(t,n);return"--\x3e"===o?(r=o,s=Cu(t,n)):(r="image/"+o.toLowerCase(),s=lL(t,n)),{id:i,mimeType:r,pictureType:h,description:c,data:s}}}(t,n,i);case"SLT":return _L(t,n,i);case"TXX":return NL(t,n,i);case"UFI":return ML(t,n,i);case"ULT":return kL(t,n,i);case"WXX":return DL(t,n,i);default:if("T"===i.charAt(0))return mL(t,n,i);if("W"===i.charAt(0))return pL(t,n,i)}}function IL(t,n,i){switch(i){case"APIC":return function(t,n,i){var e=yu(t,n);if(vL(e)){var r=dL(e),s=Cu(t,n);return{id:i,mimeType:s,pictureType:yu(t,n),description:r(t,n),data:"--\x3e"===s?Cu(t,n):lL(t,n)}}}(t,n,i);case"COMM":return AL(t,n,i);case"COMR":return function(t,n,i){var e=yu(t,n);if(vL(e)){var r,s,u=dL(e),o=Cu(t,n),h=Su(t,n,8),c=Cu(t,n),a=yu(t,n),f=u(t,n),v=u(t,n);return n.Eh<t.byteLength&&(r=Cu(t,n)||"image/",s=lL(t,n)),{id:i,price:o,validUntil:h,contactURL:c,receivedAs:a,nameOfSeller:f,description:v,pictureMimeType:r,sellerLogo:s}}}(t,n,i);case"GEOB":return wL(t,n,i);case"IPLS":return yL(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:Cu(t,n),data:lL(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:yu(t,n),position:Tu(t,n)}}(t,n,i);case"SYLT":return _L(t,n,i);case"TXXX":return NL(t,n,i);case"UFID":return ML(t,n,i);case"USER":return function(t,n,i){var e=yu(t,n);if(vL(e)){var r=dL(e);return{id:i,language:Su(t,n,3),text:r(t,n)}}}(t,n,i);case"USLT":return kL(t,n,i);case"WXXX":return DL(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return mL(t,n,i);default:var e=i.charAt(0);if("T"===e)return mL(t,n,i);if("W"===e)return pL(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(cL||(cL={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(aL||(aL={}));var bL=10;function EL(t,n){return(127&yu(t,n))<<21|(127&yu(t,n))<<14|(127&yu(t,n))<<7|127&yu(t,n)}function LL(t,n){switch(t){case aL.V24:return{sG:wu(n,0),uG:wu(n,1),oG:wu(n,2),hG:wu(n,3)};case aL.V23:return{sG:wu(n,0),uG:wu(n,1),oG:wu(n,2)};case aL.V22:return{sG:wu(n,0),cG:wu(n,1)}}}function SL(t,n,i){switch(i.Ak){case aL.V23:i.wk.uG&&function(t,n){var i=n.Eh,e=Tu(t,n)+4,r=32768&Nu(t,n);n.Ih(i+e),r&&Tu(t,n)}(t,n);break;case aL.V24:i.wk.uG&&function(t,n){var i=n.Eh,e=EL(t,n);n.Ih(i+e)}(t,n)}}function jL(t,n){if(t.byteLength-n.Eh<bL)return null;if(73!==yu(t,n)||68!==yu(t,n)||51!==yu(t,n))return null;var i=yu(t,n),e=yu(t,n);if(!function(t){switch(t){case aL.V22:case aL.V23:case aL.V24:return!0}return!1}(i))return null;var r=yu(t,n),s=EL(t,n);return{Ak:i,aG:e,wk:LL(i,r),fG:s}}function CL(t,n,i){switch(i.Ak){case aL.V22:return function(t,n,i){return{cg:Su(t,n,3),Nh:pu(t,n,3)}}(t,n);case aL.V23:return function(t,n,i){var e=Su(t,n,4),r=Tu(t,n);yu(t,n);var s=yu(t,n);return{cg:e,Nh:r,wk:{cG:wu(s,0),vG:wu(s,1),groupingIdentity:wu(s,2)}}}(t,n);case aL.V24:return function(t,n,i){var e=Su(t,n,4),r=EL(t,n);yu(t,n);var s=yu(t,n);return{cg:e,Nh:r,wk:{groupingIdentity:wu(s,1),cG:wu(s,4),vG:wu(s,5),sG:wu(s,6),dG:wu(s,7)}}}(t,n)}}function OL(t){for(var n=new y(t.byteLength),i=0,e=0;e<t.byteLength;e++){var r=t.getUint8(e);255===r&&e++,n[i]=r,i++}return new DataView(n,0,i)}function xL(t,n){var i=n||new no,e=jL(t,i);return e?{fk:e,lG:function(t,n,i){var e=[],r=n.Eh,s=Xu(t,r,r+i.fG),u=new no;switch(n.Th(i.fG),i.Ak){case aL.V22:case aL.V23:i.wk.sG&&(s=OL(s))}SL(t,n,i);for(;u.Eh<s.byteLength;)e.push(zL(s,u,i));return e}(t,i,e)}:null}function zL(t,n,i){var e,r,s=CL(t,n,i),u=n.Eh,o=Xu(t,u,u+s.Nh);switch(n.Th(s.Nh),i.Ak){case aL.V22:var h=s;e=TL(r=o,new no,h.cg);break;case aL.V23:var c=s,a=new no;!function(t,n,i){var e,r,s,u=i.wk;u.cG&&(e=Tu(t,n)),u.vG&&(r=yu(t,n)),u.groupingIdentity&&(s=yu(t,n))}(o,a,c),e=IL(r=Xu(o,a.Eh,o.byteLength),new no,c.cg);break;case aL.V24:var f=s,v=new no;f.wk.sG&&(o=OL(o)),function(t,n,i){var e,r,s,u,o=i.wk;o.groupingIdentity&&(e=yu(t,n)),o.cG&&(r=Tu(t,n)),o.vG&&(s=yu(t,n)),o.dG&&(u=EL(t,n))}(o,v,f),e=IL(r=Xu(o,v.Eh,o.byteLength),new no,f.cg)}if(!e){var d=to(qu(r));e=gL(s.cg,d.buffer)}return e}function RL(t){return function(t,n,i){return mL(t,n,i)}(new DataView(t.data),new no,t.key)}function UL(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return RL(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return gL(t.key,t.data)}(t)}var BL="org.id3";var QL=function(t){function n(n,i,e){var r;return void 0===e&&(e=!0),(r=t.call(this)||this).Nw=void 0,r.gG=void 0,r.RY=[],r.GY=[],r.FY=void 0,r.VY=void 0,r.Iw=void 0,r.Tw=void 0,r.mE=cl.Ag,r.mY=Kg.NONE,r.kl=void 0,r.PY=void 0,r.Gs=$g.DEFAULT,r.AG=void 0,r.wG=function(){r.yG(),r.Nw.removeEventListener("cuechange",r.wG)},r._G=function(){r.kg!==cl.Ag&&(r.MG(),r.JY(),r.RY.length&&r.kG(Kg.LOADING))},r.mG=function(){r.kG(Kg.LOADED)},r.pG=function(){r.kG(Kg.ERROR)},r.Nw=n,r.AG=e,r.Nw.addEventListener("cuechange",r.wG),r.Nw.addEventListener("cuechange",r._G),r.gG=i,r.gG&&(r.PY=Ff(r.gG.src),r.gG.addEventListener("load",r.mG),r.gG.addEventListener("error",r.pG)),r.Iw=Fg(),r.Tw=n.label||"",r.FY=new OE(r.RY),r.VY=new OE(r.GY),r.kg=r.NG,Ds(function(){r._G(),r.kG(Kg.NONE)}),r}U(n,t);var i=n.prototype;return i.pl=function(){return ll(this)},i.yG=function(){var t=this.kg;this.DG||t!==cl.yg?this.NG=t:this.NG=cl.wg},i.TG=function(){var t=this.kg,n=this.NG;t!==n&&(this.DG||t!==cl.yg||n!==cl.wg)&&("metadata"===this.fg&&n===cl.Ag?this.kg=t:this.kg=n)},i.NY=function(t){this.mY!==t&&(this.mY=t,this.Zo(new xE(this,t)))},i.kG=function(t){var n=l.max(this.mY,this.IG,t);this.NY(n)},i.bG=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.EG=function(t){var n=this.bG(t);if(n)return n;if(tt(n=this.LG(t)))for(var i=0,e=n;i<e.length;i++){e[i].Nl=this}else n.Nl=this;return t.THEOplayerTextTrackCue=n,n},i.LG=function(t){return(n=t)&&n.type===BL&&n.value?(this.Ao=$g.ID3,function(t){var n;try{n=UL(t.value)}catch(t){n=gL("")}return new fL(t,n)}(t)):function(t){return!!(t&&t.data instanceof ArrayBuffer)}(t)?(this.Ao=$g.ID3,function(t){var n=[];try{var i=xL(new DataView(t.data));if(i)for(var e=0,r=i.lG;e<r.length;e++){var s=r[e];n.push(new fL(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.Ao=$g.WEBVTT,function(t){return function(t){return"regionId"in t}(t)}(t)?new sL(t):new rL(t)):new KE(t);var n},i.SG=function(t){var n=[];if(!t)return n;for(var i=t.length,e=0;e<i;e++){var r=this.EG(t[e]||t.item(e));if(tt(r))for(var s=0;s<r.length;s++){var u=r[s];n.push(u)}else n.push(r)}return n},i.MG=function(){for(var t=this.SG(this.Nw.cues),n=CE(this.RY,t),i=0,e=n.zY;i<e.length;i++){var r=e[i];this.Zo(new PE(r))}for(var s=0,u=n.xY;s<u.length;s++){var o=u[s];this.Zo(new BE(o))}},i.JY=function(){for(var t=this.SG(this.Nw.activeCues),n=CE(this.GY,t),i=0,e=n.zY;i<e.length;i++){e[i].ay=!1}for(var r=0,s=n.xY;r<s.length;r++){s[r].ay=!0}(n.xY.length||n.zY.length)&&this.Zo(new $E(this))},i.mg=function(t){this.kg=t},i.nd=function(){this.$o();for(var t=this.RY.slice(),n=0;n<t.length;n++){t[n].nd()}hs(this.RY),hs(this.GY),this.Nw.removeEventListener("cuechange",this._G),this.gG&&(this.Nw.removeEventListener("load",this.mG),this.Nw.removeEventListener("error",this.pG)),this.gG&&Te(this.gG)},z(n,[{key:"Tg",get:function(){return this.VY}},{key:"cN",get:function(){return this.gG?this.gG.default:void 0}},{key:"Dg",get:function(){return this.FY}},{key:"ml",get:function(){return this.kl||(this.kl=this.pl()),this.kl}},{key:"cg",get:function(){return this.Nw.id||this.gG&&this.gG.id||""}},{key:"ag",get:function(){return this.Iw}},{key:"Mg",get:function(){return this.Nw.inBandMetadataTrackDispatchType||""}},{key:"fg",get:function(){return this.Nw.kind||dy.UM}},{key:"vg",get:function(){return this.Tw},set:function(t){t!==this.vg&&(this.Tw=t,this.Zo(new Pg(this)))}},{key:"dg",get:function(){return this.Nw.language||""}},{key:"kg",get:function(){return this.mE},set:function(t){var n=this.kg;this.mE=vl(t),this.yG();var i=this.kg;n!==i&&this.Zo(new Pd(this)),i!==cl.Ag&&this.kG(Kg.LOADING)}},{key:"NG",get:function(){return vl(this.Nw.mode)},set:function(t){this.Nw.mode=t}},{key:"Cw",get:function(){return this.Nw}},{key:"Ng",get:function(){return this.mY}},{key:"IG",get:function(){return this.gG?+this.gG.readyState||Kg.NONE:Kg.LOADED}},{key:"Ig",get:function(){return this.PY}},{key:"Ao",get:function(){return this.Gs},set:function(t){this.Gs!==t&&(this.Gs=t,this.Zo(new RE(this)))}},{key:"DG",get:function(){return this.AG},set:function(t){this.AG=t,this.yG()}}]),n}(Cs);function PL(t){return t instanceof QL}function YL(t,n){return ts(t.d_,n.d_)||function(t,n){return t.Nl===n.Nl?$r(jE(t),jE(n)):by(t.Nl,n.Nl)}(t.Pw,n.Pw)||function(t,n){return t===n?Wr.Io:t===eA.Rw?Wr.Eo:Wr.bo}(t.type,n.type)}var GL=function(){function t(t,n){var i=this;this.KI=void 0,this.jG=void 0,this.SA=[],this.CG=0,this.OG=0,this.xG=[],this.zG=!1,this.RG=!1,this.UG=void 0,this.BG=function(){i.CG=0,i.QG(),i.PG()},this.YG=function(){i.QG(),i.PG()},this.GG=function(){i.RG=!0,i.UG=i.KI.uA,i.FG()},this.VG=function(){i.QG(),i.PG()},this.HG=function(){i.WG(),i.QG(),i.PG()},this.XG=function(){i.ZG()},this.qG=function(t){ss(i.xG,t.Pw),i.ZG()},this.jG=n,this.KI=t,t.qo(rh.Qa,this.YG),t.qo(rh.Ia,this.YG),t.qo(Wl.sA,this.YG),t.qo(rh.Ta,this.YG),t.qo(rh.Ca,this.GG),t.qo(rh.ja,this.VG),this.ZG()}var n=t.prototype;return n.Jl=function(){hs(this.xG);for(var t=0,n=this.SA.slice();t<n.length;t++){var i=n[t];this.Zl(i)}this.FG(),this.CG=0,this.OG=0,this.zG=!1,this.RG=!1,this.UG=void 0},n.Xl=function(t){os(this.SA,t)||(this.SA.push(t),t.qo(Cd.Dl,this.XG),t.qo(Cd.Il,this.qG),t.qo(Cd.xl,this.HG),t.Dg.$l&&this.ZG(),this.WG())},n.Zl=function(t){if(ss(this.SA,t)){if(t.th(Cd.Dl,this.XG),t.th(Cd.Il,this.qG),t.th(Cd.xl,this.HG),t.Dg.$l){for(var n=0,i=t.Dg.Kl;n<i.length;n++){var e=i[n];ss(this.xG,e)}this.ZG()}this.WG()}},n.WG=function(){this.zG=this.SA.some(function(t){return t.kg!==cl.Ag})},n.PG=function(){this.KI.dA||this.KI.fA?this.FG():this.ZG()},n.ZG=function(){this.zG&&(this.CG||(this.CG=this.jG.ae(this.BG)))},n.FG=function(){this.CG&&(this.jG.JG(this.CG),this.CG=0)},n.QG=function(){var t;if(this.zG&&!this.KI.dA){var n=this.SA,i=this.OG,e=null!=(t=this.UG)?t:this.KI.uA,r=e-i<-.1,s=this.RG||r;s&&e>i&&e-i<.1&&(s=!1),this.RG=!1,this.UG=void 0;for(var u,o=[],h=0;h<n.length;h++){var c=n[h];if(c.kg!==cl.Ag){c.JY(e,s);for(var a=0,f=c.Tg.Kl;a<f.length;a++){var v=f[a];o.push(v)}}}if(s)u=this.xG;else{u=[];for(var d=0;d<n.length;d++){var g=n[d];g.kg!==cl.Ag&&Iy(g,i-1/6,e,u)}}for(var A=u.length-1;A>=0;A--)os(o,u[A])&&us(u,A);var w=[];if(!s)for(var y=u.length-1;y>=0;y--){var _=u[y];_.Yw>=i&&_.Gw<=e&&(w.push(_),us(u,y))}for(var M=[],k=[],m=0;m<w.length;m++){var p=w[m];p.ay||M.push(new FE(p,p.Yw)),M.push(new HE(p,l.max(p.Yw,p.Gw)))}for(var N=0,D=u;N<D.length;N++){var T=D[N];T.ay&&(M.push(new HE(T,l.max(T.Yw,T.Gw))),T.ay=!1)}for(var I=0;I<o.length;I++){var b=o[I];b.ay||(M.push(new FE(b,b.Yw)),b.ay=!0)}M.sort(YL);for(var E=0;E<M.length;E++){var L=M[E],S=L.Pw;S.Zo(L);var j=S.Nl;j&&(L.type===eA.Rw?j.Zo(new XE(S)):j.Zo(new qE(S)),os(k,j)||k.push(j))}k.sort(by);for(var C=0;C<k.length;C++){var O=k[C];O.Zo(new $E(O))}this.OG=e,this.xG=o}},n.nd=function(){this.Jl(),this.KI.th(rh.Qa,this.YG),this.KI.th(rh.Ia,this.YG),this.KI.th(Wl.sA,this.YG),this.KI.th(rh.Ta,this.YG),this.KI.th(rh.Ca,this.GG),this.KI.th(rh.ja,this.VG)},t}(),FL=function(){function t(){}var n=t.prototype;return n.ae=function(t){return NN(t)},n.JG=function(t){DN(t)},t}(),VL=new FL,HL=function(t){function n(n,i){return void 0===i&&(i=VL),t.call(this,n,i)||this}return U(n,t),n}(GL),WL=function(t){function n(n,i,e){var r;return(r=t.call(this,n,1/0,i,!1,e)||this).KG=void 0,r}return U(n,t),n.prototype.hy=function(n){return this===n||Zd(this,n)&&t.prototype.hy.call(this,n)&&uL(this,n)},z(n,[{key:"ml",get:function(){return this.kl||(this.kl=hL(this)),this.kl}}]),n}(AA),XL=function(t){function n(n,i,e){return void 0===e&&(e=$g.DEFAULT),t.call(this,dy.QM,"",i||"","",!1,e,!1,n)||this}return U(n,t),n}(GE),ZL=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Ao=$g.ID3,e.KG=void 0,e}U(n,t);var i=n.prototype;return i.oN=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Yw<t.Yw)oL(n,i,t.Yw);else{var e=n[0];if(e.Yw>t.Yw)t.Gw=e.Yw;else{var r=SE(n,t);if(!(r>=0)){var s=-(r+1),u=s-1;if(u>=0&&n[u].Yw<t.Yw&&oL(n,u,t.Yw),s<n.length){var o=n[s];t.Gw=o.Yw}}}}}}(n,this.RY),t.prototype.oN.call(this,n)},i.pl=function(){return ll(this)},n}(XL);function qL(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,e=UL(t.value);return t.THEOplayerTextTrackCue=new WL(i,e),t.THEOplayerTextTrackCue}var JL=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).Nw=void 0,i._G=function(){i.kg!==cl.Ag&&(i.MG(),i.kG(Kg.LOADED))},i.Nw=n,i.Nw.addEventListener("cuechange",i._G),i.kg=i.NG,Ds(function(){i._G()}),i}U(n,t);var i=n.prototype;return i.RE=function(n){t.prototype.RE.call(this,n),this.NG=this.kg},i.kG=function(t){this.Ng=l.max(this.Ng,t)},i.MG=function(){for(var t=function(t){for(var n=t.length,i=[],e=0;e<n;e++)i.push(qL(t[e]||t.item(e)));return qr(i,LE),i}(this.Nw.cues),n=CE(this.Dg.Kl.slice(),t),i=0,e=n.zY;i<e.length;i++){var r=e[i];this.qY(r)}for(var s=0,u=n.xY;s<u.length;s++){var o=u[s];this.oN(o)}},i.nd=function(){this.Nw.removeEventListener("cuechange",this._G),t.prototype.nd.call(this)},z(n,[{key:"cg",get:function(){return this.Nw.id||""}},{key:"Mg",get:function(){return this.Nw.inBandMetadataTrackDispatchType||""}},{key:"dg",get:function(){return this.Nw.language||""}},{key:"NG",get:function(){return vl(this.Nw.mode)},set:function(t){this.Nw.mode=t}},{key:"Cw",get:function(){return this.Nw}}]),n}(ZL),KL=function(t){function n(n){var i;return(i=t.call(this,0,n.Fw)||this).$G=void 0,i.$G=n,i.Gw=i.$G.Yw,i}return U(n,t),z(n,[{key:"cg",get:function(){return this.$G.cg}},{key:"ly",get:function(){return this.$G.ly},set:function(t){this.$G.ly=t}},{key:"vy",get:function(){return this.$G.vy},set:function(t){this.$G.vy=t}}]),n}(WL);function $L(t){return void 0===t.KG&&(t.KG=new KL(t)),t.KG}var tS=function(t){function n(n,i){var e;(e=t.call(this,n.Mg,n.vg)||this).tF=void 0,e.nF=void 0,e.iF=void 0,e.Ao=$g.ID3,e.eF=function(t){e.rF(t.Pw)},e.sF=function(t){var n=t.Pw;if(void 0!==n.KG){var i=n.KG;n.KG=void 0,e.qY(i),i.nd()}},e.uF=function(t){var n=$L(t.Pw);n.ay||e.oF(n),e.hF(n)},e.cF=function(t){var n=t.Pw,i=$L(n);e.nF.uA<n.Yw&&e.oF(i)},e.aF=function(){var t=e.iF,n=e.kg;if(e.iF=n,n===cl.Ag)e.GY.forEach(function(t){return t.ay=!1}),hs(e.GY);else if(t===cl.Ag)for(var i=e.nF.uA,r=0,s=e.RY;r<s.length;r++){var u=s[r];i<u.Gw&&e.oF(u)}},e.nF=i,e.tF=n,e.iF=n.kg,n.qo(Cd.Dl,e.eF),n.qo(Cd.Il,e.sF),n.qo(Cd.El,e.uF),n.qo(Cd.Sl,e.cF),n.qo(Cd.xl,e.aF);for(var r=0,s=e.tF.Dg.Kl;r<s.length;r++){var u=s[r];e.rF(u)}return e}U(n,t);var i=n.prototype;return i.oF=function(t){var n=SE(this.GY,t);if(!(n>=0)){var i=-(n+1);this.GY.splice(i,0,t),t.ay=!0,t.Zo(new FE(t,this.nF.uA)),this.Zo(new XE(t)),this.Zo(new $E(this))}},i.hF=function(t){var n=SE(this.GY,t);n>=0&&us(this.GY,n),t.ay=!1,t.Zo(new HE(t,this.nF.uA)),this.Zo(new qE(t)),this.Zo(new $E(this))},i.nd=function(){this.tF.th(Cd.Dl,this.eF),this.tF.th(Cd.Il,this.sF),this.tF.th(Cd.El,this.uF),this.tF.th(Cd.Sl,this.cF),this.tF.th(Cd.xl,this.aF),t.prototype.nd.call(this)},i.rF=function(t){var n=$L(t);(this.oN(n),this.kg!==cl.Ag)&&(this.nF.uA<n.Gw&&this.oF(n))},z(n,[{key:"fg",get:function(){return this.tF.fg}},{key:"vg",get:function(){return this.tF.vg},set:function(t){this.tF.vg=t}},{key:"dg",get:function(){return this.tF.dg}},{key:"cg",get:function(){return this.tF.cg}},{key:"ag",get:function(){return this.tF.ag}},{key:"Mg",get:function(){return this.tF.Mg}},{key:"kg",get:function(){return this.tF.kg},set:function(t){this.tF.kg=t}},{key:"Ng",get:function(){return this.tF.Ng}},{key:"Ig",get:function(){return this.tF.Ig}}]),n}(XL),nS=function(t){function n(n){var i;return(i=t.call(this)||this).nF=void 0,i.nF=n,i}U(n,t);var i=n.prototype;return i.Xl=function(n){if(n.Ao===$g.ID3){var i=n;return i.KG||(i.KG=new tS(i,this.nF)),t.prototype.Xl.call(this,i.KG)}return t.prototype.Xl.call(this,n)},i.Zl=function(n){if(n.Ao===$g.ID3){var i=n;return!!i.KG&&t.prototype.Zl.call(this,i.KG)}return t.prototype.Zl.call(this,n)},n}(yl),iS=function(t){function n(n,i){var e;return(e=t.call(this)||this).fF=hr(),e.DT=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.Nl).Ao){t.next=4;break}return t.next=4,i.rh(Cd.Bl);case 4:if(i.Ao===$g.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==i.Dg.$l){t.next=11;break}return t.next=9,i.rh(Cd.Dl);case 9:t.next=6;break;case 11:e.vF(i);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),e.TT=function(t){var n=t.Nl;if(n.Ao===$g.ID3&&e.fF.has(n.ag)){var i=e.fF.get(n.ag);e.Zl(i),e.nN.hN(i),n.th(Cd.Dl,e.rF)}},e.rF=function(t){eS(t.Pw)&&e.dF(t.Pw)},e.nN=n,e.lF=i,e.gF(),e}U(n,t);var i=n.prototype;return i.gF=function(){this.lF.qo(Ed.wl,this.DT),this.lF.qo(Ed._l,this.TT)},i.AF=function(){this.lF.th(Ed.wl,this.DT),this.lF.th(Ed._l,this.TT)},i.vF=function(t){var n=t.Dg.Kl[0];if(eS(n)){var i=function(t){var n=t.match(rS);if(!n)return;return{Nl:n[1],dg:n[2]}}(n.Fw.description),e=i.Nl,r=i.dg;if(!this.wF(e,r)){var s=this.nN.sN(dy.UM,t.cg,e,r,!1,$g.TTML);this.Xl(s),this.fF.set(t.ag,s);for(var u=0,o=t.Dg.Kl;u<o.length;u++){var h=o[u];eS(h)&&this.dF(h)}t.qo(Cd.Dl,this.rF)}}},i.wF=function(t,n){return!!es(this.jk.Kl,function(i){return i.vg===t&&i.dg===n})},i.dF=function(t){if(t.Nl)for(var n=this.fF.get(t.Nl.ag),i=ey(t.Fw.text,0,{G_:0,F_:1/0,V_:-t.Gw}),e=0;e<i.length;e++){var r=i[e];n.oN(r)}},i.Jl=function(){var n=N.coroutine(rr.mark(function n(){var i,e,r,s,u;return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=0,e=this.lF.Kl;i<e.length;i++)e[i].th(Cd.Dl,this.rF);for(r=0,s=this.jk.Kl;r<s.length;r++)u=s[r],this.nN.hN(u);return this.fF.clear(),n.next=5,t.prototype.Jl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.nd=function(){var n=N.coroutine(rr.mark(function n(){return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.AF(),n.next=3,t.prototype.nd.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(gy);function eS(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Fw)&&rS.test(n.description);var n}var rS=/^Track:(.+),Lang:(.+)$/;var sS=function(t){function n(n){var i;return(i=t.call(this,rh.va)||this).errorObject=void 0,i.errorObject=n,i}return U(n,t),z(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(xs),uS=function(t){function n(){return t.call(this,rh.da)||this}return U(n,t),n}(xs),oS=function(t){function n(n){var i;return(i=t.call(this,"Ga")||this).yF=n,i}return U(n,t),n}(xs),hS=new eT,cS=function(t){function i(i,e,r){var s;return(s=t.call(this)||this).tc=void 0,s.Vi=!1,s._F=!1,s.qd=new gs,s.Fh=function(t){switch(t.ah){case"license-request":s.FN(t.oh,t.fh).catch(function(t){return s.Tc(t)});break;default:s.Tc(new jg(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.ah))}},s.MF=function(t){s.kF.ic.kh(function(t,n){switch(t){case"usable":p.ce(function(){s._F=!0,s.Zo(new uS)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":s.Zo(new oS(n))}})},s.mF=function(t){s.Tc(new jg(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},s.kF=i,s.pF=e,s.NF=r,i.qo("oh",s.Fh),i.qo("uh",s.MF),i.qo("vh",s.mF),s.tc=i.tc.then(function(){return s.DF()}),s}U(i,t);var e=i.prototype;return e.Zh=function(){var t=this;return this.Vi=!0,hS.mz(function(n){return t.TF(n)},this.qd.Fo)},e.TF=function(){var t=N.coroutine(rr.mark(function t(i){var e,r,s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,ys(i),t.next=4,this.pF.RN(i);case 4:return t.next=6,this.pF.UN(this.NF.yo,this.NF.wh,i);case 6:return e=t.sent,t.next=9,this.kF.Zh(this.NF.yo,this.NF.wh,e);case 9:t.next=18;break;case 11:throw t.prev=11,t.t0=t.catch(0),_s(t.t0),r=t.t0 instanceof ho?t.t0.Rh:void 0,s=new jg(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,r),this.Tc(s),s;case 18:case"end":return t.stop()}},t,this,[[0,11]])}));return function(n){return t.apply(this,arguments)}}(),e.FN=function(){var t=N.coroutine(rr.mark(function t(i,e){var r,s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!so(i)){t.next=7;break}return t.next=4,this.pF.KN(new y(i),this.qd.Fo);case 4:r=t.sent,t.next=10;break;case 7:return t.next=9,this.pF.$N(new y(i),e,this.qd.Fo);case 9:r=t.sent;case 10:t.next=17;break;case 12:if(t.prev=12,t.t0=t.catch(0),!ws(t.t0)){t.next=16;break}return t.abrupt("return");case 16:throw t.t0;case 17:return t.prev=17,t.next=20,this.kF.Kh(r);case 20:t.next=26;break;case 22:throw t.prev=22,t.t1=t.catch(17),s=t.t1 instanceof ho?t.t1.Rh:void 0,new jg(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,s);case 26:case"end":return t.stop()}},t,this,[[0,12],[17,22]])}));return function(n,i){return t.apply(this,arguments)}}(),e.Tc=function(t){var i=t instanceof jg?t:new jg(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Zo(new sS(i)),this.Xh()},e.DF=function(){this.kF.th("oh",this.Fh),this.kF.th("uh",this.MF),this.kF.th("vh",this.mF),this._F=!1,this.qd.Po()},e.Xh=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$o(),this.DF(),t.next=4,this.kF.Xh().catch(T);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i}(Cs),aS=[rh.da,rh.va,rh.Ya],fS=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Vh=void 0,r.rc=void 0,r.IF=void 0,r.bF=[],r.EF=void 0,r.LF=[],r.Vh=n,r.rc=i,r.IF=e,r}U(n,t);var i=n.prototype;return i.JN=function(){return this.IF.JN()},i.SF=function(t){return this.EF||(this.EF=this.jF(t)),this.EF},i.jF=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ys(n),t.next=3,this.IF.KN(new y(ro()),n);case 3:return i=t.sent,ys(n),t.next=7,this.rc.hc(i.buffer);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.CF=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r=this;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.LF.push(n),t.next=4,this.rc.oc("temporary");case 4:return i=t.sent,e=new cS(i,this.IF,n),this.bF.push(e),e.qo(aS,this.Xo),e.tc.then(function(){return r.OF(e)}),t.abrupt("return",e);case 10:return t.prev=10,ss(this.LF,n),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),i.xF=function(t){if(t.zF)return!1;for(var n=0,i=this.bF;n<i.length;n++){if(vS(i[n].NF,t))return!0}for(var e=0,r=this.LF;e<r.length;e++){if(vS(r[e],t))return!0}return!1},i.OF=function(t){t.th(aS,this.Xo),ss(this.bF,t)},i.nd=function(){var t=N.coroutine(rr.mark(function t(){var n;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$o(),n=this.bF.slice(),hs(this.bF),t.next=5,N.all(n.map(function(t){return t.Xh()}));case 5:this.IF.xo();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),z(n,[{key:"sc",get:function(){return this.Vh}}]),n}(Cs);function vS(t,n){return!t.zF&&t.yo===n.yo&&nu(t.wh,n.wh)}var dS=function(t){function i(n){var i;return(i=t.call(this)||this).CT=void 0,i.qd=new gs,i.Cz=new eT,i.Cc=void 0,i.IF=void 0,i.OT=void 0,i.Vh=void 0,i.RF=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.UF(n.yo,n.wh,i.qd.Fo);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),ws(t.t0)||i.Tc(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),i.CT=n,i.CT.qo(js.dh,i.RF),i}U(i,t);var e=i.prototype;return e.qh=function(t,n){this.OT=t,this.rR(n)},e.rR=function(t){this.Cc=t,this.BF(this.qd.Fo).catch(Ms)},e.BF=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!p.Wu.Au){t.next=5;break}return t.next=3,this.QF(n);case 3:if(!t.sent){t.next=5;break}return t.abrupt("return");case 5:if(!this.Cc||!this.Cc.PF){t.next=9;break}return t.next=8,this.YF(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.QF=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r,s,u,o,h,c,a,f,v;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(i=this.Cc)?void 0:i.cI){t.next=3;break}return t.abrupt("return",!1);case 3:e=!1,r=0,s=null!=(u=null==(o=this.Cc)?void 0:o.cI)?u:[];case 5:if(!(r<s.length)){t.next=27;break}h=s[r],c=0,a=null!=(f=h.mT)?f:[];case 8:if(!(c<a.length)){t.next=22;break}return v=a[c],t.prev=10,t.next=13,this.UF(h.sc.yo,v,n);case 13:e=!0,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(10),_s(t.t0);case 19:c++,t.next=8;break;case 22:if(!e){t.next=24;break}return t.abrupt("return",!0);case 24:r++,t.next=5;break;case 27:return t.abrupt("return",!1);case 28:case"end":return t.stop()}},t,this,[[10,16]])}));return function(n){return t.apply(this,arguments)}}(),e.UF=function(){var t=N.coroutine(rr.mark(function t(i,e,r){var s,u,o,h,c,a,f,v,d,l;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ys(r),e.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.Cc&&this.Cc.cI.length){t.next=5;break}throw new jg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(i===wr||i===_r||i===yr){t.next=8;break}return t.abrupt("return");case 8:s=uM(i,e),u=this.Cc.cI,h=0;case 11:if(!(h<u.length)){t.next=42;break}if(c=u[h],ys(r),(a=s[c.sc._o])&&c.sc.yo===i){t.next=17;break}return t.abrupt("continue",39);case 17:return t.prev=17,t.next=20,this.GF(c,r);case 20:if(!(f=t.sent).JN()){t.next=24;break}return t.next=24,f.SF();case 24:if(v=this.CT.cw,d={yo:c.sc.yo,wh:a,zF:v},!this.FF(f,d)){t.next=32;break}return t.next=29,f.CF(d);case 29:return l=t.sent,t.next=32,l.Zh();case 32:return t.abrupt("return");case 35:t.prev=35,t.t0=t.catch(17),_s(t.t0),o=t.t0;case 39:h++,t.next=11;break;case 42:return t.next=44,p.zu();case 44:if(!t.sent){t.next=48;break}throw new jg(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new jg(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return t.stop()}},t,this,[[17,35]])}));return function(n,i,e){return t.apply(this,arguments)}}(),e.YF=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r,s,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=null==(i=this.Cc)?void 0:i.cI){t.next=3;break}return t.abrupt("return");case 3:r=0;case 4:if(!(r<e.length)){t.next=23;break}return s=e[r],ys(n),t.prev=7,t.next=10,this.GF(s,n);case 10:if(!(u=t.sent).JN()){t.next=14;break}return t.next=14,u.SF();case 14:return t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(7),_s(t.t0);case 20:r++,t.next=4;break;case 23:case"end":return t.stop()}},t,this,[[7,17]])}));return function(n){return t.apply(this,arguments)}}(),e.FF=function(t,n){return p.Wu.gu||!t.xF(n)},e.GF=function(t,n){var i=this;return this.Cz.mz(function(n){return i.VF(t,n)},n)},e.VF=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s,u,o;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ys(i),this.Cc&&this.IF&&this.OT){t.next=3;break}throw new f("Not initialized");case 3:if(!this.Vh){t.next=7;break}if(this.Vh.sc===n.sc){t.next=6;break}throw new f("Internal key system error");case 6:return t.abrupt("return",this.Vh);case 7:return e=this.IF,r=sr({},n,{pI:n.pI.map(function(t){var i;return sr({},t,{persistentState:null!=(i=t.persistentState)?i:e.MD(n.sc),yc:t.yc||e.yc(n.sc)})})}),t.next=11,this.OT.nR(r.sc,r.pI);case 11:return s=t.sent,u=e.kT(r),(o=new fS(r.sc,s,u)).qo([rh.da,rh.va,rh.Ya],this.Xo),this.Vh=o,t.abrupt("return",o);case 17:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.Tc=function(t){var i=t instanceof jg?t:new jg(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Zo(new sS(i))},e.Jl=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.OT=void 0,this.Cc=void 0,this.qd.Po(),this.qd=new gs,t.next=6,this.HF();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.HF=function(){var t=N.coroutine(rr.mark(function t(){var n;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Cz.Po();case 2:if(!(n=this.Vh)){t.next=8;break}return n.th(rh.Ya,this.Xo),this.Vh=void 0,t.next=8,n.nd();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.xo=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$o(),this.CT.th(js.dh,this.RF),t.next=4,this.Jl();case 4:return t.next=6,this.Cz.nd();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),z(i,[{key:"WF",get:function(){var t;return null==(t=this.Vh)?void 0:t.sc}},{key:"uI",get:function(){return this.IF},set:function(t){this.IF=t}}]),i}(Cs),lS=Z.zr||Z.Rr,gS=Z.es,AS=.5,wS=5,yS=Z.Yr,_S=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Vc=void 0,s.XF=void 0,s.xT=void 0,s.ib=!0,s.OT=void 0,s.ZF=new eT,s.qF=void 0,s.JF=void 0,s.KF=void 0,s.Jz=void 0,s.SA=void 0,s.oE=void 0,s.tV=[],s.nV=void 0,s.iV=void 0,s.eV=void 0,s.rV=void 0,s.sV=void 0,s.uV=void 0,s.oV=void 0,s.hV=NaN,s.cV=void 0,s.aV=void 0,s.eE=!1,s.fV=N.resolve(),s.vV=new gs,s.dV=[],s.lV=am.Xb(),s.gV=void 0,s.AV=1,s.wV=!1,s.yV=!1,s._V=!1,s.MV=!1,s.mo=void 0,s.kV=!1,s.mV=!1,s.pV=!1,s.NV=!1,s.DV=0,s.TV=function(t){var n=t.track,i=s.IV(n);s.bV(n,i)},s.EV=function(t){var n=pS(s.nV,t.track);n&&s.nV.Zl(n)},s.LV=function(){for(var t=0;t<s.SA.$l;t++){var n=s.SA.Wl(t);n instanceof QL&&n.TG()}},s.SV=function(){s.nV.Jl()},s.jV=function(){var t=s.OT,n=t.nY,i=t.iY;if(n&&i)if(t.aR)s.CV();else if(t.Ng!==gE.dP){var e=n.uw,r=i.uw;if(0!==e.$l&&0!==r.$l){var u=s.uA;if(u<e.ab(0)||u<r.ab(0))s.CV();else if(e.NI(u)!==r.NI(u))s.OV();else if(s.CV(),!s.DV&&s.KF.SY())e.Sb(r).zb(u,u+AS)&&(s.DV=NN(s.xV))}else s.CV()}},s.xV=function(){s.DV=0,s.jV()},s.zV=function(){if(!(s.dA||s.Ng>=El.Kg)){0;var t=s.OT,n=t.nY,i=t.iY;if(n&&i){var e=s.uA,r=n.uw,u=i.uw;if(r.NI(e)&&u.NI(e))r.Sb(u).zb(e-wS,e)&&s.Ih(e)}}},s.RV=function(){s.Zo(new ql(s.uA))},s.UV=function(){s.BV(new As),s.Zo(new Zl(s.uA))},s.QV=function(){s.PV(),s.Zo(new a_(s.uA))},s.YV=function(){s.GV(s.vA)},s.FV=function(){s.Zo(new ng(s.oA))},s.VV=function(){s.Zo(new NT(s.uA))},s.HV=function(){s.Zo(new DT)},s.WV=function(){var t=s.uA,n=s.dA,i=s.Ng<El.Kg&&!s.hA,e=void 0!==s.aV,r=e&&s.aV!==t;(n||!e||r&&!i)&&(s.Zo(new eg(s.uA,void 0)),s.aV=t)},s.XV=function(){!s.wV&&s.hA&&(s.wV=!0,s.Zo(new rg(s.uA)))},s.ZV=function(){if(null!==s.Vc.error){var t,n=s.Vc.error;s.FT(new Cg(null!=(t=n.code)?t:Eg.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.qV=function(){s.yV&&(s.JV(),s._V=!0)},s.KV=function(){s.Zo(new hg(s.uA,s.AA))},s.$V=function(){s.gA>0&&s.lA>0&&s.Zo(new Qy)},s.tH=function(t){s.Zo(new Ps(t.initDataType,t.initData||new ArrayBuffer(0)))},s.nH=function(){s.Zo(new Ys)},s.iH=function(t){var n=t.initData,i=n?to(n).buffer:new ArrayBuffer(0);s.Zo(new Ps(wr,i))},s.eH=function(t){if(t.initData){var n=MS(t.initData);if(!n)return;s.Zo(new Ps(_r,n))}else s.Zo(new Ps(_r,new ArrayBuffer(0)))},s.rH=function(t){var n=t.initData,i=n?to(n).buffer:new ArrayBuffer(0);s.Zo(new Ps(wr,i))},s.sH=function(){s.PV()},s.uH=function(t){s.BV(t)},s.oH=function(t){s.Zo(t),t.type===rh.va&&s.FT(xg(t.errorObject))},s.Vc=n,s.mo=i,s.XF=e,s.oE=r,s.JF=new pE(sn(s)),s.JF.qo(Wl.Rl,s.Xo),s.KF=new TE(sn(s)),s.KF.qo(Wl.sA,s.QV),s.Jz=new dS(sn(s)),s.Jz.qo([rh.da,rh.va,rh.Ya],s.oH),s.SA=new ly,s.nV=new ly,s.iV=new Wk([s.SA,s.nV]),s.eV=new nS(sn(s)),s.eV.sg=s.iV,s.rV=new iS(sn(s),s.eV),s.sV=new Wk([s.iV,s.rV.jk]),s.uV=new HL(sn(s)),s.hH(),s.hI(),s}U(n,t);var i=n.prototype;return i.cH=function(){this.sI.ended||this.uA===this.oA||(this.wV=!1)},i.aH=function(){return void 0!==this.oV&&this.oA===this.oV},i.GV=function(t){this.AV!==t&&(this.AV=t,this.Zo(new ig(this.uA,t)))},i.II=function(){return TD(this.Vc)},i.BA=function(){var t=this.fH();return this.vH(),t},i.vH=function(){this.kV?this.mV&&(this.mV=!1,this.Zo(new ql(this.uA))):this.dH()},i.dH=function(){if(this.qF)this.qF.BA();else{Z.Yr&&!Z.pr&&this.Vc.preload===im.ZI&&(this.Vc.preload=im.QM);var t=this.vA,n=this.Vc.play();t!==this.sI.playbackRate&&(this.vA=t),st(n)?n.then(this.sH,this.uH):this.KF.SY()&&this.PV()}},i.QA=function(){this.kV?this.mV||(this.mV=!0,this.Zo(new Zl(this.uA))):this.lH()},i.lH=function(){this.qF?this.qF.QA():(this.Vc.pause(),this.KF.Kh()),this.gH(new As)},i.fH=function(){var t=new eo;return this.dV.push(t),t.Ch},i.AH=function(){for(var t=0,n=this.dV;t<n.length;t++){n[t].Oh(void 0)}hs(this.dV)},i.gH=function(t){for(var n=0,i=this.dV;n<i.length;n++){i[n].xh(t)}hs(this.dV)},i.PV=function(){this.kV||this.qF||this.AH()},i.BV=function(t){this.kV||this.qF||this.gH(t)},i.Ih=function(t,n){this.qF?this.qF.uA=t:(this.vV.Po(),this.vV=new gs,this.fV=this.wH(t,this.fV,this.vV.Fo).catch(T))},i.TI=function(t){var n=this.bI;if(n&&!w(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Ih(i)}},i.wH=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r,s,u,o,h,c,a,f,v=this;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.oV=n,this.hV=n,this.eE=!0,this.wV&&!this.aH()&&(this.wV=!1),this.Zo(new ug(n)),t.next=8,i.catch(T);case 8:if(ys(e),this.MV&&this.yH(),this.Ng!==El.Zg){t.next=13;break}return t.next=13,this.rh(Wl.Rl,e);case 13:if(0!==this.Vc.seekable.length){t.next=19;break}return t.next=16,N.race([Id(this.Vc,"timeupdate",e),Es(100,e)]);case 16:ys(e),t.next=13;break;case 19:r=this._H(n),s=this._w,u=!0,o=!1;case 23:if((s=this._w).$l>0&&!s.NI(r)&&(r=s.kb(r),u=!0),yS&&void 0!==(h=this.MH())&&r>h&&(r=h,u=!0),o){t.next=37;break}if(!(void 0!==(c=this.kH())&&r>c)){t.next=37;break}return o=!0,t.next=33,this.mH(c,e);case 33:return t.next=35,Id(this.Vc,"seeked",e);case 35:ys(e),u=!0;case 37:if(!u){t.next=56;break}return u=!1,t.next=41,this.mH(r,e);case 41:ys(e),a=this.uA,s=this._w,r=s.kb(r),f=1;case 46:if(!(l.abs(r-a)>=1/6)){t.next=56;break}return s=this._w,r=mS(r,s,f),t.next=51,this.mH(r,e);case 51:ys(e),a=this.uA,f++,t.next=46;break;case 56:if(this.Vc.seeking||this.Ng<El.Jg){t.next=58;break}return t.abrupt("break",63);case 58:return t.next=60,ps(function(t){var n;return N.race([Id(v.Vc,"seeked",t),v.rh([rh.ba,rh.Aa,Wl.Rl],t),null==(n=v.OT)?void 0:n.rh(gT.DL,t)].filter(K))},e);case 60:ys(e),t.next=23;break;case 63:this.pH(),t.next=71;break;case 66:if(t.prev=66,t.t0=t.catch(0),!ws(t.t0)){t.next=70;break}return t.abrupt("return");case 70:0;case 71:case"end":return t.stop()}},t,this,[[0,66]])}));return function(n,i,e){return t.apply(this,arguments)}}(),i.mH=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ys(i),e=this._w,n=e.kb(n),!this.MV){t.next=18;break}r=!0;case 5:if(!(r||this.Ng<El.Kg)){t.next=17;break}if((e=this._w).NI(n)||(n=e.kb(n),r=!0),!r){t.next=13;break}return r=!1,this.oV=n,this.NH(this.uA),t.abrupt("continue",5);case 13:return t.next=15,this.rh([Wl.Rl,rh.Aa],i);case 15:t.next=5;break;case 17:ys(i);case 18:if(s=Id(this.Vc,"seeking",i),this.Vc.currentTime=n,this.oV=void 0,this.NH(this.uA),!this.Vc.seeking){t.next=25;break}return t.next=25,s;case 25:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i._H=function(t){var n=this.uw;if(n&&!n.NI(t)){var i=n.Cb(t,.05);if(i>-1){var e=n.ab(i);if(t<e)return e}}return t},i.MH=function(){if(this.OT&&this.OT.aR){var t=this.OT.fR,n=this.OT.vR,i=t&&n?t.Nb(n):t||n;if(i&&0!==i.$l){var e=i.ab(i.$l-1),r=i.vb(i.$l-1);return l.max(e,r-.001)}}},i.kH=function(){if(this.OT&&this.OT.aR){var t=this.OT.vR;if(t&&0!==t.$l){var n=t.ab(t.$l-1),i=t.vb(t.$l-1)-.02;return i-=.001,l.max(n,i)}}},i.NH=function(t){this.hV!==t&&(this.hV=t,this.Zo(new ug(t)))},i.pH=function(){this.eE=!1,this.hV=NaN,this.MV&&this.DH(),this.Zo(new og(this.uA))},i.yH=function(){this.kV||(this.mV=this.fA,this.kV=!0,this.lH())},i.DH=function(){this.kV&&(this.kV=!1,this.mV||this.vH())},i.cR=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.Ao===By.aN&&pT.cR(i,this.Vc))return i;if(i.Ao===By.fN&&yE.cR(i))return i}},i.JA=function(){this.ib=!1,ze(this.Vc)&&(this.Vc.style.display="none")},i.qA=function(){this.ib=!0,ze(this.Vc)&&(this.Vc.style.display="block")},i.sN=function(t,n,i,e,r,s,u,o){var h=new GE(t,n,i,e,r,s,u,o);return this.SA.Xl(h),this.uV.Xl(h),h},i.lI=function(){return!0},i.AI=function(t,n,i,e){var s=r.createElement("track");s.src=Ff(t),s.kind=n,s.label=null!=i?i:"",e&&(s.srclang=e),s.id=tN(),this.Vc.appendChild(s);var u=this.Vc.textTracks.getTrackById(s.id),o=new QL(u,s);return this.nV.Xl(o),this.tV.push(o),o},i.hN=function(t){this.SA.Zl(t),this.uV.Zl(t)},i._I=function(){for(var t=0,n=this.SA.Kl.slice();t<n.length;t++){n[t].nd()}this.SA.Jl();for(var i=0,e=this.tV.slice();i<e.length;i++){var r=e[i];this.nV.Zl(r),r.nd()}hs(this.tV)},i.hI=function(){var t=this.Vc.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.TV),t.addEventListener("removetrack",this.EV),t.addEventListener("change",this.LV)),this.Vc.addEventListener("emptied",this.SV)},i.kI=function(){var t=this.Vc.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.TV),t.removeEventListener("removetrack",this.EV),t.removeEventListener("change",this.LV)),this.Vc.removeEventListener("emptied",this.SV)},i.bV=function(t,n){if(Z.Yr){if(t.kind===dy.QM)return void this.TH(t);if(t.kind===dy.Zp&&""===t.label&&""===t.language&&!NS(t))return void this.IH(t,n)}pS(this.nV,t)||this.nV.Xl(new QL(t,n))},i.TH=function(t){t.mode=cl.wg;var n=new JL(t);this.nV.Xl(n),this.uV.Xl(n)},i.IH=function(t,n){var i=this;t.addEventListener("cuechange",function e(){NS(t)&&(t.removeEventListener("cuechange",e),i.nV.Xl(new QL(t,n)))}),t.mode=cl.wg},i.IV=function(t){for(var n=this.Vc.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},i.qh=function(t){var n=this;return this.ZF.mz(function(){var i=N.coroutine(rr.mark(function i(e){var r;return rr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(ys(e),!n.OT){i.next=3;break}throw new f("Already loaded a media source");case 3:if(t.Ao!==By.aN){i.next=9;break}r=new pT(t,n,n.Jz,n.mo),n.MV=!1,n.bH(new pE(n)),i.next=17;break;case 9:if(t.Ao!==By.fN){i.next=16;break}r=new yE(t,n,n.Jz,n.mo),n.MV=lS,n.bH(n.MV?new NE(n):new pE(n)),gS&&(n.qo(rh.Qa,n.jV),n.qo(Wl.Rl,n.zV)),i.next=17;break;case 16:throw new f("Unsupported configuration");case 17:return n.OT=r,i.next=20,r.FC();case 20:return i.abrupt("return",r);case 21:case"end":return i.stop()}},i)}));return function(t){return i.apply(this,arguments)}}())},i.OV=function(){if(!this.pV){var t=this.vA;this.pV=!0,this.vA=t,this.Vc.playbackRate=0,this.JF&&this.JF.NY()}},i.CV=function(){if(this.pV){var t=this.vA;this.pV=!1,this.vA=t,this.Vc.currentTime=this.Vc.currentTime,this.JF&&this.JF.NY()}},i.bH=function(t){var n=this.Ng;this.JF.xo(),this.JF=t,this.JF.qo(Wl.Rl,this.Xo);var i=this.Ng;n!==i&&this.Zo(new fg(this.uA,i))},i.Jl=function(){var t=N.coroutine(rr.mark(function t(){var n=this;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.eE=!1,this.lV=am.Xb(),this.vV.Po(),this.oV=void 0,this.hV=NaN,this.cV=void 0,this.MV=!1,this.kV=!1,this.xT=void 0,this.wV=!1,this.aV=void 0,this.yV=!1,this._V&&(this.hH(),this._V=!1),this.gH(new As),this.bH(new pE(this)),this.KF.Jl(),this.CV(),gS&&(DN(this.DV),this.DV=0,this.th(rh.Qa,this.jV),this.th(Wl.Rl,this.zV)),t.next=20,this.ZF.Po();case 20:return t.next=22,this.ZF.mz(N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.OT){t.next=4;break}return t.next=3,n.OT.xo();case 3:n.OT=void 0;case 4:case"end":return t.stop()}},t)})));case 22:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.xo=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._V=!1,this.JV(),this.kI(),t.next=5,this.Jl();case 5:return t.next=7,this.ZF.nd();case 7:return this.KF.xo(),this.JF.xo(),t.next=11,this.Jz.xo();case 11:return this._I(),this.SA.nd(),this.eV.nd(),this.nV.nd(),t.next=17,this.rV.nd();case 17:this.iV.nd(),this.sV.nd(),this.$o();case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.hH=function(){this.sI.addEventListener("play",this.RV),this.sI.addEventListener("pause",this.UV),this.sI.addEventListener("timeupdate",this.WV),this.sI.addEventListener("progress",this.VV),this.sI.addEventListener("loadstart",this.HV),this.sI.addEventListener("ended",this.XV),this.sI.addEventListener("ratechange",this.YV),this.sI.addEventListener("volumechange",this.KV),this.sI.addEventListener("durationchange",this.FV),this.sI.addEventListener("resize",this.$V),this.sI.addEventListener("loadedmetadata",this.$V),this.sI.addEventListener("error",this.ZV),this.sI.addEventListener("emptied",this.qV),Vr()?(this.Vc.addEventListener("encrypted",this.tH),this.Vc.addEventListener("waitingforkey",this.nH)):void 0!==Me.WebKitMediaKeys&&"function"==typeof Me.WebKitMediaKeys.isTypeSupported?this.Vc.addEventListener("webkitneedkey",this.eH):Hr()?this.Vc.addEventListener("webkitneedkey",this.rH):void 0!==Me.MSMediaKeys&&"function"==typeof Me.MSMediaKeys.isTypeSupported&&this.Vc.addEventListener("msneedkey",this.iH)},i.JV=function(){this.sI.removeEventListener("play",this.RV),this.sI.removeEventListener("pause",this.UV),this.sI.removeEventListener("timeupdate",this.WV),this.sI.removeEventListener("progress",this.VV),this.sI.removeEventListener("loadstart",this.HV),this.sI.removeEventListener("ended",this.XV),this.sI.removeEventListener("ratechange",this.YV),this.sI.removeEventListener("volumechange",this.KV),this.sI.removeEventListener("durationchange",this.FV),this.sI.removeEventListener("resize",this.$V),this.sI.removeEventListener("loadedmetadata",this.$V),this.sI.removeEventListener("error",this.ZV),this.sI.removeEventListener("encrypted",this.tH),this.sI.removeEventListener("waitingforkey",this.nH),this.sI.removeEventListener("webkitneedkey",this.eH),this.sI.removeEventListener("webkitneedkey",this.rH),this.sI.removeEventListener("msneedkey",this.iH),this.sI.removeEventListener("emptied",this.qV)},i.EH=function(){var t;this.qF||(this.lV=this.ww,this.qF=new ME((t=this).uA,t.oA,t.hA,t.fA,t.dA,t.aA,t.vA,t.AA,t.Ng),this.JV(),this.qF.qo(_E,this.Xo))},i.LH=function(){if(this.qF){var t,n,i=this.qF;this.qF=void 0,this.JF.NY(),t=this,(n=i).oA===t.oA||w(n.oA)&&w(t.oA)||t.Zo(new ng(t.oA)),t.aA=n.aA,t.AA=n.AA,t.vA=n.vA,n.fA?t.QA():t.BA().catch(T),n.uA!==t.uA||n.Ng>El.Zg&&t.Ng===El.Zg?t.Ih(n.uA):!n.dA&&t.dA?t.Zo(new ug(t.uA)):n.dA&&!t.dA&&t.Ng>=El.Jg&&t.Zo(new og(t.uA)),!n.hA&&t.hA&&t.Zo(new rg(t.uA)),i.xo(),this.hH()}},i.FT=function(t){this.xT=t,this.gH(this.xT),this.Zo(new IE(this.xT))},i.SH=function(){this.jH||(cC(this.Vc,p.Wu),this.NV=!0)},i.CH=function(t){t.appendChild(this.Vc)},i.dY=function(){gS&&this.jV(),this.JF.NY()},i.sw=function(){this.Jz.HF().catch(T)},z(n,[{key:"TY",get:function(){return this.pV}},{key:"uw",get:function(){return this.OT?this.OT.uw:am.Xb()}},{key:"ow",get:function(){var t=this.bI;if(t&&!w(t.getTime())){var n=1e3*this.uA;return new Date(t.getTime()+n)}}},{key:"bI",get:function(){if(this.sI.getStartDate)return this.eE&&this.cV||(this.cV=this.sI.getStartDate()),this.cV}},{key:"uA",get:function(){return this.qF?this.qF.uA:void 0!==this.oV?this.oV:this.Vc.currentTime}},{key:"ez",get:function(){return this.XF}},{key:"oA",get:function(){return this.qF?this.qF.oA:this.OT?this.OT.oA:this.Vc.duration}},{key:"hA",get:function(){return this.dA?this.aH():this.qF?this.qF.hA:this.Vc.ended||this.wV}},{key:"vh",get:function(){return this.xT}},{key:"sI",get:function(){return this.Vc}},{key:"fA",get:function(){return this.kV?this.mV:this.qF?this.qF.fA:this.Vc.paused}},{key:"ww",get:function(){return this.lV.Lb(am.Vb(this.Vc.played))}},{key:"Xk",get:function(){return this.Vc.offsetHeight*p.Wu.du}},{key:"pu",get:function(){return this.Vc.offsetWidth*p.Wu.du}},{key:"yI",get:function(){return dm}},{key:"Ng",get:function(){return this.JF.Ng}},{key:"_w",get:function(){return this.OT?this.OT._w:am.Xb()}},{key:"dA",get:function(){return this.qF?this.qF.dA:this.eE}},{key:"aA",get:function(){return this.qF?this.qF.aA:this.Vc.muted},set:function(t){this.qF?this.qF.aA=t:this.Vc.muted=t}},{key:"vA",get:function(){return this.qF?this.qF.vA:void 0!==this.gV?this.gV:this.Vc.playbackRate},set:function(t){this.qF?this.qF.vA=t:this.fA||this.pV?(this.gV=t,this.GV(t)):(this.gV=void 0,this.Vc.playbackRate=t)}},{key:"OH",get:function(){return this.ib}},{key:"AA",get:function(){return this.qF?this.qF.AA:this.Vc.volume},set:function(t){this.qF?this.qF.AA=t:this.Vc.volume=t}},{key:"RA",get:function(){return this.sV}},{key:"sz",get:function(){return this.oE}},{key:"cw",get:function(){return!!this.Vc.webkitCurrentPlaybackTargetIsWireless}},{key:"jH",get:function(){return this.NV}},{key:"xH",get:function(){return sr({},_T)}},{key:"uI",get:function(){return this.Jz.uI},set:function(t){this.Jz.uI=t}},{key:"WF",get:function(){return this.Jz.WF}},{key:"Mw",get:function(){return this.yV},set:function(t){this.yV=t,this._V&&!this.yV&&(this._V=!1,this.hH())}}]),n}(Cs);function MS(t){try{var n=Zu(t),i=new no;return Pu(Yu(Mu(n,i,Tu(n,i,!0)),!0))}catch(t){return}}var kS=.01;function mS(t,n,i){if(void 0===i&&(i=0),!n.$l)return 0;var e=n.kb(t),r=kS*i;return e===n.ab(0)?e+=r:e===n.vb(n.$l-1)&&(e-=r),e}function pS(t,n){for(var i=0,e=t.Kl;i<e.length;i++){var r=e[i];if(r.Cw===n)return r}}function NS(t){return!!t.cues&&t.cues.length>0}var DS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).kl=void 0,n}return U(n,t),z(n,[{key:"ml",get:function(){return this.kl||(this.kl=UD(this)),this.kl}},{key:"Dx",get:function(){}},{key:"Tx",get:function(){}},{key:"Ix",get:function(){}},{key:"bx",get:function(){}},{key:"Ex",get:function(){}},{key:"Lx",get:function(){}},{key:"Sx",get:function(){}}]),n}(Cs),TS=(new DS,function(t){function n(n,i,e){return t.call(this,n,i,e,new DS)||this}return U(n,t),n.prototype.KA=function(){},z(n,[{key:"lA",get:function(){return 0}},{key:"gA",get:function(){return 0}}]),n}(_S)),IS="theoplayer-texttracks",bS=function(){function t(t){void 0===t&&(t=5),this.zH=void 0;var n=Me.document.createElement("div");n.className=IS,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="80%",n.style.bottom="10%",n.style.left="0",n.style.width="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.zH=n,this.qA()}var n=t.prototype;return n.JA=function(){this.zH.style.display="none"},n.qA=function(){je(this.zH.style,"flex")},n.CH=function(t){t.appendChild(this.zH)},n.nd=function(){Te(this.zH)},z(t,[{key:"hw",get:function(){return this.zH}}]),t}();function ES(t,n){return t?sr({},n,qd({bx:t.bx,Ix:t.Ix,Tx:t.Tx,Dx:t.Dx,Ex:t.Ex,Lx:t.Lx,Sx:t.Sx})):n}function LS(t){return t.Ix&&Cr(t.Ix,"%")?Number(t.Ix.replace("%",""))/100:t.Ix&&Cr(t.Ix,"em")?Number(t.Ix.replace("em","")):1}var SS,jS,CS=function(){function t(t,n,i,e,r){var s=this;this.RH=or(),this.UH=!0,this.BH=void 0,this.ny=void 0,this.Vc=void 0,this.XF=void 0,this.QH=void 0,this.PH=function(t){return s.RH.has(t.vy)},this.YH=function(t){return!s.PH(t)},this.GH=function(t){return s.oN(t.Pw)},this.FH=function(t){return s.removeCue(t.Pw)},this.VH=function(){return s.HH()},this.WH=function(t){return s.XH(t.Pw)},this.ZH=function(t){return s.qH(t.Pw)},this.JH=function(t){s.KH(t.pu,t.Xk)},this.ny=t,this.QH=this.BH=r,this.Vc=this.$H(i),this.XF=e,n.appendChild(this.Vc),this.tW(),this.ny.Dg.Kl.forEach(function(t){return s.oN(t)}),this.ez.qo("nj",this.JH),this.KH(this.ez.hj,this.ez.oj)}var n=t.prototype;return n.nW=function(t){this.BH=ES(t,this.QH),this.BH.Dx&&(this.sI.style.fontFamily=this.BH.Dx),this.BH.Sx&&(this.sI.style.visibility=this.BH.Sx),this.KH(this.ez.hj,this.ez.oj),this.iW()},n.eW=function(){return this.BH},n.tW=function(){this.ny.qo(Cd.Dl,this.GH),this.ny.qo(Cd.Il,this.FH),this.ny.qo(Cd.xl,this.VH)},n.rW=function(){var t=this;this.ny.th(Cd.Dl,this.GH),this.ny.th(Cd.Il,this.FH),this.ny.th(Cd.xl,this.VH),this.ny.Dg.Kl.forEach(function(n){return t.sW(n)})},n.uW=function(t){t.qo(eA.Rw,this.WH),t.qo(eA.Bw,this.ZH)},n.sW=function(t){t.th(eA.Rw,this.WH),t.th(eA.Bw,this.ZH)},n.oN=function(t){t.vy||(t.vy=this.oW),this.uW(t),t.ay&&this.XH(t)},n.removeCue=function(t){this.sW(t),this.qH(t)},n.HH=function(){this.ny.kg===cl.yg?this.hW():this.cW()},n.hW=function(){var t=this,n=this.ez.hj,i=this.ez.oj,e=new AN(n,i);this.JH(e),this.UH=!1,this.aW.forEach(function(n){return t.XH(n)})},n.XH=function(t){this.UH||this.YH(t)&&(this.fW(t),this.RH.set(t.vy,t))},n.fW=function(t){var n=this.Vc,i=this.vW(t);if(i)for(var e=0;e<i.length;e++){var r=i[e];r.className=t.vy,n.appendChild(r)}},n.cW=function(){var t=this;this.UH=!0,this.RH.forEach(function(n){return t.qH(n)})},n.qH=function(t){this.PH(t)&&(this.dW(t),this.RH.delete(t.vy))},n.dW=function(t){for(var n=this.Vc,i=n.getElementsByClassName(t.vy);i.length;)n.removeChild(i[0])},n.iW=function(){for(var t=0,n=this.lW;t<n.length;t++){var i=n[t];this.dW(i),this.fW(i)}},n.nd=function(){Te(this.sI),this.rW(),this.ez.th("nj",this.JH)},z(t,[{key:"Nl",get:function(){return this.ny}},{key:"sI",get:function(){return this.Vc}},{key:"ez",get:function(){return this.XF}},{key:"gW",get:function(){return this.BH}},{key:"lW",get:function(){return this.ny.Tg.Kl.filter(this.PH)}},{key:"aW",get:function(){return this.ny.Tg.Kl.filter(this.YH)}}]),t}();function OS(t){return xS[t||"none"]}!function(t){t.AW='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.wW='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.yW='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t._W='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(SS||(SS={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(jS||(jS={}));var xS={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"};function zS(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}var RS=cr({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),US=cr({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),BS={backgroundColor:function(t,n){n.style.backgroundColor=t},color:function(t,n){n.style.color=t},direction:function(t,n){n.style.direction=t},display:function(t,n){"none"===t&&(n.style.display="none")},fontFamily:function(t,n){var i=RS.get(t);n.style.fontFamily=i||t},fontSize:function(t,n){xr(t,"px")?t=g(t)/24+"em":xr(t,"c")&&(t=t.replace("c","em")),n.style.fontSize=t},fontStyle:function(t,n){n.style.fontStyle=t},fontWeight:function(t,n){n.style.fontWeight=t},lineHeight:function(t,n){n.style.lineHeight=t},opacity:function(t,n){n.style.opacity=t},overflow:function(t,n){n.style.overflow=t},padding:function(t,n){n.style.padding=t},textAlign:function(t,n){"right"===t?(n.style.textAlign="right",n.style.justifyContent="flex-end"):"start"===t?(n.style.textAlign="start",n.style.justifyContent="flex-start"):"center"===t?(n.style.textAlign="center",n.style.justifyContent="center"):"end"===t?(n.style.textAlign="end",n.style.justifyContent="flex-end"):"left"===t&&(n.style.textAlign="left",n.style.justifyContent="flex-start")},textDecoration:function(t,n){var i=t;i=(i=(i=(i=i.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough ","none")).replace("noOverline  ","none"),n.style.textDecoration=i},unicodeBidi:function(t,n){n.style.unicodeBidi=t.replace("bidiOverride","bidi-override")},visibility:function(t,n){n.style.visibility=t},zIndex:function(t,n){n.style.zIndex=t},displayAlign:function(t,n){var i;"before"===t.toLowerCase()?i="flex-start":"center"===t.toLowerCase()?i="center":"after"===t.toLowerCase()&&(i="flex-end"),n.style.alignItems=i},extent:function(t,n){var i,e,r=t.split(" ");r.length>=2?(i=r[0],e=r[1]):i=e="100%",n.style.height=e,n.style.width=i},origin:function(t,n){var i=t.split(" "),e=i[0],r=i[1];void 0===e&&void 0===r||(void 0!==e&&(n.style.left=e),void 0!==r&&(n.style.top=r))},showBackground:function(t,n){},wrapOption:function(t,n){n.style.whiteSpace=t.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap")},writingMode:function(t,n){var i=US.get(t);i&&(n.style.cssText=n.style.cssText.concat(i))},textOutline:function(){},linePadding:function(t,n){if(xr(t,"c")){var i=t.replace("c","em");n.style.paddingLeft=n.style.paddingRight=i}},multiRowAlign:function(t,n){"auto"===t.toLowerCase()?n.style.textAlign="":n.style.textAlign="value"}},QS=0,PS={Tx:jS.WHITE,Dx:"Arial, Helvetica, Sans-Serif",Ix:"100%",bx:jS.TRANSPARENT,Ex:jS.TRANSPARENT,Lx:"none",Sx:"visible"},YS=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,PS)||this}U(n,t);var i=n.prototype;return i.$H=function(t){var n=r.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",n.style.display="flex",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.KH=function(t,n){var i=l.min(t,n)/15;this.sI.style.fontSize=i+"px"},i.vW=function(t){if(t.Nl&&t.Nl.Ao!==$g.TTML)return[];var n,i=[],e=t,s=e.Bp,u=e.H_,o=e.Fw;if(0===d.keys(u).length){Le(n=r.createElement("div"),e.vy),ZS(n);for(var h=GS(o,s,e.Qp,void 0,this.sI),c=0;c<h.length;c++){var a=h[c];n.appendChild(a)}i.push(n)}else for(var f=0,v=d.keys(u);f<v.length;f++){var l=v[f],g=r.createElement("div");g.id=l,Le(g,e.vy);var A=GS(o,s,e.Qp,g,this.sI);if(A){ZS(g),HS(g,u[l],s,this.sI);for(var w=0;w<A.length;w++){var y=A[w];g.appendChild(y)}i.push(g)}i.push(g)}return i},i.nW=function(t){},z(n,[{key:"oW",get:function(){return"theoplayer-ttmlcue-"+QS++}}]),n}(CS);function GS(t,n,i,e,r){var s,u;if(en(t)&&("SPAN"===(u=t).ys.toUpperCase()||"P"===u.ys.toUpperCase()||"BR"===u.ys.toUpperCase()||"DIV"===u.ys.toUpperCase()||"BODY"===u.ys.toUpperCase())){var o=function t(n){var i=n.Cs("region");if("p"===n.ys.toLowerCase())return i;var e=[];for(var r=0,s=n.js;r<s.length;r++){var u=s[r];e.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var e=!0,r=i+1;r<t.length;r++)if(t[i]===t[r]){e=!1;break}e&&n.push(t[i])}}(e);return 0===e.length?i:1===e.length?null!=(o=e[0])?o:i:void 0;var o}(t);if(!o||e.id===o){(function(t,n,i,e){var r=n.Cs("style");XS(t,r,i,e),function(t,n,i){Array.prototype.slice.call(n.Bs).forEach(function(n){var e=Kw(n._s,["ebutts","tts","xml"]);BS[e]&&BS[e](n.ps,t,i)})}(t,n,e)})(s="BODY"===t.ys.toUpperCase()?e:FS(t),t,n,r),function(t,n,i){var e=null==n?void 0:n.Cs("smpte:backgroundImage");if(e){e=e.replace("#","");var r=function t(n,i){if(n&&i(n))return n;var e=null;if(null!=n&&n.js)for(var r=0,s=null==n?void 0:n.js;r<s.length;r++){var u=s[r];if(e=t(u,i))break}return e}(i,function(t){return t.Bs.some(function(t){return"id"===t.ys&&t.ps===e})});r&&WS(t,r,n,!0)}!function(t,n){var i=n.js[0];if(!i||"metadata"!==i.ys.toLowerCase())return;var e=i.js[0];WS(t,e,n)}(t,n)}(s,t,i);for(var h=[],c=t.Is,a=0;a<c.length;a++){var f=GS(c[a],n,i,e,r);f&&(h=h.concat(f))}if("BODY"!==t.ys.toUpperCase()){for(var v=0,d=h;v<d.length;v++){var l=d[v];s.appendChild(l)}return[s]}return h}}else rn(t)&&(s=FS(t));if(s)return[s]}function FS(t){var n,i;if(rn(t))zS(n=r.createElement("text"),t.Ps);else if(en(t))switch(t.ys.toUpperCase()){case"BR":n=r.createElement("br");break;case"SPAN":n=r.createElement("span"),(i=n).style.backgroundColor="rgba(0,0,0,0.6)",i.style.textAlign="start",i.style.lineHeight="normal",VS(n,t);break;case"P":(function(t){t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.justifyContent="flex-start",t.style.textAlign="start",t.style.padding="none",t.style.margin="0",t.style.lineHeight="normal",t.style.lineHeight="1.3em",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px"})(n=r.createElement("p")),VS(n,t);break;case"DIV":(n=r.createElement("div")).style.position="absolute",VS(n,t)}return n}function VS(t,n){var i=n.Os(Zw,"id");i&&(t.id=i)}function HS(t,n,i,e){XS(t,n.style,i,e),d.keys(n).forEach(function(i){BS[i]&&BS[i](n[i],t)})}function WS(t,n,i,e){void 0===e&&(e=!1),e&&(t.style.width=t.style.height="100%");var s=r.createElement("img");s.src=function(t){var n=t&&t.Is.length>0?t.Is[0]:null;return n&&rn(n)?"data:image/png;base64,"+n.Ps:""}(n),s.id=t.id,s.style.height="100%",s.style.maxWidth="100%",function(t,n){t.style.display="flex";var i=n.Cs("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var e=n.Cs("smpte:backgroundImageHorizontal");if(e)switch(e.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(s)}function XS(t,n,i,e){n&&n.split(" ").forEach(function(n){i[n]&&d.keys(i[n]).forEach(function(r){var s=Kw(r,["ebutts","tts","xml"]);"style"===s.toLowerCase()?XS(t,i[n][r],i,e):BS[s]&&BS[s](i[n][r],t,e)})})}function ZS(t){t.style.display="flex",t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.textAlign="start",t.style.cssText=t.style.cssText.concat("ms-writing-mode: lr-tb, horizontal-tb;-webkit-writing-mode: horizontal-tb;-moz-writing-mode: horizontal-tb;writing-mode: horizontal-tb;"),t.style.padding="none",t.style.margin="0"}var qS,JS,KS=void 0;function $S(t,n){for(var i,e=qS.MW,r="",s=[],u=t.charAt(n.Eh),o="",h={Ao:JS.kW,bs:"",mW:[]};n.Eh<t.length+1;){switch(u=n.Eh<t.length?t.charAt(n.Eh):"EOF",e){case qS.MW:switch(u){case"&":var c=t.substr(n.Eh).match(/&#?[0-9a-zA-Z]+;/);c?(r+=(i=c[0],KS||(KS=Me.document.createElement("textarea")),KS.innerHTML=i,KS.value),n.Th(c[0].length-1)):r+="&";break;case"<":if(r)return{Ao:JS.pW,Fw:r};e=qS.NW;break;case"EOF":return{Ao:JS.pW,Fw:r};default:r+=u}break;case qS.NW:switch(u){case"\t":case"\n":case"\f":case" ":e=qS.DW;break;case".":e=qS.TW;break;case"/":e=qS.IW;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,e=qS.bW;break;case">":return n.Th(1),h;case"EOF":return h;default:r=u,e=qS.EW}break;case qS.EW:switch(u){case"\t":case"\f":case" ":e=qS.DW;break;case"\n":o=u,e=qS.DW;break;case".":e=qS.TW;break;case">":return n.Th(1),{Ao:JS.kW,bs:r,mW:[]};case"EOF":return{Ao:JS.kW,bs:r,mW:[]};default:r+=u}break;case qS.TW:switch(u){case"\t":case"\f":case" ":s.push(o),o="",e=qS.DW;break;case"\n":s.push(o),o=u,e=qS.DW;break;case".":s.push(o),o="";break;case">":return n.Th(1),s.push(o),{Ao:JS.kW,bs:r,mW:s};case"EOF":return s.push(o),{Ao:JS.kW,bs:r,mW:s};default:o+=u}break;case qS.DW:switch(u){case"&":e=qS.LW;break;case">":n.Th(1);var a=o.trim();return a=a.replace(/\s/," "),{Ao:JS.kW,bs:r,mW:s,SW:a};default:o+=u}break;case qS.LW:for(var f="",v=n.Eh;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",e=qS.DW;break;case qS.IW:switch(u){case">":return n.Th(1),{Ao:JS.jW,bs:r};case"EOF":return{Ao:JS.jW,bs:r};default:r+=u}break;case qS.bW:switch(u){case">":return n.Th(1),{Ao:JS.OW,xW:r};case"EOF":return{Ao:JS.OW,xW:r};default:r+=u}}n.Th(1)}}!function(t){t.MW="Data",t.NW="Tag",t.EW="StartTag",t.TW="StartTagClass",t.DW="StartTagAnnotation",t.LW="CharRefInAnnotation",t.IW="EndTag",t.bW="TimestampTag"}(qS||(qS={})),function(t){t.pW="string",t.kW="starttag",t.jW="endtag",t.OW="timestamp"}(JS||(JS={}));var tj,nj,ij={Tx:jS.WHITE,Dx:"sans-serif",Ix:"100%",bx:"rgba(0,0,0,0.8)",Ex:jS.TRANSPARENT,Lx:"none",Sx:"visible"},ej="theoplayer-webvtt-region-",rj="theoplayer-webvtt-styling-",sj="theoplayer-webvtt-voice-",uj=5.23,oj=1.14,hj=0,cj=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,ij)||this).zW={},s.RW=lj(3),s}U(n,t);var i=n.prototype;return i.$H=function(t){var n=r.createElement("div");return n.className="theoplayer-webvtt-texttrack-"+t,Oe(n),je(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.fontFamily=this.gW.Dx,n.style.whiteSpace="pre-line",n},i.KH=function(t,n){for(var i=n/100,e=t/100,r=l.min(i,e),s=LS(this.gW),u=0,o=d.keys(this.UW);u<o.length;u++){var h=o[u],c=this.UW[h].BW;this.QW(c,r,s,this.UW[h].qw)}this.QW(this.PW,r,s),this.YW()},i.YW=function(){var t=LS(this.gW);this.PW.style.padding=t>=1.5?"0":1/t+"em"},i.fW=function(t){var n=this.sI,i=this.ez.oj/100,e=this.PW;t.qw&&(this.UW[t.qw.cg]||(this.UW[t.qw.cg]={qw:t.qw,BW:gj(t.qw,i)}),e=this.UW[t.qw.cg].BW),n.querySelector("."+e.className)||n.appendChild(e);var r=this.vW(t);e.children.length>=1&&t.qw&&"up"===t.qw.yy&&(e.style.transitionProperty="top",e.style.transitionDuration="0.433s");for(var s=0;s<r.length;s++){var u=r[s];u.className=t.vy,e.appendChild(u)}},i.vW=function(t){var n=[];return t&&n.push(this.GW(t)),n},i.GW=function(t){for(var n=new no,i=t.Fw,e=this.FW(t),s=e,u="",o=[],h={};n.Eh<i.length;){var c=$S(i,n);if(c.Ao===JS.pW){var a=this.VW(c.Fw);aj(a,h),s.appendChild(a)}else if(c.Ao===JS.kW){switch(h[c.bs.toLowerCase()]||(h[c.bs.toLowerCase()]=[]),h[c.bs.toLowerCase()].push(c),c.bs.toLowerCase()){case"c":break;case"i":var f=r.createElement("i");s.appendChild(f),s=f;break;case"b":var v=r.createElement("b");s.appendChild(v),s=v;break;case"u":var d=r.createElement("u");s.appendChild(d),s=d;break;case"ruby":var l=r.createElement("ruby");s.appendChild(l),s=l;break;case"rt":if("ruby"===u){var g=r.createElement("rt");s.appendChild(g)}break;case"v":break;case"lang":o.push(c.SW)}u=c.bs||""}else if(c.Ao===JS.jW){h[c.bs.toLowerCase()]&&h[c.bs.toLowerCase()].pop(),(!c.bs||"C"!==c.bs.toUpperCase()&&"V"!==c.bs.toUpperCase())&&("LANG"===c.bs.toUpperCase()?o.pop():"RUBY"===c.bs.toUpperCase()&&"RUBY"===s.tagName?s=s.parentNode.parentNode:s.tagName&&s.tagName.toUpperCase()===c.bs.toUpperCase()&&(s=s.parentNode)),u=c.bs||""}else if(c.Ao===JS.OW){var A=c.xW,w=new no;try{_w(A,w)}catch(t){At("ERROR collecting timestamp",t)}}}return e},i.VW=function(t){var n=r.createElement("span");return zS(n,t),n.style.background=this.gW.bx,n.style.color=this.gW.Tx,n},i.QW=function(t,n,i,e){if(e){var r=fj(e,n);t.style.height=r*i+"px",t.style.left=vj(e)+"%",t.style.top=dj(e,n)+"px"}t.style.fontSize=uj*n*i+"px"},i.FW=function(t){var n=r.createElement("div");return n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.width="auto",n.style.textAlign=t.Vw,function(t,n){"rl"===n.Kw?t.style.writingMode="vertical-rl":"lr"===n.Kw?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=mA(n);Aj(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,e,r=kA(n),s=MA(n),u=mA(n);Aj(n)?("line-left"===r?i=s:"center"===r?i=s-u/2:"line-right"===r&&(i=s-u),e=n.Jw?0:_A(n)):("line-left"===r?e=s:"center"===r?e=s-u/2:"line-right"===r&&(e=s-u),i=n.Jw?0:_A(n));t.style.left=i+"%",t.style.top=e+"%"}(n,t),n.style.background=this.gW.Ex,n.style.color=this.gW.Tx,n.style.textShadow=OS(this.gW.Lx),n},i.dW=function(t){for(var n=t.vy,i=this.sI,e=i.children,r=0;r<e.length;r++){for(var s=e[r].getElementsByClassName(n),u=0;u<s.length;u++)e[r].removeChild(s[u]);if(0===e[r].childNodes.length){for(var o=0,h=d.keys(this.UW);o<h.length;o++){var c=h[o];if(Cr(e[r].className,ej+c)){delete this.UW[c];break}}i.removeChild(e[r])}}},z(n,[{key:"UW",get:function(){return this.zW||(this.zW={}),this.zW}},{key:"PW",get:function(){return this.RW||(this.RW=lj(3)),this.RW}},{key:"oW",get:function(){return"theoplayer-webvtt-cue-"+hj++}}]),n}(CS);function aj(t,n){if(n.c)for(var i=0,e=n.c;i<e.length;i++){var r=e[i];if(r.mW)for(var s=0,u=r.mW;s<u.length;s++){var o=u[s];Le(t,rj+o)}}if(n.v)for(var h=0,c=n.v;h<c.length;h++){var a=c[h];a.SW&&Le(t,sj+a.SW)}}function fj(t,n){return t.gy*(uj*n)*oj}function vj(t){return t._y-t.Ay*t.pu/100}function dj(t,n){var i=t.My,e=t.wy*fj(t,n)/100;return l.max(0,i-e)}function lj(t){var n=r.createElement("div");return n.className=ej+"default",Oe(n),je(n.style,"inline-flex"),n.style.flexFlow="column",n.style.justifyContent="flex-end",n.style["-ms-flex-align"]="end",n.style.overflow="hidden",n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.margin="0",n.style.padding="1em",n.style.boxSizing="border-box",n.style.fontSize=uj*t+"px",n.style.lineHeight=oj+"em",n}function gj(t,n){var i=lj(n);i.className=ej+t.cg;var e=t.pu,r=fj(t,n);return i.style.width=e+"%",i.style.height=r+"px",i.style.left=vj(t)+"%",i.style.top=dj(t,n)+"px",i.style.padding="0",i.style.boxSizing="border-box",i}function Aj(t){return""===t.Kw}!function(t){t[t.HW=0]="HW",t[t.WW=1]="WW",t[t.XW=2]="XW",t[t.ZW=3]="ZW",t[t.qW=4]="qW",t[t.JW=5]="JW"}(tj||(tj={})),function(t){t[t.KW=0]="KW",t[t.$W=1]="$W",t[t.tX=2]="tX",t[t.nX=3]="nX"}(nj||(nj={}));var wj=15,yj=32,_j=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),Mj=function(){function t(){this.iX=[],this.eX=0,this.rX=void 0;for(var t=0;t<yj;t++)this.iX.push(null);this.rX=!1}var n=t.prototype;return n.sX=function(t){for(var n=0;n<yj;n++)t&&(this.iX[n]=t.iX[n])},n.hy=function(t){for(var n=0;n<yj;n++)if(this.iX[n]!==t.iX[n])return!1;return!0},n.uX=function(){for(var t=0;t<yj;t++)if(null!==this.iX[t])return!1;return!0},n.oX=function(t){this.eX!==t&&(this.eX=t),this.eX<0?this.eX=0:this.eX>yj&&(this.eX=yj-1)},n.hX=function(t){var n=this.eX+t;this.oX(n)},n.cX=function(){this.hX(-1),this.iX[this.eX]=null},n.aX=function(t){t>=144&&this.cX();var n,i=_j[n=t]?String.fromCharCode(_j[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.eX>=yj||(32===Number(t)?(this.iX[this.eX]=this.rX?"</i>":"<i>",this.rX=!this.rX):this.iX[this.eX]=t,this.hX(1))},n.fX=function(t){for(var n=t;n<yj;n++)this.iX[n]=null},n.ph=function(){this.fX(0),this.eX=0},n.vX=function(){this.fX(this.eX)},n.dX=function(t,n){for(var i=this.iX,e=null,r=0;r<yj;r++){var s=i[r];null===s?e=null:(e||(e={lX:r,gX:t,pu:0,Xk:1,iX:[[]]},n.push(e)),e.iX[0].push(s),e.pu++)}},n.R_=function(t,n){return t.AX(this.iX,n)},t}();var kj=function(){function t(){this.wX=void 0,this.yX=void 0,this._X=null,this.wX=[];for(var t=0;t<wj;t++)this.wX.push(new Mj);this.yX=wj-1,this.Jl()}var n=t.prototype;return n.sX=function(t){for(var n=0;n<wj;n++)this.wX[n].sX(t.wX[n])},n.hy=function(t){for(var n=!0,i=0;i<wj;i++)if(!this.wX[i].hy(t.wX[i])){n=!1;break}return n},n.uX=function(){for(var t=!0,n=0;n<wj;n++)if(!this.wX[n].uX()){t=!1;break}return t},n.Jl=function(){for(var t=0;t<wj;t++)this.wX[t].ph();this.yX=wj-1},n.aX=function(t){this.wX[this.yX].aX(t)},n.MX=function(){this.wX[this.yX].cX()},n.vX=function(){this.wX[this.yX].vX()},n.kX=function(){if(null!==this._X){var t=this.yX+1-this._X,n=this.wX[t];n&&(us(this.wX,t),n.ph(),this.wX.splice(this.yX,0,n))}},n.hX=function(t){this.wX[this.yX].hX(t)},n.mX=function(t){this._X=t},n.pX=function(t){var n=t.NX;this._X&&n<this._X-1&&(n=this._X-1),this.yX=n;var i=this.wX[this.yX];null!==t.DX&&i.oX(t.DX)},n.TX=function(){for(var t=this.wX,n=[],i=0;i<t.length;i++){t[i].dX(i,n)}for(var e=0;e<n.length;e++){for(var r=!1,s=n[e],u=n.length-1;u>e;){var o=n[u];pj(s,o)&&(s=mj(s,o),us(n,u),r=!0),u--}r&&(n[e]=s,e--)}return n.map(Nj)},n.R_=function(t){return t.IX(this.wX)},t}();function mj(t,n){for(var i=l.min(t.lX,n.lX),e=l.min(t.gX,n.gX),r=l.max(t.lX+t.pu,n.lX+n.pu)-i,s=l.max(t.gX+t.Xk,n.gX+n.Xk)-e,u=new Array(s),o=0;o<s;o++){var h=new Array(r),c=t.iX[o+e-t.gX];if(c)for(var a=0;a<c.length;a++)c[a]&&(h[a-i+t.lX]=c[a]);var f=n.iX[o+e-n.gX];if(f)for(var v=0;v<f.length;v++)f[v]&&(h[v-i+n.lX]=f[v]);u[o]=h}return{lX:i,gX:e,pu:r,Xk:s,iX:u}}function pj(t,n){return t.lX<=n.lX+n.pu&&n.lX<=t.lX+t.pu&&t.gX<=n.gX+n.Xk&&n.gX<=t.gX+t.Xk}function Nj(t){for(var n=new Array(t.Xk),i=t.iX,e=0;e<i.length;e++){for(var r=i[e],s=[],u=!1,o=0;o<r.length;o++){var h=r[o];h?(u||(u=!0,s.push("<c.theoplayer-text-track-fragment>")),s.push(h)):(u&&(u=!1,s.push("</c>")),s.push(" "))}u&&(u=!1,s.push("</c>")),n[e]=s.join("")}var c=n.join("\n");return{lX:t.lX,gX:t.gX,pu:t.pu,Xk:t.Xk,Fw:c}}var Dj=function(){function t(t,n){this.NX=t,this.DX=n}return t.prototype.hy=function(t){return this.NX===t.NX&&this.DX===t.DX},t}(),Tj=function(){function t(t){this.bX=void 0,this.EX=void 0,this.LX=t,this.bX=this.SX(),this.EX=this.jX()}var n=t.prototype;return n.SX=function(){for(var t=new Dj(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),n=0,i=this.CX;n<i.length;n++){var e=i[n],r=l.min(t.NX,e.OX.NX),s=l.min(t.DX,e.OX.DX);t=new Dj(r,s)}return t},n.jX=function(){for(var t=new Dj(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),n=0,i=this.CX;n<i.length;n++){var e=i[n],r=l.max(t.NX,e.xX.NX),s=l.max(t.DX,e.xX.DX);t=new Dj(r,s)}return t},z(t,[{key:"OX",get:function(){return this.bX}},{key:"xX",get:function(){return this.EX}},{key:"CX",get:function(){return cs(this.LX.map(function(t){return t.CX}))}}]),t}(),Ij=function(){function t(t,n){this.zX="",this.jx=t,this.bX=n}var n=t.prototype;return n.aX=function(t){this.zX+=t},n.RX=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.aX(i)}},z(t,[{key:"UX",get:function(){return this.zX}},{key:"CX",get:function(){return[this]}},{key:"BX",get:function(){return this.jx}},{key:"OX",get:function(){return this.bX}},{key:"xX",get:function(){return new Dj(this.OX.NX,this.OX.DX+this.UX.length-1)}}]),t}(),bj=function(){function t(){}var n=t.prototype;return n.QX=function(t){return t.R_(this)},n.IX=function(t){var n=this;return cs(t.map(function(t,i){return t.R_(n,i)}))},n.AX=function(t,n){return new Ej(t,n).PX()},t}(),Ej=function(){function t(t,n){this.YX=[],this.GX=null,this.NX=t,this.FX=n}var n=t.prototype;return n.PX=function(){if(this.VX)return[];for(var t=0;t<this.NX.length;t++)this.HX(t);return this.WX(),this.YX},n.XX=function(t){this.GX=new Ij(Rj,new Dj(this.FX,t))},n.WX=function(){this.GX&&(this.YX.push(this.GX),this.GX=null)},n.HX=function(t){var n=this.NX[t];Lj(n)?this.GX&&this.WX():(this.GX||this.XX(t),this.GX.aX(n))},z(t,[{key:"VX",get:function(){return this.NX.every(Lj)}}]),t}();function Lj(t){return null==t}var Sj,jj=function(t){function n(n,i,e){return t.call(this,n,i,e,!1)||this}return U(n,t),n}(AA),Cj=function(t){function n(n,i){var e;return(e=t.call(this,"qX")||this).ZX=n,e.Pw=i,e}return U(n,t),n}(xs);!function(t){t[t.ZI=0]="ZI",t[t.JX=1]="JX",t[t.KX=2]="KX",t[t.$X=3]="$X",t[t.cs=4]="cs"}(Sj||(Sj={}));var Oj,xj=function(t){function n(){var n;return(n=t.call(this)||this).d_=0,n.Yw=0,n.tZ=void 0,n.nZ=void 0,n.iZ=void 0,n.eZ=void 0,n.kg=Sj.ZI,n.tZ=new kj,n.nZ=new kj,n.iZ=new kj,n.eZ=n.tZ,n}U(n,t);var i=n.prototype;return i.aX=function(t){this.eZ.aX(t),this.kg!==Sj.JX&&this.kg!==Sj.KX||this.rZ()},i.RE=function(t){t!==this.kg&&(this.kg=t,this.kg===Sj.$X?this.eZ=this.nZ:(this.eZ=this.tZ,this.eZ.Jl()),this.kg!==Sj.KX&&(this.tZ.mX(null),this.nZ.mX(null)))},i.pX=function(t){this.eZ.pX(t)},i.sZ=function(){this.RE(Sj.$X)},i.uZ=function(){this.kg!==Sj.cs&&(this.eZ.MX(),this.eZ===this.tZ&&this.rZ())},i.oZ=function(){},i.hZ=function(){},i.cZ=function(){this.eZ.vX(),this.rZ()},i.aZ=function(t){this.eZ=this.tZ,this.RE(Sj.KX),this.eZ.mX(t)},i.fZ=function(){},i.vZ=function(){this.RE(Sj.JX)},i.dZ=function(){this.RE(Sj.cs)},i.lZ=function(){this.RE(Sj.cs)},i.gZ=function(){this.tZ.Jl(),this.rZ()},i.AZ=function(){this.eZ.kX(),this.rZ()},i.wZ=function(){this.nZ.Jl()},i.yZ=function(){if(this.kg===Sj.$X){var t=this.tZ;this.tZ=this.nZ,this.nZ=t,this.eZ=this.nZ}this.rZ()},i._Z=function(t){this.eZ.hX(t)},i.rZ=function(){if(null!==this.d_){if((null===this.Yw||0===this.Yw)&&!this.tZ.uX())this.Yw=this.d_;else if(!this.tZ.hy(this.iZ)){var t=this.MZ();if(this.d_>this.Yw){var n=new jj(this.Yw,this.d_,t);this.Zo(new Cj(1,n))}this.Yw=this.tZ.uX()?null:this.d_}this.iZ.sX(this.tZ)}},i.MZ=function(){return function(t){var n=[],i=[].concat(t);for(;i.length>0;){var e=i.pop(),r=void 0;do{r=!1;for(var s=0;s<i.length;s++){var u=i[s];(function(t,n){return l.abs(t.xX.DX-n.OX.DX)<=1||l.abs(n.xX.DX-t.OX.DX)<=1||l.abs(t.xX.NX-n.OX.NX)<=1||l.abs(n.xX.NX-t.OX.NX)<=1}(o=e,h=u)||function(t,n){return zj(t.OX.NX,t.xX.NX,n.OX.NX,n.xX.NX)&&zj(t.OX.DX,t.xX.DX,n.OX.DX,n.xX.DX)}(o,h))&&(e=new Tj([].concat(e.CX,u.CX)),ss(i,u),r=!0)}}while(r&&i.length>0);n.push(e)}var o,h;return n}((new bj).QX(this.iZ))},i.Jl=function(){this.d_=0,this.Yw=0,this.tZ.Jl(),this.tZ.mX(null),this.nZ.Jl(),this.nZ.mX(null),this.iZ.Jl(),this.iZ.mX(null),this.eZ=this.tZ,this.kg=Sj.ZI},n}(Cs);function zj(t,n,i,e){return n>=i&&e>=t}!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(Oj||(Oj={}));var Rj={Tx:jS.WHITE,Dx:SS.yW,Ix:"100%",bx:jS.BLACK,Ex:"transparent",Lx:"none",kZ:Oj.FONT_REGULAR,Sx:"visible"},Uj=[{mZ:jS.WHITE,kZ:Oj.FONT_REGULAR,DX:0},{mZ:jS.WHITE,kZ:Oj.FONT_UNDERLINE,DX:0},{mZ:jS.GREEN,kZ:Oj.FONT_REGULAR,DX:0},{mZ:jS.GREEN,kZ:Oj.FONT_UNDERLINE,DX:0},{mZ:jS.BLUE,kZ:Oj.FONT_REGULAR,DX:0},{mZ:jS.BLUE,kZ:Oj.FONT_UNDERLINE,DX:0},{mZ:jS.CYAN,kZ:Oj.FONT_REGULAR,DX:0},{mZ:jS.CYAN,kZ:Oj.FONT_UNDERLINE,DX:0},{mZ:jS.RED,kZ:Oj.FONT_REGULAR,DX:0},{mZ:jS.RED,kZ:Oj.FONT_UNDERLINE,DX:0},{mZ:jS.YELLOW,kZ:Oj.FONT_REGULAR,DX:0},{mZ:jS.YELLOW,kZ:Oj.FONT_UNDERLINE,DX:0},{mZ:jS.MAGENTA,kZ:Oj.FONT_REGULAR,DX:0},{mZ:jS.MAGENTA,kZ:Oj.FONT_UNDERLINE,DX:0},{mZ:jS.WHITE,kZ:Oj.FONT_ITALICS,DX:0},{mZ:jS.WHITE,kZ:Oj.FONT_UNDERLINE_ITALICS,DX:0},{mZ:jS.WHITE,kZ:Oj.FONT_REGULAR,DX:0},{mZ:jS.WHITE,kZ:Oj.FONT_UNDERLINE,DX:0},{mZ:jS.WHITE,kZ:Oj.FONT_REGULAR,DX:4},{mZ:jS.WHITE,kZ:Oj.FONT_UNDERLINE,DX:4},{mZ:jS.WHITE,kZ:Oj.FONT_REGULAR,DX:8},{mZ:jS.WHITE,kZ:Oj.FONT_UNDERLINE,DX:8},{mZ:jS.WHITE,kZ:Oj.FONT_REGULAR,DX:12},{mZ:jS.WHITE,kZ:Oj.FONT_UNDERLINE,DX:12},{mZ:jS.WHITE,kZ:Oj.FONT_REGULAR,DX:16},{mZ:jS.WHITE,kZ:Oj.FONT_UNDERLINE,DX:16},{mZ:jS.WHITE,kZ:Oj.FONT_REGULAR,DX:20},{mZ:jS.WHITE,kZ:Oj.FONT_UNDERLINE,DX:20},{mZ:jS.WHITE,kZ:Oj.FONT_REGULAR,DX:24},{mZ:jS.WHITE,kZ:Oj.FONT_UNDERLINE,DX:24},{mZ:jS.WHITE,kZ:Oj.FONT_REGULAR,DX:28},{mZ:jS.WHITE,kZ:Oj.FONT_UNDERLINE,DX:28}],Bj=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10],Qj=function(t){function n(){var n;(n=t.call(this)||this).pZ=void 0,n.NZ=null,n.DZ=null,n.TZ=0;var i=new xj;return n.pZ=[i,new xj],i.qo("qX",n.Xo),n}U(n,t);var i=n.prototype;return i.Jl=function(){for(var t=0,n=this.pZ;t<n.length;t++){n[t].Jl()}},i.IZ=function(t,n){if(n.Ao===nj.KW&&n.bZ){n.EZ&&(this.TZ=0),this.pZ[this.TZ].d_=t;var i=127&n.LZ,e=127&n.SZ;if(i+e!==0){switch(i){case 17:e>=32&&e<=47&&this.jZ(),e>=48&&e<=63&&this.CZ(i,e);break;case 18:case 19:e>=32&&e<=63&&this.CZ(i,e);break;case 20:case 21:e>=32&&e<=47&&this.OZ(i,e);break;case 23:e>=33&&e<=35&&this.OZ(i,e),e>=46&&e<=47&&this.jZ()}16===i&&e>=64&&e<=95?this.xZ(i,e):i>=17&&i<=23&&e>=64&&e<=127&&this.xZ(i,e),i>=32&&this.CZ(i,e)}}},i.OZ=function(t,n){var i=null;if(t===this.NZ&&n===this.DZ)return this.NZ=null,this.DZ=null,!0;i=20===t||23===t?0:1;var e=this.pZ[i];return 20===t||28===t?32===n?e.sZ():33===n?e.uZ():34===n?e.oZ():35===n?e.hZ():36===n?e.cZ():37===n?e.aZ(2):38===n?e.aZ(3):39===n?e.aZ(4):40===n?e.fZ():41===n?e.vZ():42===n?e.dZ():43===n?e.lZ():44===n?e.gZ():45===n?e.AZ():46===n?e.wZ():47===n&&e.yZ():e._Z(n-32),this.NZ=t,this.DZ=n,this.TZ=i,!0},i.xZ=function(t,i){t===this.NZ&&i===this.DZ&&(this.NZ=null,this.DZ=null);var e=t<=23?0:1,r=Bj[t<<1&14|i>>5&1]-1;if(!(r<0)){var s=n.zZ(r,i);this.pZ[e].pX(s),this.NZ=t,this.DZ=i,this.TZ=e}},n.zZ=function(t,n){var i=n>95?n-96:n-64;return{mZ:Uj[i].mZ,kZ:Uj[i].kZ,DX:Uj[i].DX,NX:t}},i.CZ=function(t,n){var i=t>=25?t-8:t,e=this.pZ[this.TZ],r=!1;switch(i){case 17:e.aX(n+80),r=!0;break;case 18:e.aX(n+112),r=!0;break;case 19:e.aX(n+144),r=!0;break;default:t>=32&&(e.aX(t),n>=32&&e.aX(n),r=!0)}r&&(this.NZ=null,this.DZ=null)},i.jZ=function(){this.pZ[this.TZ].eZ.hX(1)},i.nd=function(){this.$o()},z(n,[{key:"_m",get:function(){return this.pZ.length}}]),n}(Cs),Pj=function(){function t(t,n,i){this.RZ=void 0,this.UZ=t,this.BZ=n,this.BH=i}var n=t.prototype;return n.QZ=function(){return this.RZ=this.PZ(),this.YZ(),this.GZ(),this.RZ},n.PZ=function(){var t=r.createElement("div");return t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.FZ/yj*this.BZ.VZ*100+"%",t.style.height=1.2*this.HZ+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.BZ.WZ?"calc(1em - 1ch)":"",t.style.fontFamily=this.BH.Dx,t.style.backgroundColor=this.BH.Ex,t},n.YZ=function(){var t=this.XZ.NX/wj*100,n=this.XZ.DX/yj*100,i=(yj-this.ZZ.DX-1)/yj*100,e=(wj-this.ZZ.NX-1)/wj*100;this.BZ.qZ||(n=i=1,this.RZ.style.width="98%"),e<t?this.RZ.style.bottom=e*this.BZ.VZ+"%":this.RZ.style.top=t*this.BZ.VZ+"%",i<n?this.RZ.style.right=i+"%":this.RZ.style.left=n+"%"},n.GZ=function(){for(var t=this.UZ.CX.sort(Yj),n=0;n<t.length;n++)this.JZ(t[n-1],t[n]),this.KZ(t[n]);this.JZ(t[t.length-1],null)},n.KZ=function(n){var i=ES(this.BH,n.BX),e=t.$Z(i);zS(e,n.UX),this.RZ.appendChild(e)},t.$Z=function(t){var n=r.createElement("span");return n.style.display="inline-block",t.kZ!==Oj.FONT_ITALICS&&t.kZ!==Oj.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.kZ!==Oj.FONT_UNDERLINE&&t.kZ!==Oj.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline"),n.style.color=t.Tx,n.style.backgroundColor=t.bx,n.style.textShadow=OS(t.Lx),n.style.height="1.2em",n},n.JZ=function(t,n){var i=t?t.xX.NX:this.UZ.OX.NX,e=n?n.OX.NX:this.UZ.xX.NX,r=t?t.xX.DX:this.UZ.OX.DX,s=n?n.OX.DX:this.UZ.xX.DX;i<e&&(!n||t&&t.OX.NX!==n.OX.NX?this.tq():this.nq(this.UZ.xX.DX-r),r=this.UZ.OX.DX),r<s&&(n?this.nq(s-r):this.tq())},n.tq=function(){var t=r.createElement("br");this.RZ.appendChild(t)},n.nq=function(t){if(!(t<=0)){var n=r.createElement("span");n.style.display="inline-block",zS(n,Rr(" ",t)),this.RZ.appendChild(n)}},z(t,[{key:"XZ",get:function(){return this.UZ.OX}},{key:"ZZ",get:function(){return this.UZ.xX}},{key:"FZ",get:function(){return this.UZ.xX.DX-this.UZ.OX.DX+1}},{key:"HZ",get:function(){return this.UZ.xX.NX-this.UZ.OX.NX+1}}]),t}();function Yj(t,n){return function(t,n){if(t.NX!==n.NX)return t.NX-n.NX;return t.DX-n.DX}(t.OX,n.OX)}var Gj=0;var Fj=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Rj)||this).iq=void 0,s.rq=void 0,s}U(n,t);var i=n.prototype;return i.$H=function(t){var n=r.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.height="100%",this.gW.Dx&&(n.style.fontFamily=this.gW.Dx),n},i.KH=function(t,n){this.sq()},i.sq=function(){var t,n=LS(this.gW);this.rq={VZ:(t=100*n)/100,WZ:t<=100,qZ:t<=150};var i=this.uq/yj;this.iq=i*n,this.sI.style.fontSize=this.iq+"px"},i.vW=function(t){var n=this;return this.rq&&this.rq.qZ?this.oq(80):this.oq(100),this.sq(),t.Fw.map(function(t){return new Pj(t,n.rq,n.gW).QZ()})},i.oq=function(t){var n=(100-t)/2;this.sI.style.left=n+"%",this.sI.style.width=t+"%"},z(n,[{key:"uq",get:function(){var t=this.sI.offsetWidth;return this.rq&&this.rq.qZ||(t*=.8),t}},{key:"oW",get:function(){return"theoplayer-cea608-texttrack-"+Gj++}}]),n}(CS),Vj=function(){function t(t,n,i,e,r){var s=this;this.hq=void 0,this.XF=void 0,this.SA=void 0,this.cq=void 0,this.aq=[],this.oE=void 0,this.fq=function(t){var n=t.Nl;n.qo(Cd.Rl,s.vq),n.qo(Cd.Bl,s.vq),n instanceof QL&&(n.DG=s.DG),s.dq(n)},this.vq=function(t){var n=t.Nl;s.dq(n)},this.lq=function(t){var n=t.Nl;n.th(Cd.Rl,s.vq),n.th(Cd.Bl,s.vq),s.gq(n)},this.Aq=function(){for(var t=s.DG,n=0,i=s.SA.Kl;n<i.length;n++){var e=i[n];e instanceof QL&&(e.DG=t)}},this.wq=function(){for(var t=0,n=s.aq;t<n.length;t++){n[t].nW(s.oE)}},this.yq=function(){for(var t=0,n=s.aq;t<n.length;t++){var i=n[t];i.nW(sr({},i.eW(),{Sx:"hidden"}))}},this._q=function(){for(var t=0,n=s.aq;t<n.length;t++){var i=n[t];i.nW(sr({},i.eW(),{Sx:"visible"}))}},this.hq=t,this.XF=n,this.SA=i,this.cq=r,this.oE=e,this.SA.qo(Ed.wl,this.fq),this.SA.qo(Ed._l,this.lq),this.SA.qo("zl",this.vq),this.cq.qo(hm.xl,this.Aq),this.oE.qo("zl",this.wq),this.Aq()}var n=t.prototype;return n.Mq=function(t){for(var n=0,i=this.aq;n<i.length;n++){var e=i[n];if(e.Nl===t)return e}},n.kq=function(t){switch(t.Ao){case $g.TTML:case $g.SRT:case $g.WEBVTT:case $g.CEA608:return!0}return!1},n.mq=function(t){switch(t.Ao){case $g.TTML:return new YS(t,this.hq,t.vg,this.XF);case $g.SRT:case $g.WEBVTT:return new cj(t,this.hq,t.vg,this.XF);case $g.CEA608:return new Fj(t,this.hq,t.vg,this.XF)}},n.pq=function(t){var n=this.Mq(t);n||((n=this.mq(t)).nW(this.oE),this.aq.push(n),t.kg===cl.yg&&n.hW())},n.gq=function(t){for(var n=this.aq,i=n.length-1;i>=0;i-=1){var e=n[i];e.Nl===t&&(e.nd(),us(n,i))}},n.dq=function(t){var n;(n=t.fg)!==dy.UM&&n!==dy.Zp||!this.kq(t)||(t.Ng===Kg.ERROR?this.gq(t):this.pq(t))},n.Jl=function(){for(var t=0,n=this.aq;t<n.length;t++){var i=n[t];i.Nl.th(Cd.Rl,this.vq),i.Nl.th(Cd.Bl,this.vq),i.nd()}hs(this.aq)},n.nd=function(){this.Jl();for(var t=0,n=this.aq;t<n.length;t++){n[t].nd()}this.SA.th(Ed.wl,this.fq),this.SA.th(Ed._l,this.lq),this.SA.th("zl",this.vq),this.cq.th(hm.xl,this.Aq),this.oE.th("zl",this.wq)},z(t,[{key:"DG",get:function(){return this.cq.qb}}]),t}();function Hj(t){var n=new BN,i=function(t){var n=[];return RN.Ej(t)&&n.push(new RN(t)),UN.Ej(t)&&n.push(new UN(t)),n}(t);if(i.length>0){for(var e=0;e<i.length;e++){var r=i[e];n.Oj(r)}n.Cj(i[0])}return n}var Wj,Xj=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r)||this).Nq=void 0,s.Dq=void 0,s.Tq=void 0,s.Tq=Hj(n),s.Nq=new bS,s.Dq=new Vj(s.Nq.hw,s.ez,s.RA,s.sz,s.yI),s}U(n,t);var i=n.prototype;return i.KA=function(){return this.Vc},i.xo=function(){var n=N.coroutine(rr.mark(function n(){return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Tq.nd(),this.Nq.nd(),this.Dq.nd(),n.next=5,t.prototype.xo.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.JA=function(){t.prototype.JA.call(this),this.Nq.JA()},i.qA=function(){t.prototype.qA.call(this),this.Nq.qA()},i.CH=function(n){t.prototype.CH.call(this,n),this.Nq.CH(n)},z(n,[{key:"sI",get:function(){return this.Vc}},{key:"lA",get:function(){return this.Vc.videoHeight}},{key:"gA",get:function(){return this.Vc.videoWidth}},{key:"yI",get:function(){return this.Tq}}]),n}(_S);!function(t){t.Iq="HELLO",t.bq="HI_THERE",t.Eq="INITIALIZE",t.Lq="APPEND_INIT",t.Sq="APPEND_DATA",t.jq="ACK",t.Cq="REMOVE",t.Oq="DESTROY_SESSION"}(Wj||(Wj={}));var Zj=function(){function t(){this.eu=void 0,this.Gc=void 0,this.Cz=new eT}var n=t.prototype;return n.xq=function(t){var n=this;return this.Cz.mz(function(){var t=N.coroutine(rr.mark(function t(i){var e,r,s,o,h,c;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ys(i),e=new MessageChannel,r=e.port1,s=e.port2,u.serviceWorker.controller){t.next=7;break}return t.next=7,Id(u.serviceWorker,"install",i);case 7:if("activated"===u.serviceWorker.controller.state){t.next=10;break}return t.next=10,Id(u.serviceWorker.controller,"activate",i);case 10:return o={kind:Wj.Iq,port:s},u.serviceWorker.controller.postMessage(o,[s]),r.start(),n.eu=r,t.prev=15,t.next=18,Id(r,"message",i);case 18:if(h=t.sent,(c=h.data).kind===Wj.bq){t.next=23;break}throw new f("Could not set up message channel");case 23:n.Gc=c.sessionId,t.next=30;break;case 26:throw t.prev=26,t.t0=t.catch(15),ws(t.t0)&&n.zq(),t.t0;case 30:case"end":return t.stop()}},t,null,[[15,26]])}));return function(n){return t.apply(this,arguments)}}(),t)},n.Rq=function(t,n){var i=this;return this.eu,this.Cz.mz(N.coroutine(rr.mark(function e(){var r;return rr.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.eu){e.next=2;break}throw new f("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.eu.postMessage(t,n),e.next=7,Id(i.eu,"message");case 7:return r=e.sent,e.abrupt("return",r.data);case 10:case"end":return e.stop()}},e)})))},n.Uq=function(){var t=this;return this.Cz.mz(function(){return t.zq()})},n.zq=function(){if(u.serviceWorker.controller&&"activated"===u.serviceWorker.controller.state&&this.eu){var t={kind:Wj.Oq};this.eu.postMessage(t),this.eu.close(),this.eu=void 0}},t}(),qj=function(){function t(){this.Bq=bA.p_}var n=t.prototype;return n.Qq=function(t,n){var i=t.Cy(n);this.Bq=i.py(this.Pq)?this.Bq:i},n.Yq=function(t){this.Bq=t},z(t,[{key:"Pq",get:function(){return this.Bq}}]),t}(),Jj=function(t){function n(n,i){var e;return(e=t.call(this)||this).Gq=void 0,e.Fq=void 0,e.mU=void 0,e.Cz=new eT,e.Vq=!1,e.Hq=!1,e.SS=n,e.Wq=i,e}U(n,t);var i=n.prototype;return i.NP=function(t,n){},i.DP=function(t,n){},i.aR=function(){return this.Hq},i.TP=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.sP=function(){var t=N.coroutine(rr.mark(function t(n,i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.XQ=function(){var t=N.coroutine(rr.mark(function t(i,e,r){var s,u,o=this;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.Ao===TT.gR){t.next=2;break}throw new f("Streaming or opaque segments are not supported yet.");case 2:return s=i.Ps,u=function(){var t=N.coroutine(rr.mark(function t(){var i,e,r,u,h,c,a;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Vw.yk(new DataView(s.buffer)),(e=Uw(i,qA.NM)).length){t.next=4;break}throw new f("Moof boxes not found");case 4:return r=o.mU,u=n.Xq(e,r),h=o.Zq(e,r),c=s.buffer,a={kind:Wj.Sq,mimeType:o.SS,segment:s,startPts:zA.E_(u).R_(),totalDuration:zA.E_(h).R_()},t.next=11,o.Wq.Rq(a,[c]);case 11:void 0===o.Gq&&(o.Gq=u),void 0===o.Fq&&(o.Fq=u),o.Fq=o.Fq.mw(h),o.Zo(new xs(kT.dR));case 15:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.Cz.mz(function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ys(n),t.prev=1,o.Vq=!0,t.next=5,u();case 5:return t.prev=5,o.Vq=!1,t.finish(5);case 8:case"end":return t.stop()}},t,null,[[1,,5,8]])}));return function(n){return t.apply(this,arguments)}}(),r));case 5:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.JQ=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s=this;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Ao===TT.gR){t.next=2;break}throw new f("Streaming or opaque initialization segments are not supported yet.");case 2:return e=n.Ps,r=function(){var t=N.coroutine(rr.mark(function t(){var n,i,r,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Vw.yk(new DataView(e.buffer)),i=Rw(n,qA.J_)){t.next=4;break}throw new f("Moov Box not found");case 4:if(0!==i.jk.length){t.next=6;break}throw new f("Tracks not found");case 6:return s.mU=i.jk[0].Pk.fk.l_,r=e.buffer,u={kind:Wj.Lq,mimeType:s.SS,segment:e},t.next=11,s.Wq.Rq(u,[r]);case 11:s.Zo(new xs(kT.dR));case 12:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.Cz.mz(function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ys(n),t.prev=1,s.Vq=!0,t.next=5,r();case 5:return t.prev=5,s.Vq=!1,t.finish(5);case 8:case"end":return t.stop()}},t,null,[[1,,5,8]])}));return function(n){return t.apply(this,arguments)}}(),i));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.yP=function(){this.Hq=!0},i.lP=function(){this.Hq=!1},i.Jh=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r,s=this;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(){var t=N.coroutine(rr.mark(function t(){var n;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={kind:Wj.Cq,mimeType:s.SS,endTime:zA.D_(i).R_()},t.next=3,s.Wq.Rq(n);case 3:s.Gq=void 0,s.Fq=void 0,s.Zo(new xs(kT.dR));case 6:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.Cz.mz(function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ys(n),t.prev=1,s.Vq=!0,t.next=5,r();case 5:return t.prev=5,s.Vq=!1,t.finish(5);case 8:case"end":return t.stop()}},t,null,[[1,,5,8]])}));return function(n){return t.apply(this,arguments)}}(),e));case 2:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.eR=function(t){return this.SS===t.vv},i.rR=function(t){return this.SS=t.vv,N.resolve()},n.Xq=function(t,n){if(0===t.length)throw new f("Initial Moof box not found");var i=t[0];if(0===i.jk.length)throw new f("No tracks");if(!i.jk[0].hp)throw new f("No decode time");return new bA(i.jk[0].hp.hp.toNumber(),n)},i.Zq=function(t,n){var i=0;return t.forEach(function(t){t.jk.forEach(function(t){t.op.forEach(function(t){t.lp.forEach(function(t){var n;i+=null!=(n=t.oA)?n:0})})})}),new bA(i,n)},i.xo=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$o(),t.next=3,this.Cz.nd();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),z(n,[{key:"uw",get:function(){return void 0===this.Gq||void 0===this.Fq?am.Xb():new am([this.Gq.k_,this.Fq.k_])}},{key:"uc",get:function(){return{vv:this.SS}}},{key:"TS",get:function(){return this.SS}},{key:"EP",get:function(){return am.Xb()}},{key:"SC",get:function(){return 30},set:function(t){}},{key:"zC",get:function(){return 30},set:function(t){}},{key:"Uj",get:function(){return this.Vq}},{key:"qq",get:function(){return this.Gq}},{key:"Gw",get:function(){return this.Fq}}]),n}(Cs),Kj=function(){function t(t,n){this.Cc=void 0,this.sY=void 0,this.uY=void 0,this.Cc=t,this.uY=es(n,function(t){return Boolean(t.TS.match(/video/))}),this.sY=es(n,function(t){return Boolean(t.TS.match(/audio/))}),this.Jq()}t.Kq=function(n,i){for(var e=[],r=0;r<n.yY.length;r++){var s=n.yY[r].vv;e.push(new Jj(s,i))}return new t(n,e)};var n=t.prototype;return n.Jq=function(){},n.xo=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.all([this.sY,this.uY].filter(K).map(function(t){return t.xo()}));case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.lY=function(t){},n.wY=function(t,n,i,e){},n.yP=function(){var t,n;null==(t=this.sY)||t.yP(),null==(n=this.uY)||n.yP()},n.lP=function(){var t,n;null==(t=this.sY)||t.lP(),null==(n=this.uY)||n.lP()},n.eR=function(t){return t===this.Cc},n.rR=function(t){return this.Cc=t,N.resolve()},z(t,[{key:"$q",get:function(){return[this.sY,this.uY].filter(K)}},{key:"nY",get:function(){return this.sY}},{key:"uw",get:function(){return lE(this)}},{key:"uc",get:function(){return this.Cc}},{key:"oA",get:function(){return 0}},{key:"aR",get:function(){var t,n,i,e,r=null==(t=null==(n=this.sY)?void 0:n.aR())||t,s=null==(i=null==(e=this.uY)?void 0:e.aR())||i;return r&&s}},{key:"_w",get:function(){return new am([0,1/0])}},{key:"iY",get:function(){return this.uY}},{key:"zA",get:function(){throw new f("Not implemented")}}]),t}(),$j=bA.Yy,tC=new bA(-1/0),nC=bA.p_,iC=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.Ny=function(t,n){return t.Ey(n)?Wr.Eo:t.hy(n)?Wr.Io:Wr.bo},i.mw=function(t,n){return t.mw(n)},i.Cy=function(t,n){return t.Cy(n)},i.by=function(t,n){return t.by(n)},i.mb=function(){return $j},i.pb=function(){return nC},i.Ib=function(){return tC},n.Vb=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new bA(t.start(e)),new bA(t.end(e)));return new n(i)},n.tJ=function(t){for(var i=[],e=[],r=0;r<t.$l;r++)i.push(new bA(t.ab(r))),i.push(new bA(t.vb(r))),e.push(t.fb(r)),e.push(t.lb(r));return new n(i,e)},n.Wb=function(t){return new n([t,t],[!0,!0])},i.Mb=function(t,i){return new n(t,i)},i.yb=function(t){return t.k_},n.Xb=function(){return eC},n}(cm),eC=new iC([]),rC=function(t){function n(n){var i;return(i=t.call(this)||this).nJ=!0,i.Wq=new Zj,i.iJ=new qj,i.OT=void 0,i.JF=void 0,i.eJ=!0,i.rJ=new eo,i.eE=!1,i.fV=N.resolve(),i.vV=new gs,i.sJ=!0,i.lV=am.Xb(),i.Tq=void 0,i.uJ=void 0,i.NV=!1,i.QT=void 0,i.oJ=function(){i.fA||i.hJ.$l<=0||i.uw.$l<=0||i.iJ.Qq(new bA(i.uw.vb(i.uw.$l-1)),i.hJ.vb(i.hJ.$l-1))},i.cJ=function(){i.Zo(new rg(i.uA))},i.aJ=function(){i.Zo(new eg(i.uA,i.ow))},i.fJ=function(){i.Zo(new ig(i.uA,i.vA))},i.vJ=function(){i.Zo(new hg(i.uA,i.AA))},i.dJ=function(){i.Zo(new ng(i.oA))},i.lJ=function(){i.Zo(new a_(i.uA))},i.gJ=function(){i.Ih(i.uA)},i.AJ=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i.sJ&&i.Zo(new ql(i.uA)),i.eJ=!1,i.sJ=!0;case 3:case"end":return t.stop()}},t)})),i.wJ=function(){i.eJ=!0,i.Zo(new Zl(i.uA))},i.uJ=n,i.JF=new pE(sn(i)),i.uJ.setAttribute("id","player_video"),i.uJ.setAttribute("x-webkit-airplay","deny"),i.uJ.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.uJ.playsInline=!0,i.uJ.style.width="100%",i.uJ.style.height="100%",i.yJ(),i._J(),i.Tq=Hj(i.uJ),i}U(n,t);var i=n.prototype;return i.yJ=function(){this.uJ.addEventListener("timeupdate",this.oJ),this.uJ.addEventListener("ended",this.cJ),this.uJ.addEventListener("timeupdate",this.aJ),this.uJ.addEventListener("ratechange",this.fJ),this.uJ.addEventListener("volumechange",this.vJ),this.uJ.addEventListener("durationchange",this.dJ),this.uJ.addEventListener("playing",this.lJ),this.uJ.addEventListener("seeking",this.gJ),this.uJ.addEventListener("play",this.AJ),this.uJ.addEventListener("pause",this.wJ)},i.MJ=function(){this.uJ.removeEventListener("timeupdate",this.oJ),this.uJ.removeEventListener("ended",this.cJ),this.uJ.removeEventListener("timeupdate",this.aJ),this.uJ.removeEventListener("ratechange",this.fJ),this.uJ.removeEventListener("volumechange",this.vJ),this.uJ.removeEventListener("durationchange",this.dJ),this.uJ.removeEventListener("playing",this.lJ),this.uJ.removeEventListener("seeking",this.gJ),this.uJ.removeEventListener("play",this.AJ),this.uJ.removeEventListener("pause",this.wJ)},i._J=function(){this.JF.qo(Wl.Rl,this.Xo)},i.kJ=function(){this.JF.th(Wl.Rl,this.Xo)},i.Ih=function(t,n){this.vV.Po(),this.vV=new gs,this.fV=this.wH(t,this.fV,this.vV.Fo).catch(T)},i.wH=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r,s,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.lV=this.ww,s=null==(r=this.OT)?void 0:r.$q){t.next=4;break}return t.abrupt("return");case 4:return u=l.max.apply(l,s.map(function(t){return t.qq?t.qq.k_:1/0})),this.eE=!0,this.Zo(new ug(n)),t.next=9,i.catch(T);case 9:if(ys(e),t.prev=10,this.nJ||this.mJ(),this.uJ.load(),this.eJ){t.next=17;break}return this.sJ=!1,t.next=17,ks(this.uJ.play(),e);case 17:if(!(this.Ng<El.Jg)){t.next=22;break}return t.next=20,this.JF.rh(Wl.Rl,e);case 20:t.next=17;break;case 22:this.rJ.Oh(),this.nJ=!1,this.eE=!1,this.Zo(new og(this.uA)),t.next=32;break;case 28:throw t.prev=28,t.t0=t.catch(10),this.rJ.xh(t.t0),t.t0;case 32:return t.prev=32,this.pJ(),this.iJ.Yq(new bA(u)),t.finish(32);case 36:case"end":return t.stop()}},t,this,[[10,28,32,36]])}));return function(n,i,e){return t.apply(this,arguments)}}(),i.QA=function(){this.eJ=!0,this.uJ.pause()},i.BA=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.eJ){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,this.uJ.src){t.next=9;break}return this.SH(),t.next=7,this.rJ.Ch;case 7:t.next=11;break;case 9:return t.next=11,this.uJ.play();case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),this.eJ=!0,t.t0;case 17:case"end":return t.stop()}},t,this,[[2,13]])}));return function(){return t.apply(this,arguments)}}(),i.xo=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Wq&&this.Wq.Uq().catch(T),this.vV.Po(),this.MJ(),this.kJ(),this.JF.xo(),this.$o();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Jl=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Wq&&this.Wq.Uq().catch(T),this.vV.Po(),this.uJ.removeAttribute("src"),this.uJ.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.uJ.removeAttribute("x-airplay-deny"),this.uJ.load(),this.JF.Jl(),this.lV=am.Xb();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.SH=function(){this.jH||(cC(this.uJ,p.Wu),this.NV=!0)},i.mJ=function(){var t,n=this.uJ.getClientRects();if(n.length>0){var i,e,r=(t=n[0]).width,s=this.uJ.videoWidth/this.uJ.videoHeight,u=t.height;r/u>s?(i=u*s,e=u):(e=r/s,i=r),this.uJ.style.width=i+"px",this.uJ.style.height=e+"px",this.uJ.style.marginLeft=(r-i)/2+"px",this.uJ.style.marginTop=(u-e)/2+"px",this.uJ.style.backgroundColor="black"}},i.pJ=function(){this.uJ.style.width="100%",this.uJ.style.height="100%",this.uJ.style.marginLeft="",this.uJ.style.marginTop="",this.uJ.style.backgroundColor=""},i.AI=function(t,n,i,e){},i.sN=function(t,n,i,e,r,s){},i.cR=function(t){},i.II=function(){return TD(this.uJ)},i.qA=function(){this.uJ.style.display="block"},i.JA=function(){this.uJ.style.display="none"},i.EH=function(){},i.qh=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Ao!==By.aN){t.next=2;break}throw new f("Not yet implemented");case 2:return t.next=4,this.Wq.xq();case 4:return i={kind:Wj.Eq,mediaBufferConfigs:n.yY.map(function(t){return t.vv})},t.next=7,this.Wq.Rq(i);case 7:return this.OT=Kj.Kq(n,this.Wq),this.uJ.preload="none",this.uJ.src="https://theo.proxy/"+this.Wq.Gc+"/master.m3u8",t.abrupt("return",this.OT);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.LH=function(){},i.hN=function(t){},i._I=function(){},i.TI=function(t){},i.lI=function(){return!1},i.CH=function(t){t.appendChild(this.uJ)},i.KA=function(){return this.uJ},i.cH=function(){},i.sw=function(){},z(n,[{key:"sI",get:function(){return this.uJ}},{key:"TY",get:function(){return!1}},{key:"uA",get:function(){return this.uJ.currentTime+this.iJ.Pq.k_}},{key:"fA",get:function(){return this.uJ.paused}},{key:"AA",get:function(){return this.uJ.volume},set:function(t){this.uJ.volume=t}},{key:"vA",get:function(){return this.uJ.playbackRate},set:function(t){this.uJ.playbackRate=t}},{key:"NJ",get:function(){return this.uJ.defaultPlaybackRate}},{key:"uw",get:function(){var t,n;return null!=(t=null==(n=this.OT)?void 0:n.uw)?t:am.Xb()}},{key:"hJ",get:function(){return iC.Vb(this.uJ.buffered)}},{key:"ww",get:function(){var t=am.Hb(this.DJ);return this.lV.Lb(t.Th(this.iJ.Pq.k_))}},{key:"DJ",get:function(){return iC.Vb(this.uJ.played)}},{key:"dA",get:function(){return this.eE}},{key:"oA",get:function(){return this.uJ.duration}},{key:"aA",get:function(){return this.uJ.muted},set:function(t){this.uJ.muted=t}},{key:"BX",get:function(){return this.uJ.style}},{key:"xH",get:function(){return sr({},_T,{Vz:!0,Hz:300})}},{key:"Ng",get:function(){return this.JF.Ng}},{key:"lA",get:function(){return this.uJ.videoHeight}},{key:"gA",get:function(){return this.uJ.videoWidth}},{key:"hA",get:function(){return this.uJ.ended}},{key:"Xk",get:function(){return 0}},{key:"pu",get:function(){return 0}},{key:"cw",get:function(){return!1}},{key:"jH",get:function(){return this.NV}},{key:"ow",get:function(){}},{key:"ez",get:function(){}},{key:"vh",get:function(){}},{key:"yI",get:function(){return this.Tq}},{key:"_w",get:function(){return this.OT?this.OT._w:am.Xb()}},{key:"bI",get:function(){}},{key:"RA",get:function(){}},{key:"sz",get:function(){}},{key:"Mw",get:function(){return!1},set:function(t){}},{key:"OH",get:function(){return"block"===this.uJ.style.display}},{key:"uI",get:function(){return this.QT},set:function(t){this.QT=t}},{key:"WF",get:function(){}}]),n}(Cs),sC=2,uC=[Ug.Vv,Ug.Hv];function oC(t){var n=r.createElement(t);return ze(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),hC(n),n}function hC(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),Ie(t),Re(t),t.pause(),t.playbackRate=1,t.preload=im.XI,t.controls=!1,t.style.display="none",ze(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function cC(t,n){if(n.ou){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var e=t.play();st(e)&&Ts(e),t.pause()}}var aC;we=(aC={TJ:function(){function t(t,n,i,e,r){void 0===i&&(i=sC),void 0===e&&(e=uC),void 0===r&&(r=Ko()),this.IJ=void 0,this.bJ=void 0,this.mo=void 0,this.EJ=void 0,this.XF=void 0,this.oE=void 0,this.LJ=void 0,this.IJ=i,this.bJ=[].concat(e),this.mo=r,this.XF=t,this.oE=n,this.EJ=or(),this.SJ()}var n=t.prototype;return n.aE=function(t){for(var n=0,i=this.vE;n<i.length;n++){i[n].CH(t)}},n.rI=function(t){var n=es(this.EJ.get(t),function(t){return t.jJ});if(n)return n.jJ=!1,n.CJ},n.OJ=function(t){if(!this.LJ)throw new f("Error creating iOS Safari MediaController");return this.LJ},n.mI=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.sI,e=i.tagName.toLowerCase(),t.next=4,n.Jl();case 4:hC(i),(r=es(this.EJ.get(e)||[],function(t){return n===t.CJ}))&&(r.jJ=!0);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.fE=function(){for(var t=0,n=this.vE;t<n.length;t++){n[t].SH()}},n.nd=function(){for(var t=0,n=this.vE;t<n.length;t++){var i=n[t],e=i.sI;i.xo(),hC(e),Te(e)}},n.SJ=function(){for(var t=0,n=this.bJ;t<n.length;t++){var i=n[t],e=[];this.EJ.set(i,e);for(var r=0;r<this.IJ;r++){var s=oC(i),u=i===Ug.Vv?new TS(s,this.mo,this.XF):new Xj(s,this.mo,this.XF,this.oE);e.push({CJ:u,jJ:!0})}}if(Z.Yr&&Z.pr){var o=oC(Ug.Hv);this.LJ=new rC(o)}},z(t,[{key:"vE",get:function(){for(var t=[],n=0,i=this.bJ;n<i.length;n++){var e=i[n],r=this.EJ.get(e).map(function(t){return t.CJ});t.push.apply(t,r)}return this.LJ&&t.push(this.LJ),t}}]),t}(),xJ:function(){function t(n){var i=this;this.zJ=new eT,this.RJ=N.coroutine(rr.mark(function n(){var e,r,s;return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=i.sE.rI(Ug.Hv),r=e.sI,n.next=4,t.UJ(r);case 4:return s=n.sent,n.next=7,i.sE.mI(e);case 7:return n.abrupt("return",s);case 8:case"end":return n.stop()}},n)})),this.sE=n}var n=t.prototype;return n.Bz=function(){return this.zJ.mz(this.RJ)},n.WA=function(){this.sE.fE()},t.UJ=function(){var n=N.coroutine(rr.mark(function n(i){return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!Z.xr&&!Z.Cr){n.next=2;break}return n.abrupt("return","all");case 2:return i.src||(i.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),n.next=5,t.BJ();case 5:return n.next=7,t.QJ(i);case 7:if(!n.sent){n.next=9;break}return n.abrupt("return","all");case 9:return n.next=11,t.PJ(i);case 11:if(!n.sent){n.next=13;break}return n.abrupt("return","muted");case 13:return n.abrupt("return","none");case 14:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.QJ=function(){var t=N.coroutine(rr.mark(function t(n){var i,e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.play(),t.prev=1,st(i)){t.next=4;break}return t.abrupt("return",!Z.Tr);case 4:return e=Es(100),t.next=7,N.race([i,e]);case 7:return t.abrupt("return",!0);case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",!1);case 13:return t.prev=13,n.pause(),t.finish(13);case 16:case"end":return t.stop()}},t,null,[[1,10,13,16]])}));return function(n){return t.apply(this,arguments)}}(),t.PJ=function(){var n=N.coroutine(rr.mark(function n(i){var e;return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.muted=!0,n.next=3,t.QJ(i);case 3:return e=n.sent,i.muted=!1,n.abrupt("return",e);case 6:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.BJ=function(){return new N(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else o(t,0)})},n.nd=function(){this.zJ.nd()},t}(),YJ:{QS:function(t){Me.addEventListener("beforeunload",t)},JS:function(t){Me.removeEventListener("beforeunload",t)}},GJ:e}).TJ,ye=aC.xJ,_e=aC.YJ,Me=aC.GJ,ke=Me&&Me.location,me=Me&&Me.navigator;var fC=[];function vC(){fC.shift()()}function dC(t){fC.push(t),o(vC,0)}var lC=function(){function t(t){this.FJ=void 0,this.VJ=void 0,this.HJ=void 0,this.HJ=t}var n=t.prototype;return n.WJ=function(t){return this.FJ=this.FJ||{},void 0===this.FJ[t]&&(this.FJ[t]=[]),this.FJ[t]},n.addEventListener=function(t,n){var i=this.WJ(t);-1===i.indexOf(n)&&i.push(n)},n.Ko=function(t){(this.VJ||(this.VJ=[])).push(t)},n.removeEventListener=function(t,n){var i=this.WJ(t);n?ss(i,n):i.length=0},n.eh=function(t){var n=this.VJ;n&&ss(n,t)},n.$o=function(){this.FJ=void 0},n.dispatchEvent=function(t,n){if(n)return dC(this.dispatchEvent.bind(this,t));"string"==typeof t&&(t={type:t});for(var i=this.WJ(t.type).slice(),e=this.VJ&&this.VJ.slice(),r=0;r<i.length;r++){i[r].call(this.HJ||this,t)}if(e)for(var s=0;s<e.length;s++){e[s].call(this.HJ||this,t)}},n.XJ=function(t){return Boolean(this.FJ&&this.FJ[t]&&this.FJ[t].length)},n.ZJ=function(){return this.FJ?d.keys(this.FJ):[]},t}(),gC=function(){function t(){this.qJ=[]}var n=t.prototype;return n.Kq=function(t,n){var i=this.qJ[t];return i?new i(n):null},n.Gz=function(t,n){this.qJ[t]=n},t}();gC.rs=new gC;var AC,wC=function(t){function n(n,i){var e,r=_C[n];return(e=t.call(this,r?r.oh:"")||this).code=void 0,e.info=void 0,e.helpLink=void 0,e.helpLinkText=void 0,e.code=n,e.info=i,e.helpLink=r&&r.JJ,e.helpLinkText=r&&r.KJ,e}return U(n,t),z(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(on);!function(t){t.$J="LICENSE_INVALID",t.tK="MANIFEST_NOT_FOUND",t.nK="MANIFEST_CORS_ERROR",t.iK="INVALID_HLS_MANIFEST",t.eK="PLAYBACK_ISSUE",t.rK="AUDIO_ISSUE",t.sK="BROWSER_SUPPORT_ISSUE",t.uK="INVALID_KEY",t.oK="DECRYPTION_ERROR",t.hK="AD_BLOCK_DETECTED",t.cK="THEOPLAYER_NOT_INITIALIZED",t._g="ERROR",t.aK="MANIFEST_SEQUENCE_RESET_ERROR",t.fK="PLAYER_INCORRECTLY_CONFIGURED",t.vK="UNSUPPORTED"}(AC||(AC={}));for(var yC=[{zh:AC.$J,oh:"The license for this player is invalid. Please contact your service provider for additional information."},{zh:AC.tK,oh:"Could not load the manifest file."},{zh:AC.nK,oh:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",JJ:"https://www.theoplayer.com/documentation/cors.html",dK:!1},{zh:AC.iK,oh:"The source of the player is an invalid HLS manifest.",JJ:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{zh:AC.eK,oh:"There appears to be a playback issue."},{zh:AC.rK,oh:"There is an audio issue. Please contact your service provider with the code below for additional information."},{zh:AC.sK,oh:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{zh:AC.uK,oh:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{zh:AC.oK,oh:"There is a decryption error. Please contact your service provider with the code below for additional information."},{zh:AC.hK,oh:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{zh:AC.cK,oh:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{zh:AC._g,oh:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{zh:AC.aK,oh:"The video stream has been reset. THEOplayer will attempt to reload the source."},{zh:AC.fK,oh:"The player is incorrectly configured.",JJ:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{zh:AC.vK,oh:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],_C={},MC=0;MC<yC.length;MC++){var kC=yC[MC];_C[kC.zh]=kC}function mC(t){return t.lK}var pC=function(){function t(){this.$a=[],this.gK={},this.AK=0}var n=t.prototype;return n.wK=function(t){var n=this.gK[t];return void 0===n?-1:n-this.AK},n.yK=function(t){return this.$a[t]},n._K=function(t){return this.yK(this.wK(t))},n.MK=function(t){return!!this.yK(t)},n.kK=function(t){return!!this._K(t)},n.mK=function(){return this.$a},n.mw=function(t){var n,i=this.$a,e=i.length?i[i.length-1]:null;if(this.wK(t.lK)>=0)return!1;if(e&&t.lK>e.lK)n=i.length;else{var r=bE(this.$a,t.lK,mC,$r);if(r>=0)return!1;n=-(r+1)}return this.pK(t,n),!0},n.Jh=function(t){var n=this.$a,i=this.gK,e=this.wK(t.lK);return!(e<0)&&(n.splice(e,0,t),delete i[t.lK],this.NK(e),!0)},n.DK=function(t){var n=this.$a,i=this.gK;t=l.min(t,n.length);for(var e=0;e<t;e++)delete i[n[e].lK];n.splice(0,t),this.AK+=t},n.pK=function(t,n){var i=this.$a;n>=i.length?i.push(t):i.splice(n,0,t),this.NK(n)},n.NK=function(t){for(var n=this.$a,i=this.gK,e=this.AK,r=n.length,s=t;s<r;s++)i[n[s].lK]=s+e},z(t,[{key:"$l",get:function(){return this.$a.length}}]),t}(),NC=function(){function t(t,n,i){this.TK=void 0,this.IK=void 0,this.bK=void 0,this.TK=t,this.IK=n,this.bK=i}var n=t.prototype;return n.compute=function(){return this.TK.live?this.TK.EK?this.TK.LK:this.estimateDiscontinuitySequenceNumber():0},n.estimateDiscontinuitySequenceNumber=function(){var t=0;return this.bK&&(t+=this.SK()),this.jK()&&(t+=this.CK(t)),t},n.jK=function(){return void 0!==this.IK.xK._K(this.TK.fragments[0].lK)},n.CK=function(t){var n=this.TK.fragments[0];return this.IK.xK._K(n.lK).zK-(n.zK+t)||0},n.SK=function(){var t=DC(this.TK),n=DC(this.bK.RK),i=this.estimateMinimalOffset(n,t);return this.getOldDiscontinuitySequenceNumber(this.bK)+i},n.estimateMinimalOffset=function(t,n){for(var i=0,e=1/0,r=0;r<t.length;r+=1){for(var s=0,u=0;u<n.length+t.length;u+=1){var o=t[u]||0,h=n[u-r]||0;s+=l.abs(o-h)}s<e&&(i=r,e=s)}return i},n.getOldDiscontinuitySequenceNumber=function(t){return t.RK.fragments.length?this.bK.UK(t.RK.fragments[0].lK).zK:0},t}();function DC(t){for(var n=[],i=0,e=0,r=t.fragments;e<r.length;e++){var s=r[e];s.BK&&(n.push(i),i=0),i+=s.duration}return n.push(i),n}var TC=function(t){function n(n){return t.call(this,eA.Pl,n)||this}return U(n,t),n.prototype.pl=function(){return new IC(this.Pw.ml)},n}(cA),IC=function(t){function n(n){return t.call(this,rA.Pl,n)||this}return U(n,t),n}(aA),bC=function(t){function n(n,i){var e,r=EC(i,n.oA,n.bI,n.QK);return(e=t.call(this,i,r,void 0,!1,n.cg)||this).PK=void 0,e.YK=void 0,e.GK=void 0,e.pU=void 0,e.FK=void 0,e.VK=void 0,e.HK=void 0,e.WK=void 0,e.XK=void 0,e.ZK=void 0,e.PK=n.qK,e.YK=n.bI,e.GK=n.QK,e.pU=n.oA,e.FK=n.JK,e.VK=Boolean(n.KK),e.HK=n.$K||{},e.WK=n.t$,e.XK=n.n$,e.ZK=n.i$,e.e$(),e.r$(),e}U(n,t);var i=n.prototype;return i.Kh=function(t){var n=!1;void 0===this.PK&&void 0!==t.qK&&(n=!0,this.PK=t.qK),void 0===this.GK&&void 0!==t.QK&&(n=!0,this.GK=t.QK),void 0===this.pU&&void 0!==t.oA&&(n=!0,this.pU=t.oA),void 0===this.FK&&void 0!==t.JK&&(n=!0,this.FK=t.JK),!this.VK&&t.KK&&(n=!0,this.VK=t.KK),n=this.updateCustomAttributes(t,n),void 0===this.WK&&void 0!==t.t$&&(n=!0,this.WK=t.t$),void 0===this.XK&&void 0!==t.n$&&(n=!0,this.XK=t.n$),void 0===this.ZK&&void 0!==t.i$&&(n=!0,this.ZK=t.i$),this.e$(),this.r$(),this.s$(),n&&this.Zo(new TC(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.$K)for(var e=0,r=d.keys(t.$K);e<r.length;e++){var s=r[e];void 0===this.HK[s]&&(i=!0,this.HK[s]=t.$K[s])}return i},i.e$=function(){this.pU&&!this.GK&&(this.GK=new Date(this.YK.getTime()+1e3*this.pU))},i.r$=function(){this.GK&&!this.pU&&(this.pU=Kt(this.GK.getTime()-this.YK.getTime()))},i.s$=function(){this.ty===1/0&&(this.GK||this.pU)&&(this.ty=EC(this.$w,this.pU,this.YK,this.GK))},z(n,[{key:"ml",get:function(){var t;return this.kl||(this.kl=Hd(fA(t=this),{get content(){return t.Fw},get class(){return t.qK},get startDate(){return t.bI},get endDate(){return t.QK},get duration(){return t.oA},get plannedDuration(){return t.JK},get endOnNext(){return t.KK},get scte35Cmd(){return t.t$},get scte35Out(){return t.n$},get scte35In(){return t.i$},get customAttributes(){return t.$K}})),this.kl}},{key:"qK",get:function(){return this.PK}},{key:"bI",get:function(){return this.YK}},{key:"QK",get:function(){return this.GK}},{key:"oA",get:function(){return this.pU}},{key:"JK",get:function(){return this.FK}},{key:"KK",get:function(){return this.VK}},{key:"t$",get:function(){return this.WK}},{key:"n$",get:function(){return this.XK}},{key:"i$",get:function(){return this.ZK}},{key:"$K",get:function(){return this.HK}}]),n}(AA);function EC(t,n,i,e){return K(n)?t+n:e?t+(Kt(e.getTime())-Kt(i.getTime())):1/0}var LC,SC,jC,CC,OC,xC=function(t){function n(){return t.call(this,void 0,void 0,$g.DATE_RANGE)||this}U(n,t);var i=n.prototype;return i.Kh=function(t,n){for(var i=this,e=function(t){for(var n=or(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.cg)){var s=n.get(r.cg),u=sr({},s,qd(r),{$K:sr({},s.$K,r.$K)});n.set(r.cg,u)}else n.set(r.cg,r),i.push(r.cg)}return i.map(function(t){return n.get(t)})}(t),r=this.Dg.Kl,s=function(t){var n=r[t],s=es(e,function(t){return t.cg===n.cg});s?n.Kh(s):i.qY(n)},u=r.length-1;u>=0;u--)s(u);for(var o=0;o<e.length;o++){var h=e[o],c=h.bI;if(void 0!==c&&!this.XY(h.cg)){var a=n(c);this.oN(new bC(h,a))}}},i.oN=function(n){this.u$(n),t.prototype.oN.call(this,n)},i.u$=function(t){var n=this.RY.filter(function(n){return n.qK===t.qK}).pop();n&&n.KK&&n.Kh({cg:n.cg,QK:t.bI})},n}(XL);function zC(t){return RC(t)?{Sv:t.o$,h$:[t.h$.ab,t.h$.vb],Kv:!0}:{Sv:t.toString(),Kv:!0}}function RC(t){return void 0!==t.h$}function UC(t){return t&&t.c$&&GA(t.c$)||!1}function BC(t){if(!t)return zA.Yy;if(!UC(t))return zA.D_(t.duration);var n=t.a$||zA.Yy,i=t.f$||zA.Yy,e=zA.D_(t.duration);return n.Wy()||i.Wy()?n.Wy()?i.Wy()?e.Wy()?zA.Yy:e:i:n:zA.y_(n,i)}function QC(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.cN)return i}return null}function PC(t){return QC(t)||function(t){return t.filter(function(t){return t.v$})}(t)[0]||t[0]}function YC(t,n){for(var i=0;i<n.length;i++){var e=n[i];os(t,e)||t.push(e)}return t}function GC(t){switch(t){case CC.Hv:case CC.d$:return Ug.Hv;case CC.Vv:return Ug.Vv}}function FC(t){switch(t){case CC.Hv:case CC.d$:return Uf.Hv;case CC.Vv:return Uf.Vv;default:return Uf.Cv}}!function(t){t.l$="alternative",t.g$="main",t.A$="commentary",t.w$="",t.qp="descriptions",t.y$="main-desc",t._$="translation"}(LC||(LC={})),function(t){t.l$="alternative",t.g$="main",t.A$="commentary",t.w$="",t.Zp="captions",t.M$="sign",t.UM="subtitles"}(SC||(SC={})),function(t){t.Hv="video",t.Vv="audio",t.k$="closedCaption",t.m$="variant"}(jC||(jC={})),function(t){t[t.Cv=-1]="Cv",t[t.Vv=0]="Vv",t[t.Hv=1]="Hv",t[t.d$=2]="d$"}(CC||(CC={})),function(t){t[t.Cv=-1]="Cv",t[t.p$=1]="p$",t[t.N$=2]="N$",t[t.D$=3]="D$",t[t.T$=4]="T$"}(OC||(OC={})),function(t){t.yA=function(t){return t>=OC.N$},t.I$=function(t){return t===OC.N$||t===OC.D$}}(OC||(OC={}));var VC=function(t){function n(){var n;return(n=t.call(this)||this).b$=[],n.E$=function(){return n.dispatchEvent("L$")},n.S$=function(){return n.dispatchEvent("j$")},n}U(n,t);var i=n.prototype;return i.mw=function(t){this.b$.push(t),t.addEventListener("j$",this.S$),t.addEventListener("C$",this.E$),this.dispatchEvent("O$"),t.disabled||this.dispatchEvent("L$")},i.Jh=function(t){var n=this.b$.indexOf(t);n<0||(us(this.b$,n),t.removeEventListener("j$",this.S$),t.removeEventListener("C$",this.E$),this.dispatchEvent("O$"),t.disabled||this.dispatchEvent("L$"))},i.ph=function(){for(var t=!!this.x$.length,n=!!this.z$.length,i=0,e=this.b$;i<e.length;i++){e[i].removeEventListener("C$",this.E$)}this.b$.length=0,t&&this.dispatchEvent("O$"),n&&this.dispatchEvent("L$")},i.nd=function(){this.$o(),this.ph()},z(n,[{key:"x$",get:function(){return this.b$}},{key:"z$",get:function(){return this.b$.filter(function(t){return!t.disabled})}}]),n}(lC);function HC(t){if(!t)return null;for(var n={R$:"",U$:"",B$:""},i=t.toLowerCase().split(","),e=0;e<i.length;e++){var r=i[e],s=r.trim();"mp4a.40.5"===s||"mp4a.40.05"===s?n.R$="mp4a.40.5":"mp4a.40.2"===s||"mp4a.40.02"===s?n.R$="mp4a.40.2":"mp4a.40.29"===s?n.R$="mp4a.40.29":0===s.indexOf("mp4a.40.3")?n.R$=s:"ec-3"===s?n.R$=s:0===s.indexOf("avc")?n.U$=r:n.B$+=","+s}return n}var WC=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this)||this).Q$=void 0,h.JD=void 0,h.Dw=void 0,h.P$=new pC,h.Y$=NaN,h.G$=void 0,h.F$=void 0,h.NU=void 0,h.V$=void 0,h.H$=void 0,h.W$=!0,h.X$=!0,h.Z$=!0,h.q$=!1,h.J$=null,h.K$=!1,h.Q$=n,h.JD=i,h.Dw=e||0===e?e:-1,h.F$=r,h.V$=Boolean(s),h.H$=Boolean(u),h.NU=o,h}U(n,t);var i=n.prototype;return i.n0=function(t,n){var i=iN(),e=new NC(t,this,n).compute(),r=this.i0(t.fragments),s=r.oldFragments,u=r.newFragments;this.e0(s,i),this.r0(u,i,e),this.G$!==t&&this.s0(!0),this.G$=t,this.dispatchEvent({type:"u0",o0:this}),this.dispatchEvent("renditionUpdated")},i.UK=function(t){return this.P$._K(t)},i.h0=function(){var t=this.W$;this.W$=this.X$&&this.Z$,t!==this.W$&&this.dispatchEvent("j$")},i.s0=function(t){this.X$=t,this.h0()},i.c0=function(t){this.Z$=t,this.h0()},i.a0=function(t){this.JD=t,this.dispatchEvent("renditionUpdated")},i.f0=function(){null!==this.J$&&h(this.J$),this.dispatchEvent("C$"),this.dispatchEvent("renditionUpdated")},i.v0=function(t){this.K$=t,this.f0()},i.d0=function(){this.l0(3e4)},i.l0=function(t){var n=this;this.q$=!0,this.f0(),this.J$=o(function(){n.q$=!1,n.f0()},t)},i.i0=function(t){void 0===t&&(t=[]);for(var n=[],i=[],e=0,r=t;e<r.length;e++){var s=r[e];this.P$.kK(s.lK)?n.push(s):i.push(s)}return{oldFragments:n,newFragments:i}},i.e0=function(t,n){for(var i=0;i<t.length;i++){var e=t[i],r=this.P$._K(e.lK);r.g0=YC(r.g0,e.g0),r.A0=e.A0||r.A0,r.w0=n}},i.r0=function(t,n,i){var e=this.y0(t);!function(t,n){for(var i=0,e=t.length-1;e>=0;e--){var r=t[e];r.Ok=n-i,i+=1e3*r.duration}}(e,n),function(t,n){for(var i=0;i<t.length;i++){var e=t[i];e.zK+=n}}(e,i),this._0(e)},i.y0=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.o0=this;var r=sr({},e);n.push(r)}return n},i._0=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.P$.mw(i),w(this.Y$)&&(this.Y$=i.lK)}},i.nd=function(){this.$o(),null!==this.J$&&h(this.J$)},z(n,[{key:"disabled",get:function(){return this.q$||this.K$},set:function(t){this.q$=t,this.f0()}},{key:"cg",get:function(){return this.Dw}},{key:"Aw",get:function(){return this.W$}},{key:"uri",get:function(){return this.F$||this.G$&&this.G$.uri},set:function(t){this.F$=t,this.dispatchEvent("renditionUpdated")}},{key:"RK",get:function(){return this.G$}},{key:"xK",get:function(){return this.P$}},{key:"M0",get:function(){return this.G$?this.G$.live?this.G$.duration<-60?OC.D$:OC.T$:OC.p$:OC.Cv}},{key:"_s",get:function(){return this.JD},set:function(t){this.a0(t)}},{key:"dg",get:function(){return this.NU}},{key:"cN",get:function(){return this.V$}},{key:"v$",get:function(){return this.H$||this.V$}},{key:"k0",get:function(){return this.Y$}},{key:"m0",get:function(){return!!this.RK}},{key:"fv",get:function(){return this.Q$}}]),n}(lC),XC=function(t){function n(n,i,e,r,s,u,o,h,c,a,f,v,d,l,g,A){var w;return void 0===g&&(g=LC.g$),(w=t.call(this,n,i,e,s,u,o,d)||this).p0=void 0,w.N0=void 0,w.D0=void 0,w.T0=void 0,w.I0=void 0,w.b0=void 0,w.E0=void 0,w.L0=void 0,w.S0=void 0,w.QY=void 0,w.j0=void 0,w.C0=void 0,w.O0=void 0,w.x0=void 0,w.z0=void 0,w.R0=void 0,w.U0=null,w.B0=void 0,w.p0=Boolean(l),w.I0=r,w.N0=HC(h),w.D0=A,w.E0=c,w.L0=a,w.b0=f,w.T0=v,w.QY=g,w}U(n,t),n.createFromPlaylistStream=function(t,i,e){return new n(t,i.name||i.media&&i.media.name||void 0,i.id,i["average-bandwidth"],i.uri,void 0,void 0,i.codecs,i.lK,i.audio,i.resolution,i.bandwidth,i.media?i.media.language:void 0,e,t.Q0[0]?t.Q0[0].fg:LC.g$)},n.createFromPlaylistMedia=function(t,i,e,r){return new n(t,i.name,i.id,void 0,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),i.autoselect?"yes"===i.autoselect.toLowerCase():void 0,void 0,void 0,void 0,void 0,void 0,i.language,e,function(t){if(t.default&&"yes"===t.default.toLowerCase())return t.characteristics&&Cr(t.characteristics,"public.accessibility.describes-video")?LC.y$:LC.g$;if(t.characteristics&&Cr(t.characteristics,"public.accessibility.describes-video"))return LC.qp;return LC.l$}(i),r)},n.createFromUri=function(t,i,e){return new n(t,void 0,void 0,void 0,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e)};var i=n.prototype;return i.P0=function(t){this.N0="string"==typeof t?HC(t):t,this.dispatchEvent("renditionUpdated")},i.Y0=function(t,n){return t?!n&&t.R$&&t.U$?CC.d$:t.U$?CC.Hv:t.R$?CC.Vv:CC.Cv:CC.Cv},z(n,[{key:"G0",set:function(t){this.p0=t}},{key:"F0",get:function(){return this.N0}},{key:"bandwidth",get:function(){return this.T0},set:function(t){this.T0=t,this.dispatchEvent("renditionUpdated")}},{key:"fg",get:function(){return this.QY}},{key:"resolution",get:function(){return this.b0},set:function(t){this.b0=t,this.dispatchEvent("renditionUpdated")}},{key:"V0",get:function(){return void 0!==this.D0?this.D0:this.Y0(this.N0,this.p0)}},{key:"lK",get:function(){return this.E0}},{key:"R$",get:function(){return this.L0}},{key:"H0",get:function(){return this.I0}},{key:"W0",get:function(){return this.S0},set:function(t){var n=this.S0;this.S0=t,n!==t&&this.dispatchEvent("renditionUpdated")}}]),n}(WC);var ZC=function(t){function n(n,i,e,r,s,u,o,h,c){var a;return(a=t.call(this,n,i,e,r,s,u,o)||this).Gs=void 0,a.X0=null,a.Z0=void 0,a.q0=function(){return a.J0()},a.Gs=h,a.Z0=new GE(c,String(e),a._s,a.dg,void 0,$g.WEBVTT),a.cN&&(a.Z0.kg=cl.yg),a}U(n,t),n.createFromPlaylistMedia=function(t,i,e,r){return new n(t,i.name,i.id||0===i.id?i.id:-1,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),!!i.autoselect&&"yes"===i.autoselect.toLowerCase(),i.language,i.type,function(t){if(Cr(t.characteristics,"public.accessibility.describes-music-and-sound"))return dy.Zp;return dy.UM}(i))};var i=n.prototype;return i.n0=function(n){t.prototype.n0.call(this,n),this.J0()},i.nd=function(){t.prototype.nd.call(this),this.xp=null},i.a0=function(n){t.prototype.a0.call(this,n),this.Z0.vg=n},i.J0=function(){this.X0&&this.X0.K0(this,this.xK)},z(n,[{key:"$0",get:function(){return this.Z0}},{key:"xp",get:function(){return this.X0},set:function(t){this.X0&&this.X0.removeEventListener("n1",this.q0),this.X0=t,this.J0(),this.X0&&this.X0.addEventListener("n1",this.q0)}},{key:"o$",get:function(){return this.uri}},{key:"Ao",get:function(){return this.Gs}}]),n}(WC),qC=function(t){function n(n,i){var e;(e=t.call(this)||this).Cc=void 0,e.i1=void 0,e.e1=["renditionUpdated","u0","s1"],e.u1=null,e.o1=null,e.c1=null,e.a1=null,e.f1=new VC,e.v1=new VC,e.d1=new VC,e.SA={},e.l1=void 0,e.g1=void 0,e.A1=null,e.pU=NaN,e.w1=void 0,e._1=void 0,e.Xo=function(t){return e.dispatchEvent(t)},e.Cc=n,e.i1=i;var r=sn(e);return e.w1=function(){r.AY(this)},e._1=function(t){r.M1(this,t)},e}U(n,t);var i=n.prototype;return i.m1=function(t,n){var i=new ZL(n);return i.kg=cl.wg,this.SA[i.cg]=i,this.dispatchEvent({type:"N1",Nl:i}),i},i.D1=function(t,n,i){var e=new XL(i,"manifest");return e.kg=cl.wg,this.SA[e.cg]=e,this.dispatchEvent({type:"N1",Nl:e}),e},i.T1=function(t,n){if(t){var i=t.Dg,e=t.I1,r=t&&this.SA[e];r||(r=new ZL(t.Mg),this.SA[e]=r,r.kg=cl.wg,this.dispatchEvent({type:"N1",Nl:r}));for(var s=0;s<i.length;s++){var u=i[s];r.oN(u)}}},i.b1=function(t){t&&(this.l1||(this.l1=new GE(dy.Zp,void 0,"CC1","en",!0,$g.CEA608),this.SA.CC1=this.l1,this.dispatchEvent({type:"N1",Nl:this.l1})),this.l1.oN(t))},i.E1=function(t,n,i){var e=this.SA[t];if(e){var r=[];!function(t,n,i,e){for(var r=0,s=t.Dg.Kl;r<s.length;r++){var u=s[r];if(u.Yw>=i)break;n<u.Gw&&e.push(u)}}(e,n,i,r);for(var s=0;s<r.length;s++){var u=r[s];e.qY(u)}}},i.L1=function(t,n){return this.S1(t,n)},i.j1=function(t){var n;return(n=this.C1(t,this.f1))?n:(n=this.C1(t,this.v1))?n:n=this.C1(t,this.d1)},i.nd=function(){this.ih(this.f1),this.f1.nd(),this.ih(this.v1),this.v1.nd(),this.ih(this.d1),this.d1.nd(),this.SA={},this.l1=void 0,this.g1&&(this.g1.nd(),this.g1=void 0),this.A1=null,this.pU=NaN,this.u1=null,this.o1=null,this.c1=null,this.a1=null,this.dispatchEvent("nd")},i.O1=function(t){var n=XC.createFromUri(this,t.uri);this.ih(this.v1),this.v1.mw(n),n.addEventListener("renditionUpdated",this.w1)},i.AY=function(t){var n=t.RK,i=t.M0;if(w(this.pU)||OC.yA(i)){if(OC.Cv===i)return;if(!n)return;this.pU=n.duration,this.dispatchEvent("z1")}w(this.pU)||OC.p$!==i||t.removeEventListener("renditionUpdated",this.w1)},i.R1=function(t){var n=this;this.ih(this.f1),this.f1.ph(),this.ih(this.v1),this.v1.ph(),this.d1.ph(),this.A1=t;for(var i=t.streams.map(function(t){return XC.createFromPlaylistStream(n,t)}).filter(function(t){return function(t){if(!t)return!0;if(t.R$&&!Cr(t.R$,"mp4a")&&!Cr(t.R$,"mp3"))return!1;if(t.U$&&!Cr(t.U$,"avc1"))return!1;return!0}(t.F0)}),e=i.some(function(t){return t.F0&&t.F0.R$}),r=i.some(function(t){return t.F0&&t.F0.U$}),s=0;s<i.length;s++){var u=i[s],o=Boolean(u.F0&&u.F0.R$),h=Boolean(u.F0&&u.F0.U$);e&&!o||r&&!h||(this.v1.mw(u),u.addEventListener("renditionUpdated",this.w1))}for(var c=function(t,i){var e=i[t];switch(e.type.toLowerCase()){case"subtitles":if(!n.i1){var r=ZC.createFromPlaylistMedia(n,e);n.d1.mw(r),n.dispatchEvent({type:"N1",Nl:r.$0})}break;case"closed-captions":break;case"audio":var s=n.v1.x$.filter(function(t){return t.R$===e["group-id"]});if(0===s.length)return"continue";e.uri&&s.forEach(function(t){return t.G0=!0});var u=e.uri?CC.Vv:CC.d$,o=XC.createFromPlaylistMedia(n,e,!1,u);n.f1.mw(o)}},a=0,f=t.media;a<f.length;a++)c(a,f);this.U1=PC(this.Q0.z$)||null,this.dispatchEvent("B1")},i.C1=function(t,n){for(var i=0,e=n.x$;i<e.length;i++){var r=e[i];if(r.uri===t)return r}return null},i.M1=function(t,n){this.dispatchEvent(sr({},n,{o0:t}))},i.Q1=function(t){for(var n=0,i=t.x$;n<i.length;n++)for(var e=i[n],r=0,s=this.e1;r<s.length;r++){var u=s[r];e.addEventListener(u,this._1)}},i.ih=function(t){for(var n=0,i=t.x$;n<i.length;n++){i[n].nd()}},i.P1=function(t,n){0!==t.length&&this.Cc.hlsDateRange&&(this.g1||(this.g1=new xC,this.dispatchEvent({type:"N1",Nl:this.g1})),this.g1.Kh(t,n))},i.Y1=function(t,n){if(this.o1!==t){var i=this.o1;this.o1=t,this.dispatchEvent({type:"G1",V0:"R$",o0:this.o1,F1:i,V1:n})}},i.S1=function(t,n){if(this.c1!==t){var i=this.c1;this.c1=t,t&&this.dispatchEvent({type:"G1",V0:"U$",o0:this.c1,F1:i,V1:n})}},i.H1=function(t){for(var n=0,i=t.x$;n<i.length;n++){var e=i[n];if(e.M0!==OC.Cv)return e.M0}return null},z(n,[{key:"mA",get:function(){return this.u1},set:function(t){t&&(0===t.streams.length?this.O1(t):this.R1(t),this.u1=t,this.Q1(this.v1),this.Q1(this.f1),this.dispatchEvent("W1"))}},{key:"X1",get:function(){return this.A1}},{key:"oA",get:function(){return this.pU}},{key:"RA",get:function(){var t=this,n=this.d1.x$.map(function(t){return t.$0}),i=d.keys(this.SA).map(function(n){return t.SA[n]});return this.l1&&i.push(this.l1),this.g1&&i.push(this.g1),n.concat(i)}},{key:"U1",get:function(){return this.o1},set:function(t){this.Y1(t,!0)}},{key:"Z1",get:function(){return this.c1},set:function(t){this.S1(t,!1)}},{key:"Q0",get:function(){return this.f1}},{key:"q1",get:function(){return this.v1}},{key:"J1",get:function(){return this.d1.x$}},{key:"M0",get:function(){var t;return null!==(t=this.o1&&this.o1.M0)&&t!==OC.Cv?t:null!==(t=this.c1&&this.c1.M0)&&t!==OC.Cv?t:null!==(t=this.H1(this.f1))?t:null!==(t=this.H1(this.v1))?t:OC.Cv}}]),n}(lC);var JC=function(t){function n(n,i,e){var r,s,u,o,h;return(r=t.call(this)||this).jk=[],r.K1={},r.t4=void 0,r.n4=void 0,r.i4=void 0,r.ml=void 0,r.Xo=function(t){return r.dispatchEvent(t)},r.e4=function(t){r.r4(t)},r.s4=function(t){r.handleRenditionUpdated(t)},r.u4=function(t){for(var n=0,i=r.jk;n<i.length;n++){i[n].o4.u4(t)}},r.t4=n,r.n4=i,r.i4=e,r.n4&&r.n4.addEventListener("G1",r.e4),r.i4&&(r.i4.addEventListener("renditionUpdated",r.s4),r.i4.addEventListener("h4",r.u4)),r.ml=(s=sn(r),u=new lC,o={get length(){return s.jk.length},enable:function(t){s.Hp(s.c4(t&&t.id)||t)},disable:function(t){s.Wp(s.c4(t&&t.id)||t)},item:function(t){return s.jk[t]&&s.jk[t].ml},getTrackByID:function(t){var n=s.c4(t);return n&&n.ml},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}},h=function(t){return u.dispatchEvent(t,!0)},s.addEventListener("addtrack",h),s.addEventListener("enabledtrack",h),s.addEventListener("disabledtrack",h),o),r}U(n,t);var i=n.prototype;return i.c4=function(t){return this.K1[t]},i.Xl=function(t){for(var n=0,i=t.o4.lg;n<i.length;n++){var e=i[n];e.cg===this.a4()&&(e.ay=!0)}t.addEventListener("enabledtrack",this.Xo),t.addEventListener("disabledtrack",this.Xo),this.jk.push(t),this.K1[t.cg]=t,this.dispatchEvent({type:"addtrack",track:t.ml})},i.Hp=function(t){if(t){var n=this.K1[t.cg];if(n&&!n.hg){for(var i=this.jk.length-1;i>=0;i--)this.jk[i].ZA();n.XA()}}},i.Wp=function(t){},z(n,[{key:"f4",get:function(){return this.a4()}}]),n}(lC);var KC=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).v4=void 0,r.v4=NaN,r}U(n,t);var i=n.prototype;return i.a4=function(){return this.v4},i.r4=function(t){t.d4?this.l4(t.g4):t.A4&&this.l4(t.A4)},i.l4=function(t){t&&(this.v4=t.cg),this.jk.forEach(function(n){return n.w4(t)})},i.handleRenditionUpdated=function(t){if(t.o0&&t.o0.V0===CC.Vv)for(var n=0,i=this.jk;n<i.length;n++){i[n].y4(t)}},i.Hp=function(n){var i=n;if(!i){var e=this.jk.filter(function(t){return t.cN});e.length>0&&(i=e[0])}t.prototype.Hp.call(this,i)},z(n,[{key:"Ao",get:function(){return"audio"}}]),n}(JC),$C=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this)._4=void 0,r._4=NaN,r}U(n,t);var i=n.prototype;return i.a4=function(){return this._4},i.r4=function(t){(t.M4||t.g4)&&(t.g4&&(this._4=t.g4.cg),this.jk.forEach(function(n){return n.w4(t.g4)}))},i.handleRenditionUpdated=function(t){if(t.o0&&(t.o0.V0===CC.Hv||t.o0.V0===CC.d$))for(var n=0,i=this.jk;n<i.length;n++){i[n].y4(t)}},z(n,[{key:"Ao",get:function(){return"video"}}]),n}(JC);function tO(t,n){for(var i,e=n-(i=t?tt(t)?Array.prototype.map.call(t,function(t){return("0"+t.toString(16)).substr(-2)}).join(""):(+t).toString(16):"").length;e>0;)i="0"+i,e-=1;return i}function nO(t,n){return void 0===n&&(n=0),A(t.toFixed(n))}var iO=function(t){function n(n){var i,e,r,s;return(i=t.call(this)||this).o0=void 0,i.ay=!1,i.m4=!0,i.ml=void 0,i.o0=n,i.ay=!1,i.ml=(e=sn(i),r=new lC,s={get bandwidth(){return e.o0&&e.o0.bandwidth},get averageBandwidth(){return e.o0&&e.o0.averageBandwidth},get codecs(){return e.F0},get resolution(){return e.N4},get frameRate(){return nO(e.D4,2)},get id(){return e.cg},get uri(){return e.o0&&e.o0.uri},get name(){return e._s},set name(t){e._s=t},get enabled(){return e.hg},set enabled(t){e.hg=Boolean(t)},addEventListener:function(t,n){r.addEventListener(t,n)},removeEventListener:function(t,n){r.removeEventListener(t,n)}},e.addEventListener("qualityupdated",function(t){return r.dispatchEvent(t,!0)}),s),i}U(n,t);var i=n.prototype;return i.T4=function(t){var n=!!t&&this.cg===t.cg;this.ay!==n&&(this.ay=n,this.dispatchEvent({type:"activequalitychanged",quality:this.ml}))},i.y4=function(t){return this.o0.cg===t.o0.cg&&(this.o0=t.o0,this.dispatchEvent({type:"qualityupdated",quality:this.ml}),!0)},z(n,[{key:"hg",get:function(){return this.m4},set:function(t){this.m4=t,this.o0.v0(!t)}},{key:"fg",get:function(){return this.o0.fg}},{key:"N4",get:function(){return this.o0.resolution?{width:this.o0.resolution.width,height:this.o0.resolution.height}:{width:NaN,height:NaN}}},{key:"_s",get:function(){return this.o0._s},set:function(t){this.o0._s=t,this.dispatchEvent({type:"qualityupdated",quality:this.ml})}},{key:"cg",get:function(){return this.o0.cg}}]),n}(lC);var eO=function(t){function n(n){return t.call(this,n)||this}return U(n,t),z(n,[{key:"F0",get:function(){return this.o0.F0&&this.o0.F0.U$||""}},{key:"D4",get:function(){return nO(Number(this.o0.W0),2)}}]),n}(iO),rO=function(t){function n(n){return t.call(this,n)||this}return U(n,t),z(n,[{key:"F0",get:function(){return this.o0.F0&&this.o0.F0.R$||""}},{key:"D4",get:function(){return nO(Number(this.o0.B0),2)}}]),n}(iO),sO=function(t){function n(n,i){var e,r,s,u,o;(e=t.call(this)||this).lg=void 0,e.I4=null,e.b4={},e.i4=void 0,e.ml=void 0,e.Xo=function(t){return e.dispatchEvent(t)},e.lg=n,e.i4=i;for(var h=e.lg.length-1;h>=0;h--){var c=e.lg[h];e.b4[c.cg]=c}return e.lg.forEach(function(t){return t.addEventListener("activequalitychanged",e.Xo)}),e.ml=(r=sn(e),s=new lC,u={item:function(t){var n=r.Wl(t);return n&&n.ml},getQualitiesByIDs:function(t){return r.E4(t).map(function(t){return t.ml})},get length(){return r.lg.length},get activeQuality(){return r.og&&r.og.ml},get targetQuality(){return r.gg?1===r.gg.length?r.gg[0].ml:r.gg.map(function(t){return t.ml}):null},set targetQuality(t){if(t){var n=$(t)?t:[t];r.gg=r.E4(n.map(function(t){return t.id}))}else r.gg=null},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}},o=function(t){return s.dispatchEvent(t,!0)},r.addEventListener("activequalitychanged",o),r.addEventListener("targetqualitychanged",o),u),e}U(n,t);var i=n.prototype;return i.L4=function(t){return!!t&&this.lg.some(function(n){return n.cg===t.cg})},i.S4=function(t,n){for(var i=0,e=this.lg;i<e.length;i++){e[i].T4(t)}},i.E4=function(t){var n=this;return t&&t.map(function(t){return n.b4[t]}).filter(function(t){return t})},i.j4=function(){for(var t=this.lg.length-1;t>=0;t--)this.lg[t].ay=!1},i.u4=function(t){var n=this.i4.C4,i=this.E4(n);n&&n.length>0&&i&&i.length>0?this.dispatchEvent({type:"targetqualitychanged",quality:i[0].ml}):n&&0!==n.length||this.dispatchEvent({type:"targetqualitychanged",quality:null})},i.Wl=function(t){return this.lg[t]},z(n,[{key:"og",get:function(){for(var t=0,n=this.lg;t<n.length;t++){var i=n[t];if(i.ay)return i}return null}},{key:"gg",get:function(){return this.I4},set:function(t){this.I4=this.O4(t)}}]),n}(lC);var uO=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.XA=function(){this.i4&&(this.i4.v4=this.lg[0].cg)},i.ZA=function(t){this.i4&&(this.i4.v4=null)},i.O4=function(t){},n}(sO),oO=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.XA=function(){if(this.O4(this.gg),this.i4){var t=this.i4.t4;if(!t)return;var n=es(t.x4.Q0.x$,function(t){return!t.uri});this.i4.v4=n?n.cg:null}},i.S4=function(n,i){"video"===i&&t.prototype.S4.call(this,n,i)},i.ZA=function(t){"video"===t&&this.j4()},i.O4=function(t){if(!this.i4)return this.gg;var n=t?this.E4(t.map(function(t){return t.cg})):null;if(n&&n.length>0){var i=n.map(function(t){return t.cg});return this.i4.C4=i,n}return t?this.gg:(this.i4.C4=null,null)},n}(sO),hO=function(t){function n(n,i){var e,r,s;return(e=t.call(this)||this).Ao=void 0,e.o4=void 0,e.cg=void 0,e.Ew=void 0,e._s=void 0,e.ml=void 0,e.Ao=n,e.o4=i,e.cg=i.Wl(0).cg,e.Ew=e.o4.lg.some(function(t){return t.ay}),e._s=i.Wl(0).o0._s,e.ml=(r=sn(e),s=new lC,{get id(){return r.cg},get enabled(){return r.hg},get qualities(){return r.o4&&r.o4.ml},get language(){return r.dg},get default(){return r.cN},get name(){return r._s},set name(t){r._s=t},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}}),e}U(n,t);var i=n.prototype;return i.w4=function(t){var n=this.o4.L4(t);this.Sw(n),this.o4.S4(t,this.Ao)},i.Sw=function(t){this.Ew!==t&&(t?(this.Ew=!0,this.dispatchEvent({type:"enabledtrack",track:this.ml})):(this.Ew=!1,this.dispatchEvent({type:"disabledtrack",track:this.ml})))},i.XA=function(){this.Ew||this.o4.XA()},i.ZA=function(){this.Ew&&this.o4.ZA(this.Ao)},i.y4=function(t){t.o0.cg===this.cg&&(this._s=t.o0._s);for(var n=0,i=this.o4.lg;n<i.length;n++){i[n].y4(t)}},z(n,[{key:"hg",get:function(){return this.Ew}},{key:"dg",get:function(){return this.z4()}},{key:"fg",get:function(){return this.R4()}},{key:"cN",get:function(){var t="video"===this.Ao,n=this.o4.lg&&this.o4.lg[0].o0.cN;return t||n}}]),n}(lC);var cO=function(t){function n(n){return t.call(this,"video",n)||this}U(n,t);var i=n.prototype;return i.R4=function(){return SC.g$},i.z4=function(){return""},n}(hO),aO=function(t){function n(n){return t.call(this,"audio",n)||this}U(n,t);var i=n.prototype;return i.R4=function(){return this.o4.lg[0].o0.fg},i.z4=function(){return this.o4.lg[0].o0.dg||""},n}(hO),fO=function(){function t(t,n,i){var e=this;this.U4=void 0,this.B4=void 0,this.Q4=void 0,this.P4=void 0,this.Y4=function(){var t=e.U4;t.removeEventListener("G4",e.Y4);var n=t.x4.q1.x$,i=t.x4.Q0.x$,r=n.map(function(t){return new eO(t)});if(r.length>0){var s=new oO(r,e.B4);e.P4.Xl(new cO(s));var u=es(i,function(t){return!t.uri}),o=0===i.length;if(n.length>0&&(Boolean(u)||o)){var h=new aO(s);u&&(h._s=u._s),e.Q4.Xl(h)}}for(var c=0;c<i.length;c++){var a=i[c];if(a.uri){var f=new rO(a),v=new uO([f],e.B4);e.Q4.Xl(new aO(v))}}},this.U4=t,this.B4=i,this.Q4=new KC(t,n,i),this.P4=new $C(t,n,i),t&&(t.G4?this.Y4():t.addEventListener("G4",this.Y4))}return z(t,[{key:"xA",get:function(){return this.Q4}},{key:"zA",get:function(){return this.P4}}]),t}(),vO=["loadedmetadata","durationchange","vh","hd","Aw","F4"],dO=["V4","G1","H4","vh"],lO=function(t){function n(n,i,e,r,s,u,o){var h;(h=t.call(this)||this).W4=null,h.FI=void 0,h.X4=void 0,h.Z4=void 0,h.q4=void 0,h.n4=void 0,h.J4=void 0,h.t4=void 0,h.zA=void 0,h.xA=void 0,h.K4=[],h.n2=[],h.i2=function(t){return h.dispatchEvent(t)},h.e2=function(t){return h.s2(t)},h.u2=function(t){return h.o2(t)},h.FI=n.src,h.X4=n.type,h.Z4=i,h.q4=e,h.J4=r,h.t4=s,h.n4=u,h.t4&&(h.t4.addEventListener("h2",h.i2),h.t4.addEventListener("c2",h.i2));var c=new fO(h.t4,h.n4,o);return h.zA=c.zA,h.xA=c.xA,h.VI=null,h.FI&&(h.n4&&h.n4.Jl(),h.t4&&(h.t4.a2=h.FI)),h}U(n,t);var i=n.prototype;return i.f2=function(t){this.n4&&this.n4.qh(t),this.t4&&this.t4.v2(),this.VI&&this.d2()},i.l2=function(){this.n4&&this.n4.l2(),this.t4&&this.t4.g2()},i.A2=function(){if(this.t4)for(var t=0;t<vO.length;t++){var n=vO[t];this.t4.addEventListener(n,this.e2)}if(this.n4)for(var i=0;i<dO.length;i++){var e=dO[i];this.n4.addEventListener(e,this.u2)}},i.w2=function(){if(this.t4)for(var t=0;t<vO.length;t++){var n=vO[t];this.t4.removeEventListener(n,this.e2)}if(this.n4)for(var i=0;i<dO.length;i++){var e=dO[i];this.n4.removeEventListener(e,this.u2)}},i.d2=function(){if(this.t4&&this.K4.length){var t=this.K4.slice();hs(this.K4);for(var n=0;n<t.length;n++){var i=t[n];this.t4.dispatchEvent(i)}}if(this.n4&&this.n2.length){var e=this.n2.slice();hs(this.n2);for(var r=0;r<e.length;r++){var s=e[r];this.n4.dispatchEvent(s)}}},i.s2=function(t){this.K4.push(t)},i.o2=function(t){this.n2.push(t)},i.nd=function(){this.dispatchEvent("nd"),this.$o(),this.n4&&this.n4.nd(),this.J4&&this.J4.nd(),this.t4&&this.t4.nd(),this.W4=null,hs(this.K4),hs(this.n2)},z(n,[{key:"VI",get:function(){return this.W4},set:function(t){this.w2(),this.W4=t,this.VI?this.dispatchEvent("cc"):this.A2()}}]),n}(lC),gO=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).U4=null,n.Xo=function(t){n.dispatchEvent(t,!0)},n}return U(n,t),z(n,[{key:"v4",get:function(){var t=this.U4&&this.U4.x4.U1;return t?t.cg:null},set:function(t){var n;this.U4&&(n=null===t?PC(this.U4.x4.Q0.x$):this.U4.x4.Q0.x$.filter(function(n){return t===n.cg}).shift(),this.U4.x4.U1=n||null)}},{key:"C4",get:function(){return this.U4&&this.U4._2||null},set:function(t){this.U4&&(this.U4.M2(t),this.dispatchEvent("h4"))}},{key:"t4",get:function(){return this.U4},set:function(t){this.U4&&(this.U4.x4.removeEventListener("W1",this.Xo),this.U4.x4.removeEventListener("renditionUpdated",this.Xo),this.U4.x4.removeEventListener("B1",this.Xo)),this.U4=t,this.U4&&(this.U4.x4.addEventListener("W1",this.Xo),this.U4.x4.addEventListener("renditionUpdated",this.Xo),this.U4.x4.addEventListener("B1",this.Xo))}}]),n}(lC),AO=function(){function t(){}var n=t.prototype;return n.m2=function(t){return N.resolve(!1)},n.N2=function(t){return N.reject(wO)},n.D2=function(t){return N.reject(wO)},n._h=function(t){return N.resolve(!1)},n.Mh=function(t){return N.resolve(void 0)},n.yK=function(t,n){return N.resolve(void 0)},n.T2=function(t){return N.resolve([])},n.I2=function(){return N.resolve([])},n.b2=function(t){return N.resolve([])},n.E2=function(t,n){return N.resolve([])},n.Jh=function(t){return N.reject(wO)},n.L2=function(t){return N.reject(wO)},n.S2=function(){return N.reject(wO)},t}(),wO="Storage disabled",yO=function(){function t(){this.j2=void 0,this.C2=void 0,this.O2=void 0,this.z2=void 0,this.R2=void 0,this.j2=new AO,this.C2=new AO,this.O2=new AO,this.z2=new AO,this.R2=new AO}return t.Kq=function(){return N.resolve(new t)},t.prototype.U2=function(t){return N.reject(_O)},t}(),_O="Storage disabled",MO=function(){function t(t){var n=this;this.Qo=new eo,this.B2=void 0,this.Qo.Oh(t),this.Qo.Ch.then(function(t){n.B2=t})}var n=t.prototype;return n.m2=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.B2,t.t0){t.next=5;break}return t.next=4,this.Q2;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.m2(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.N2=function(){var t=N.coroutine(rr.mark(function t(n,i){var e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.B2,t.t0){t.next=5;break}return t.next=4,this.Q2;case 4:t.t0=t.sent;case 5:return e=t.t0,t.abrupt("return",e.N2(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.D2=function(){var t=N.coroutine(rr.mark(function t(n,i){var e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.B2,t.t0){t.next=5;break}return t.next=4,this.Q2;case 4:t.t0=t.sent;case 5:return e=t.t0,t.abrupt("return",e.D2(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n._h=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.B2,t.t0){t.next=5;break}return t.next=4,this.Q2;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i._h(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Mh=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.B2,t.t0){t.next=5;break}return t.next=4,this.Q2;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.Mh(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.yK=function(){var t=N.coroutine(rr.mark(function t(n,i){var e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.B2,t.t0){t.next=5;break}return t.next=4,this.Q2;case 4:t.t0=t.sent;case 5:return e=t.t0,t.abrupt("return",e.yK(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.T2=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.B2,t.t0){t.next=5;break}return t.next=4,this.Q2;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.T2(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.I2=function(){var t=N.coroutine(rr.mark(function t(){var n;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.B2,t.t0){t.next=5;break}return t.next=4,this.Q2;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.I2());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.b2=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.B2,t.t0){t.next=5;break}return t.next=4,this.Q2;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.b2(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.E2=function(){var t=N.coroutine(rr.mark(function t(n,i){var e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.B2,t.t0){t.next=5;break}return t.next=4,this.Q2;case 4:t.t0=t.sent;case 5:return e=t.t0,t.abrupt("return",e.E2(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Jh=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.B2,t.t0){t.next=5;break}return t.next=4,this.Q2;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.Jh(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.L2=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.B2,t.t0){t.next=5;break}return t.next=4,this.Q2;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.L2(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.S2=function(){var t=N.coroutine(rr.mark(function t(){var n;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.B2,t.t0){t.next=5;break}return t.next=4,this.Q2;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.S2());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),z(t,[{key:"Q2",get:function(){return this.Qo.Ch}}]),t}(),kO=function(){function t(t){var n=this;this.Qo=new eo,this.P2=void 0,this.C2=void 0,this.j2=void 0,this.O2=void 0,this.z2=void 0,this.R2=void 0,this.Qo.Oh(t);var i=this.Qo.Ch;i.then(function(t){n.P2=t}),this.C2=new MO(i.then(function(t){return t.C2})),this.j2=new MO(i.then(function(t){return t.j2})),this.O2=new MO(i.then(function(t){return t.O2})),this.z2=new MO(i.then(function(t){return t.z2})),this.R2=new MO(i.then(function(t){return t.R2}))}return t.prototype.U2=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.P2,t.t0){t.next=5;break}return t.next=4,this.Y2;case 4:t.t0=t.sent;case 5:return i=t.t0,t.next=8,i.U2(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),z(t,[{key:"Y2",get:function(){return this.Qo.Ch}}]),t}(),mO=function(){function t(){this.hU=[]}var n=t.prototype;return n.m2=function(t){return N.resolve("temporary"===t)},n.N2=function(t){return this.G2(t.key),this.hU.push(t),N.resolve()},n.D2=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.G2(i.key)}for(var e=0;e<t.length;e++){var r=t[e];this.hU.push(r)}return N.resolve()},n._h=function(t){return N.resolve(Boolean(this.F2(t)))},n.Mh=function(t){return N.resolve(this.F2(t))},n.yK=function(t,n){return N.resolve(this.V2(t,n))},n.T2=function(t){var n=this,i=t?t.map(function(t){return n.F2(t)}):this.hU;return N.resolve(i.filter(K))},n.I2=function(){return N.resolve([].concat(this.hU))},n.b2=function(t){return this.E2(t,"key")},n.E2=function(t,n){var i=this.hU.filter(function(i){return i[n]===t});return N.resolve(i)},n.Jh=function(t){return this.G2(t),N.resolve()},n.L2=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.G2(i)}return N.resolve()},n.S2=function(){return hs(this.hU),N.resolve()},n.F2=function(t){return this.V2(t,"key")},n.V2=function(t,n){for(var i=0,e=this.hU;i<e.length;i++){var r=e[i];if(r[n]===t)return r}},n.G2=function(t){var n=this.F2(t);n&&ss(this.hU,n)},t}(),pO=function(){function t(){this.j2=void 0,this.C2=void 0,this.O2=void 0,this.z2=void 0,this.R2=void 0,this.j2=new mO,this.C2=new mO,this.O2=new mO,this.z2=new mO,this.R2=new mO}return t.Kq=function(){return N.resolve(new t)},t.prototype.U2=function(t){return t(this)},t}(),NO=function(){function t(t){this.H2=t}var n=t.prototype;return n.m2=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,e=this.H2;case 1:if(!(i<e.length)){t.next=10;break}return r=e[i],t.next=5,r.m2(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.N2=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,r=this.H2;case 1:if(!(e<r.length)){t.next=10;break}return s=r[e],t.next=5,s.m2(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",s.N2(n));case 7:e++,t.next=1;break;case 10:throw new f("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.D2=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,r=this.H2;case 1:if(!(e<r.length)){t.next=10;break}return s=r[e],t.next=5,s.m2(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",s.D2(n));case 7:e++,t.next=1;break;case 10:throw new f("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n._h=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,e=this.H2;case 1:if(!(i<e.length)){t.next=10;break}return r=e[i],t.next=5,r._h(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Mh=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r,s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,e=this.H2;case 1:if(!(i<e.length)){t.next=11;break}return r=e[i],t.next=5,r.Mh(n);case 5:if(!(s=t.sent)){t.next=8;break}return t.abrupt("return",s);case 8:i++,t.next=1;break;case 11:return t.abrupt("return",void 0);case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.yK=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,r=this.H2;case 1:if(!(e<r.length)){t.next=11;break}return s=r[e],t.next=5,s.yK(n,i);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",u);case 8:e++,t.next=1;break;case 11:return t.abrupt("return",void 0);case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.T2=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r,s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=[],e=0,r=this.H2;case 2:if(!(e<r.length)){t.next=13;break}return s=r[e],t.t0=i.push,t.t1=i,t.next=8,s.T2(n);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:e++,t.next=2;break;case 13:return t.abrupt("return",i);case 14:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.I2=function(){var t=N.coroutine(rr.mark(function t(){var n,i,e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=[],i=0,e=this.H2;case 2:if(!(i<e.length)){t.next=13;break}return r=e[i],t.t0=n.push,t.t1=n,t.next=8,r.I2();case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:i++,t.next=2;break;case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.b2=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r,s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=[],e=0,r=this.H2;case 2:if(!(e<r.length)){t.next=13;break}return s=r[e],t.t0=i.push,t.t1=i,t.next=8,s.b2(n);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:e++,t.next=2;break;case 13:return t.abrupt("return",i);case 14:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.E2=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=[],r=0,s=this.H2;case 2:if(!(r<s.length)){t.next=13;break}return u=s[r],t.t0=e.push,t.t1=e,t.next=8,u.E2(n,i);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:r++,t.next=2;break;case 13:return t.abrupt("return",e);case 14:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Jh=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,e=this.H2;case 1:if(!(i<e.length)){t.next=8;break}return r=e[i],t.next=5,r.Jh(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.L2=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,e=this.H2;case 1:if(!(i<e.length)){t.next=8;break}return r=e[i],t.next=5,r.L2(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.S2=function(){var t=N.coroutine(rr.mark(function t(){var n,i,e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0,i=this.H2;case 1:if(!(n<i.length)){t.next=8;break}return e=i[n],t.next=5,e.S2();case 5:n++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function DO(t){return N.coroutine(rr.mark(function n(){var i;return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N.all(t.map(function(t){return t()}));case 2:return i=n.sent,n.abrupt("return",TO.Kq(i));case 4:case"end":return n.stop()}},n)}))}var TO=function(){function t(t){this.W2=void 0,this.X2=void 0,this.Z2=void 0,this.q2=void 0,this.J2=void 0,this.K2=void 0,this.W2=t,this.X2=new NO(t.map(function(t){return t.z2})),this.Z2=new NO(t.map(function(t){return t.R2})),this.q2=new NO(t.map(function(t){return t.O2})),this.J2=new NO(t.map(function(t){return t.j2})),this.K2=new NO(t.map(function(t){return t.C2}))}return t.Kq=function(n){return N.resolve(new t(n))},t.prototype.U2=function(n){var i=this;if(0===this.W2.length)return n(this);var e=[],r=0;return this.W2[r].U2(function s(u){return e.push(u),++r<i.W2.length?i.W2[r].U2(s):n(new t(e))})},z(t,[{key:"z2",get:function(){return this.X2}},{key:"R2",get:function(){return this.Z2}},{key:"O2",get:function(){return this.q2}},{key:"j2",get:function(){return this.J2}},{key:"C2",get:function(){return this.K2}}]),t}(),IO=function(){function t(t){this.t3=void 0,this.n3=[],this.i3=!0,this.t3=t}var n=t.prototype;return n.Kq=function(){return new kO(this.e3())},n.e3=function(){var t=N.coroutine(rr.mark(function t(){var n,i,e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.i3){t.next=4;break}return t.next=3,N.resolve();case 3:this.i3=!1;case 4:n=0,i=this.n3;case 5:if(!(n<i.length)){t.next=18;break}return e=i[n],t.prev=7,t.next=10,DO([pO.Kq,e])();case 10:return t.abrupt("return",t.sent);case 13:t.prev=13,t.t0=t.catch(7);case 15:n++,t.next=5;break;case 18:return t.next=20,DO([pO.Kq,this.t3])();case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}},t,this,[[7,13]])}));return function(){return t.apply(this,arguments)}}(),n.Gz=function(t){if(!this.i3)throw new f("Registration overdue");this.n3.push(t)},t}(),bO=function(){function t(){}return t.Gz=function(n){t._T.Gz(n)},z(t,null,[{key:"rs",get:function(){return t.r3||(t.r3=t._T.Kq()),t.r3}}]),t}();function EO(t){return Ff(t)}function LO(t,n){var i=Ff(t);return n?""+i+n:""+i}function SO(t,n,i,e,r,s,u,o){var h=new uh;return n&&h.set("Range","bytes="+n[0]+"-"+n[1]),new Qf({Sv:t,Tv:i,Dv:h,Kv:s,Xv:xf.GET,Ao:zf.xv,qv:e,Jv:r,Fo:u,$v:o})}bO._T=new IO(yO.Kq),bO.r3=void 0;var jO=function(t){function n(n,i,e,r,s,u,o,h){var c;return(c=t.call(this)||this).Vk=void 0,c.o$=void 0,c.Tv=void 0,c.qv=void 0,c.Jv=void 0,c.s3=void 0,c.iN=void 0,c.u3=void 0,c.o3=void 0,c.ij=void 0,c.h3=void 0,c.yd=null,c.c3=void 0,c.lv=new gs,c.a3=function(t,n){return c.$v(t,n)},c.Vk=n,c.o$=i,c.Tv=e,c.qv=r,c.Jv=s,c.s3=u,c.ij=o,c.h3=new OO,c.iN=h,c.u3=bO.rs.j2,c.o3=bO.rs.C2,c}U(n,t);var i=n.prototype;return i.ab=function(){return this.f3(this.lv.Fo)},i.f3=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r,s,u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return RC(i=this.o$)?(e=i.o$,r=[i.h$.ab,i.h$.vb]):(e=i,r=void 0),this.h3.v3(),t.prev=3,t.next=6,this.d3(e,r);case 6:if(s=t.sent,ys(n),s){t.next=12;break}return t.next=11,this.l3(e,r,n);case 11:s=t.sent;case 12:return t.next=14,s.Ps();case 14:u=t.sent,ys(n),this.g3(u,s.Nv),t.next=28;break;case 19:if(t.prev=19,t.t0=t.catch(3),!ws(t.t0)){t.next=25;break}return t.abrupt("return");case 25:h=t.t0 instanceof Kf?t.t0.yd.Nv:0,o=new f('Could not load fragment: "'+this.o$+'", HTTP status '+h);case 27:return t.abrupt("return",this.A3(o));case 28:case"end":return t.stop()}},t,this,[[3,19]])}));return function(n){return t.apply(this,arguments)}}(),i.d3=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=LO(n,i),t.next=4,this.u3._h(e);case 4:if(!t.sent){t.next=11;break}return t.next=7,this.o3.Mh(e);case 7:return r=t.sent,s=SO(n,i,this.Tv,this.qv,this.Jv,this.s3),u=r.data.buffer,t.abrupt("return",new Bf({Ps:u,Dv:{},Ev:s,Lv:n,Tv:this.Tv,Nv:200,Iv:""}));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0);case 16:return t.abrupt("return",null);case 17:case"end":return t.stop()}},t,this,[[0,13]])}));return function(n,i){return t.apply(this,arguments)}}(),i.l3=function(t,n,i){var e=SO(t,n,this.Tv,this.qv,this.Jv,this.s3,i,this.a3);return this.iN.Ev(e)},i.$v=function(t,n){var i={type:"F4",Ev:this,w3:t,y3:n=void 0===n?NaN:n};this.h3._3(t,n),this.dispatchEvent(i)},i.g3=function(t,n){var i=this.Tv===sh.Va?t.byteLength:0;this.h3.M3(i),this.Tv===sh.cs?this.yd=t:this.yd=new y(t),this.c3=n,t=null,this.A3(),this.yd=null},i.Po=function(t){return this.lv.Po(),t||((t=new f('Aborted fragment load: "'+this.o$+'"')).aborted=!0),this.A3(t)},i.A3=function(t){this.h3.m3();var n={type:"PA",Ev:this};return this.dispatchEvent(n),this.ij(t||null,this)},n}(lC);function CO(){return iN()/1e3}var OO=function(t){function n(){var n;return(n=t.call(this)||this).N3=NaN,n.D3=NaN,n.T3=NaN,n.I3=NaN,n.b3=0,n.E3=NaN,n.N3=CO(),n}U(n,t);var i=n.prototype;return i.v3=function(){this.N3=CO(),this.dispatchEvent("Kh")},i._3=function(t,n){this.T3=CO(),this.h2||(this.D3=this.T3),this.b3=t,this.E3=n||this.E3||NaN,this.dispatchEvent("Kh")},i.M3=function(t){this._3(t,t)},i.m3=function(){this.I3=CO(),this.dispatchEvent("Kh")},z(n,[{key:"h2",get:function(){return!w(this.D3)}},{key:"L3",get:function(){return!w(this.I3)}},{key:"kA",get:function(){return(this.D3||CO())-this.N3}},{key:"S3",get:function(){return(this.I3||this.T3)-this.D3}},{key:"j3",get:function(){return(this.I3||this.T3)-this.N3}}]),n}(lC),xO=function(t){function n(n,i){var e;return(e=t.call(this)||this).s3=void 0,e.C3=[],e.O3=null,e.x3=function(t){return e.z3(t)},e.iN=void 0,e.s3=!(!i||i.crossOrigin!==Dl.Fg),e.iN=n,e}U(n,t);var i=n.prototype;return i.qh=function(t,n,i,e,r,s){var u=new jO(t,n,i,e,r,this.s3,s,this.iN);return u.addEventListener("PA",this.x3),this.C3.push(u),this.R3(),u},i.U3=function(t,n,i,e,r){var s=this;return new N(function(u,o){s.qh(t,n,i,e,r,function(t,n){t?o(t):u(n.yd)})})},i.ph=function(t,n){var i=function(t){return!n||t.Vk===n},e=this.C3.filter(i);!t&&this.O3&&i(this.O3)&&e.push(this.O3);for(var r=0;r<e.length;r++){e[r].Po()}return e},i.R3=function(){if(!this.O3){var t=this.C3.shift();t&&(this.O3=t,t.ab())}},i.z3=function(t){var n=t.Ev,i=this.C3.indexOf(n);-1!==i&&us(this.C3,i),this.O3===n&&(this.O3=null,this.R3())},n}(lC);function zO(n){return t.URL&&t.URL.createObjectURL?t.URL.createObjectURL(n):t.webkitURL&&t.webkitURL.createObjectURL?t.webkitURL.createObjectURL(n):t.createObjectURL?t.createObjectURL(n):null}function RO(n){return t.URL&&t.URL.revokeObjectURL?t.URL.revokeObjectURL(n):t.webkitURL&&t.webkitURL.revokeObjectURL?t.webkitURL.revokeObjectURL(n):t.revokeObjectURL?t.revokeObjectURL(n):void 0}function UO(t,n){return ih([t],{type:n})}var BO="iframe.html",QO=0,PO=_&&(_.bind&&_.bind(_)||_),YO=function(t){function n(n){var i;return(i=t.call(this)||this).B3=void 0,i.Q3=[],i.P3=!1,i.Xo=function(t){return i.dispatchEvent(t)},n&&i.cc(n),i}U(n,t);var i=n.prototype;return i.postMessage=function(t){this.P3||(this.B3?this.B3.postMessage(t):this.Q3.push(t))},i.cc=function(t){if(this.P3)t.terminate();else{this.B3=t,this.B3.addEventListener("message",this.Xo,!1),this.B3.addEventListener("error",this.Xo,!1);for(var n=0,i=this.Q3;n<i.length;n++){var e=i[n];this.B3.postMessage(e)}this.Q3.length=0}},i.terminate=function(){this.$o(),this.P3=!0,this.Q3.length=0,this.B3&&(this.B3.removeEventListener("message",this.Xo,!1),this.B3.removeEventListener("error",this.Xo,!1),this.B3.terminate(),this.B3=void 0)},n}(lC);var GO=function(n){function i(i,e,s){var u,o,h;return(u=n.call(this)||this).cg=void 0,u.Y3=void 0,u.G3=void 0,u.F3=void 0,u.V3=void 0,u.H3=function(){return u.W3()},u.X3=function(t){return u.Z3(t)},u.cg=i,u.Y3=e,u.G3=(o=s+BO,(h=r.createElement("iframe")).width="0",h.height="0",h.style.display="none",h.src=o,r.body.appendChild(h),h),u.F3=u.G3.contentWindow,u.V3=Zf(s),u.G3.addEventListener("load",u.H3),t.addEventListener("message",u.X3),u}U(i,n);var e=i.prototype;return e.W3=function(){this.G3.removeEventListener("load",this.H3),this.F3.postMessage({type:"initialize",id:this.cg,script:this.Y3},"*")},e.Z3=function(t){Zf(t.origin)===this.V3&&t.data.id===this.cg&&("initialized"===t.data.type?this.dispatchEvent("initialized"):"error"===t.data.type?this.dispatchEvent({type:"error",message:t.data.data.message,filename:t.data.data.filename,lineno:t.data.data.lineno}):this.dispatchEvent({type:"message",data:t.data.data}))},e.postMessage=function(t){this.F3.postMessage({type:"message",data:t},"*")},e.terminate=function(){this.G3.removeEventListener("load",this.H3),t.removeEventListener("message",this.X3),this.F3.postMessage({type:"terminate"},"*"),this.G3.parentNode.removeChild(this.G3)},i}(lC);function FO(){return(FO=N.coroutine(rr.mark(function t(n,i){var e,r,s,u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=p.Al,t.prev=1,r=new Qf({Sv:n,Xv:xf.GET,Tv:sh.cs}),t.next=5,e.Ev(r);case 5:return s=t.sent,t.next=8,s.Ps();case 8:u=t.sent,i(void 0,u),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(1),o=new f("PLAYER_INCORRECTLY_CONFIGURED"),h=t.t0 instanceof Kf?t.t0.yd.Nv:-1,i({zh:h,vh:o});case 17:case"end":return t.stop()}},t,null,[[1,12]])}))).apply(this,arguments)}function VO(t,n){function i(i){return r(),it(e=i.data)&&"3.2.1"===e.q3?n(void 0,t):n(new f("PLAYER_INCORRECTLY_CONFIGURED"));var e}function e(i){i.preventDefault&&i.preventDefault(),r(),t.terminate(),n({message:i.message,filename:i.filename,lineno:i.lineno})}function r(){t.removeEventListener("message",i),t.removeEventListener("error",e)}t.addEventListener("message",i),t.addEventListener("error",e)}function HO(t,n){if(void 0===t)return n({message:"Worker could not be loaded."});var i;try{i=new PO(t)}catch(t){return n({message:t.message})}return VO(i,n)}var WO=!0;function XO(t,n){var i=QO++,e=t+n,s=new YO;function u(){!function(t,n,i,e){var s;function u(){h(),VO(s,e)}function o(t){t.preventDefault&&t.preventDefault(),h(),s.terminate(),e({message:t.message,filename:t.filename,lineno:t.lineno})}function h(){s.removeEventListener("initialized",u),s.removeEventListener("error",o)}if(!r)return e({message:"Could not create Worker.",filename:"workershim.js",lineno:223});(s=new GO(t,n,i)).addEventListener("initialized",u),s.addEventListener("error",o)}(i,e,t,o)}function o(t,n,i){t?s.dispatchEvent({type:"error",message:t.message,filename:t.filename,lineno:t.lineno}):(s.cc(n),i&&s.dispatchEvent(i))}return HO(e,function(t,n,i){t?function(t,n){FO.apply(this,arguments)}(e,function(t,n){t?t.zh>=400?o(t.vh):u():n&&function(t,n){if(!WO)return n({message:"Could not create Worker.",filename:"workershim.js",lineno:196});HO(zO(UO(t,"application/javascript")),function(t,i,e){return t&&(WO=!1),n(t,i,e)})}(n,function(t,n,i){t?u():o(t,n,i)})}):o(t,n,i)}),s}function ZO(t,n){if(n<0)throw new f("The index provided ("+n+") must be non-negative");if(n>=t.length)throw new f("The index provided ("+n+") is greater than the maximum bound ("+t.length+")")}function qO(t){return{get length(){return t.length},start:function(n){return ZO(t,n|=0),t.start(n)},end:function(n){return ZO(t,n|=0),t.end(n)}}}function JO(t,n){return t.ab-n.ab}var KO=function(){function t(t){this.J3=void 0,this.J3=t}var n=t.prototype;return n.start=function(t){return this.J3[t].ab},n.end=function(t){return this.J3[t].vb},n.K3=function(){return this.J3},z(t,[{key:"length",get:function(){return this.J3.length}}]),t}(),$O=new KO([]),tx=new KO([{ab:-1/0,vb:1/0}]);function nx(t,n){return function(t,n){var i=t.length;if(n=+n||0,i<2)return t;for(var e=[],r=t.start(0),s=t.end(0),u=1;u<i;u++){var o=t.start(u),h=t.end(u);r<=o&&s>=h||(s+n>=o?s=h:(e.push({ab:r,vb:s}),r=o,s=h))}return e.push({ab:r,vb:s}),new KO(e)}(function(t){var n=ux(t);return n.sort(JO),new KO(n)}(t),n)}function ix(t,n){for(var i=[],e=0,r=0;e<t.length&&r<n.length;){var s=l.max(t.start(e),n.start(r)),u=l.min(t.end(e),n.end(r));s<u&&i.push({ab:s,vb:u}),t.end(e)<n.end(r)?e+=1:r+=1}return new KO(i)}function ex(t){var n=t.length;if(!n)return tx;var i=[],e=t.start(0);e!==-1/0&&i.push({ab:-1/0,vb:e});for(var r=0;r<n-1;r+=1)i.push({ab:t.end(r),vb:t.start(r+1)});var s=t.end(n-1);return s!==1/0&&i.push({ab:s,vb:1/0}),new KO(i)}function rx(t,n){return-1!==sx(t,n)}function sx(t,n){return function(t,n,i,e){n+=e=+e||0,i-=e;for(var r=0;r<t.length;r+=1)if(t.start(r)<=n&&i<=t.end(r))return r;return-1}(t,n,n)}function ux(t){if(t instanceof KO)return t.K3();var n=[];if(!t)return n;for(var i=0;i<t.length;i++)n.push({ab:t.start(i),vb:t.end(i)});return n}function ox(t,n){return i=[t,n],r=(e=r=[]).concat.apply(e,i.map(ux)),nx(new KO(r));var i,e,r}var hx=.001;function cx(t,n,i){return i=+i||0,t.ab-i<=n.vb&&n.ab<=t.vb+i}function ax(t){var n={ab:NaN,vb:NaN,xK:t};return fx(n),n}function fx(t){var n=t.xK;n.length?(n.sort(JO),t.ab=n[0].ab,t.vb=n[n.length-1].vb):(t.ab=NaN,t.vb=NaN)}function vx(t){return void 0!==t.xK}function dx(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=l.max(s.ab,n),o=l.min(s.vb,i);if(u<o){var h=void 0;h=s.ab===u&&s.vb===o?s:{ab:u,vb:o,$k:s.$k},e.push(h)}}return e}function lx(t,n){var i=l.min(t.ab,n.ab),e=l.max(t.vb,n.vb),r=t.xK,s=n.xK,u=r.concat(s),o=r.length?r[r.length-1]:null,h=s.length?s[0]:null;return o&&h&&o.$k===h.$k&&cx(o,h,hx)&&u.splice(r.length-1,2,function(t,n){var i=t.$k||n.$k;return{ab:l.min(t.ab,n.ab),vb:l.max(t.vb,n.vb),$k:i}}(o,h)),ax(u=dx(u,i,e))}var gx,Ax,wx,yx=function(){function t(t,n){this.J3=void 0,this.J3=function(t){for(var n=[],i=0;i<t.length;i+=1){var e=t[i],r=void 0;vx(e)?fx(r=e):r=ax([e]),r.xK.length&&r.ab<r.vb&&n.push(r)}return n}(t),n||this.t5()}var n=t.prototype;return n.start=function(t){return this.J3[t]&&this.J3[t].ab},n.end=function(t){return this.J3[t]&&this.J3[t].vb},n.xK=function(t){return this.J3[t]&&this.J3[t].xK},n.n5=function(t,n){return this.i5(t,t,n)},n.i5=function(t,n,i){t+=i=+i||0,n-=i;for(var e=0;e<this.length;e+=1)if(this.start(e)<=t&&n<=this.end(e))return e;return-1},n.e5=function(t,n,i){t-=i=+i||0,n+=i;for(var e=0;e<this.length;e+=1)if(this.start(e)<n&&t<this.end(e))return e;return-1},n.r5=function(t,n){t+=n=+n||0;for(var i=this.length-1;i>=0;i-=1)if(this.start(i)<=t)return i;return-1},n.s5=function(t,n){t-=n=+n||0;for(var i=0;i<this.length;i+=1)if(t<=this.end(i))return i;return-1},n.pw=function(t){return-1!==this.n5(t)},n.Ob=function(t,n,i){return-1!==this.i5(t,n,i)},n.zb=function(t,n,i){return-1!==this.e5(t,n,i)},n.Nb=function(t){for(var n=[],i=0,e=0;i<this.length&&e<t.length;){var r=l.max(this.start(i),t.start(e)),s=l.min(this.end(i),t.end(e));if(r<s){var u=dx(this.xK(i),r,s);n.push(ax(u))}this.end(i)<t.end(e)?i+=1:e+=1}return this.Kq(n,!0)},n.Cy=function(t){return this.length&&t.length?this.Nb(ex(t)):this},n.Lb=function(t){return this.length?t.length?this.Kq(this.J3.concat(t.J3)):this:t},n.u5=function(t){for(var n=[],i=0,e=this.J3;i<e.length;i++)for(var r=0,s=e[i].xK;r<s.length;r++){var u=t(s[r]);u&&n.push(u)}return this.Kq(n)},n.Bb=function(t){return this.u5(function(n){return t(n)?n:null})},n.o5=function(){if(!this.length)return this;for(var t=this.J3.slice(),n=0;n<t.length-1;n+=1){var i=t[n],e=t[n+1];e&&this.h5(i,e)&&(t.splice(n,2,lx(i,e)),n-=1)}return this.Kq(t,!0)},n.h5=function(t,n){var i=t.xK,e=n.xK,r=i.length?i[i.length-1]:null,s=e.length?e[0]:null;return r&&s&&this.c5(r,s)},n.t5=function(){var t=this.J3;t.sort(JO);for(var n=0;n<t.length-1;n+=1){var i=t[n],e=t[n+1];e&&cx(i,e,hx)&&(t.splice(n,2,lx(i,e)),n-=1)}},z(t,[{key:"length",get:function(){return this.J3.length}}]),t}(),_x=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.Kq=function(t,i){return new n(t,i)},i.c5=function(t,n){return n.$k.o0===t.$k.o0&&n.$k.lK===t.$k.lK+1},n}(yx);function Mx(t,n){for(var i=[],e=0;e<n.length;e++){var r=n[e],s=t.a5(r),u=t.f5(r,s);i.push({ab:s.my(),vb:u.my(),$k:r})}return new _x(i).o5()}function kx(t){return t.v5!==gx.d5}function mx(t){return 0===t.v5}function px(t){return t.v5>=0}function Nx(t,n){for(var i=[],e=0;e<n.length;e++)for(var r=!1,s=0,u=n.xK(e);s<u.length;s++){var o=u[s];if(!r){var h=o.$k;if(UC(h)&&kx(h)){if((r=px(h))&&!mx(h)){var c=t.l5(h,h.g5).my();o={ab:l.max(o.ab,c),vb:o.vb,$k:h}}}else r=!0;0}r&&i.push(o)}return new _x(i)}(Ax=gx||(gx={})).d5=-1,Ax.A5=-2,function(t){t.w5="h.264",t.y5="mp3",t._5="aac-lc",t.M5="he-aac"}(wx||(wx={}));var Dx,Tx,Ix,bx,Ex=function(){function t(){this.k5=0,this.J3=[],this.Qp={}}var n=t.prototype;return n.m5=function(t){this.J3=this.J3.concat(t.J3),this.k5+=t.$l},n.p5=function(t,n,i){var e=this.k5,r=i-n;r>0&&(this.J3.push({N5:n,D5:i,T5:r,I5:e,b5:t}),this.k5+=r)},n.Mh=function(t){for(var n=0,i=this.J3;n<i.length;n++){var e=i[n];if(e.I5<=t&&t<e.I5+e.T5)return e.b5[t+e.N5-e.I5]}},n.E5=function(t,n){for(var i=n,e=0,r=this.J3;e<r.length;e++)for(var s=r[e],u=s.D5,o=s.N5;o<u;o+=1,i+=1)t[i]=s.b5[o];return i},n.L5=function(){for(var t=new y(this.k5),n=0,i=0,e=this.J3;i<e.length;i++)for(var r=e[i],s=r.D5,u=r.N5;u<s;u+=1,n+=1)t[n]=r.b5[u];return t},n.bh=function(n){for(var i=new t,e=0,r=this.J3;e<r.length;e++){var s=r[e];i.p5(s.b5,s.N5,s.D5)}return i.Qp=n||sr({},this.Qp),i},z(t,[{key:"$l",get:function(){return this.k5},set:function(t){var n=this.J3,i=this.k5-t;if(!(t>=this.k5))if(this.k5=t,0!==t)for(var e=n.length-1;e>=0;e-=1){var r=n[e];if(i<=r.T5)return r.D5-=i,r.T5-=i,void(n.length!==e+1&&(n.length=e+1));i-=r.T5}else n.length=0}},{key:"Ps",get:function(){for(var t=new Array(this.k5),n=0,i=0,e=this.J3;i<e.length;i++)for(var r=e[i],s=r.D5,u=r.N5;u<s;u+=1,n+=1)t[n]=r.b5[u];return t}}]),t}();function Lx(t,n){return{audio:t.audio?Rx(t.audio,n):void 0,video:t.video?Gx(t.video,n):void 0,S5:t.S5?(i=t.S5,{j5:i.j5,I1:i.I1,Mg:i.Mg,C5:i.C5,O5:i.O5,x5:i.x5,z5:i.z5.map(Sx),Dg:[]}):void 0,R5:t.R5?t.R5.map(Cx):t.R5,U5:t.U5.R_()};var i}function Sx(t){return{fk:t.fk,Qp:{B5:t.Qp.B5,Q5:t.Qp.P5.R_()},lG:t.lG}}function jx(t){return{fk:t.fk,Qp:{B5:t.Qp.B5,P5:UA(t.Qp.Q5)},lG:t.lG}}function Cx(t){return{P5:t.P5.R_(),ip:t.ip,EZ:t.EZ,bZ:t.bZ,Ao:t.Ao,Y5:t.Y5,LZ:t.LZ,SZ:t.SZ}}function Ox(t){return{P5:UA(t.P5),ip:t.ip,EZ:t.EZ,bZ:t.bZ,Ao:t.Ao,Y5:t.Y5,LZ:t.LZ,SZ:t.SZ}}function xx(t){return{j5:t.j5,lG:[],G5:t.G5,F5:t.F5,duration:t.duration,V5:t.V5,H5:t.H5.R_(),W5:t.W5,X5:t.X5.R_(),Z5:t.Z5,q5:t.q5.R_(),J5:t.J5.R_(),K5:t.K5.R_(),t6:t.t6.R_(),n6:t.n6.R_(),i6:t.i6.R_(),e6:t.e6.R_()}}function zx(t){return{j5:t.j5,lG:[],G5:t.G5,F5:t.F5,duration:t.duration,V5:t.V5,H5:UA(t.H5),W5:t.W5,X5:UA(t.X5),Z5:t.Z5,q5:UA(t.q5),J5:UA(t.J5),K5:UA(t.K5),t6:UA(t.t6),n6:UA(t.n6),i6:UA(t.i6),e6:UA(t.e6)}}function Rx(t,n){switch(t.G5){case wx._5:case wx.M5:return function(t,n){return sr({},Bx(t),{G5:t.G5,lG:t.lG.map(function(t){return function(t,n){var i=(e=t.Qp,sr({},Hx(e),{r6:e.r6,s6:e.s6,u6:e.u6}));var e;return Px(t.bh(i),n)}(t,n)}),U0:t.U0,o6:t.o6})}(t,n);case wx.y5:return function(t,n){return sr({},Bx(t),{G5:t.G5,lG:t.lG.map(function(t){return function(t,n){var i=(e=t.Qp,sr({},Hx(e),{Ak:e.Ak,Hk:e.Hk,h6:e.h6,c6:e.c6,a6:e.a6}));var e;return Px(t.bh(i),n)}(t,n)})})}(t,n)}}function Ux(t){switch(t.G5){case wx._5:case wx.M5:return function(t){return sr({},Qx(t),{G5:t.G5,lG:t.lG.map(function(t){return function(t){var n=Yx(t),i=(e=n.Qp,sr({},Wx(e),{r6:e.r6,s6:e.s6,u6:e.u6}));var e;return n.bh(i)}(t)}),U0:t.U0,o6:t.o6})}(t);case wx.y5:return function(t){return sr({},Qx(t),{G5:t.G5,lG:t.lG.map(function(t){return function(t){var n=Yx(t),i=(e=n.Qp,sr({},Wx(e),{Ak:e.Ak,Hk:e.Hk,h6:e.h6,c6:e.c6,a6:e.a6}));var e;return n.bh(i)}(t)})})}(t)}}function Bx(t){return sr({},xx(t),{lG:[],G5:t.G5,f6:t.f6,v6:t.v6,d6:t.d6,l6:t.l6})}function Qx(t){return sr({},zx(t),{lG:[],G5:t.G5,f6:t.f6,v6:t.v6,d6:t.d6,l6:t.l6})}function Px(t,n){var i=t.L5();return n.push(i.buffer),{g6:i,A6:t.$l,w6:t.Qp}}function Yx(t){var n=new Ex;return n.p5(t.g6,0,t.A6),n.Qp=t.w6,n}function Gx(t,n){return sr({},xx(t),{G5:t.G5,lG:t.lG.map(function(t){return function(t,n){var i=(e=t.Qp,sr({},Fx(e),{oA:e.oA,y6:e.y6.R_(),_6:e._6,M6:e.M6,k6:e.k6&&e.k6.R_(),m6:e.m6&&e.m6.R_(),p6:e.p6,N6:e.N6,R5:e.R5,D6:e.D6}));var e;return Px(t.bh(i),n)}(t,n)}),T6:t.T6,I6:t.I6,Om:t.Om,width:t.width,height:t.height,b6:t.b6,E6:t.E6,L6:t.L6,j0:t.j0,C0:t.C0,Hm:t.Hm,Wm:t.Wm})}function Fx(t){var n;return sr({},{B5:(n=t).B5,Q5:n.Q5.R_()},{S6:t.S6.R_(),j6:t.j6.R_()})}function Vx(t){var n;return sr({},{B5:(n=t).B5,Q5:UA(n.Q5)},{S6:UA(t.S6),j6:UA(t.j6)})}function Hx(t){return sr({},Fx(t))}function Wx(t){return sr({},Vx(t))}function Xx(t){var n=t.video,i=n&&n.lG;if(!n)return 0;if(!i)return NaN;for(var e=0;e<i.length;e+=1){if(i[e].Qp.p6)return e}return NaN}function Zx(t){var n=t.C6.video,i=n&&n.lG;if(!n)return 0;if(!i)return NaN;for(var e=i.length-1;e>=0;e-=1){if(i[e].Qp.p6)return e}return NaN}function qx(t){if(!t)return null;switch(t.G5){case wx.w5:return function(t){return t.Om?"avc1."+(t.b6<16?"0":"")+((t.b6<<16)+(t.E6<<8)+t.L6).toString(16):null}(t);case wx.y5:return"mp4a.40.34";case wx._5:return t.o6?"mp4a.40.5":"mp4a.40.2";case wx.M5:return"mp4a.40.5";default:return null}}function Jx(t,n){var i=t.info,e=i.o0,r=t.C6,s=e.UK(t.info.lK-1),u=r.audio||void 0,o=r.video||void 0,h=u&&qx(u),c=o&&qx(o),a=(!u||h)&&(!o||c)?{R$:h,U$:c}:null,f=u&&!w(u.Z5)?u.Z5:null,v=o&&!w(o.Z5)?o.Z5:null,d=XA(u&&u.J5,o&&o.J5),g=XA(u&&u.K5,o&&o.K5),A=ZA(u&&u.i6,o&&o.i6),y=ZA(u&&u.e6,o&&o.e6),_=o&&o.H5.mw(zA.D_(o.duration)),M=u&&u.H5.mw(zA.D_(u.duration)),k=UC(s),m=k&&s.width||e.resolution&&e.resolution.width,p=k&&s.width||e.resolution&&e.resolution.height;t.metadata={start:l.max(null===f?v||0:null===v?f:l.min(f,v),0),O6:i,duration:_&&M?zA.y_(_,M).my():(_||M||zA.Yy).my(),x6:d,z6:g,R6:A,U6:y,audio:{start:l.max(0,f||0),duration:u&&u.V5||0,G5:h,D4:u&&u.W5,x6:u&&u.J5,z6:u&&u.K5,R6:u&&u.i6,U6:u&&u.e6},video:{start:l.max(0,v||0),duration:o&&o.V5||0,G5:c,D4:o&&o.W5,x6:o&&o.J5,z6:o&&o.K5,R6:o&&o.i6,U6:o&&o.e6},ez:o?{width:o.width||m,height:o.height||p}:null,lK:i.lK,size:n,quality:e,F0:a,B6:i.B6,Q6:i.Q6}}function Kx(t,n){var i,e,r,s,u={start:0,duration:0,G5:null,D4:null,x6:null,z6:null,R6:null,U6:null};return"R$"===n?(e=u,r=i=sr({},u,t.video),s=t.ez):(e=i=sr({},u,t.audio),r=u,s=null),{start:i.start,O6:t.O6,duration:i.duration,x6:i.x6,z6:i.z6,R6:i.R6,U6:i.U6,audio:e,video:r,ez:s,lK:t.lK,size:t.size,quality:t.quality,F0:t.F0,B6:t.B6,Q6:t.Q6}}function $x(t,n){return t+"P6"+n.lK+"Y6"+n.uri}!function(t){t.G6="F6",t.V6="H6"}(Dx||(Dx={})),function(t){t.W6="X6",t.oK="Z6"}(Tx||(Tx={})),function(t){t.q6="J6",t.V6="H6"}(Ix||(Ix={})),function(t){t.K6="t9",t.n9="i9"}(bx||(bx={}));var tz=function(t){function n(n){var i;return(i=t.call(this)||this).Cc=void 0,i.e9=or(),i.r9=void 0,i.s9=void 0,i.u9=function(t){var n=t.data,e=n.o9;if(i.e9.get(e))switch(n.h9){case Tx.W6:0;var r=n.c9;i.a9(e,r);break;case Tx.oK:var s=n.f9;i.v9(e,new wC(AC.eK,{code:s}));default:0}},i.d9=function(t){var n,e,r,s,u=t.data,o=u.l9;if(i.e9.get(o))switch(u.g9){case bx.K6:0;var h=u.A9;i.w9(o,{audio:(n=h).audio?Ux(n.audio):void 0,video:n.video?(r=n.video,s=zx(r),sr({},s,{G5:r.G5,lG:r.lG.map(function(t){return function(t){var n,i=Yx(t),e=sr({},Vx(n=i.Qp),{oA:n.oA,y6:UA(n.y6),_6:n._6,M6:n.M6,k6:n.k6&&UA(n.k6),m6:n.m6&&UA(n.m6),p6:n.p6,N6:n.N6,R5:n.R5,D6:n.D6});return i.bh(e)}(t)}),T6:r.T6,I6:r.I6,Om:r.Om,width:r.width,height:r.height,b6:r.b6,E6:r.E6,L6:r.L6,j0:r.j0,C0:r.C0,Hm:r.Hm,Wm:r.Wm})):void 0,S5:n.S5?(e=n.S5,{j5:e.j5,I1:e.I1,Mg:e.Mg,C5:e.C5,O5:e.O5,x5:e.x5,z5:e.z5.map(jx),Dg:[]}):void 0,R5:n.R5?n.R5.map(Ox):n.R5,U5:UA(n.U5)});break;case bx.n9:var c=u.y9;i.v9(o,new wC(AC.eK,{code:c}));default:0}},i._9=function(t){if("PLAYER_INCORRECTLY_CONFIGURED"===t.message){var n={type:"vh",vh:new wC(AC.fK,{code:"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation"})};At(n.vh.info.code),i.dispatchEvent(n)}else 0},i.Cc=n,i.s9=i.M9(),i}U(n,t);var i=n.prototype;return i.Po=function(t){var n=[];this.e9.forEach(function(i,e){t&&i.Vk!==t||n.push(e)}),this.k9(n)},i.k9=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.e9.delete(i)}if(t.length){if(this.r9){var e={m9:Dx.V6,p9:t};this.r9.postMessage(e)}if(this.s9){var r={N9:Ix.V6,D9:t};this.s9.postMessage(r)}}},i.v9=function(t,n){var i=this.e9.get(t);if(i){var e=i.ij;this.e9.delete(t),e(n)}},i.T9=function(t,n,i,e){this.r9||(this.r9=this.I9());var r={m9:Dx.G6,b9:t,E9:n,L9:i,S9:e};this.r9.postMessage(r)},i.j9=function(t,n){this.s9||(this.s9=this.M9());var i={N9:Ix.q6,C9:t,O9:n,x9:this.e9.get(t).z9};this.s9.postMessage(i)},i.a9=function(t,n){this.j9(t,n)},i.I9=function(){var t=XO(this.Cc.libraryLocation,"theoplayer.d.js");return t.addEventListener("message",this.u9),t.addEventListener("error",this._9),t},i.R9=function(t){var n=t.C6.video,i=n&&n.lG&&n.lG[0];i&&i.Qp.p6},i.w9=function(t,n){var i=this.e9.get(t),e=i.ij,r=i.U9,s={C6:n,info:i.B9,metadata:null};this.R9(s),function(t){var n=t.info.o0.UK(t.info.lK-1),i=t.C6;t.info.Q6=t.info.BK,n&&(i.audio||i.video?i.video&&!i.video.I6&&!i.video.T6&&i.video.W5&&n.W0&&i.video.W5!==n.W0?t.info.Q6=!0:i.video&&(i.video.height&&n.height&&i.video.height!==n.height||i.video.width&&n.width&&i.video.width!==n.width)&&(t.info.Q6=!0):t.info.Q6=!0)}(s),Jx(s,r),function(t){var n=t.info,i=n.o0,e=t.metadata,r=t.C6;if(n.Q9=zA.D_(e.duration),n.a$=r.audio&&r.audio.H5.mw(zA.D_(r.audio.duration))||zA.Yy,n.f$=r.video&&r.video.H5.mw(zA.D_(r.video.duration))||zA.Yy,n.P9=r.audio&&r.audio.H5||zA.Yy,n.Y9=r.video&&r.video.H5||zA.Yy,n.G9=e.audio.x6,n.F9=e.audio.z6,n.V9=e.video.x6,n.H9=e.video.z6,n.c$=e.x6,n.W9=e.z6,n.X9=e.audio.R6,n.Z9=e.audio.U6,n.q9=e.video.R6,n.J9=e.video.U6,n.R6=e.R6,n.U6=e.U6,r.video){var s=Xx(t.C6),u=r.video.lG&&r.video.lG[s];u?(n.v5=s,n.g5=u.Qp.S6,n.K9=u.Qp.j6):n.v5=gx.A5}else n.v5=gx.d5;n.W0=r.video&&r.video.W5||0,n.width=r.video&&r.video.width||0,n.height=r.video&&r.video.height||0,i.dispatchEvent({type:"s1",B9:t.info}),!i.resolution&&e.ez&&(i.resolution=e.ez),i.bandwidth||(i.bandwidth=8*e.size/e.duration),!e.F0||i.F0&&!i.F0.R$==!e.F0.R$&&!i.F0.U$==!e.F0.U$||i.P0(e.F0),r.audio&&void 0!==r.audio.U0&&(i.U0=r.audio.U0),i.j0=r.video&&r.video.j0||i.j0,i.C0=r.video&&r.video.C0||i.C0,i.O0=r.audio&&r.audio.j5||void 0,i.x0=r.video&&r.video.j5||void 0,i.z0=r.audio&&r.audio.G5||void 0,i.R0=r.video&&r.video.G5||void 0,i.B0=r.audio&&r.audio.W5||void 0,i.W0=r.video&&r.video.W5||void 0}(s),this.e9.delete(t),e(null,s)},i.M9=function(){var t=XO(this.Cc.libraryLocation,"theoplayer.e.js");return t.addEventListener("message",this.d9),t.addEventListener("error",this._9),t},i.t8=function(t,n,i,e){var r=this;t.getKey(e).then(function(t){var s=i;i=void 0,r.e9.has(n)&&r.T9(n,s,t,e.iv)}).catch(function(t){i=void 0,r.e9.has(n)&&r.v9(n,t)})},i.n8=function(t,n,i,e,r,s){var u=$x(t,e),o=e.o0;this.e9.set(u,{Vk:t,B9:e,z9:{i8:e.duration,F0:o.F0,j0:o.j0,C0:o.C0,O0:o.O0,x0:o.x0,z0:o.z0,R0:o.R0,U0:!this.Cc.skipImplicitHEAACDetection&&o.U0,e8:r},U9:i.length,ij:s}),e.key?this.t8(n,u,i,e.key):this.j9(u,i)},i.r8=function(t){var n=[];return this.e9.forEach(function(i){i.Vk===t&&n.push(i.B9)}),n},i.s8=function(t,n){var i=$x(t,n);return this.e9.has(i)},i.nd=function(){this.Po(),this.r9&&(this.r9.terminate(),this.r9=void 0),this.s9&&(this.s9.terminate(),this.s9=void 0)},n}(lC);function nz(t,n){return t+"u8"+n}function iz(t){return nz(t.o0.cg,t.lK)}function ez(t){return!(!t||!t.C6)}var rz=function(){function t(t,n,i){this.o8=void 0,this.xp=void 0,this.h8=[],this.c8=or(),this.a8=1,this.f8=void 0,this.xp=t,this.o8=n,this.f8=i}var n=t.prototype;return n.v8=function(t){var n=iz(t.info);if(this.c8.has(n))this.d8(t.info,t);else{this.h8.push(n),this.c8.set(n,t);for(var i=this.o8.l8+10;this.h8.length>8*this.g8&&this.A8>i*this.g8;){var e=this.c8.get(this.h8[0]),r=this.f8.w8,s=null==e?void 0:e.info;if(s){var u=s.start,o=u+s.duration,h=new am([u,o]),c=r,a=c+this.o8.l8;if(new am([c,a]).Nb(h).$l>0)break}this.c8.delete(this.h8.shift())}}},n.y8=function(t,n){var i=nz(t,n),e=this.c8.get(i),r=this.h8.indexOf(i);return!(!e||-1===r)&&(us(this.h8,r),this.c8.delete(i),!0)},n.ph=function(){this.h8.length=0,this.c8.clear()},n._8=function(){for(var t={},n=0,i=this.h8;n<i.length;n++){var e=i[n],r=this.c8.get(e);ez(r)&&(t[r.info.o0.cg]=(t[r.info.o0.cg]||0)+1)}return t},n.M8=function(t,n){var i=[],e=this.k8(t,n);if(!ez(e))return i;do{i.push(e),n+=1,e=this.k8(t,n)}while(ez(e));return i},n.m8=function(t,n){return!!this.k8(t,n)},n.p8=function(t,n){return ez(this.k8(t,n))},n.k8=function(t,n){return this.c8.get(nz(t,n))},n.d8=function(t,n){var i=iz(t),e=this.h8.indexOf(i);return-1!==e&&(us(this.h8,e),this.h8.push(i),n&&this.c8.set(i,n),!0)},n.N8=function(){for(var t=[],n=0,i=this.h8;n<i.length;n++){var e=i[n],r=this.c8.get(e);t.push(r.info)}return t},n.D8=function(){for(var t=[],n=0,i=this.h8;n<i.length;n++){var e=i[n],r=this.c8.get(e);r&&ez(r)&&t.push(r.info)}return t},z(t,[{key:"A8",get:function(){for(var t=Mx(this.xp,this.N8()),n=0,i=0;i<t.length;i++)n+=t.end(i)-t.start(i);return n}},{key:"g8",get:function(){return this.a8},set:function(t){t>0&&(this.a8=l.max(t,1))}}]),t}();var sz=Z.Yr?function(t,n){return WA(t.S6,n.S6)}:function(t,n){return WA(t.j6,n.j6)};function uz(t,n,i,e){if(!t)return i;if(!i)return t;if(t.G5===i.G5){var r,s,u=t.T6||i.T6;if(u)s=1/(r=t.X5.mw(i.X5).f_(2)).my();else{if(t.W5!==i.W5)return;if(!t.X5.hy(i.X5))return;r=t.X5,s=t.W5}if(t.width===i.width&&t.height===i.height){var o,h=t.I6||i.I6||!t.X5.hy(i.X5);if(t.lG)if(i.lG)if(e)o=t.lG.concat(i.lG),oz(t.lG,i.lG,cz);else{!function(t,n,i){var e=t.length,r=zA.Yy;t=Zr(t,function(t,n){return sz(t.Qp,n.Qp).Ny(zA.Yy)});for(var s=1;s<e;s+=1){var u=t[s-1].Qp,o=t[s].Qp,h=sz(o,u);h.Iy(zA.Yy)&&(h=n),r=r.mw(h),u.y6=h,u.oA=h.my()}if(e>0){var c=t[e-1].Qp,a=zA.w_(zA.D_(l.round(i-r.my())),n);c.y6=a,c.oA=a.my()}}(n.lG.concat(i.lG),r,n.duration+i.duration),o=t.lG.concat(i.lG),oz(t.lG,i.lG,cz)}else o=t.lG;else o=i.lG;return{G5:t.G5,b6:t.b6,L6:t.L6,E6:t.E6,W5:s,X5:r,T6:u,I6:h,width:t.width,height:t.height,j0:t.j0,C0:t.C0,Om:t.Om,duration:t.duration+i.duration,V5:t.V5+i.V5,H5:t.H5,Z5:t.Z5,q5:t.q5,J5:t.J5,K5:t.K5,t6:fz(i.t6,t.t6),n6:fz(i.n6,t.n6),i6:fz(i.i6,t.i6),e6:fz(i.e6,t.e6),lG:o,F5:t.F5||i.F5,Hm:t.Hm,Wm:t.Wm}}}}function oz(t,n,i){var e=n[0].Qp.Q5,r=t[t.length-1].Qp.Q5,s=e.Cy(r),u=WA(e,r).Cy(s);if(!u.Wy())for(var o=0;o<n.length;o++){i(n[o].Qp,u)}}function hz(t,n){t.j6=t.j6.mw(n),t.S6=t.S6.mw(n),t.Q5=t.Q5.mw(n)}function cz(t,n){hz(t,n),t.y6=t.y6.mw(n),t.m6=az(t.m6,n),t.k6=az(t.k6,n)}function az(t,n){if(t)return t.mw(n)}function fz(t,n){return n.mw(WA(t,n))}function vz(t,n){var i={audio:void 0,video:void 0,U5:t.U5};if("video"===n){if(!t.audio)return i;i.audio={G5:t.audio.G5,W5:t.audio.W5,X5:t.audio.X5,duration:t.audio.duration,V5:t.audio.V5,H5:zA.Yy,Z5:t.audio.Z5,q5:t.audio.q5,J5:t.audio.J5,K5:t.audio.K5,t6:t.audio.t6,n6:t.audio.n6,i6:t.audio.i6,e6:t.audio.e6,lG:t.audio.lG,l6:t.audio.l6,d6:t.audio.d6,F5:t.audio.F5,f6:t.audio.f6,v6:t.audio.v6}}if("audio"===n){if(!t.video)return i;i.video={G5:t.video.G5,b6:t.video.b6,L6:t.video.L6,E6:t.video.E6,W5:t.video.W5,X5:t.video.X5,T6:t.video.T6,I6:t.video.I6,width:t.video.width,height:t.video.height,j0:t.video.j0,C0:t.video.C0,Hm:t.video.Hm,Wm:t.video.Wm,Om:t.video.Om,duration:t.video.duration,V5:t.video.V5,H5:zA.Yy,Z5:t.video.Z5,q5:t.video.q5,J5:t.video.J5,K5:t.video.K5,t6:t.video.t6,n6:t.video.n6,i6:t.video.i6,e6:t.video.e6,lG:t.video.lG,F5:t.video.F5}}return i}function dz(t,n,i,e){var r=function(t,n){if(!t)return n;if(!n)return t;var i;if((t.G5===n.G5||!t.G5||!n.G5)&&t.W5===n.W5&&t.X5.hy(n.X5)&&t.d6===n.d6)return t.lG?n.lG?(i=t.lG.concat(n.lG),oz(t.lG,n.lG,hz)):i=t.lG:i=n.lG,{G5:t.G5,W5:t.W5,X5:t.X5,duration:t.duration+n.duration,V5:t.V5+n.V5,H5:t.H5,Z5:t.Z5,q5:t.q5,J5:t.J5,K5:t.K5,t6:fz(n.t6,t.t6),n6:fz(n.n6,t.n6),i6:fz(n.i6,t.i6),e6:fz(n.e6,t.e6),lG:i,d6:t.d6,l6:t.l6,F5:t.F5||n.F5,f6:t.f6,v6:t.v6}}(t.audio?t.audio:void 0,i.audio?i.audio:void 0);if(!t.audio&&!i.audio||r){var s=uz(t.video?t.video:void 0,n.video,i.video,e);if(!t.video&&!i.video||s)return{audio:r,video:s,U5:t.U5}}}function lz(t){return vz(t,"audio")}function gz(t){return vz(t,"video")}var Az,wz,yz,_z=function(){function t(t){this.T8=void 0,this.Qq=0,this.I8=0,this.T8=l.exp(l.log(.5)/t)}var n=t.prototype;return n.b8=function(t,n){var i=l.pow(this.T8,t),e=n*(1-i)+i*this.Qq;w(e)||(this.Qq=e,this.I8+=t)},n.E8=function(){var t=1-l.pow(this.T8,this.I8);return this.Qq/t},t}(),Mz=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.L8=void 0,this.S8=void 0,this.j8=0,this.C8=void 0,this.O8=5e5,this.L8=new _z(t),this.S8=new _z(n),this.C8=i}var n=t.prototype;return n.b8=function(t,n){var i=8e3*n/t,e=t/1e3;this.j8+=n,this.L8.b8(e,i),this.S8.b8(e,i)},n.E8=function(){return this.x8()?l.min(this.L8.E8(),this.S8.E8()):this.O8},n.x8=function(){return this.j8>=this.C8},t}(),kz=function(){function t(){this.L8=new _z(2),this.S8=new _z(5),this.z8=0,this.R8=1,this.O8=100}var n=t.prototype;return n.b8=function(t){this.z8+=1,this.L8.b8(1,t),this.S8.b8(1,t)},n.E8=function(){return this.x8()?l.min(this.L8.E8(),this.S8.E8()):this.O8},n.x8=function(){return this.z8>=this.R8},t}(),mz=function(){function t(t,n){var i=this;this.U8=void 0,this.Ev=void 0,this.h3=void 0,this.B8=!1,this.Q8=0,this.P8=0,this.Y8=function(){return i.G8()},this.U8=t,this.Ev=n,this.h3=n.h3,this.h3.addEventListener("Kh",this.Y8)}return t.prototype.G8=function(){var t=this.h3.b3,n=1e3*this.h3.S3,i=1e3*this.h3.kA;this.h3.h2&&(this.B8||(this.U8.F8(i),this.B8=!0),n>this.P8&&(this.U8.V8(n-this.P8,t-this.Q8),this.Q8=t,this.P8=n))},t}(),pz=function(){function t(){this.H8=void 0,this.W8=void 0,this.H8=new Mz,this.W8=new kz}var n=t.prototype;return n.X8=function(t){new mz(this,t)},n.V8=function(t,n){this.H8.b8(t,n)},n.F8=function(t){this.W8.b8(t)},n.nd=function(){},z(t,[{key:"Z8",get:function(){return this.W8.E8()/1e3}},{key:"q8",get:function(){return this.H8.E8()}}]),t}(),Nz=function(){function t(){this.J8=or()}var n=t.prototype;return n.K8=function(t,n){var i,e,r=this.J8.get(t);return void 0!==r&&(i=r.o$,e=n,et(i)?i===e:function(t,n){return t.o$===n.o$&&t.h$.ab===n.h$.ab&&t.h$.vb===n.h$.vb}(i,e))},n.t7=function(t,n){if(this.K8(t,n))return this.J8.get(t).Ps},n.n7=function(t,n,i){this.J8.set(t,{o$:n,Ps:i})},n.ph=function(){this.J8.clear()},t}();!function(t){t[t.i7=0]="i7",t[t.e7=5]="e7",t[t.r7=13]="r7",t[t.s7=14]="s7",t[t.u7=15]="u7"}(Az||(Az={})),function(t){t[t.o7=0]="o7",t[t.h7=1]="h7",t[t.c7=2]="c7",t[t.a7=11]="a7",t[t.f7=13]="f7",t[t.v7=14]="v7"}(wz||(wz={})),function(t){t[t.d7=0]="d7",t[t.l7=1]="l7",t[t.g7=2]="g7",t[t.A7=3]="A7",t[t.w7=4]="w7",t[t.y7=5]="y7",t[t._7=6]="_7",t[t.M7=7]="M7"}(yz||(yz={}));var Dz=5,Tz=5,Iz=.5;function bz(t){if(!t.C6.video)return[];for(var n=[],i=0;i<t.C6.video.lG.length;i++){var e=t.C6.video.lG[i].Qp;e.p6&&n.push({k7:i,m7:e.S6})}return n}var Ez=zA.D_(.04),Lz=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).o8=void 0,s.Cc=void 0,s.p7=void 0,s.iN=void 0,s.N7=void 0,s.D7=void 0,s.T7=void 0,s.I7=or(),s.b7=void 0,s.E7=or(),s.L7=1,s.Cc=n,s.p7=i,s.iN=e,s.N7=new Nz,s.o8=r,s.D7=new xO(e,n),s.T7=new pz,s.b7=new tz(n),s.b7.addEventListener("vh",function(t){s.dispatchEvent(t)}),s}U(n,t);var i=n.prototype;return i.S7=function(t){this.b7.Po(t),this.D7.ph(!1,t)},i.ph=function(t){this.S7(t),t?this.I7.get(t).ph():this.I7.forEach(function(t){return t.ph()})},i.nd=function(){this.$o(),this.D7.ph(),this.I7.forEach(function(t){return t.ph()}),this.I7.clear(),this.b7.nd()},i.Xl=function(t,n,i){if(!this.I7.has(t)){var e=new rz(n,this.o8,i);e.g8=this.g8,this.I7.set(t,e)}},i.j7=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r,s,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=String(i.cg),!this.N7.K8(r,e)){t.next=3;break}return t.abrupt("return",this.N7.t7(r,e));case 3:return s=FC(i.V0),t.t0=y,t.next=7,this.D7.U3(n,e,sh.Va,Rf.Rv,s);case 7:return t.t1=t.sent,u=new t.t0(t.t1),this.N7.n7(r,e,u),t.abrupt("return",u);case 11:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.C7=function(t,n,i,e){var r=this.I7.get(t),s=r.k8(n.o0.cg,n.lK);if(r.p8(n.o0.cg,n.lK))r.d8(n),this.dispatchEvent({type:"O7",Vk:t,x7:s});else{if(!s)return this.z7(t,n,i,e);r.d8(n),this.R7(t,n,i,s.U7)}return e&&e(),null},i.z7=function(t,n,i,e){var r=this,s=this.I7.get(t),u=function(t,n){return t+"B7"+n.lK+"Y6"+n.uri}(t,n);if(this.E7.has(u))return null;this.E7.set(u,!0);var o=FC(n.o0.V0),h=this.D7.qh(t,n.uri,sh.Va,Rf.Cv,o,function(o,c){return r.E7.delete(u),o?e&&e(o):(r.dispatchEvent({type:"Q7",Vk:t}),s.p8(n.o0.cg,n.lK)||s.v8({info:n,U7:h.yd}),r.C7(t,n,i),e&&e(o,c))});return this.T7.X8(h),h},i.R7=function(t,n,i,e){var r=this,s=this.I7.get(t);this.b7.s8(t,n)||(n&&n.key&&this.p7.getKey(n.key).catch(T),this.b7.n8(t,this.p7,e,n,i,function(n,i){if(n)return r.dispatchEvent({type:"vh",vh:n});s.v8(i),r.dispatchEvent({type:"O7",Vk:t,x7:i})}))},i.P7=function(t,n,i){var e=i.length,r="R$"===t?jz:Cz;if(!Sz(n,i))return null;if(e<=1)return i;for(var s=1;s<e;s+=1){var u=i[s],o=i[s-1];if(u.metadata.Q6){if("Y7"===this.Cc.G7||r(u,o)){var h=i.splice(0,s);return Sz(n,h)?h:this.P7(t,n,i)}0}}return i},i.F7=function(t,n,i,e){for(var r=this.I7.get(t).D8(),s=e.V7,u=function(t){var e=i[t],u=r.filter(function(t){return t.o0===e}),o=Mx(n,u),h=o.n5(s.my(),Ez.my());if(h>=0&&zA.D_(o.end(h)).Cy(s).Dy(Ez))return{v:!0}},o=0;o<i.length;o++){var h=u(o);if("object"==typeof h)return h.v}return!1},i.H7=function(t,n,i,e,r){if(!Z.Ur)return!0;if(r.W7||this.F7(t,n,i,r))return!0;var s=zA.w_(e,r.X7);return r.V7.Cy(s).Dy(zA.D_(2))},i.Z7=function(t,n,i,e,r,s,u,o){var h=n.M8(r.cg,s),c=this.P7(t,s,h);if(!c||0===c.length)return null;var a,f=c[0],v=e.a5(f.info),d=Hz(t,e,f);if("U$"!==t||function(t,n,i){return!!t&&t.$k.o0===n&&i.Dy(zA.D_(t.vb))&&i.Iy(zA.D_(t.vb).mw(Ez))}(i,r,d))return{xK:c,q7:zA.y_(v,d)};f.C6.video&&(f=(c=Bz(c,function(t,n,i,e){for(var r=0,s=0,u=0;u<t.length;u+=1)for(var o=t[u],h=bz(o),c=0;c<h.length;c++){var a=h[c];if(n.l5(o.info,a.m7).py(i.Cy(e)))return{J7:r,K7:s};r=u,s=a.k7}return{J7:r,K7:s}}(c,e,u,o)))[0]);if(d=Hz(t,e,f),function(t){var n=t.C6.video,i=n&&n.lG,e=i&&i[0],r=e&&e.Qp.p6;if(!n)return!0;return!!r}(f))return{xK:c,q7:zA.y_(v,d)};var l=function(t){for(var n=0;n<t.length;n++){var i=Xx(t[n].C6);if(!w(i))return{J7:n,K7:i}}return null}(c),g=zA.w_(u,Gz(t,e,r.UK(s)));if(f.info.lK===s){if(l&&(d=Hz(t,e,(a=Bz(c,l))[0]),g.Cy(d).Dy(o)))return{xK:a,q7:zA.y_(v,d)};for(var A=s-1;n.p8(r.cg,A);){var y=n.M8(r.cg,A);if((f=(a=this.P7(t,s,y))&&a[0]&&Uz(a[0],Zx(a[0])))&&(d=Hz(t,e,f),g.Cy(d).Dy(o)))return a[0]=f,{xK:a,q7:zA.y_(v,d)};A-=1}}return function(t){if(t.BK)return!1;var n=t.o0;if(n.RK&&n.RK.live)return!1;if(!n.UK(t.lK-1))return!1;return!0}(c[0].info)?null:l?{xK:c=Bz(c,l),q7:v}:null},i.ttt=function(t,n,i,e,r,s,u,o,h,c,a){var f=s.ntt(o,h,n),v=f&&f.$k;if(!v)return null;var d=v.lK;do{var l=d,g=o.UK(l),A=Gz(n,s,g);if(!Fz(n,s,g).Ey(h)||g.B6){if(A.mw(Ez).py(c))break;if(zA.w_(zA.Yy,h.Cy(A)).Ey(a)&&i.p8(o.cg,l-1)&&i.p8(o.cg,l))i.k8(o.cg,l).metadata.Q6||(l-=1);var w=this.itt(t,n,i,e,r,s,u,o,l,h,a);if(w&&(Rz(w,h,c)||w.W7))return w}}while(i.p8(o.cg,++d));return null},i.itt=function(t,n,i,e,r,s,u,o,h,c,a){var f=o.UK(h),v=this.Z7(n,i,e,s,o,h,c,a),d=v&&v.xK,g=v&&v.q7,A=d&&d[d.length-1],w=A&&A.metadata.B6;if(!(d=function(t,n){if(!n||!n.length)return n;var i="R$"===t?Oz:xz;return n.map(i).filter(zz)}(n,d))||!d.length){if(w){var y=[],_=s.a5(A.info);return y.ett=_,y.rtt=_,y.X7=_,y.stt=_,y.V7=_,y.W7=w,y}return null}var M=d="U$"===n?function(t,n,i){var e=i[0].C6.video;return i[0].info.BK?function(t,n,i,e){var r=rs(e.lG,function(t){return t.Qp.p6});if(r<0)return i;var s=e.lG[r].Qp,u=n.l5(i[0].info,s.S6),o=Wz(t,u);if(o.Oy())return i;var h=u.Cy(o).__(BA,jA.z_);if(h.Iy(zA.Yy))return i;var c=qz(e.lG.slice(r),h);return i[0]=Pz(i[0],c),i}(t,n,i,e):function(t,n,i,e){var r=e.X5.o_(Dz),s=e.lG[0].Qp,u=n.l5(i[0].info,s.j6),o=Xz(t,u,r);if(o.Oy())return i;var h=u.Cy(o).__(BA,jA.z_);if(h.Iy(zA.Yy)||h.py(r))return i;var c=qz(e.lG,h);return i[0]=Pz(i[0],c),i}(t,n,i,e)}(r,s,d):function(t,n,i){var e;if((null==(e=i[0].C6.audio)?void 0:e.G5)===wx.y5)return i;var r=i[0].C6.audio,s=r.lG[0].Qp;return i[0].info.BK?function(t,n,i,e,r){var s=n.l5(i[0].info,r.S6),u=Wz(t,s);if(u.Oy())return i;var o=s.Cy(u).my(),h=l.floor(o/e.X5.my());if(h<=0)return i;var c=Zz(e,h);return i[0]=Qz(i[0],c),i}(t,n,i,r,s):function(t,n,i,e,r){var s=n.l5(i[0].info,r.j6),u=Xz(t,s,e.X5.o_(Tz));if(u.Oy())return i;var o=s.Cy(u).my(),h=l.round(o/e.X5.my());if(0===h||l.abs(h)>Tz)return i;var c=Zz(e,h);return i[0]=Qz(i[0],c),i}(t,n,i,r,s)}(r,s,d),k=M[0];if(f.lK<k.info.lK&&(g=s.a5(f)),M.ett=g,M.rtt=function(t,n,i){return n.l5(i.info,Vz(t,i).z6)}(n,s,k),M.X7=Hz(n,s,k),M.stt=function(t,n,i){return n.l5(i.info,Vz(t,i).U6)}(n,s,M[M.length-1]),M.V7=function(t,n,i){return n.l5(i.info,Vz(t,i).R6)}(n,s,M[M.length-1]),M.W7=w,!this.H7(t,s,u,c,M))return null;var m=k.C6.video;return!m||(m.j0=m.j0||o.j0,m.C0=m.C0||o.C0,m.j0&&m.C0)?M:null},i.utt=function(t,n,i,e,r,s,u,o,h,c){for(var a=null,f=u.length-1;f>=0;f-=1){var v=u[f],d=this.ttt(t,n,i,e,r,s,u,v,o,h,c);d&&(a&&!d.X7.Ey(a.X7)||(a=d))}return a},i.ott=function(t,n,i,e,r,s,u,o,h){for(var c=zA.D_(u),a=zA.D_(o),f=zA.D_(h),v=this.I7.get(t),d=new KO([{ab:c.my(),vb:c.mw(a).my()}]),l=r.Nb(d),g=function(t){if(0===t.length)return null;var n=t.xK(t.length-1),i=n[n.length-1];if(!i.$k.htt)return null;return i}(r),A=ix(ex(l),d),w=0;w<A.length;w++){var y=zA.D_(A.start(w)),_=zA.D_(A.end(w)),M=Jz(l,y,_),k=y.mw(M).__(BA,jA.z_),m=_.__(BA,jA.z_);if(k.Ey(m)){if(g&&k.Dy(zA.D_(g.vb)))continue;var p=this.utt(t,n,v,s,r,i,e,k,m,f);if(p)return p}}return null},i.D8=function(t){return this.I7.get(t).D8()},i.r8=function(t){return this.b7.r8(t)},z(n,[{key:"g8",get:function(){return this.L7},set:function(t){t>0&&(this.L7=t,this.I7.forEach(function(n){return n.g8=t}))}},{key:"Z8",get:function(){return this.T7.Z8}},{key:"q8",get:function(){return this.T7.q8}}]),n}(lC);function Sz(t,n){for(var i=0;i<n.length;i++){if(n[i].info.lK===t)return!0}return!1}function jz(t,n){return t.metadata.audio.G5!==n.metadata.audio.G5||(t.metadata.audio.D4!==n.metadata.audio.D4||(!(!t.C6.audio||!n.C6.audio||t.C6.audio.d6===n.C6.audio.d6)||!VA(t.metadata.audio.x6,t.metadata.audio.z6).hy(VA(n.metadata.audio.R6,n.metadata.audio.U6))))}function Cz(t,n){return t.metadata.video.G5!==n.metadata.video.G5||(!(!t.metadata.ez||!n.metadata.ez||t.metadata.ez.height===n.metadata.ez.height&&t.metadata.ez.width===n.metadata.ez.width)||(!(!n.C6.video||n.C6.video.I6||t.metadata.video.D4===n.metadata.video.D4)||VA(t.metadata.video.x6,t.metadata.video.z6)!==VA(n.metadata.video.R6,n.metadata.video.U6)))}function Oz(t){return t.C6.video&&(t={C6:gz(t.C6),info:t.info,metadata:Kx(t.metadata,"U$")}),t}function xz(t){return t.C6.audio&&(t={C6:lz(t.C6),info:t.info,metadata:Kx(t.metadata,"R$")}),t}function zz(t){return Boolean(t&&(t.C6.audio||t.C6.video))}function Rz(t,n,i){var e=zA.w_(n,t.X7),r=zA.y_(i,t.V7),s=Ez;return Z.Er&&(e.Iy(t.X7)?s=s.mw(t.X7).Cy(t.rtt):r.Dy(t.V7)&&(s=s.mw(t.V7).Cy(t.stt))),r.Cy(e).Dy(s)}function Uz(t,n){return w(n)?null:0===n?t:Pz(t,t.C6.video.lG.slice(n))}function Bz(t,n){return(t=t.slice(n.J7))[0]=Uz(t[0],n.K7),t}function Qz(t,n){var i={info:t.info,C6:{audio:gz(t.C6).audio,video:null,U5:t.C6.U5},metadata:null},e=i.C6.audio;e.lG=n;var r=n[0].Qp;return e.q5=r.Q5,e.Z5=e.q5.my(),Yz(e,i.C6.U5,e.X5),Jx(i,t.metadata.size),i.metadata=Kx(i.metadata,"U$"),i}function Pz(t,n){var i={info:t.info,C6:{audio:null,video:lz(t.C6).video,U5:t.C6.U5},metadata:null},e=i.C6.video;e.lG=n;var r=n[0].Qp;e.q5=r.Q5,e.Z5=e.q5.my();var s=n[n.length-1].Qp.y6;return Yz(e,i.C6.U5,s),Jx(i,t.metadata.size),i.metadata=Kx(i.metadata,"R$"),i}function Yz(t,n,i){for(var e=zA.I_,r=zA.I_,s=zA.b_,u=zA.b_,o=0,h=t.lG;o<h.length;o++){var c=h[o].Qp;e=zA.y_(c.j6,e),r=zA.y_(c.S6,r),s=zA.w_(c.j6,s),u=zA.w_(c.S6,u)}t.J5=r,t.K5=e,t.t6=u,t.n6=s,t.H5=zA.w_(WA(t.q5,n),zA.Yy),t.i6=HA(t.t6,i),t.e6=HA(t.n6,i),t.V5=VA(t.i6,t.J5).my(),t.duration=t.V5}function Gz(t,n,i){if(UC(i)){var e="R$"===t?i.G9:i.V9;return GA(e)||(e=i.c$),n.l5(i,e)}return i&&n.a5(i)}function Fz(t,n,i){if(UC(i)){var e="R$"===t?i.X9:i.q9;return GA(e)||(e=i.c$),n.l5(i,e)}return i&&n.a5(i).mw("R$"===t?function(t){return UC(t)?t.a$||zA.Yy:t&&zA.D_(t.duration)||zA.Yy}(i):function(t){return UC(t)?t.f$||zA.Yy:t&&zA.D_(t.duration)||zA.Yy}(i))}function Vz(t,n){return"R$"===t?n.metadata.audio:n.metadata.video}function Hz(t,n,i){return n.l5(i.info,Vz(t,i).x6)}function Wz(t,n){var i=t.r5(n.my());if(-1!==i){var e=zA.D_(t.end(i));if(n.Cy(e).Iy(zA.D_(Iz)))return e}return zA.T_}function Xz(t,n,i){var e=t.n5(n.my(),i.my());if(-1!==e)for(var r=t.xK(e),s=r.length-1;s>=0;s--)for(var u=r[s],o=u.$k.xK.length-1;o>=0;o--){var h=u.$k.xK[o];if(n.Cy(zA.D_(h.vb)).Ly().Iy(i))return zA.D_(h.vb);if(n.Cy(zA.D_(h.ab)).Ly().Iy(i))return zA.D_(h.ab)}return zA.T_}function Zz(t,n){var i;if(n<0)i=t.lG.slice(-n);else{0;var e=new Ex,r=function(t,n){if(t)switch(n){case 1:return new y([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);case 2:case 3:return new y([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}else switch(n){case 1:return new y([0,200,0,128,35,128]);case 2:return new y([33,0,73,144,2,25,0,35,128]);case 3:return new y([0,200,0,128,32,132,1,38,64,8,100,0,142]);case 4:return new y([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);case 5:return new y([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);case 6:return new y([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}return null}(t.o6,t.d6);e.p5(r,0,r.length),i=t.lG.slice();for(var s=0;s<n;s++){var u=i[0].Qp,o=e.bh(sr({},e.Qp,{Q5:u.Q5.Cy(t.X5),B5:u.B5-t.X5.my(),j6:u.j6.Cy(t.X5),S6:u.S6.Cy(t.X5)}));i.unshift(o)}}return i}function qz(t,n){var i=t[0].Qp,e=t.slice();return e[0]=t[0].bh(sr({},i,{Q5:zA.w_(zA.Yy,i.Q5.Cy(n)),B5:l.max(i.B5-n.my(),0),j6:zA.w_(zA.Yy,i.j6.Cy(n)),M6:l.max(i.M6-n.my(),0),S6:zA.w_(zA.Yy,i.S6.Cy(n)),_6:l.max(i._6-n.my(),0),y6:zA.w_(zA.Yy,i.y6.mw(n)),oA:l.max(0,i.oA+n.my())})),e}function Jz(t,n,i){for(var e=0;e<t.length-1;e++){var r=t.xK(e),s=t.xK(e+1);if(r.length&&s.length&&zA.D_(r[0].ab).Iy(n)&&zA.D_(s[s.length-1].vb).Dy(i)&&s[0].$k.xK[0].Lh.O6.BK)return Ez.o_(5)}return t.pw(n.my())?Ez:zA.Yy}function Kz(t){return new sR(t.vv,t.Ps)}var $z,tR,nR,iR,eR,rR,sR=function(){function t(t,n){this.vv=void 0,this.ctt=void 0,this.ctt=n,this.vv=t}return t.prototype.att=function(t){RO(t)},z(t,[{key:"Ps",get:function(){return this.ctt}},{key:"ftt",get:function(){return zO(UO(this.ctt,this.vv))}}]),t}(),uR=function(){function t(t,n,i){this.o$=void 0,this.o$="data:"+t+";"+n+","+i}return t.prototype.att=function(t){},z(t,[{key:"ftt",get:function(){return this.o$}}]),t}();!function(t){t.y5="dtt",t.Qg="ltt",t.gtt="Att",t.wtt="ytt",t._tt="Mtt"}($z||($z={})),function(t){t.ktt="mtt",t.ptt="Ntt"}(tR||(tR={})),function(t){t.Dtt="audio/mp4",t.Ttt="audio/mpeg",t.Itt="video/mp4"}(nR||(nR={})),function(t){t[t.btt=0]="btt",t[t.Ett=1]="Ett",t[t._g=2]="_g",t[t.Ltt=3]="Ltt"}(iR||(iR={})),function(t){t.Stt="jtt",t.Ctt="Ott"}(eR||(eR={})),function(t){t.xtt="Y7",t.Ctt="ztt"}(rR||(rR={}));var oR=function(){function t(t,n,i,e,r,s,u,o,h,c){this.Rtt=void 0,this.Utt=void 0,this.Vk=void 0,this.vv=void 0,this.x7=void 0,this.Btt=void 0,this.jp=void 0,this.Qtt=void 0,this.Ptt=void 0,this.ij=void 0,this.Ytt=iR.btt,this.Utt=t,this.Rtt=n,this.Vk=i,this.vv=e,this.x7=r,this.Btt=s,this.jp=u,this.Qtt=o,this.Ptt=h,this.ij=c}return t.Gtt=function(t,n,i,e,r,s,u,o,h,c){switch(n){case eR.Stt:return new hR(t,i,e,r,s,u,o,h,c);case eR.Ctt:return new cR(t,i,e,r,s,u,o,h,c)}},t}(),hR=function(t){function n(n,i,e,r,s,u,o,h,c){return t.call(this,eR.Stt,n,i,e,r,s,u,o,h,c)||this}return U(n,t),n.prototype.Ftt=function(){return{Vtt:"Htt",Wtt:this.Rtt,Xtt:$z._tt,Ztt:tR.ktt,qtt:this.vv,Jtt:Lx(this.x7,[]),Ktt:this.Ptt,$tt:this.Qtt.R_(),tnt:this.Btt.R_(),nnt:this.jp.R_()}},n}(oR),cR=function(t){function n(n,i,e,r,s,u,o,h,c){return t.call(this,eR.Ctt,n,i,e,r,s,u,o,h,c)||this}return U(n,t),n.prototype.Ftt=function(){return{Vtt:"Htt",Wtt:this.Rtt,Xtt:this.vv===nR.Ttt?$z.y5:$z.Qg,Ztt:i_?tR.ptt:tR.ktt,qtt:this.vv,Jtt:Lx(this.x7,[])}},n}(oR),aR=function(){function t(){this.int=void 0,this.ent=void 0,this.int=or(),this.ent=1}var n=t.prototype;return n.rnt=function(){return(this.ent++).toString()},n.Gtt=function(t,n,i,e,r,s,u,o,h){var c=this.rnt(),a=oR.Gtt(c,n,t,i,e,r,s,u,o,h);return this.snt(a),a},n.unt=function(t){return this.int.get(t)},n.snt=function(t){this.int.set(t.Rtt,t)},n.ont=function(t){this.int.delete(t)},n.hnt=function(t){this.unt(t).Ytt=iR.Ett,this.ont(t)},n.cnt=function(t,n){var i=this.unt(t).ij;this.unt(t).Ytt=iR._g,this.ont(t),i(n)},n.ant=function(t,n){var i=this.unt(t).ij;this.unt(t).Ytt=iR.Ltt,this.ont(t),i(null,n)},n.ph=function(t){var n=[];this.int.forEach(function(i,e){t&&i.Vk!==t||n.push(e)});for(var i=0;i<n.length;i++){var e=n[i];this.hnt(e)}},t}();var fR,vR=function(){function t(n){var i=this;this.int=void 0,this.fnt=void 0,this.Cc=void 0,this.vnt=void 0,this.dnt=function(t){var n=t.data.lnt,e=t.data.gnt,r=t.data.Ant,s=t.data.wnt,u=i.int.unt(e);if(u&&u.Ytt!==iR.Ett)switch(n){case"ynt":i._nt(u,r);break;case"Mnt":i.int.cnt(e,new wC(AC.eK,{code:s}));break;default:0}},this.knt=function(t){0},this.int=new aR,this.Cc=n,this.vnt=t.mnt(n.G7),this.pnt()}t.mnt=function(t){switch(t){case rR.xtt:return eR.Stt;case rR.Ctt:return eR.Ctt}};var n=t.prototype;return n.Htt=function(t,n,i,e,r,s,u){var o={metadata:null,R$:null,U$:null,vh:null};i&&i.length||u(new wC(AC.eK,{code:"SP154"}));var h=i[0],c=i[i.length-1],a=h.info.lK+1,f=h.info.o0,v=h.metadata,d=v.audio.G5?v.audio:void 0,l=v.video.G5?v.video:void 0,g=c.metadata,A=g.audio.G5?g.audio:void 0,y=g.video.G5?g.video:void 0,_=e.mw(WA(v.z6,v.x6)),M=e.mw(WA(v.x6,v.x6)),k=e.mw(d?WA(d.z6,v.x6):zA.Yy),m=e.mw(d?WA(d.x6,v.x6):zA.Yy),p=e.mw(l?WA(l.z6,v.x6):zA.Yy),N=e.mw(l?WA(l.x6,v.x6):zA.Yy),D=e.mw(WA(g.U6,v.x6)),T=e.mw(WA(g.R6,v.x6)),I=e.mw(A?WA(A.U6,v.x6):zA.Yy),b=e.mw(A?WA(A.R6,v.x6):zA.Yy),E=e.mw(y?WA(y.U6,v.x6):zA.Yy),L=e.mw(y?WA(y.R6,v.x6):zA.Yy);k=zA.w_(zA.Yy,k),p=zA.w_(zA.Yy,p);var S,j,C,O,x,z=OC.yA(n.M0)?zA.D_(100079991719):zA.D_(n.oA),R=function(t){for(var n=t[0].C6,i=n,e=1;e<t.length;e++){if(!(n=dz(i,t[e-1].C6,t[e].C6,t[e].info.Q6)))return i;i=n}return i}(i);if(R.audio){j=(S=gz(R)).audio.duration;C=this.int.Gtt(t,this.vnt,"mp3"===S.audio.G5?nR.Ttt:nR.Dtt,S,k,m,z,a,function(t,n){if(o.vh=o.vh||t,o.R$=n,S=!0,O)return u(o.vh,o)}),this.Nnt(C),S=null}else S=!0;if(R.video){x=(O=lz(R)).video.duration;C=this.int.Gtt(t,this.vnt,nR.Itt,O,p,N,z,a,function(t,n){if(o.vh=o.vh||t,o.U$=n,O=!0,S)return u(o.vh,o)}),this.Nnt(C),O=null}else O=!0;var U,B,Q,P=i.map(function(t){return t.metadata}),Y=zA.D_(j),G=zA.D_(x),F=h.C6.audio&&h.C6.video?zA.y_(h.C6.audio.H5.mw(Y),h.C6.video.H5.mw(G)):h.C6.audio?h.C6.audio.H5.mw(Y):h.C6.video?h.C6.video.H5.mw(G):zA.Yy;if(F.Wy()&&gt("Segment with no valid audio or video track detected",h.info.uri),R.video){var V=Xx(R);if(w(V))gt("Segment without keyframes detected",h.info.uri),U=zA.T_,B=zA.T_,Q=F.o_(1.5);else{var H=R.video.lG[V].Qp;U=e.mw(WA(H.j6,v.x6)),B=e.mw(WA(H.S6,v.x6)),Q=zA.D_(H._6-h.metadata.start)}}else U=k,B=m,Q=zA.Yy;var W=zA.w_(Q,zA.w_(h.C6.audio&&h.C6.audio.H5||zA.Yy,h.C6.video&&h.C6.video.H5||zA.Yy));o.metadata={lK:a,ab:e.my(),Dnt:_.my(),ett:M.my(),stt:D.my(),V7:T.my(),K9:U.my(),g5:B.my(),q7:zA.y_(e,r).my(),oA:F.my(),xK:P,Eh:W.my(),R$:d&&{ab:m.my(),Dnt:k.my(),vb:b.my(),stt:I.my(),oA:j,G5:d.G5},U$:l&&{ab:N.my(),Dnt:p.my(),vb:L.my(),stt:E.my(),oA:x,G5:l.G5,pu:v.ez.width,Xk:v.ez.height},F0:v.F0,Q6:v.Q6,o0:f,B6:s},i=null,R=null},n.nd=function(){this.int.ph(),this.fnt&&(this.fnt.terminate(),this.fnt=null)},n.Po=function(t){this.int.ph(t)},n._nt=function(t,n){switch(t.Utt){case eR.Stt:var i=n;this.int.ant(t.Rtt,{initializer:Kz(i.Tnt),m4s:Kz(i.Int)});break;case eR.Ctt:var e=n;this.int.ant(t.Rtt,(r=e,i_?new uR(r.vv,"base64",r.Ps):new sR(r.vv,r.Ps)));break;default:0}var r},n.pnt=function(){this.fnt||(this.fnt=XO(this.Cc.libraryLocation,"theoplayer.p.js"),this.fnt.addEventListener("message",this.dnt),this.fnt.addEventListener("error",this.knt))},n.Nnt=function(t){this.fnt||this.pnt(),this.fnt.postMessage(t.Ftt())},t}();function dR(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function lR(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function gR(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function AR(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,e=i.exec(t);null!==e;){var r=e[2],s=void 0;s=void 0!==e[6]?io(e[6]):void 0!==e[7]?{width:A(e[8]),height:A(e[10])}:void 0!==e[12]?A(e[12]):void 0!==e[14]?e[14]:void 0!==e[16]?e[16]:null,n[r.toLowerCase()]=s,e=i.exec(t)}return n}var wR,yR="x-";function _R(t,n,i,e){var r=t.split("@"),s=dR(n,i),u=g(r[0],10),o=r[1]?g(r[1],10):e;return{o$:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},h$:{ab:o,vb:o+u-1}}}function MR(t,n,i){var e,r,s,u,o,h=0,c=0,a=0,f=null,v=0,d=!1,w=[],_=null,M=0,k=t.match(/[^\r\n]+/g);if(!k||"#EXTM3U"!==k[0].trim())throw new wC(AC.iK,{code:"HMP2670",uri:n});for(var m={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},p=1;p<k.length;p+=1){var N=k[p].trim();if(w.push(N+""),lR(N,"#EXT")){if(lR(N,"#EXTINF"))a=(a=A(gR(N)))||.5;else if(lR(N,"#EXT-X-BYTERANGE"))f=gR(N);else if(lR(N,"#EXT-X-KEY"))(s=AR(N)).method&&"NONE"===s.method?s=null:s.absoluteURI=dR(s.uri,i);else if(lR(N,"#EXT-X-DISCONTINUITY")&&!lR(N,"#EXT-X-DISCONTINUITY-"))d=!0,v+=1;else if(lR(N,"#EXT-X-STREAM-INF"))(r=AR(N)).lK=c++,(p+=1)<k.length&&(r.uri=dR(k[p].trim(),i),m.streams.push(r));else if(lR(N,"#EXT-X-MEDIA")&&!lR(N,"#EXT-X-MEDIA-"))(u=AR(N)).uri&&(u.uri=dR(u.uri,i)),m.media.push(u);else if(lR(N,"#EXT-X-PROGRAM-DATE-TIME"))_=new Date(gR(N));else if(lR(N,"#EXT-X-DISCONTINUITY-SEQUENCE"))m.EK=!0,m.LK=g(gR(N),10);else if(lR(N,"#EXT-X-MEDIA-SEQUENCE"))h=g(gR(N),10),m.bnt=!0,m.Ent=h;else if(lR(N,"#EXT-X-TARGETDURATION"))m.targetDuration=g(gR(N),10),m.hasTargetDuration=!0;else if(lR(N,"#EXT-X-PLAYLIST-TYPE:EVENT"))m.isEvent=!0;else if(lR(N,"#EXT-X-ENDLIST"))m.live=!1,m.hasEnd=!0;else if(lR(N,"#EXT-X-MAP")){var D=AR(N),T=D.uri,I=D.byterange;o=I?_R(I,T,i,0):dR(T,i)}else if(lR(N,"#EXT-X-VERSION"))m.version=g(gR(N),10);else if(lR(N,"#EXT-X-DATERANGE")){var b=kR(N);m.dateRanges.push(b)}}else if(lR(N,"#"));else if(0!==N.length){f?M=(e=_R(f,N,i,M)).h$.vb+1:e=dR(N,i);var E,L=s&&sr({},s);s&&void 0===s.iv&&(E=h%4294967295,L.iv=new y([0,0,0,0,0,0,0,0,0,0,0,0,E>>24,E>>16,E>>8,255&E])),m.fragments.push({start:0,duration:a,uri:e,lK:h,BK:d,zK:v,key:L,A0:_,g0:w,B6:!1,Lnt:o}),h+=1,a=0,f=null,d=!1,_=null,w=[]}}return m.hasEnd&&m.fragments.length&&(m.fragments[m.fragments.length-1].B6=!0),m.isMasterPlaylist=0!==m.streams.length,m.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,e=0,r=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];r+=o.duration,i=l.min(i,o.duration),e=l.max(e,o.duration)}return{Snt:i,jnt:e,Cnt:n?t.fragments[n-1].duration:0,Ont:r/n,xnt:r}}(m),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var e=i[n];t.duration+=e.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(m),function(t){for(var n=0,i=0,e=t.fragments;i<e.length;i++){var r=e[i];r.start=n,n+=r.duration}}(m),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.lK-n.lK})}(m),function(t,n){for(var i={},e=0;e<t.media.length;e+=1){var r=t.media[e];r.type===n&&r.uri&&(i[r["group-id"]]=(i[r["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||us(t.media,s)}}(m,"VIDEO"),function(t){for(var n=0,i=0,e=t.streams;i<e.length;i++)e[i].id=n,n+=1;for(var r=0,s=t.media;r<s.length;r++)s[r].id=n,n+=1}(m),function(t){for(var n=function(n,i){var e=i[n];"video"in e&&(e.media=function(t,n){for(var i,e=t.length>>>0,r=arguments[1],s=0;s<e;s++)if(i=t[s],n.call(r,i,s,t))return i}(t.media,function(t){return t["group-id"]==e.video}))},i=0,e=t.streams;i<e.length;i++)n(i,e)}(m),m}function kR(t){var n=AR(t),i=function(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i];Or(r,yR)&&(n[r.substr(yR.length)]=t[r])}return n}(n),e=n["start-date"]?new Date(n["start-date"]):void 0,r=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,h=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{cg:n.id,qK:n.class,bI:e,QK:r,oA:n.duration,JK:n["planned-duration"],KK:s,$K:i,t$:u,n$:o,i$:h}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(wR||(wR={}));(fR={})[wR.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",fR[wR.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",fR[wR.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",fR[wR.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",fR[wR.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",fR[wR.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",fR[wR.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var mR=function(){function t(){}return t.prototype.yk=function(t,n,i){return MR(t,n,i)},t}(),pR=3,NR=function(){function t(t,n,i){void 0===i&&(i=pR),this.iN=t,this.znt=n,this.Rnt=i}var n=t.prototype;return n.Unt=function(t,n,i){return this.Bnt(t,n,!0,i)},n.Qnt=function(t,n,i){return this.Bnt(t,n,!1,i)},n.Bnt=function(){var t=N.coroutine(rr.mark(function t(n,i,e,r){var s,u,o,h,c,a,f,v;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=100,o=0;case 2:if(!(o<this.Rnt)){t.next=31;break}if(!(o>0)){t.next=7;break}return t.next=6,Es(u,r);case 6:u<1e4&&(u=l.min(2*u,1e4));case 7:h=0;case 8:if(!(h<n.length)){t.next=28;break}return c=n[h],t.prev=10,a=new Qf({Sv:c,Tv:sh.cs,Dv:i,Kv:this.znt,Xv:xf.GET,Ao:zf.Ov,qv:Rf.Cv,Fo:r}),t.next=14,this.iN.Ev(a);case 14:return f=t.sent,t.next=17,f.hv(r);case 17:return v=t.sent,t.abrupt("return",{Pnt:v,Ynt:c,Lv:f.Lv});case 22:t.prev=22,t.t0=t.catch(10),s=t.t0;case 25:h++,t.next=8;break;case 28:o++,t.next=2;break;case 31:throw s;case 32:case"end":return t.stop()}},t,this,[[10,22]])}));return function(n,i,e,r){return t.apply(this,arguments)}}(),t}(),DR=function(){function t(t,n,i,e){this.Gnt=t,this.Fnt=n,this.Vnt=i,this.Hnt=e}var n=t.prototype;return n.Wnt=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Gnt.T2(n.map(EO));case 2:return i=t.sent,t.abrupt("return",i.shift());case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Xnt=function(t,n){var i=LO(t,n);return this.Fnt._h(i)},n.Znt=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=LO(n,i),t.next=3,this.Vnt.Mh(r);case 3:if(t.t0=e=t.sent,null!=t.t0){t.next=8;break}t.t1=void 0,t.next=9;break;case 8:t.t1=e.data;case 9:return t.abrupt("return",t.t1);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Ax=function(t){return this.Hnt.Mh(t)},t}(),TR=function(){function t(t){this.qnt=void 0,this.qnt=t}return t.prototype.Jnt=function(){var t=N.coroutine(rr.mark(function t(n,i,e,r){var s,u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===r&&(r=!1),u=0,o=this.qnt;case 2:if(!(u<o.length)){t.next=17;break}return h=o[u],t.prev=4,t.next=7,h.Jnt(n,i,e,r);case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(4),_s(t.t0),s=t.t0;case 14:u++,t.next=2;break;case 17:throw s;case 18:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,e){return t.apply(this,arguments)}}(),t}(),IR=function(){function t(t){this.Knt=t}return t.prototype.Jnt=function(){var t=N.coroutine(rr.mark(function t(n,i,e,r){var s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Knt.Wnt(n);case 2:if(!(s=t.sent)){t.next=7;break}return t.abrupt("return",{Pnt:s.data,Ynt:s.locationURL,Lv:s.responseURL});case 7:throw new f("Manifest fetch from cache unsuccesful");case 8:case"end":return t.stop()}},t,this)}));return function(n,i,e,r){return t.apply(this,arguments)}}(),t}(),bR=function(){function t(t){this.$nt=t}return t.prototype.Jnt=function(){var t=N.coroutine(rr.mark(function t(n,i,e,r){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===r&&(r=!1),!r){t.next=7;break}return t.next=4,this.$nt.Unt(n,i,e);case 4:return t.abrupt("return",t.sent);case 7:return t.next=9,this.$nt.Qnt(n,i,e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),t}();function ER(t,n){return new TR([new IR(n),new bR(t)])}var LR=function(){function t(t,n,i){this.tit=t,this.nit=n,this.iit=i}var n=t.prototype;return n.Jnt=function(){var t=N.coroutine(rr.mark(function t(n,i,e,r){var s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=!1),t.next=3,this.tit.Jnt(n,i,e,r);case 3:return s=t.sent,t.next=6,this.eit(s);case 6:return t.abrupt("return",s);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),n.eit=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.nit.N2({key:EO(n.Ynt),locationURL:Ff(n.Ynt),responseURL:Ff(n.Lv),data:n.Pnt,references:[this.iit.cg]});case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),t}();function SR(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var jR=function(){function t(t,n,i){this.Cc=void 0,this.iN=void 0,this.tit=void 0,this.rit=void 0,this.rit=new mR,this.Cc=t,this.iN=i;var e=this.Cc&&this.Cc.crossOrigin===Dl.Fg,r=new NR(i,e,1);this.tit=ER(r,new DR(bO.rs.O2,bO.rs.j2,bO.rs.C2,bO.rs.R2))}var n=t.prototype;return n.qh=function(t,n,i){var e=this.Kd(t,n);return i&&e.then(function(t){return i(null,t)},function(t){return i(t)}),e},n.Kd=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.tit.Jnt([n],i);case 3:return e=t.sent,n=e.Lv,r=this.rit.yk(e.Pnt,n,SR(n)),t.abrupt("return",{mA:r,sit:e.Pnt});case 10:if(t.prev=10,t.t0=t.catch(0),!(t.t0 instanceof Jf)){t.next=16;break}throw new wC(AC.tK,{code:"MFL8600",uri:n});case 16:if(!(t.t0 instanceof Kf)){t.next=24;break}if(0!==t.t0.yd.Nv){t.next=21;break}throw new wC(AC.nK,{code:"MFL3900",uri:n,status:t.t0.yd.Nv});case 21:throw new wC(AC.tK,{code:"MFL4100",uri:n,status:t.t0.yd.Nv});case 22:t.next=25;break;case 24:throw new wC(AC._g,{error:t.t0,uri:n});case 25:case"end":return t.stop()}},t,this,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),CR=function(t){function n(n,i){var e;return(e=t.call(this)||this).uit=void 0,e.oit=void 0,e.hit=void 0,e.cit=void 0,e.ait=void 0,e.A1=void 0,e.u1=void 0,e.xT=void 0,e.uit=new jR(i||{},bO.rs.O2,n),e}U(n,t);var i=n.prototype;return i.PA=function(){void 0!==this.cit&&(h(this.cit),this.cit=void 0),this.hit&&this.hit.Ev&&(this.hit=void 0)},i.fit=function(t){if(this.u1)for(var n=0,i=this.u1.fragments;n<i.length;n++){var e=i[n];if(e.uri===t)return e}},n.vit=function(t,n,i,e){var r,s=t.targetDuration,u=t.metadata;return r=t.fragments.length&&u&&(!s||u.xnt<3*s)?1e3*u.Snt:s?1e3*s:1e4,i===n&&(r/=2),r=l.max(r-e,1e3)},i.dit=function(t){if(t.fragments.length>0)for(var n=this.fit(t.fragments[0].uri),i=n&&n.lK||0,e=0,r=t.fragments;e<r.length;e++){r[e].lK+=i}},i.lit=function(t,i,e,r,s,u){var h=this;if(this.hit&&e===this.hit.Ev){var c=iN()-i;if(r){this.hit=void 0,this.xT=r;var a={type:"vh",vh:r};return this.dispatchEvent(a),s&&s(r)}this.hit=void 0;var f=u.mA,v=u.sit;f.bnt||this.dit(f),t===this.oit&&(this.A1=f),this.u1=f;var d=n.vit(f,v,this.ait,c);f.live?f.isMasterPlaylist||(this.cit=o(function(){return h.Kd(t)},d)):this.PA(),s&&s(r,u);var l={type:"git",manifest:f,manifestText:v};this.dispatchEvent(l),this.ait=v}},i.Kd=function(t,n){var i=this,e=iN(),r=t;h(this.cit),this.cit=void 0;var s=this.uit.qh(r,{},function(r,u){return i.lit(t,e,s,r,n,u)});this.hit={Ev:s,Sv:t}},i.ab=function(t,n){var i,e,r,s=this,u=!1;(r=t||(this.u1?this.u1.uri:this.oit))&&(this.hit&&this.hit.Sv===t?n&&(i=function(t){s.removeEventListener("vh",e),s.removeEventListener("git",i);var r=t;n(null,{mA:r.manifest,sit:r.manifestText})},e=function(t){s.removeEventListener("vh",e),s.removeEventListener("git",i),n(t.vh)},this.addEventListener("vh",e),this.addEventListener("git",i)):(this.PA(),this.Kd(r,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.Ait=function(t){t&&(this.ait=void 0,this.A1&&this.A1.isMasterPlaylist?this.ab(t.uri):this.u1&&!this.wit()&&this.ab(this.u1.uri))},i.nd=function(){this.PA(),this.$o()},i.wit=function(){return!!this.hit||!!this.cit||!(!this.u1||this.u1.live)},z(n,[{key:"mA",get:function(){return this.u1}},{key:"X1",get:function(){return this.A1}},{key:"a2",get:function(){return this.oit},set:function(t){this.PA(),this.ait=void 0,this.A1=void 0,this.u1=void 0,this.oit=t}}]),n}(lC),OR=function(t){function n(n,i){var e;return(e=t.call(this)||this).Cc=void 0,e.Hl=void 0,e.oit=void 0,e.yit=void 0,e.iN=void 0,e.Cc=i,e.Hl=or(),e.oit=null,e.yit=null,e.iN=n,e}U(n,t);var i=n.prototype;return i.ab=function(){var t=this,n=this.a2;if(n&&!this.yit){var i=new CR(this.iN,this.Cc);i.addEventListener("vh",function(i){var e=i.vh;t.dispatchEvent({type:"_it",vh:e}),t.Hl.has(n)&&t.dispatchEvent({type:"vh",vh:e,Mit:n})}),i.addEventListener("git",function n(e){i.removeEventListener("git",n),i===t.yit&&t.dispatchEvent({type:"kit",mA:e.manifest})}),i.addEventListener("git",function(i){t.Hl.has(n)&&t.dispatchEvent({type:n,mA:i.manifest})}),this.yit=i,i.ab(n)}},i.mit=function(t,n){this.pit(t),this.Nit(n)},i.Nit=function(t){var n,i=this;this.Hl.has(t)||(t===this.a2?(this.ab(),(n=this.yit).mA&&this.dispatchEvent({type:t,mA:n.mA},!0)):((n=new CR(this.iN,this.Cc)).addEventListener("vh",function(n){i.dispatchEvent({type:n.type,vh:n.vh,Mit:t})}),n.addEventListener("git",function(n){i.dispatchEvent({type:t,mA:n.manifest})})),this.Hl.set(t,n))},i.pit=function(t){if(this.Hl.has(t)){var n=this.Hl.get(t);n!==this.yit&&n.nd(),this.Hl.delete(t),this.removeEventListener(t)}},i.Dit=function(t){if(this.Hl.has(t)){var n=this.Hl.get(t);n.wit()||n.ab(t)}},i.Tit=function(){var t=this;this.Hl.forEach(function(n,i){return t.Dit(i)})},i.Jl=function(){this.Hl.forEach(function(t){return t.nd()}),this.Hl.clear(),this.yit&&(this.yit.nd(),this.yit=null),this.oit=null},z(n,[{key:"a2",get:function(){return this.yit&&this.yit.mA?this.yit.mA.uri:this.oit},set:function(t){this.Jl(),this.oit=t}}]),n}(lC),xR=function(t){function n(){var n;return(n=t.call(this)||this).Iit=NaN,n}U(n,t);var i=n.prototype;return i.Eit=function(t,n){for(var i=t.length?l.min.apply(l,t):0,e=0;e<t.length;e++)t[e]-=i;for(var r=0;r<n.length;r++){n[r].Eh=zA.D_(t[r]||0)}var s=t.length?l.max.apply(l,t):0;this.Iit=s,this.dispatchEvent({type:"Lit",Sit:s})},i.jit=function(t,n){var i=[];if(n.length<2)return this.Eit(i,n),!0;for(var e=n[0],r=0;r<n.length;r++){var s=n[r];if(!s.Cit(t))return!1;i[r]=s.Eh.mw(s.Oit(e,t)).my()}return this.Eit(i,n),!0},i.xit=function(t,n){return this.jit(t.zK,n)},i.zit=function(t,n){if(n.length<2)return this.Eit([],n),!0;var i=n[0].Rit(t);if(w(i))return!1;for(var e=0;e<n.length;e++){if(n[e].Rit(t)!==i)return!1}return this.jit(i,n)},i.Jl=function(){this.Iit=NaN},i.nd=function(){this.$o()},z(n,[{key:"Sit",get:function(){return this.Iit}}]),n}(lC),zR=.001;function RR(t){return t.metadata.o0.cg+"Uit"+t.metadata.lK+"Bit"+t.metadata.ab+"Qit"+t.metadata.oA}var UR=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Kq=function(t,i){return new n(t,i)},i.c5=function(t,n){return!1},n}(yx);function BR(t,n){var i=new UR([n]);return t.Cy(i).Lb(i)}function QR(t,n){var i=function(t,n){var i=t.ett,e=t.g5;if(!w(e)&&e===i)return!0;return!t.Q6&&!!n&&n.$k.o0===t.o0&&i>=n.vb&&i<=n.vb+zR}(t,n);return i||!w(t.g5)?{ab:i?t.ett:t.g5,vb:t.V7,$k:t}:null}var PR=function(t){function n(n,i){var e;return(e=t.call(this)||this).Pit=void 0,e.xp=void 0,e.Yit=null,e.Git=function(){return e.Fit()},e.Vit=[],e.uw=[],e.Hit=new UR([]),e.Wit=null,e.Pit=n,e.xp=i,e}U(n,t);var i=n.prototype;return i.Xit=function(t){var n=t.metadata,i=n&&n.xK;if(!i||!i.length)return N.resolve();for(var e=[],r=n.ab,s=0;s<i.length;s++){var u=i[s],o=r+u.duration;e.push({ab:r,oA:u.duration,vb:o,lK:u.lK,Lh:u}),r=o}var h={cg:RR(t),ab:t.metadata.ab,Dnt:n.Dnt,ett:n.ett,Zit:i[0].O6.A0?new Date(i[0].O6.A0.getTime()):null,oA:t.metadata.oA,vb:t.metadata.ab+t.metadata.oA,stt:n.stt,V7:n.V7,K9:n.K9,g5:n.g5,xK:e,o0:t.metadata.o0,htt:t.metadata.B6,Q6:n.Q6};return this.Vit.push(h),this.qit(this.Pit.Xit(t),h)},i.qit=function(t,n){var i=this;return t.then(function(){if(ss(i.Vit,n)){i.uw.push(n);var t=i.Wit,e=QR(n,t);e&&(i.Hit=BR(i.Hit,e)),i.Wit=e}i.Fit(),i.Jit(n)}).catch(function(){ss(i.Vit,n)})},i.Jit=function(t){var n=t.xK[0],i=t.xK[t.xK.length-1],e=t.o0,r=e.UK(n.lK-1),s=OC.yA(e.M0);if(!r||s){var u=e.UK(n.lK),o=this.xp.a5(u).my(),h=t.Dnt,c=l.min(o,h);c<n.ab&&this.Pit.NP(c,n.ab)}for(var a=0,f=this.uw;a<f.length;a++){var v=f[a];if(v.o0===t.o0){var d=v.xK[0],g=v.xK[v.xK.length-1];g.lK+1===n.lK&&g.vb!==n.ab?this.Pit.NP(g.vb,n.ab):d.lK-1===i.lK&&i.vb!==d.ab&&this.Pit.NP(i.vb,d.ab)}}},i.ph=function(){this.Vit.length=0,this.uw.length=0,this.Hit=new UR([]),this.Wit=null},i.Fit=function(){if(this.Kit&&!this.Kit.Uj){var t=this.Kit.uw||$O;t=function(t,n){for(var i=ux(t),e=0;e<i.length;e++){var r=i[e],s=n.r5(r.vb,zR);if(s>=0){var u=n.xK(s),o=u[u.length-1],h=o.$k.stt,c=o.$k.V7;h-zR<r.vb&&r.vb<c&&(r.vb=c)}}return new KO(i)}(t,this.Hit),this.uw=this.uw.filter(function(n){return function(t,n,i,e){n-=e=+e||0,i+=e;for(var r=0;r<t.length;r+=1)if(t.start(r)<i&&n<t.end(r))return r;return-1}(t,n.ab,n.vb)>=0}),this.Hit=this.Hit.Nb(t)}},i.nd=function(){this.$o(),this.ph(),this.Kit=null},i.$it=function(t){var n=this.tet(t);if(n)for(var i=0,e=n.xK;i<e.length;i++){var r=e[i];if(r.ab<=t&&r.vb>t)return r}return null},i.tet=function(t){for(var n=0,i=this.uw;n<i.length;n++){var e=i[n];if(e.ab<=t&&e.vb>t)return e}return null},i.net=function(t){for(var n=0,i=this.uw;n<i.length;n++){var e=i[n];if(e.o0.cg===t.o0.cg)for(var r=0,s=e.xK;r<s.length;r++){if(s[r].lK===t.lK)return!0}}return!1},i.iet=function(){return this.eet()[0]},i.eet=function(){for(var t=this.Hit,n=this.Wit,i=0,e=this.Vit;i<e.length;i++){var r=QR(e[i],n);r&&(t=BR(t,r)),n=r}return[t,n]},z(n,[{key:"$l",get:function(){return this.Vit.length+this.uw.length}},{key:"Kit",get:function(){return this.Yit},set:function(t){this.Yit&&this.Yit.removeEventListener("updateend",this.Git),this.Yit=t,this.Yit&&(this.Yit.addEventListener("updateend",this.Git),this.Fit())}}]),n}(lC);function YR(t,n,i){!function(t,n,i){for(var e=i.z5,r=[],s=0;s<e.length;s++)for(var u=e[s],o=n.l5(t,u.Qp.P5).my(),h=0,c=u.lG;h<c.length;h++){var a=c[h];r.push(new WL(o,a))}i.Dg=r}(t,n,i)}function GR(t,n){return t&&n?l.abs(t.lK-n.lK)<=1?zA.Yy:zA.Qy(n.Ok-t.Ok,1e3):zA.Yy}var FR=function(){function t(t,n,i,e,r){this.BK=void 0,this.J7=void 0,this.ret=void 0,this.uet=void 0,this.Ao=void 0,this.k7=void 0,this.Eh=zA.Yy,this.oet=!1,this.het=null,this.BK=t,this.J7=t.o0.xK.wK(n.lK),this.k7=this.J7,this.ret=i,this.uet=e,this.Ao=r||null}var n=t.prototype;return n.cet=function(){if(this.het)return this.het;var t=this.aet();return(t.fet||t.vh)&&(this.het=t),t},n.vet=function(){return{fet:!1,vh:!1,oet:this.oet,Yw:zA.T_}},n.fet=function(t){return t.Oy()?{fet:!1,vh:!0,oet:this.oet,Yw:zA.T_}:{fet:!0,vh:!1,oet:this.oet,Yw:t}},t}();function VR(t,n){switch(n){case"R$":return GA(t.G9)?t.G9:t.c$;case"U$":return GA(t.V9)?t.V9:t.c$;default:return t.c$}}var HR=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.aet=function(){var t=this.BK,n=t.o0,i=n.xK,e=i.yK(this.k7);if(t.pw(e)){if(this.uet&&t.det&&UC(e)){var r=VR(e,this.Ao),s=t.let(r,e.Aet);return this.fet(s.Cy(this.Eh))}if(this.ret&&e===t.wet){var u=t.Gw.Cy(BC(e));return this.fet(u.Cy(this.Eh))}this.k7+=1;var o=GR(e,i.yK(this.k7));return this.oet=this.oet||o.py(zA.Yy),this.Eh=this.Eh.mw(o).mw(BC(e)),this.vet()}return this.fet(zA.T_)},n}(FR),WR=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.aet=function(){var t=this.BK,n=t.o0,i=n.xK,e=i.yK(this.k7);if(t.pw(e)){if(this.uet&&t.det&&UC(e)){var r=VR(e,this.Ao),s=t.let(r,e.Aet);return this.fet(s.mw(this.Eh))}if(this.ret&&e===t.yet){var u=t.Yw;return this.fet(u.mw(this.Eh))}this.k7-=1;var o=i.yK(this.k7),h=GR(o,e);return this.oet=this.oet||h.py(zA.Yy),this.Eh=this.Eh.mw(h).mw(BC(o)),this.vet()}return this.fet(zA.T_)},n}(FR);var XR=function(){function t(t,n,i){this.lK=void 0,this.o0=void 0,this.Yw=zA.Yy,this.Gw=zA.Yy,this.yet=null,this.wet=null,this._et=!1,this.Met=zA.T_,this.ket=zA.T_,this.met=!1,this.pet=void 0,this.lK=t,this.o0=n,this.pet=i}var n=t.prototype;return n.pw=function(t){return t&&t.zK===this.lK},n.let=function(t,n){var i=t.Cy(this.Met).mw(this.ket);if(void 0!==n){var e=i.Cy(n);if(e.Ly().py(YA)){var r=l.round(e.my()/PA.my());i=i.Cy(PA.o_(r))}}return i},n.Net=function(t,n){var i=this.Det(t);this.Tet(n);var e=this.Iet();return i||e||t===this.wet&&this.bet()},n.Det=function(t){if(this.det&&RA(t.W9,this.Met)>=0)return!1;var n;if(n=this.det?this.Eet(t,!0,!1):this.Let(t,!0,!1),this.Met.Oy())this.Met=t.W9;else{var i=WA(t.W9,this.Met);this.Met=this.Met.mw(i)}return this.ket=n,!0},n.Tet=function(t){if(!t)return!1;if(this.pet)return!1;if(!this.jet())return!1;var n=this.o0.xK,i=this.yet,e=n._K(i.lK-1);if(UC(i)&&UC(e)){var r=function(t,n,i){var e=t.l5(n,n.R6);if(!GA(i.H9)||!GA(i.V9))return e;var r,s=GA(i.G9),u=VA(i.V9,i.H9);if(s){var o=FA(VA(i.V9,i.G9),zA.Yy);r=FA(VA(u,o),zA.Yy)}else r=u;return VA(e,r)}(t,e,i);return this.met=!0,this.Cet(r)}return!1},n.Cet=function(t){if(t.hy(this.Yw))return!1;var n=t.Cy(this.Yw);return this.Yw=t,this.Gw=this.Gw.mw(n),this.ket=this.ket.mw(n),!0},n.Iet=function(){if(this.pet)return!1;var t=this.wet;if(!t)return!1;var n,i=new WR(this,t,!1,!0);do{n=i.cet()}while(!n.fet&&!n.vh&&!n.oet);if(n.fet&&!n.oet){var e=n.Yw.mw(BC(t));if(!e.hy(this.Gw))return this.Gw=e,!0}return!1},n.Oet=function(t){var n=!1;return n=this.Tet(t)||n,n=this.xet(t)||n},n.xet=function(t){if(!t)return!1;if(this.met)return!1;var n=t.Gw.mw(GR(t.wet,this.yet));return this.Cet(n)},n.zet=function(t){var n=!1;return(!this.yet||this.yet.lK>t.lK)&&(this.Yw=this.Yw.Cy(GR(t,this.yet)),this.yet=t,n=!0),(!this.wet||this.wet.lK<t.lK)&&(this.Gw=this.Gw.mw(GR(this.wet,t)).mw(BC(t)),this.wet=t,n=!0),n},n.Ret=function(t){if(!this.det||!t.det)return zA.T_;if(this.Met.Iy(t.Met)){var n=this.let(t.Met,t.ket);return t.ket.Cy(n)}return t.let(this.Met,this.ket).Cy(this.ket)},n.jet=function(){var t=this.yet;return!!t&&function(t,n){return n.zK===t&&n.BK}(this.lK,t)},n.bet=function(){var t=this.wet;if(!t)return!1;var n=this.o0.xK._K(t.lK+1);return function(t,n,i){return n.zK===t&&(!i||i.BK)}(this.lK,t,n)},n.Uet=function(t,n){return this.Eet(t,!0,!0,n)},n.Let=function(t,n,i){if(!this.pw(t))return zA.T_;var e,r=new WR(this,t,n,i);do{e=r.cet()}while(!e.fet&&!e.vh);if(!e.fet)return zA.T_;var s=e.Yw;return s.Ey(this.Yw)?this.Yw:s},n.Eet=function(t,n,i,e){if(!this.pw(t))return zA.T_;var r,s,u,o,h,c=new HR(this,t,n,i,e),a=new WR(this,t,n,i,e);do{r=c.cet(),s=a.cet()}while(!(r.fet||s.fet||r.vh&&s.vh));if(s.fet)u=s,o=r,h=c;else{if(!r.fet)return zA.T_;u=r,o=s,h=a}if(u.Yw.Ey(this.Yw)){for(;!o.fet&&!o.vh;)o=h.cet();return o.fet?zA.w_(this.Yw,o.Yw):this.Yw}if(u.oet){for(;!o.oet&&!o.fet&&!o.vh;)o=h.cet();if(o.fet&&!o.oet&&this.Yw.Iy(o.Yw))return o.Yw}return u.Yw},n.l5=function(t,n){return this.pw(t)&&this.det?this.let(n,t.Aet):zA.T_},n.eet=function(){0},z(t,[{key:"det",get:function(){return!this.Met.Oy()}}]),t}();function ZR(t,n){return n.Ey(t.Yw)?Wr.bo:n.Dy(t.Gw)?Wr.Eo:Wr.Io}var qR=function(){function t(){this.Bet=new pC}var n=t.prototype;return n._K=function(t){return this.Bet._K(t)},n.yK=function(t){return this.Bet.yK(t)},n.Qet=function(t){var n=this.Bet.wK(t);return n<0?null:this.Bet.yK(n-1)},n.cet=function(t){var n=this.Bet.wK(t);return n<0?null:this.Bet.yK(n+1)},n.Pet=function(){return this.Bet.yK(0)},n.Yet=function(){var t=this.Bet.$l;return 0===t?null:this.Bet.yK(t-1)},n.Get=function(t){var n=this.Bet,i=this.Yet();if(i&&function(t,n){return t.Yw.Iy(n)&&n.Ey(t.Gw)}(i,t))return i;var e=bE(this.Bet.mK(),t,I,ZR);return n.yK(e)},n.mw=function(t){var n=this.Bet.mw(t);if(n&&!this.cet(t.lK)){t._et=!0;var i=this.Qet(t.lK);i&&(i._et=!1)}return n},n.Jh=function(t){var n=this.Bet.Jh(t);if(n&&t._et){t._et=!1;var i=this.Qet(t.lK);i&&(i._et=!0)}return n},n.DK=function(t){this.Bet.DK(t)},n.eet=function(){},z(t,[{key:"$l",get:function(){return this.Bet.$l}}]),t}();var JR=zA.D_(10),KR=function(){function t(t,n,i){this.o0=void 0,this.Fet=!1,this.Vet=!1,this.Het=new qR,this.Wet=zA.Yy,this.Xet=void 0,this.Zet=null,this.qet=null,this.pet=void 0,this.o0=t,this.Xet=n.liveOffset,this.pet=i}var n=t.prototype;return n.Jet=function(t){var n=this.o0,i=t?t.fragments:null,e=n.xK;if(!t||!i||!i.length)return!1;this.Fet=!0;var r,s=!1;if(!this.Het.$l){var u=e._K(i[0].lK).zK,o=new XR(u,n,this.pet);o.Cet(this.Eh),this.Het.mw(o),s=!0}if(this.qet){var h=e.wK(this.qet.lK);r=h<0?0:h+1}else r=0;for(var c=r,a=e.yK(c),f=null,v=!1;a;){var d=a.zK;if(f&&f.lK===d||(f&&v&&this.Ket(f),f=this.Het._K(d),s=s||v,v=!1),!f){f=new XR(d,n,this.pet),this.Het.mw(f);var l=this.Het.Qet(d);f.Oet(l||void 0)}v=f.zet(a)||v,a=e.yK(++c)}return f&&v&&this.Ket(f),(s=s||v)&&this.$et(),this.Het.Yet()&&this.K0(n.xK),this.Zet=e._K(i[0].lK),this.qet=e._K(i[i.length-1].lK),s},n.Net=function(t){var n=this.Het._K(t.zK);if(!n)return!1;this.Vet=!0;var i=this.Het.Qet(n.lK),e=n.Net(t,i);return e&&this.Ket(n),e},n.Ket=function(t){for(var n=t,i=this.Het.cet(t.lK),e=!0;e&&i;)e=i.Oet(n),n=i,i=this.Het.cet(i.lK)},n.$et=function(){for(var t=!1,n=this.Het.Pet(),i=n&&this.Het.cet(n.lK);n&&i;)n.Gw.py(i.Yw)&&(i.Cet(n.Gw),t=!0),n=i,i=this.Het.cet(n.lK);return t},n.trt=function(t){var n=this.Het.Yet(),i=t.Het.Yet();if(!this.pet){if(n&&this.nrt(t,n.lK))return!0;if(i&&this.nrt(t,i.lK))return!0}return this.irt?!(!n||!this.ert(t,n.lK))||(!(!i||!this.ert(t,i.lK))||(!(!n||!this.rrt(t,n.lK))||(!(!i||!this.rrt(t,i.lK))||this.urt(t)))):this.ort(t)},n.ort=function(t){var n=this.Het.Pet(),i=t.Het.Pet();return!(!n||!i)&&(this.Th(i.Yw.Cy(n.Yw)),!0)},n.nrt=function(t,n){var i=this.Het._K(n);if(!i||!i.det)return!1;var e=t.Het._K(n);return!(!e||!e.det)&&(this.Th(i.Ret(e)),!0)},n.ert=function(t,n){var i=this.Het._K(n);if(!i||!i.jet())return!1;var e=t.Het._K(n);return!(!e||!e.jet())&&(this.Th(e.Yw.Cy(i.Yw)),!0)},n.rrt=function(t,n){var i=this.Het._K(n);if(!i)return!1;var e=this.hrt(i.wet.lK);if(!e)return!1;var r=t.Het._K(n);if(!r)return!1;var s=t.hrt(r.wet.lK);if(!s)return!1;var u=i.Uet(i.wet),o=r.Uet(r.wet),h=zA.L_(e).Cy(zA.L_(s)),c=u.Cy(o);return this.Th(h.Cy(c)),!0},n.urt=function(t){if(!this.Vet&&!t.Vet)return!1;var n=this.Het.Yet(),i=t.Het.Yet();if(n&&n.wet&&i&&i.wet){var e=zA.Qy(n.wet.Ok-i.wet.Ok,1e3),r=n.Gw.Cy(i.Gw);return this.Th(e.Cy(r)),!0}return!1},n.K0=function(t){var n=this.Het.Yet();if(n)for(var i=n.Gw,e=t.$l-1;e>=0;e--){var r=t.yK(e);if(i=i.Cy(zA.D_(r.duration)),void 0!==r.Aet){0;break}r.Aet=i}},n.Rit=function(t){var n=this.Het.Get(t);return n?n.lK:NaN},n.a5=function(t,n){var i=this.Het._K(t.zK);return i?i.Uet(t,n):zA.T_},n.f5=function(t,n){var i=this.o0.xK._K(t.lK+1);if(i){var e=this.a5(i);return e}return n.mw(function(t){if(!t)return zA.Yy;if(!UC(t))return zA.D_(t.duration);var n=t.a$||zA.Yy,i=t.f$||zA.Yy,e=zA.D_(t.duration);return n.Wy()||i.Wy()?n.Wy()?i.Wy()?e.Wy()?e:zA.Yy:i:n:zA.w_(n,i)}(t))},n.l5=function(t,n){var i=this.Het._K(t.zK);return i&&i.det?i.l5(t,n):zA.T_},n.ntt=function(t,n){var i=this.o0.xK;return i.$l?function(t,n,i,e,r){var s,u,o=t.o0.xK,h={},c=function(n){var i=h[n];return void 0!==i?i:h[n]=t.a5(o.yK(n),r)},a=i,f=c(a),v=e,d=c(v);if(n.Ey(f))return{$k:s=o.yK(a),crt:f};if(n.Dy(d)&&(s=o.yK(v)).B6)return{$k:s,crt:d};for(;f.Iy(n)&&n.Iy(d);){var g=void 0,A=void 0,w=void 0;if(a===v?(g=a,A=f):(g=a+l.round(n.Cy(f).my()*(v-a)/d.Cy(f).my())||0,A=c(g)),A.py(n))d=c(v=g-1);else{if(s=o.yK(g),!(w=(u=g)===e?c(u).mw(BC(o.yK(u))):c(u+1)).Iy(n))return s&&n.Iy(A.mw(BC(s)))?{$k:s,crt:A}:(s=o.yK(g+1))&&{$k:s,crt:w};a=g+1,f=w}}if(d.Iy(n)){if((s=o.yK(v))&&n.Iy(d.mw(BC(s))))return{$k:s,crt:d};if(v<e&&(s=o.yK(v+1),d=c(v+1),s&&n.Ey(d)))return{$k:s,crt:d}}return null}(this,t,0,i.$l-1,n):null},n.hrt=function(t){var n=this.o0.xK,i=n.wK(t),e=n.yK(i),r=e,s=zA.Yy;if(e.A0)return e.A0;for(var u=i-1;u>=0;u--){var o=n.yK(u);if(s=s.mw(BC(o)).mw(GR(o,r)),o.A0)return new Date(o.A0.getTime()+1e3*s.my());r=o}return null},n.art=function(t){for(var n=this.o0.xK,i=void 0,e=0;e<n.$l;e++){var r=n.yK(e);if(r.A0){if(!(r.A0.getTime()<=t.getTime())){i=i||r;break}i=r}}if(!i)return zA.T_;var s=zA.L_(t).Cy(zA.L_(i.A0));return this.a5(i).mw(s)},n.Th=function(t){if(!t.hy(zA.Yy))for(var n=this.Het.$l,i=0;i<n;i++){var e=this.Het.yK(i);e.Cet(e.Yw.mw(t))}},n.Cit=function(t){var n=this.Het._K(t);return n&&n.det},n.Oit=function(t,n){if(this===t)return zA.Yy;var i=this.Het._K(n),e=t.Het._K(n);return i&&e?i.Ret(e):zA.T_},n.eet=function(){0},z(t,[{key:"irt",get:function(){var t=this.o0.RK;return!!t&&t.live}},{key:"frt",get:function(){var t=this.o0.RK;return!!t&&t.isEvent}},{key:"vrt",get:function(){var t=this.Zet;return t?this.a5(t):zA.Yy}},{key:"drt",get:function(){var t=this.Het.Yet();return t?t.Gw:zA.Yy}},{key:"lrt",get:function(){if(!this.irt)return zA.Yy;var t=this.drt.Cy(this.grt);return zA.w_(this.vrt,t)}},{key:"grt",get:function(){return this.Xet&&zA.D_(this.Xet)||this.Art.o_(3)}},{key:"wrt",get:function(){return this.irt&&this.qet?zA.Qy(iN()-this.qet.Ok,1e3):zA.Yy}},{key:"Art",get:function(){var t=this.o0.RK;return t&&t.targetDuration?zA.D_(t.targetDuration):JR}},{key:"Eh",get:function(){return this.Wet},set:function(t){var n=t.Cy(this.Wet);this.Wet=t,this.Th(n)}}]),t}(),$R=function(t){function n(n){var i;return(i=t.call(this)||this).yrt=[],i._rt={},i.Mrt=null,i.krt=null,i.Wet=zA.Yy,i.pet=void 0,i.mrt=void 0,i.mrt=n,i}U(n,t);var i=n.prototype;return i.prt=function(t){return t&&this._rt[t.cg]||null},i.Nrt=function(t){var n=this.prt(t);return n||((n=new KR(t,this.mrt,!!this.pet)).Eh=this.Wet,this.yrt.push(n),this._rt[t.cg]=n),n},i.Drt=function(t){var n;switch(null==(n=this.mrt.hls)?void 0:n.discontinuityAlignment){case Zm.LL:return!0;case Zm.SL:return!1;default:return t.isEvent||t.hasEnd}},i.Jet=function(t,n){void 0===this.pet&&(this.pet=this.Drt(n));var i=this.prt(this.Mrt),e=i?i.vrt:zA.Yy,r=i?i.drt:zA.Yy,s=this.Nrt(t),u=s.Fet,o=s.Jet(n);if(!u&&s.Fet&&(s.Th(this.Trt(t)),o=!0),o=this.Irt(s)||o,this.brt(s,e,r)){var h=new wC(AC.aK,{code:"MFU0166"});this.dispatchEvent({type:"vh",vh:h})}else this.Mrt=t,o&&this.dispatchEvent("n1")},i.Net=function(t,n){if(UC(n)){0;var i=this.Nrt(t),e=i.Net(n);e=this.Irt(i)||e,this.krt=t,e&&this.dispatchEvent("n1")}},i.Irt=function(t){var n=!1,i=!1,e=this.prt(this.krt);e&&(e===t?n=!0:i=(n=t.trt(e))||i);var r=this.prt(this.Mrt);return r&&r!==t&&(i=n?r.trt(t)||i:t.trt(r)||i),i},i.Trt=function(t){var n=this.prt(t),i=!n.irt,e=t.RK&&t.RK.isEvent;return i||e?zA.Yy:n.Art.o_(3)},i.brt=function(t,n,i){if(!t.irt)return!1;var e=t.vrt,r=t.drt,s=zA.y_(r,i).Cy(zA.w_(e,n)),u=zA.w_(t.Art.o_(3),s.f_(2));return e.mw(u).Ey(n)},i.K0=function(t,n){var i=this.prt(t)||this.prt(this.Mrt);return i&&i.K0(n)},i.Rit=function(t){var n=this.Mrt&&this.prt(this.Mrt);return n?n.Rit(t):NaN},i.Ert=function(t,n){var i=t.UK(n);return this.a5(i)},i.a5=function(t){if(!t)return zA.T_;var n=this.prt(t.o0)||this.prt(this.Mrt);return n?n.a5(t):zA.T_},i.f5=function(t,n){if(!t)return zA.T_;var i=this.prt(t.o0)||this.prt(this.Mrt);return i?i.f5(t,n):zA.T_},i.l5=function(t,n){if(!t||!n)return zA.T_;var i=this.prt(t.o0)||this.prt(this.Mrt);return i?i.l5(t,n):zA.T_},i.ntt=function(t,n,i){var e=this.prt(t);if(!e)return null;var r=e.ntt(n,i);return r?{$k:r.$k,crt:r.crt}:null},i.hrt=function(t,n){var i=this.prt(t)||this.prt(this.Mrt);return i?i.hrt(n):null},i.art=function(t,n){var i=this.prt(t)||this.prt(this.Mrt);return i?i.art(n):zA.T_},i.Cit=function(t){return void 0!==this.Lrt(t)},i.Oit=function(t,n){if(this===t)return zA.Yy;var i=this.Lrt(n),e=t.Lrt(n);return i&&e?i.Oit(e,n):zA.T_},i.Lrt=function(t){return es(this.yrt,function(n){return n.Cit(t)})},i.nd=function(){this.$o(),this.yrt.length=0,this._rt={},this.Mrt=null,this.krt=null,this.Wet=zA.Yy},i.eet=function(){0},z(n,[{key:"Srt",get:function(){return this.vrt.Cy(this.Art.o_(3))}},{key:"grt",get:function(){var t=this.mrt.liveOffset;return zA.D_(t||3*this.Art.my())}},{key:"irt",get:function(){var t=this.prt(this.Mrt);return!!t&&t.irt}},{key:"_w",get:function(){return this.Mrt?new KO([{ab:this.vrt.my(),vb:this.drt.my()}]):$O}},{key:"vrt",get:function(){if(!this.Mrt)return zA.Yy;var t=this.prt(this.Mrt);return t.frt?t.vrt:t.vrt.mw(t.wrt)}},{key:"drt",get:function(){if(!this.Mrt)return zA.Yy;var t=this.prt(this.Mrt);return t.drt.mw(t.wrt)}},{key:"lrt",get:function(){if(!this.Mrt)return zA.Yy;var t=this.prt(this.Mrt);return t.lrt.mw(t.wrt)}},{key:"Art",get:function(){return this.Mrt?this.prt(this.Mrt).Art:JR}},{key:"Eh",get:function(){return this.Wet},set:function(t){if(!this.Wet.hy(t)){this.Wet=t;for(var n=0,i=this.yrt;n<i.length;n++){i[n].Eh=t}this.dispatchEvent("n1")}}}]),n}(lC),tU=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.Trt=function(t){return zA.Yy},n}($R),nU=.25,iU=1/60;function eU(t,n){return ns(t,n,iU)}var rU,sU=function(t,n,i){this.o0=void 0,this.Yw=void 0,this.oA=void 0,this.Gw=void 0,this.$k=void 0,this.jrt=NaN,this.Crt=NaN,this.Ort=0,this.o0=t.o0,this.Yw=n,this.Gw=i,this.oA=i-n,this.$k=t},uU=function(t,n,i){this.o0=void 0,this.Yw=void 0,this.oA=void 0,this.Gw=void 0,this.jrt=NaN,this.Crt=NaN,this.Ort=0,this.o0=t,this.Yw=n,this.Gw=i,this.oA=i-n};function oU(t){return!(!t||!t.$k)}function hU(t,n,i){return e=n,r=i,s=t.Yw,u=t.Gw,eU(e,u)<=0&&eU(s,r)<=0;var e,r,s,u}function cU(t,n){return eU(t.Yw,n)<=0?t.Gw:t.Yw}function aU(t,n,i){return(t-n)/i-nU}function fU(t,n){return n.Cy(t).Lb(t)}function vU(t,n){var i=l.min(iU,t.oA/2);return n.Ob(t.Yw,t.Gw,i)}function dU(t,n){var i=n.n5(t);return-1===i?t:n.end(i)}function lU(t){return t.Crt<=t.jrt}function gU(t,n){if(!lU(n))return!1;for(var i=0;i<t.length;i++){var e=t[i];if(e.Ort+n.Crt>e.jrt)return!1}return!0}function AU(t,n){for(var i=0;i<t.length;i++){t[i].Ort+=n.Crt}n.Ort=n.Crt,t.push(n)}!function(t){t[t.xrt=0]="xrt",t[t.zrt=1]="zrt",t[t.Rrt=2]="Rrt",t[t.Ltt=3]="Ltt"}(rU||(rU={}));var wU=function(){function t(t,n,i,e){this.Vk=void 0,this.xp=void 0,this.Urt=void 0,this.Brt=void 0,this.Qrt=void 0,this.o3=void 0,this.Vk=t,this.xp=n,this.Urt=i,this.Brt=e,this.Qrt=bO.rs.O2,this.o3=bO.rs.C2}var n=t.prototype;return n.Prt=function(){return this.Urt.x$.reduce(function(t,n){return l.max(t,n.RK&&n.RK.targetDuration||0)},0)},n.Yrt=function(t,n){void 0===n&&(n=this.xp.a5(t).my());var i=this.xp.f5(t,zA.D_(n));return new sU(t,n,i.my())},n.Grt=function(t,n){var i=t.xK.yK(n);return i&&this.Yrt(i)||null},n.Frt=function(t){var n=t.o0,i=n.xK.wK(t.lK);return i>=0&&this.Grt(n,i-1)||null},n.Vrt=function(t){var n=t.o0,i=n.xK.wK(t.lK);return i>=0&&this.Grt(n,i+1)||null},n.Hrt=function(t,n){var i=this.xp.ntt(t,zA.D_(n));return i&&this.Yrt(i.$k,i.crt.my())||null},n.Wrt=function(t){var n=t.xK.$l-1;return n>=0&&this.Grt(t,n)||null},n.Xrt=function(t,n,i){var e=t.RK&&t.RK.targetDuration||this.Prt()||10,r=l.max(0,n-e),s=r+e;return i&&hU(i,r,s)&&(s=(r=i.Gw)+e),new uU(t,r,s)},n.Zrt=function(t,n,i){var e=this.Brt.Z8,r=.8*this.Brt.q8,s=(n.bandwidth||0)*t.oA;return i&&i.h2?((s=8*i.E3||s)-8*i.b3)/r:e+s/r},n.qrt=function(){for(var t=this.Brt.D8(this.Vk),n=this.Brt.r8(this.Vk),i=0;i<n.length;i++){var e=n[i];-1===t.indexOf(e)&&t.push(e)}return t},n.Jrt=function(t,n){var i=n.filter(function(n){return n.o0===t});return Mx(this.xp,i).o5()},n.Krt=function(t){return"audio"===this.Vk&&t?[t]:this.Urt.x$},n.$rt=function(t){for(var n=new _x([]),i=new _x([]),e=this.qrt(),r={tst:{},nst:{},ist:{},est:{}},s=t.length-1;s>=0;s-=1){var u=t[s],o=this.Jrt(u,e),h=Nx(this.xp,o);r.tst[u.cg]=o,r.nst[u.cg]=h,r.ist[u.cg]=n=fU(n,o),r.est[u.cg]=i=fU(i,h)}return r},n.rst=function(t,n,i,e,r){for(var s,u,o,h,c=[],a=0;a<e.length;a++)for(var f=r[e[a].cg],v=0;v<f.length;v+=1){var d=f.start(v),l=f.end(v)-i;d<l&&c.push({ab:d,vb:l})}return 0===(s=ix(s=nx(new KO(c)),new KO([{ab:t,vb:n}]))).length||eU(s.start(0),t)>0?t:1===s.length&&(u=s.start(0),o=s.end(0),h=n,eU(u,t)<=0&&eU(h,o)<=0)?NaN:s.end(0)},n.sst=function(t,n,i){var e=null,r=i.tst[t.cg],s=i.ist[t.cg],u=i.est[t.cg],o=s.n5(n);if(-1!==o){for(var h=l.max(n,s.start(o)),c=s.end(o),a=new KO([{ab:h,vb:c}]),f=s.Nb(a).Cy(u),v=0;v<f.length;v++){var d=f.start(v),g=f.xK(v)[0];if(g.$k.o0===t){if(e=this.Frt(g.$k))return e}else{for(e=this.Hrt(t,d);e&&vU(e,r);)e=this.Frt(e.$k);if(e)return e}}var A=s.xK(o),w=A[A.length-1];if(w.$k.o0===t&&(e=this.Vrt(w.$k)))return e}var y=this.Wrt(t);if(!y||eU(y.Gw,n)<=0){if(!y||!y.$k.B6)return e=this.Xrt(t,n,y);e=y}for(e||(e=this.Hrt(t,n));e&&vU(e,s);)e=this.Vrt(e.$k);return e},n.ust=function(t,n){var i=this.Wrt(t);return i&&i.$k.B6&&eU(i.Gw,n)<=0?i:this.Hrt(t,n)},n.ost=function(t,n,i,e,r,s,u,o){var h=t.o0,c=u.ist[h.cg],a=!vU(t,c),f=a?n:cU(t,e);t.jrt=aU(f,e,s),t.Crt=this.Zrt(t,h);var v=o&&this.Yrt(o);if(v&&!vU(v,c)){var d=cU(v,e);if(v.jrt=aU(d,e,s),v.Crt=this.Zrt(v,h,i&&i.h3),lU(v)&&(!a||function(t,n){var i=[];return!!gU(i,n)&&(AU(i,n),!(!oU(t)||!oU(n)||t.$k!==n.$k)||!!gU(i,t))}(t,v)))return v}if(a&&!lU(t))return null;var l=this.hst(t,e,r,s,c);return l.length&&l[l.length-1]||null},n.hst=function(t,n,i,e,r){for(var s=[],u=t.o0,o=t;o&&n<o.Gw&&i<=o.Yw;){if(!vU(o,r)){if(w(o.jrt)){var h=cU(o,n);o.jrt=aU(h,n,e),o.Crt=this.Zrt(o,u)}gU(s,o)&&AU(s,o)}o=oU(o)&&this.Frt(o.$k)}return s},n.cst=function(t,n){return t.Yw<n?{fg:rU.Rrt}:oU(t)?{fg:rU.xrt,$k:t.$k,Yw:t.Yw}:{fg:rU.zrt,o0:t.o0}},n.m8=function(t){if(RC(t.uri)){var n=t.uri,i=LO(n.o$,[n.h$.ab,n.h$.vb]);return this.o3._h(i)}var e=LO(t.uri);return this.o3._h(e)},n.ast=function(t){return this.Qrt._h(t.uri)},n.fst=function(){var t=N.coroutine(rr.mark(function t(n,i,e,r,s,u,o,h,c){var a,f,v,d,l,g,A,y,_,M,k,m,p;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=this.Krt(r),f=this.$rt(a),v=this.xp.Srt.my(),d=this.rst(n,i,s,a,f.nst),A=null,_=!1,!w(d)){t.next=3;break}return t.abrupt("return",{fg:rU.Ltt});case 3:if(!(d<v)){t.next=5;break}return t.abrupt("return",{fg:rU.Rrt});case 5:M=h.length-1;case 6:if(!(M>=0)){t.next=27;break}if(l=h[M],g=dU(d,f.nst[l.cg]),!(A=this.sst(l,g,f))){t.next=24;break}if(k=!1,!oU(A)){t.next=18;break}return t.next=15,this.m8(A.$k);case 15:k=t.sent,t.next=22;break;case 18:if(l.m0){t.next=22;break}return t.next=21,this.ast(l);case 21:k=t.sent;case 22:if(!k){t.next=24;break}return t.abrupt("return",this.cst(A,v));case 24:M-=1,t.next=6;break;case 27:if(!(d<=n+nU&&c.length)){t.next=33;break}if(l=c[0],g=dU(d,f.nst[l.cg]),!(A=this.sst(l,g,f))){t.next=33;break}return t.abrupt("return",this.cst(A,v));case 33:m=c.length-1;case 34:if(!(m>=0)){t.next=48;break}if(l=c[m],g=dU(d,f.nst[l.cg]),(A=this.sst(l,g,f))?y=A:(_=!0,y=this.ust(l,g)),!y){t.next=45;break}if(!(p=this.ost(y,g,u,n,v,e,f,o))){t.next=45;break}return t.abrupt("return",this.cst(p,v));case 45:m-=1,t.next=34;break;case 48:if(!_){t.next=50;break}return t.abrupt("return",{fg:rU.Ltt});case 50:if(!A){t.next=52;break}return t.abrupt("return",this.cst(A,v));case 52:if(h.length){t.next=54;break}return t.abrupt("return",{fg:rU.Ltt});case 54:if(l=h[0],g=dU(d,f.nst[l.cg]),!(A=this.sst(l,g,f))){t.next=61;break}return t.abrupt("return",this.cst(A,v));case 61:return t.abrupt("return",{fg:rU.Ltt});case 62:case"end":return t.stop()}},t,this)}));return function(n,i,e,r,s,u,o,h,c){return t.apply(this,arguments)}}(),t}(),yU=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n)||this).vst=i,o.dst=e,o.ip=r,o.Vk=s,o.Jv=u,o}return U(n,t),n}(xs),_U=function(t){function n(n,i,e,r,s){return t.call(this,rh.xa,n,i,e,r,s)||this}return U(n,t),n}(yU),MU=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this,rh.Ra,n,i,e,r,s)||this).lst=u,h.lw=o,h}return U(n,t),n}(yU),kU=zA.D_(.1);function mU(t,n){return(t.x7===n.x7?RA(t.P5,n.P5):RA(t.gst,n.gst))||$r(t.ip,n.ip)}var pU,NU=function(){function t(){}return t.Ast=function(t,n,i){if(!(n>=i)){var e=as(t,function(t,n){return new Ej(t.map(function(t){return t?t.wst():null}),n).PX()});if(0!==e.length)return new jj(n,i,e)}},t}(),DU="black",TU="white",IU=function(){function t(t,n){this.yst=void 0,this._st=void 0,this.Mst=void 0,this.kst=void 0,this.mst=void 0,this.pst=void 0,this.Nst=void 0,this.Dst=void 0,this.Tst=void 0,this.yst=new Array(bU+1);for(var i=0;i<=bU;i++)this.yst[i]=new Mj;this._st=1,this.Mst=0,this.kst=t,this.mst=n,this.pst=!1,this.Nst=!1,this.Dst=TU,this.Tst=DU,this.Jl()}var n=t.prototype;return n.Ist=function(t,n){var i="CC"+(this.kst<<1|this.mst+1);if(t>=n)return null;var e=(new bj).IX(this.yst.slice(1));return 0===e.length?null:{Pw:new jj(t,n,e),fv:i,ZX:this.kst<<1|this.mst+1}},n.Jl=function(){this.bst(),this._st=1},n.Est=function(){return this._st},n.Lst=function(t){this._st=t},n.oX=function(t){this.yst[this._st].oX(t)},n.hX=function(t){this.yst[this._st].hX(t)},n.Sst=function(){return this.Mst},n.jst=function(t){this.Mst=t},n.aX=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case pU.Cst:i=void 0!==LU[n]?LU[n]:String.fromCharCode(n);break;case pU.Ost:i=SU[n];break;case pU.xst:this.zst(),i=jU[n];break;case pU.Rst:this.zst(),i=CU[n]}i&&this.yst[this._st].addParsedChar(i)}},n.zst=function(){this.yst[this._st].cX()},n.Ust=function(t,n,i){if(t>=n)for(var e=i-1;e>=0;e--)this.yst[t+e]=this.yst[n+e];else for(var r=0;r<i;r++)this.yst[t+r]=this.yst[n+r]},n.Bst=function(t,n){for(var i=0;i<=n;i++)this.yst[t+i]=new Mj},n.bst=function(){this.Bst(0,bU)},n.Qst=function(){this._st=this.Mst>0?this.Mst:0,this.bst()},n.Pst=function(t){this.pst=t},n.Yst=function(t){this.Nst=t},n.Gst=function(t){this.Dst=t},n.Fst=function(t){this.Tst=t},t}(),bU=15;!function(t){t[t.Cst=0]="Cst",t[t.Ost=1]="Ost",t[t.xst=2]="xst",t[t.Rst=3]="Rst"}(pU||(pU={}));var EU,LU={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},SU={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},jU={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},CU={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},OU=function(){function t(t,n){this.Gs=void 0,this.Vst=void 0,this.Hst=void 0,this.Wst=void 0,this.Xst=void 0,this.Zst=void 0,this.qst=void 0,this.Jst=void 0,this.Gs=EU.ZI,this.Vst=new IU(t,n),this.Hst=new IU(t,n),this.Wst=new IU(t,n),this.Xst=this.Hst,this.Zst=0,this.qst=void 0,this.Jst=!1}var n=t.prototype;return n.Jl=function(){this.Jst=!0,this.Zst=0,this.Gs=EU.ZI,this.Xst=this.Hst,this.qst=void 0,this.Hst.Jl(),this.Wst.Jl(),this.Vst.Jl()},n.Kst=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.$st=function(t,n){var i=this.Kst(t,n),e=(30&n)>>1,r=TU,s=!1;e<7?r=UU[e]:7===e&&(s=!0);var u=1==(1&n);if(this.Gs!==EU.cs){var o=this.Xst;if(this.Gs===EU.tut&&i!==o.Est()){var h=1+o.Est()-o.Sst(),c=1+i-o.Sst();o.Ust(c,h,o.Sst()),o.Bst(0,c-1),o.Bst(i+1,bU-i)}o.Lst(i);var a=Bj[t<<1&14|n>>5&1]-1;if(!(a<0)){var f=Qj.zZ(a,n);o.oX(f.DX),this.Xst.Pst(u),this.Xst.Yst(s),this.Xst.Gst(r),this.Xst.Fst(DU)}}},n.nut=function(t,n){this.Xst.Pst(!1),this.Xst.Yst(!1),this.Xst.Gst(TU);var i=this.iut(t,pU.Cst," ".charCodeAt(0)),e=TU,r=!1,s=1==(1&n);return"white_italics"===(e=UU[(14&n)>>1])&&(e="white",r=!0),this.Xst.Pst(s),this.Xst.Yst(r),this.Xst.Gst(e),i},n.iut=function(t,n,i){if(this.Xst.aX(n,i),this.Gs===EU.eut||this.Gs===EU.tut){var e=this.rut(this.Xst,this.Zst,t);return this.Zst=t,e}return null},n.rut=function(t,n,i){return this.Jst?null:t.Ist(n,i)},n.sut=function(t,n){var i=DU;0==(7&t)&&(i=RU[(14&n)>>1]),this.Xst.Fst(i)},n.uut=function(t){var n=xU,i=t.out,e=t.m7,r=null;switch(i){case n.RCL:this.hut();break;case n.BS:this.cut();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:r=this.aut(2,e);break;case n.RU3:r=this.aut(3,e);break;case n.RU4:r=this.aut(4,e);break;case n.FON:r=this.fut(e);break;case n.RDC:this.vut(e);break;case n.TR:this.dut();break;case n.RTD:this.lut();break;case n.EDM:r=this.gut(e);break;case n.CR:r=this.Aut(e);break;case n.ENM:this.wut();break;case n.EOC:r=this.yut(e)}return r},n.Aut=function(t){var n=this.Xst;if(this.Gs!==EU.tut)return null;var i=this.rut(n,this.Zst,t),e=n.Est()-n.Sst()+1;return n.Ust(e-1,e,n.Sst()),n.Bst(0,e-1),n.Bst(n.Est(),bU-n.Est()),this.Zst=t,i},n.aut=function(t,n){this.Xst=this.Hst;var i=this.Xst,e=null;return this.Gs!==EU.tut&&this.Gs!==EU.cs&&(e=this.rut(i,this.Zst,n),this.Hst.Qst(),this.Wst.Qst(),this.Jst=!1,i.Lst(bU)),this.Gs=EU.tut,i.jst(t),e},n.fut=function(t){return this.iut(t,pU.Cst," ".charCodeAt(0))},n.gut=function(t){var n=this.Hst,i=null;return this.Gs!==EU.cs&&(i=this.rut(n,this.Zst,t)),n.bst(),this.Jst=!1,i},n.vut=function(t){this.Gs=EU.eut,this.Xst=this.Hst,this.Xst.jst(0),this.Zst=t},n.wut=function(){this.Wst.bst()},n.yut=function(t){var n=null;this.Gs!==EU.cs&&(n=this.rut(this.Hst,this.Zst,t));var i=this.Wst;return this.Wst=this.Hst,this.Hst=i,this.hut(),this.Zst=t,n},n.hut=function(){this.Gs=EU._ut,this.Xst=this.Wst,this.Xst.jst(0)},n.cut=function(){this.Xst.zst()},n.dut=function(){this.Vst.Jl(),this.Jst=!1,this.lut()},n.lut=function(){this.Xst=this.Vst,this.Gs=EU.cs},n.Mut=function(t,n,i){return this.Xst.aX(pU.Cst,n),this.iut(t,pU.Cst,i)},n.kut=function(t,n,i){var e=1&n?pU.Rst:pU.xst;return this.iut(t,e,i)},n.mut=function(t){var n=t.Nut,i=t.out,e=t.m7;if(this.qst===(n<<8|i))return this.qst=void 0,null;if(this.qst=n<<8|i,this.Dut(n,i))this.$st(n,i);else{if(this.Tut(n,i))return this.nut(e,i);if(this.Iut(n,i))this.sut(n,i);else{if(this.but(n,i))return this.iut(e,pU.Ost,i);if(this.Eut(n,i))return this.kut(e,n,i);if(this.Lut(n,i))return this.uut(t);this.isTabOffset(n)&&this.Xst.hX(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.Lut=function(t,n){return 20==(246&t)&&32==(240&n)},n.Dut=function(t,n){return 16==(240&t)&&64==(192&n)},n.Tut=function(t,n){return 17==(247&t)&&32==(240&n)},n.Iut=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.but=function(t,n){return 17==(247&t)&&48==(240&n)},n.Eut=function(t,n){return 18==(246&t)&&32==(224&n)},t.Sut=function(t){return 16==(112&t)},t}(),xU={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.ZI=0]="ZI",t[t._ut=1]="_ut",t[t.eut=2]="eut",t[t.tut=3]="tut",t[t.cs=4]="cs"}(EU||(EU={}));var zU,RU=["black","green","blue","cyan","red","yellow","magenta","black"],UU=["white","green","blue","cyan","red","yellow","magenta","white_italics"],BU=function(){function t(t,n,i,e,r){this.jut=void 0,this.pst=void 0,this.Nst=void 0,this.Tst=void 0,this.Dst=void 0,this.jut=t,this.pst=n,this.Nst=i,this.Tst=e,this.Dst=r}var n=t.prototype;return n.wst=function(){return this.jut},n.Cut=function(){return this.pst},n.Out=function(){return this.Nst},n.xut=function(){return this.Tst},n.zut=function(){return this.Dst},t}(),QU=function(){function t(t){this.Rut=void 0,this.ib=void 0,this.Uut=void 0,this.But=void 0,this.Qut=void 0,this.Put=void 0,this.Yut=void 0,this.Gut=void 0,this.Fut=void 0,this.Vut=void 0,this.$w=void 0,this._st=void 0,this.Hut=void 0,this.Nst=void 0,this.pst=void 0,this.Dst=void 0,this.Tst=void 0,this.Rut=t,this.ib=!1,this.Uut=!1,this.But=0,this.Qut=0,this.Put=0,this.Yut=0,this.Gut=0,this.Fut=zU.Wut,this.Vut=[],this.$w=0,this._st=0,this.Hut=0,this.Nst=!1,this.pst=!1,this.Dst=TU,this.Tst=DU,this.Xut()}var n=t.prototype;return n.Zut=function(t,n,i,e,r,s,u){this.ib=t,this.Qut=n,this.But=i,this.Put=e,this.Uut=r,this.Yut=s,this.Gut=u},n.Xut=function(){this.Vut=[];for(var t=0;t<YU;t++)this.Vut.push(this.qut())},n.qut=function(){for(var t=[],n=0;n<PU;n++)t.push(null);return t},n.Jut=function(t){this.Kut()&&(this.Vut[this._st][this.Hut]=new BU(t,this.pst,this.Nst,this.Tst,this.Dst),this.Hut++)},n.MX=function(){this.Kut()&&(this.Hut<=0&&this._st<=0||(this.Hut<=0?(this.Hut=this.Gut-1,this._st--):this.Hut--,this.Vut[this._st][this.Hut]=null))},n.Kut=function(){var t=this._st<this.Yut&&this._st>=0,n=this.Hut<this.Gut&&this.Hut>=0;return t&&n},n.$ut=function(){return this.ib},n.tot=function(t){for(var n=0,i=t;i<YU;i++,n++)this.Vut[n]=this.Vut[i];for(var e=0;e<t;e++,n++)this.Vut[n]=this.qut()},n.iot=function(){if(this._st+1>=this.Yut)return this.tot(1),void(this.Hut=0);this._st++,this.Hut=0},n.eot=function(){this.Vut[this._st]=this.qut(),this.Hut=0},n.Ist=function(t,n){if(this.$w>=t)return null;var i=NU.Ast(this.Vut,this.$w,t);return i?(this.Cet(t),{Pw:i,fv:"svc"+n,ZX:n}):null},n.rot=function(t,n){this._st=t,this.Hut=n},n.sot=function(t){this.Tst=t},n.uot=function(t){this.Dst=t},n.oot=function(t){this.pst=t},n.hot=function(t){this.Nst=t},n.cot=function(){this._st=0,this.Hut=0,this.pst=!1,this.Nst=!1,this.Dst=TU,this.Tst=DU},n.aot=function(t){this.Fut=t},n.fot=function(){this.ib=!0},n.JA=function(){this.ib=!1},n.vot=function(){this.ib=!this.ib},n.Cet=function(t){this.$w=t},t}();!function(t){t[t.lot=0]="lot",t[t.got=1]="got",t[t.Wut=2]="Wut",t[t.Aot=3]="Aot"}(zU||(zU={}));var PU=42,YU=15,GU=function(){function t(t){this.wot=void 0,this.yot=void 0,this._ot=void 0,this.wot=t,this.yot=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this._ot=void 0}var n=t.prototype;return n.Mot=function(t){var n=t.kot(),i=n.ps,e=n.m7;i===XU&&(i=i<<16|t.kot().ps);return i>=0&&i<=31?this.mot(i,e):i>=128&&i<=159?this.pot(t,i,e):(i>=4096&&i<=4127?this.Not(t,255&i):i>=4224&&i<=4255?this.Dot(t,255&i):i>=32&&i<=127?this.Tot(i):i>=160&&i<=255?this.Iot(i):i>=4128&&i<=4223?this.bot(255&i):i>=4256&&i<=4351&&this.Eot(255&i),null)},n.Tot=function(t){this._ot&&(127!==t?this._ot.Jut(String.fromCharCode(t)):this._ot.Jut("\u266a"))},n.Iot=function(t){this._ot&&this._ot.Jut(String.fromCharCode(t))},n.bot=function(t){if(this._ot)if(void 0!==ZU[t]){var n=ZU[t];this._ot.Jut(n)}else this._ot.Jut("_")},n.Eot=function(t){this._ot&&(160===t?this._ot.Jut("[CC]"):this._ot.Jut("_"))},n.mot=function(t,n){if(!this._ot)return null;var i=this._ot,e=null;switch(t){case FU:i.MX();break;case HU:i.$ut()&&(e=i.Ist(n,this.wot)),i.iot();break;case WU:i.$ut()&&(e=i.Ist(n,this.wot)),i.eot();break;case VU:i.$ut()&&(e=i.Ist(n,this.wot)),i.Xut(),i.rot(0,0)}return e},n.pot=function(t,n,i){if(n>=128&&n<=135){var e=7&n;this.Lot(e)}else{if(136===n){var r=t.kot().ps;return this.Sot(r,i)}if(137===n){var s=t.kot().ps;this.jot(s,i)}else{if(138===n){var u=t.kot().ps;return this.Cot(u,i)}if(139===n){var o=t.kot().ps;return this.Oot(o,i)}if(140===n){var h=t.kot().ps;return this.xot(h,i)}if(143===n)return this.Jl(i);if(144===n)this.zot(t);else if(145===n)this.Rot(t);else if(146===n)this.rot(t);else if(151===n)this.Uot(t);else if(n>=152&&n<=159){var c=(15&n)-8;this.Zut(t,c,i)}}}return null},n.Not=function(t,n){n>=8&&n<=15?t.$M(1):n>=16&&n<=23?t.$M(2):n>=24&&n<=31&&t.$M(3)},n.Dot=function(t,n){n>=128&&n<=135?t.$M(4):n>=136&&n<=143&&t.$M(5)},n.Lot=function(t){this.yot[t]&&(this._ot=this.yot[t])},n.Bot=rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.yot[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.Sot=function(t,n){for(var i=null,e=0,r=this.Bot(t);e<r.length;e++){var s=r[e],u=this.yot[s];u.$ut()&&(i=u.Ist(n,this.wot)),u.Xut()}return i},n.jot=function(t,n){for(var i=0,e=this.Bot(t);i<e.length;i++){var r=e[i],s=this.yot[r];s.$ut()||s.Cet(n),s.fot()}},n.Cot=function(t,n){for(var i=null,e=0,r=this.Bot(t);e<r.length;e++){var s=r[e],u=this.yot[s];u.$ut()&&(i=u.Ist(n,this.wot)),u.JA()}return i},n.Oot=function(t,n){for(var i=null,e=0,r=this.Bot(t);e<r.length;e++){var s=r[e],u=this.yot[s];u.$ut()?i=u.Ist(n,this.wot):u.Cet(n),u.vot()}return i},n.xot=function(t,n){for(var i=null,e=0,r=this.Bot(t);e<r.length;e++){var s=r[e],u=this.yot[s];u.$ut()&&(i=u.Ist(n,this.wot)),this.yot[s]=void 0}return i},n.Jl=function(t){var n=this.xot(255,t);return this.ph(),n},n.ph=function(){this._ot=void 0,this.yot=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.zot=function(t){t.$M(1);var n=t.kot().ps;if(this._ot){var i=(128&n)>0,e=(64&n)>0;this._ot.hot(i),this._ot.oot(e)}},n.Rot=function(t){var n=t.kot().ps,i=t.kot().ps;if(t.$M(1),this._ot){var e=3&n,r=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,h=(48&i)>>4,c=this.Qot(s,r,e),a=this.Qot(h,o,u);this._ot.uot(c),this._ot.sot(a)}},n.rot=function(t){var n=t.kot().ps,i=t.kot().ps;if(this._ot){var e=15&n,r=63&i;this._ot.rot(e,r)}},n.Uot=function(t){t.$M(1),t.$M(1);var n=t.kot().ps;if(t.$M(1),this._ot){var i=3&n;this._ot.aot(i)}},n.Zut=function(t,n,i){var e=void 0!==this.yot[n];if(!e){var r=new QU(n);r.Cet(i),this.yot[n]=r}var s=t.kot().ps,u=t.kot().ps,o=t.kot().ps,h=t.kot().ps,c=t.kot().ps,a=t.kot().ps,f=(32&s)>0,v=127&u,d=(128&u)>0,l=o,g=1+(15&h),A=(240&h)>>4,w=1+(63&c);e&&0===(7&a)||this.yot[n].cot(),this.yot[n].Zut(f,v,l,A,d,g,w),this._ot=this.yot[n]},n.Qot=function(t,n,i){var e={0:0,1:0,2:1,3:1};return qU[e[t]<<2|e[n]<<1|e[i]]},t}(),FU=8,VU=12,HU=13,WU=14,XU=16,ZU={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},qU=["black","blue","green","cyan","red","magenta","yellow","white"],JU=function(){function t(){this.Pot=void 0,this.Yot=void 0,this.Got=void 0,this.Pot=[],this.Yot=null,this.Got=0}var n=t.prototype;return n.Fot=function(t){if(t.Ao===nj.nX){var n=63&t.ps;return this.Got=2*n-1,void(this.Yot=[])}if(this.Yot&&(this.Got>0&&(this.Yot.push(t),this.Got--),0===this.Got)){var i=new KU(this.Yot);this.Pot.push(i),this.Yot=null,this.Got=0}},n.Vot=function(){return this.Pot},n.Hot=function(){this.Pot=[]},n.ph=function(){this.Pot=[],this.Yot=[],this.Got=0},t}(),KU=function(){function t(t){this.Wot=void 0,this.Xot=void 0,this.Wot=0,this.Xot=t}var i=t.prototype;return i.Zot=function(){return this.Wot<this.Xot.length},i.qot=function(){return this.Wot},i.kot=function(){if(!this.Zot())throw new Uo(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Xot[this.Wot++]},i.$M=function(t){if(this.Wot+t>this.Xot.length)throw new Uo(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Wot+=t},t}(),$U=function(){function t(){this.Jot=void 0,this.Kot=void 0,this.$ot=void 0,this.tht=void 0,this.nht=void 0,this.iht=void 0,this.eht=void 0,this.rht=void 0,this.sht=!1,this.Jot=[],this.Kot=[],this.$ot=new JU,this.tht=0,this.nht=cr({CC1:new OU(0,0),CC2:new OU(0,1),CC3:new OU(1,0),CC4:new OU(1,1)}),this.iht=0,this.eht=0,this.rht=hr(),this.Jl()}var i=t.prototype;return i.ph=function(){this.tht=0,this.Jot=[],this.Kot=[],this.$ot.ph(),this.Jl(),this.rht.forEach(function(t){t.ph()})},i.Jl=function(){this.iht=0,this.eht=0,this.nht.forEach(function(t){t.Jl()})},i.J6=function(t,n){if(t.bZ){var i=t.LZ,e=t.SZ,r=t.Ao;r===nj.KW||r===nj.$W?this.Jot.push({m7:n,Ao:r,Nut:i,out:e,uht:this.Jot.length}):this.sht&&(this.Kot.push({m7:n,Ao:r,ps:i,uht:this.Kot.length}),this.Kot.push({m7:n,Ao:nj.tX,ps:e,uht:this.Kot.length}))}},i.OL=function(){var t=[];Zr(this.Jot,function(t,n){return t.m7-n.m7||t.uht-n.uht}),Zr(this.Kot,function(t,n){return t.m7-n.m7||t.uht-n.uht});for(var n=0,i=this.Jot;n<i.length;n++){var e=i[n],r=this.oht(e);r&&t.push(r)}for(var s=0,u=this.Kot;s<u.length;s++){var o=u[s];this.$ot.Fot(o)}for(var h=this.$ot.Vot(),c=0;c<h.length;c++){var a=h[c],f=this.hht(a);t.push.apply(t,f)}return this.$ot.Hot(),this.Jot=[],this.Kot=[],t},i.oht=function(t){var n=t.Ao;if(OU.Sut(t.Nut)){var i=t.Nut>>3&1;0===n?this.iht=i:this.eht=i}var e="CC"+(n<<1|(n?this.eht:this.iht)+1),r=this.nht.get(e);return 255===t.Nut&&255===t.out||!t.Nut&&!t.out||!this.cht(t.Nut)||!this.cht(t.out)?(++this.tht>=45&&this.Jl(),null):(this.tht=0,t.Nut&=127,t.out&=127,t.Nut||t.out?OU.Sut(t.Nut)?r.mut(t):r.Mut(t.m7,t.Nut,t.out):null)},i.hht=function(t){var i=[];try{for(;t.Zot();){var e=t.kot().ps,r=(224&e)>>5,s=31&e;if(7===r&&0!==s)r=63&t.kot().ps;if(0!==r){if(!this.rht.has(r)){var u=new GU(r);this.rht.set(r,u)}for(var o=this.rht.get(r),h=t.qot();t.qot()-h<s;){var c=o.Mot(t);c&&i.push(c)}}}}catch(t){if(!(t instanceof Uo&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.cht=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),tB=function(t){function n(n){var i;return(i=t.call(this)||this).X0=void 0,i.aht=[],i.X0=n,i}U(n,t);var i=n.prototype;return i.fht=function(t,n,i){var e=this.vht(t),r=this.dht(e);this.ght(r,n,i),this.OL()},i.vht=function(t){if(0===t.length)return[];for(var n=t[0].x7,i=this.Aht(t[0]),e=[],r=0;r<t.length;r++){var s=t[r];n!==s.x7&&(n=s.x7,i=this.Aht(s)),e.push(sr({},s,{gst:s.P5.mw(i)}))}return e},i.Aht=function(t){var n=this.X0.l5(t.x7,t.P5),i=n.Cy(t.P5);return WA(n,t.P5).Cy(i)},i.dht=function(t){var n,i,e,r,s,u=t.slice().sort(mU),o=this.aht;if(o.length)if(u.length){var h=1/u[0].x7.W0,c=u[0].gst,a=o[0].gst,f=o[o.length-1].gst,v=(r=o[0].x7,s=u[0].x7,r.o0===s.o0);if(f.Cy(c).Ey(zA.D_(2.5*h))&&v)n=o.concat(u).sort(mU);else if(c.Dy(a)){for(var d=0;d<o.length&&o[d].gst.Ey(c);)d++;for(var l=!1,g=!1,A=d,w=0;A<o.length&&w<u.length;A++,w++)i=o[A],e=u[w],i.P5.hy(e.P5)&&i.Ao===e.Ao&&i.LZ===e.SZ?l=!0:g=!0;var y=l&&!g,_=l&&g;!l&&g?n=o.concat(u).sort(mU):y?n=o.slice(0,d).concat(u):(n=u,_&&this.Jl())}else n=u,this.Jl()}else n=o;else n=u;return n},i.ght=function(t,n,i){if(0!==t.length){for(var e=t[0],r=n.Cy(e.gst),s=WA(n,e.gst).Cy(r),u=n.mw(s),o=kU.__(u.l_),h=0;h<t.length;h+=1){var c=t[h];if(!i&&u.Cy(c.gst).Ey(o))return void(this.aht=t.slice(h));var a=this.X0.l5(c.x7,c.P5);this.IZ(c,a.my())}this.aht=[]}},z(n,[{key:"_m",get:function(){return 4}}]),n}(function(t){function n(){var n;return(n=t.call(this)||this).wht=void 0,n.wht=new $U,n}U(n,t);var i=n.prototype;return i.IZ=function(t,n){this.wht.J6(t,n)},i.OL=function(){for(var t=this.wht.OL(),n=0;n<t.length;n++){var i=t[n];this.Zo(new Cj(i.ZX,i.Pw))}},i.Jl=function(){this.wht.ph()},i.nd=function(){this.$o(),this.wht.ph()},n}(Cs)),nB=function(t){function n(n,i,e,r,s,u,o,h,c,a){var f;return(f=t.call(this)||this).yht=!1,f._ht=!1,f.o8=void 0,f.x4=void 0,f.Mht=void 0,f.Brt=void 0,f.kht=void 0,f.Pit=void 0,f.uc=void 0,f.xp=void 0,f.mht=void 0,f.pht=!1,f.Nht=void 0,f.Dht=void 0,f.Tht=!1,f.Iht=!1,f.bht=null,f.hE=void 0,f.o1=void 0,f.Eht=void 0,f.Lht=null,f.Gw=-1,f.Sht=null,f.jht=!1,f.Cht=!1,f.Oht=1/0,f.xht=void 0,f.zht=null,f.Rht=0,f.Uht=void 0,f.Xo=function(t){f.dispatchEvent(t)},f.Bht=function(){!f.pht&&!f.Tht&&f.Qht&&f.yht&&(f.Tht=f.Pht("R$",f.Nht,function(){f.Tht=!1}))},f.Yht=function(){!f.pht&&!f.Iht&&f.Ght&&f._ht&&(f.Iht=f.Pht("U$",f.Dht,function(){f.Iht=!1}))},f.Fht=function(t){return f.Vht()},f.Hht=function(t){if(t.Vk===f.Vk){var n=t.x7,i=n.C6;i.S5&&f.Wht(i.S5,n.info),i.R5&&f.Xht(i.R5,n.info),f.Vht(f.o8.l8,!0)}},f.e4=function(t){var n=t;f.Zht(n.V0,n.o0)},f.qht=function(t){if(1===t.ZX){if(f.Lht)for(var n=0;n<f.Lht._m;n++){var i="CC"+(n+1);f.x4.E1(i,t.Pw.Yw,t.Pw.Gw)}f.x4.b1(t.Pw)}},f.hE=c,f.x4=i,f.Mht=e,f.Brt=r,f.kht=s,f.Pit=u,f.uc=o,f.o8=a,f.xp=new $R(o),f.mht=f.Jht(i),r.Xl(n,f.xp,f.Pit),f.Nht=new PR(u,f.xp),f.Dht=new PR(u,f.xp),f.Lht=f.Kht(f.xp),f.Uht=new wU(n,f.xp,f.mht,r),r.addEventListener("O7",f.Hht),f.xp.addEventListener("vh",f.Xo),i.addEventListener("G1",f.e4),f}U(n,t);var i=n.prototype;return i.Pht=function(t,n,i){var e=this,r=this.Pit.w8,s=5*this.Pit.vA,u=this.$ht(),o="audio"===this.Vk?[this.tct]:this.mht.x$,h=n.eet(),c=h[0],a=h[1],f=this.Brt.ott(this.Vk,t,this.xp,o,c,a||void 0,r,s,u);return f&&!f.length&&f.W7?(this.Pit.nct("R$"===t,"U$"===t),!1):!(!f||!f.length)&&(this.kht.Htt(this.Vk,this.x4,f,f.X7,f.ett,f.W7,function(t,r){if(i(),t)e.dispatchEvent({type:"vh",vh:t});else{var s=r;n.Xit(s).then(function(){return e.dispatchEvent("F4")}).catch(function(t){0})}}),!0)},i.ict=function(){this.kht.Po(this.Vk),this.Tht=!1,this.Iht=!1},i.ect=function(){var t=this.Pit.w8,n=this.Nht.$it(t)||this.Dht.$it(t);!n||this.bht&&this.bht.lK===n.lK||(this.Vht(this.o8.l8),this.bht=n,this.dispatchEvent({type:"rct",Qp:this.bht.Lh.O6}))},i.sct=function(){this.uct()},i.hct=function(){this.sct()},i.cct=function(){this.Vht(this.o8.l8)},i.act=function(t,n){this.Nht.$it(t)||this.Dht.$it(t)||(this.bht=null)},i.fct=function(t){var n=!1;this.Nht.iet().pw(t)||(this.Bht(),n=!0),this.Dht.iet().pw(t)||(this.Yht(),n=!0),n&&this.Vht(this.o8.l8,!0)},i.vct=function(){this.Nht.ph()},i.dct=function(){this.Dht.ph()},i.$ht=function(){return 0===this.Nht.$l+this.Dht.$l?0:"Y7"===this.uc.G7?0:1*this.Brt.g8},i.uct=function(){this.Bht(),this.Yht()},i.L4=function(t){return-1!==this.mht.x$.indexOf(t)},i.lct=function(t){t&&this.L4(t)&&(this.J0(t),this.P1(t))},i.J0=function(t){this.xp.Jet(t,t.RK)},i.P1=function(t){var n=this;if(t&&t.RK&&this.uc.hlsDateRange){this.x4.P1(t.RK.dateRanges,function(i){return n.xp.art(t,i).my()})}},i.gct=function(t){this.L4(t.o0)&&this.xp.Net(t.o0,t)},i.Act=function(t){var n,i,e,r=t,s=this.Nht.$it(r)||this.Dht.$it(r);if(s)i=s.Lh.quality,e=s.lK,n=s.ab;else{var u=this.tct;if(!u)return null;var o=this.xp.ntt(u,zA.D_(r));if(!o)return null;i=u,e=o.$k.lK,n=o.crt.my()}var h=this.xp.hrt(i,e);if(!h)return null;var c=r-n;return new Date(h.getTime()+1e3*c)},i.art=function(t){var n=this.tct;return this.xp.art(n,t).my()},i.Vht=function(t,n){var i=this,e=this.wct(),r=this.Pit.w8;t&&(this.Gw=r+t,n&&(this.zht=null,this.Rht=0)),this.wct()||r>=this.Gw?this.yct(e):this.Sht||this.jht||!this.hg||(this._ct(),this.Mct(function(t){return i.kct(r,i.Pit.vA,t)}))},i.mct=function(t){t&&this.Mht.removeEventListener(t.uri,this.Fht)},i.pct=function(t){t&&this.Mht.addEventListener(t.uri,this.Fht)},i.wct=function(){return-1===this.Gw},n.Nct=function(t){return OC.yA(t.o0.M0)&&iN()-t.Ok>2e3*t.o0.RK.metadata.xnt},i.Mct=function(){var t=N.coroutine(rr.mark(function t(n){var i,e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=!1,this.Sht=new gs,e=this.Sht,t.prev=3,t.next=6,n(e.Fo);case 6:i=t.sent,ys(e.Fo),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),Ms(t.t0);case 13:return t.prev=13,this.Sht===e&&(this.Sht=null),t.finish(13);case 16:i&&this.Vht();case 17:case"end":return t.stop()}},t,this,[[3,10,13,16]])}));return function(n){return t.apply(this,arguments)}}(),i._ct=function(){this.Sht&&(this.Sht.Po(),this.Sht=null)},i.Dct=function(){var t=N.coroutine(rr.mark(function t(n,i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.Tct=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!oB.Nct(n)){t.next=2;break}return t.abrupt("return",this.dispatchEvent("Ict"));case 2:if(i=l.min(16e3,1e3*l.pow(2,this.Rht)),this.Rht+=1,this._ct(),!(this.Rht>2)){t.next=8;break}return n.o0.c0(!1),t.abrupt("return",n.o0.d0());case 8:this.Mct(function(t){return Es(i,t).then(function(){return!0})});case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Wht=function(t,n){var i,e;e=tO((i=t).j5,4),i.I1="0000.0000.0000."+e,function(t){var n=tO(t.C5,4),i=tO(t.O5,3),e=tO(t.x5,2*t.O5);t.Mg=(n+i+e).toUpperCase()}(t),YR(n,this.xp,t),this.x4.T1(t,this.xp)},i.Xht=function(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];i.push(sr({},r,{x7:n}))}this.Lht&&this.Lht.fht(i,n.q9,n.B6)},i.bct=function(t){this.xht&&this.xht.x7===t&&this.Vht()},i.Ect=function(t,n){if(n){if(n.aborted)return;if(this.zht===t)return this.Tct(t)}else t.o0.c0(!0);return this.Vht()},i.Lct=function(t){var n=GC(t.o0.V0);n&&this.dispatchEvent(new _U(zC(t.uri),t.o0.bandwidth||0,t.lK,t.o0.lK,n))},i.Sct=function(t,n){var i=this.xht&&this.xht.Ev.c3||200,e=GC(t.o0.V0);e&&this.dispatchEvent(new MU(zC(t.uri),t.o0.bandwidth||0,t.lK,t.o0.lK,e,i,n&&n.h3.b3||0))},i.yct=function(t){this.Gw=-1,t||this.dispatchEvent("jct")},i.Cct=function(t){this.Cht=!0,this.yct(t),this.dispatchEvent("c2")},i.kct=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r,s,u,o,h,c,a=this;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ys(e),r=this.tct,s=this.wct(),this.mct(r||void 0),!(n>=this.Gw)){t.next=7;break}return this.yct(s),t.abrupt("return",!1);case 7:return t.next=9,this.Uht.fst(n,this.Gw,i,r||void 0,this.$ht(),this.xht&&this.xht.Ev,this.xht&&this.xht.x7,this.Oct,this.xct);case 9:if(u=t.sent,pl.Rg(this.Brt.q8/8),ys(e),u.fg!==rU.Rrt){t.next=18;break}return this._ct(),this.dispatchEvent("Ict"),t.abrupt("return",!1);case 18:if(u.fg!==rU.zrt){t.next=29;break}if(u.o0!==r){t.next=24;break}return this.pct(r),t.abrupt("return",!1);case 24:return t.next=26,this.Dct(u.o0,null);case 26:return t.abrupt("return",t.sent);case 27:t.next=33;break;case 29:if(u.fg!==rU.Ltt){t.next=33;break}return this.pct(r||void 0),!OC.yA(r.M0)&&r.RK&&this.Cct(s),t.abrupt("return",!1);case 33:if(o=u.$k,!this.xht||this.xht.x7!==o){t.next=36;break}return t.abrupt("return",!1);case 36:if(o.o0===r){t.next=40;break}return t.next=39,this.Dct(o.o0,o);case 39:return t.abrupt("return",t.sent);case 40:if(this.xht&&(this.xht.Ev.Po(),this.xht=void 0),!(u.Yw>this.Oht)){t.next=46;break}return this.Cct(s),t.abrupt("return",!1);case 46:if(!(u.Yw>this.Gw)){t.next=49;break}return this.yct(s),t.abrupt("return",!1);case 49:if(this.Cht=!1,this.xht=void 0,o!==this.zht&&(this.Rht=0),this.zht=o,this.dispatchEvent("h2"),this.Lct(o),!o.Lnt){t.next=59;break}return t.next=58,this.Brt.j7(this.Vk,o.o0,o.Lnt);case 58:h=t.sent;case 59:return(c=this.Brt.C7(this.Vk,o,h,function(t,n){a._ct(),a.Sct(o,n),a.xht=void 0,e&&e.Lo||a.Ect(o,t)}))&&(this.xht={x7:o,Ev:c},c.addEventListener("F4",function(){e&&e.Lo||a.bct(o)})),t.abrupt("return",!1);case 62:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.zct=function(t){this.Vht(t||this.o8.l8,!0)},i.Rct=function(){var t=this.wct();this.Gw=-1,this.xht&&this.xht.Ev.Po(),this.xht=void 0,this.mct(),this.Cht=!1,this.zht=null,this.Rht=0,this._ct(),this.yct(t),this.Lht=this.Kht(this.xp)},i.Uct=function(){this.jht=!0,this.mct(),this._ct()},i.Bct=function(){this.jht=!1,this.Vht()},i.Qct=function(){this.pht=!0},i.Pct=function(){this.pht=!1,this.uct()},i.nd=function(){this.$o(),this.Rct(),this.ict(),this.Qht=null,this.Ght=null,this.Nht.nd(),this.Dht.nd(),this.kht.Po(this.Vk),this.xp.nd(),this.x4.removeEventListener("G1",this.e4),this.Brt.removeEventListener("O7",this.Hht),this.mht=null,this.Yct()},i.Jl=function(){this.bht=null,this.o1=void 0,this.Eht=void 0,this.Yct(),this.Lht=this.Kht(this.xp)},i.Kht=function(t){var n=new tB(t);return n.qo("qX",this.qht),n},i.Yct=function(){this.Lht&&(this.Lht.th("qX",this.qht),this.Lht.nd(),this.Lht=null)},z(n,[{key:"uA",get:function(){return this.Pit.w8}},{key:"Gct",get:function(){return this.yht}},{key:"Vk",get:function(){return this.Fct()}},{key:"m0",get:function(){return this.Vct()}},{key:"Oct",get:function(){return this.Hct()}},{key:"xct",get:function(){return this.Wct()}},{key:"Qht",get:function(){return this.Nht.Kit},set:function(t){var n=this.Nht.Kit;n&&n.removeEventListener("updateend",this.Bht),this.Nht.Kit=t,t&&(t.addEventListener("updateend",this.Bht),this.Bht())}},{key:"Ght",get:function(){return this.Dht.Kit},set:function(t){var n=this.Dht.Kit;n&&n.removeEventListener("updateend",this.Yht),this.Dht.Kit=t,t&&(t.addEventListener("updateend",this.Yht),this.Yht())}},{key:"jct",get:function(){return this.wct()}},{key:"c2",get:function(){return this.Cht}},{key:"Xct",get:function(){return this.Oht},set:function(t){this.Oht=t}},{key:"tct",get:function(){return this.Zct()}},{key:"qct",get:function(){return this.Jct()},set:function(t){this.Kct(t)}},{key:"hg",get:function(){return this.$ct()}},{key:"Aw",get:function(){return this.tat()}}]),n}(lC);function iB(t,n){if(t.bandwidth!==n.bandwidth)return!1;if(t.resolution){if(!n.resolution)return!1;if(t.resolution.width!==n.resolution.width||t.resolution.height!==n.resolution.height)return!1}else if(n.resolution)return!1;return!0}function eB(t){for(var n=[],i=0;i<t.length;i++){for(var e=t[i],r=!1,s=0;s<n.length;s++){iB(e,n[s])&&(r=!0)}r||n.push(e)}return n}function rB(t){var n=t&&t.uri||"",i=n.indexOf("?"),e=n.indexOf("#"),r=n.length;-1!==e&&(r=e),-1!==i&&(r=i);var s=n.indexOf(".aac",r-4);return 0<=s&&s<r}var sB=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this)||this).x4=void 0,o.xp=void 0,o.Brt=void 0,o.uc=void 0,o.nat=void 0,o.iat=void 0,o.eat=null,o.rat=null,o.sat=null,o.uat=null,o.oat=null,o.hat=null,o.aat=null,o.fat=!1,o.Ew=!0,o.W$=!0,o.vat=null,o.hE=void 0,o.dat=function(){o.vat&&o.vat.disabled&&o.lat(o.uc.initialRendition||"default"),o.gat(!0)},o.Aat=function(){var t=o.x4.q1.z$.some(function(t){return t.Aw});o.wat(t)},o.yat=function(t){"variant"===t.Vk&&(o.Brt.removeEventListener("Q7",o.yat),o.vat&&(o.vat=null,o.gat(!1)))},o.hE=u,o.x4=n,o.xp=i,o.Brt=e,o.uc=r,o.nat=r._at||[],o.iat=new jR(r,bO.rs.O2,s),o.eat=null,o.Brt.addEventListener("Q7",o.yat),o.Mat(),o.kat(),o.lat(r.initialRendition||"default"),o}U(n,t);var i=n.prototype;return i.mat=function(t,n){var i=QC(t);if(i&&!i.disabled)return i;var e=this.pat(t,null);switch(e.length?"first"!==n&&(n="high"):e=t,n){case"first":return e.reduce(function(t,n){return t.lK<=n.lK?t:n});case"high":var r=eB(e);return r[r.length-1];case"low":default:return eB(t)[0]}},i.Nat=function(t,n){var i=this.Dat||this.vat&&[this.vat],e=i&&i.filter(function(n){return os(t,n)});return e&&e.length>0?eB(e):eB(this.pat(t,n))},i.pat=function(t,n){var i=this.uc,e=this.nat,r=this.Tat();return t.filter(function(t){for(var s=0;s<e.length;s++){if(!e[s].Iat(t,n,r,i))return!1}return!0})},i.bat=function(t,n){var i=this.Nat(t,n);return i.length?i[i.length-1]:t[0]},i.Eat=function(t,n){var i=this.Dat;return i&&i.length>0?i.filter(function(n){return os(t,n)}):t},i.Lat=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.uat,r=this.oat,!e||n!==this.hat||i!==this.aat){t.next=4;break}return t.abrupt("return",e);case 4:return s=new gs,u=this.Sat(n,i,s.Fo),e&&r&&r.Po(),this.uat=u,this.oat=s,this.aat=i,t.prev=10,t.next=13,u;case 13:return t.abrupt("return",t.sent);case 14:return t.prev=14,u===this.uat&&(this.uat=null,this.oat=null,this.aat=null),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[10,,14,17]])}));return function(n,i){return t.apply(this,arguments)}}(),i.Sat=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r,s,u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.x4,s=this.xp,u=r.Z1,t.next=5,this.jat(n,e);case 5:if(t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:if(!i){t.next=14;break}if(o=s.Ert(u,i.lK),h=s.ntt(n,o),OC.yA(u.M0)||h){t.next=14;break}return n.disabled="isUnsynced",t.abrupt("return",!1);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.jat=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.rat,r=this.sat,!e||n!==this.hat){t.next=4;break}return t.abrupt("return",e);case 4:return(s=new gs).Yo(i),u=this.Cat(n,s.Fo),e&&r&&r.Po(),this.rat=u,this.sat=s,this.hat=n,t.prev=11,t.next=14,u;case 14:return t.abrupt("return",t.sent);case 15:return t.prev=15,u===this.rat&&(this.rat=null,this.sat=null,this.hat=null),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[11,,15,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i.Cat=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.x4,r=e.Z1,!this.hg||r!==n){t.next=4;break}return t.abrupt("return",!1);case 4:if(this.Oat(n)){t.next=8;break}s=n.RK,t.next=22;break;case 8:return t.prev=8,t.next=11,this.iat.qh(n.uri,{});case 11:u=t.sent,ys(i),s=u.mA,t.next=21;break;case 16:return t.prev=16,t.t0=t.catch(8),n.s0(!1),n.d0(),t.abrupt("return",!1);case 21:n.n0(s,r);case 22:if(!rB(s.fragments[0])){t.next=25;break}return n.disabled="isAAC",t.abrupt("return",!1);case 25:return t.abrupt("return",!0);case 26:case"end":return t.stop()}},t,this,[[8,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.Oat=function(t){var n=t.RK;return!n||!!n.live&&(!t.xK.$l||t.xK.yK(t.xK.$l-1).Ok+1e3*n.targetDuration<iN())},i.Sw=function(t){t?this.Ew||(this.Ew=!0,this.dispatchEvent("hg")):this.Ew&&(this.Ew=!1)},i.wat=function(t){t&&!this.W$?(this.W$=!0,this.dispatchEvent("Aw")):!t&&this.W$&&(this.W$=!1,this.dispatchEvent("hd"))},i.gat=function(t){var n=this,i=this.x4,e=i.Z1,r=i.q1.z$,s=this.Eat(r,e),u=this.bat(s,e);u?this.Lat(u,null).then(function(e){e&&(i.L1(u,t),n.Sw(!0))}):this.Sw(!1)},i.xat=function(){this.vat=null,this.gat(!0)},i.kat=function(){this.x4.q1.addEventListener("j$",this.Aat)},i.zat=function(){this.x4.q1.removeEventListener("j$",this.Aat)},i.Mat=function(){this.x4.q1.addEventListener("L$",this.dat)},i.Rat=function(){this.x4.q1.removeEventListener("L$",this.dat)},i.lat=function(t){var n=this.x4,i=n.q1.z$;if(Boolean(n.Z1&&!n.Z1.disabled))this.vat=null;else{if(i&&i.length){var e;switch(this.hE.OC.type){case tD.PERFORMANCE:e="low";break;case tD.QUALITY:e="high";break;case tD.BANDWIDTH:e=t}this.vat=this.mat(i,e),this.fat=!0}var r=this.Eat(i,null),s=this.bat(r,null);s&&(n.Z1=s)}},i.Tat=function(){return this.fat?{q8:this.Brt.q8}:{q8:this.hE.VC}},i.Po=function(){this.uat&&this.oat&&(this.oat.Po(),this.uat=null,this.oat=null,this.aat=null),this.rat&&this.sat&&(this.sat.Po(),this.rat=null,this.sat=null,this.hat=null)},i.nd=function(){this.Brt.removeEventListener("Q7",this.yat),this.Rat(),this.zat(),this.Po(),this.eat=null,this.vat=null},i.Uat=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.x4,n){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,this.Lat(n,i);case 5:return(r=t.sent)&&(e.Z1=n),t.abrupt("return",r);case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),z(n,[{key:"hg",get:function(){return this.Ew}},{key:"Aw",get:function(){return this.W$}},{key:"xct",get:function(){var t=this.x4,n=t.Z1,i=this.Eat(t.q1.z$,n);return this.Nat(i,n)}},{key:"Oct",get:function(){return this.Eat(this.x4.q1.z$,this.x4.Z1)}},{key:"Dat",get:function(){return this.eat},set:function(t){this.eat=t,this.xat()}}]),n}(lC),uB=function(){function t(t,n){this.Nl=void 0,this.xp=void 0,this.Bat=-1,this.Nl=t,this.xp=n}return t.prototype.Kh=function(t){for(var n=t.xK,i=n.wK(this.Bat),e=i<0?0:i+1;e<n.$l;e++){var r=n.yK(e);if(r.lK>this.Bat){var s=this.xp.a5(r),u=this.xp.f5(r,s),o=new AA(s.my(),u.my(),[].concat(r.g0),!1,r.lK.toString());this.Nl.oN(o),this.Bat=r.lK}}},t}(),oB=function(t){function n(n,i,e,r,s,u,o,h,c){var a;return(a=t.call(this,jC.m$,n,i,e,r,s,u,o,h,c)||this).Qat=void 0,a.Pat=null,a.Yat=null,a.Qat=new sB(n,a.xp,e,u,o,h),a.Qat.addEventListener("hg",a.Xo),a.Qat.addEventListener("Aw",a.Xo),a.Qat.addEventListener("hd",a.Xo),u.manifestMetadataTrack&&(a.Pat=n.D1("",a.xp,""),a.Yat=new uB(a.Pat,a.xp)),a.yht=!a.x4.U1||!a.x4.U1.uri,a._ht=Boolean(a.x4.Z1),a}U(n,t);var i=n.prototype;return i.Zht=function(t,n){if("R$"===t){var i=n?n.uri:void 0;this.yht=!i}},i.Fct=function(){return jC.m$},i.Vct=function(){return this.tct&&this.tct.m0||!1},i.Zct=function(){return this.x4.Z1},i.Hct=function(){return this.Qat.Oct},i.Wct=function(){return this.Qat.xct},i.Jct=function(){var t=this.Qat.Dat;return t&&t.map(function(t){return t.cg})},i.Kct=function(t){if(t&&t.length>0){var n=this.mht.x$.filter(function(n){return-1!==t.indexOf(n.cg)});if(!(n.length>0))return void 0;this.Qat.Dat=n}else this.Qat.Dat=null},i.$ct=function(){return this.Qat.hg},i.tat=function(){return this.Qat.Aw},i.Dct=function(){var n=N.coroutine(rr.mark(function n(i,e){return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.Qat.Uat(i,e);case 2:return n.abrupt("return",t.prototype.Dct.call(this,i,e));case 3:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.Rct=function(){t.prototype.Rct.call(this),this.Qat.Po()},i.J0=function(n){t.prototype.J0.call(this,n),this.Yat&&this.Yat.Kh(n)},i.nd=function(){t.prototype.nd.call(this),this.Qat.nd(),this.Qat.removeEventListener("Aw",this.Xo),this.Qat.removeEventListener("hd",this.Xo)},i.Jht=function(t){return t.q1},i.Gat=function(){var t=this.uA,n=this.Gct?this.Nht.tet(t):void 0,i=n?n.o0:void 0,e=this.Dht.tet(t),r=e?e.o0:void 0,s=this.o1;this.o1=i;var u=this.Eht;return this.Eht=r,!s&&i?{F1:s,Fat:i}:!u&&r?{F1:u,Fat:r}:u&&r&&u.cg!==r.cg?{F1:u,Fat:r}:void 0},n}(nB),hB=function(t){function n(n,i,e,r,s,u,o,h,c){var a;return(a=t.call(this,jC.Vv,n,i,e,r,s,u,o,h,c)||this).yht=!!a.x4.U1&&!!a.x4.U1.uri,a._ht=!1,a}U(n,t);var i=n.prototype;return i.Zht=function(t,n){if("R$"===t){var i=n?n.uri:void 0;this.yht=!!i}},i.Fct=function(){return jC.Vv},i.Vct=function(){return this.tct&&this.tct.m0||!1},i.Zct=function(){return this.x4.U1},i.Hct=function(){var t=this.Zct();return t?[t]:[]},i.Wct=function(){return this.Hct()},i.Jht=function(t){return t.Q0},i.Jct=function(){return null},i.Kct=function(t){},i.$ct=function(){return!0},i.tat=function(){return!0},i.Gat=function(){var t=this.Gct?this.Nht.tet(this.uA):void 0,n=t?t.o0:void 0,i=this.o1;return this.o1=n||void 0,!i&&n?{F1:i,Fat:n}:i&&n&&i.cg!==n.cg?{F1:i,Fat:n}:void 0},n}(nB),cB=function(){function t(t,i,e,r,s,u){var o=this;this.Vat=!1,this.IK=void 0,this.Hat=void 0,this.f8=void 0,this.Wat=void 0,this.o8=void 0,this.xR=am.Xb(),this.Xat=[],this.Zat=void 0,this.qat=[],this.q0=function(){return o.Jat()},this.Kat=function(t){t.mA.live||o.Hat.removeEventListener(o.IK.o$,o.Kat),o.IK.n0(t.mA)},this.$at=function(){o.IK.$0.kg===cl.Ag?o.Vat&&o.tft():o.Vat||o.nft()},this.Tc=function(t){if(!ws(t)){var i=t instanceof _y?t:new _y(n.ErrorCode.SUBTITLE_LOAD_ERROR,t.message,o.IK.o$,0,t);o.IK.$0.Ng=Kg.ERROR,o.IK.$0.Zo(new jy(i))}},this.IK=t,this.Hat=i,this.f8=e,this.o8=u,this.Wat=new xO(r,s),this.Zat=new gs,t.$0.qo(Cd.xl,this.$at),t.xp&&t.xp.addEventListener("n1",this.q0),this.$at()}var i=t.prototype;return i.nft=function(){this.Vat||this.IK.$0.kg===cl.Ag||(this.Hat.removeEventListener(this.IK.o$,this.Kat),this.Hat.addEventListener(this.IK.o$,this.Kat),this.Hat.Nit(this.IK.o$),this.Hat.Dit(this.IK.o$),this.Vat=!0,this.ift(this.Zat.Fo).catch(this.Tc))},i.ift=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ys(n),t.next=4,this.eft(n);case 4:t.next=0;break;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.eft=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r,s,u,o,h,c,a,f,v,d,l,g,A,w;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.f8.w8,e=this.o8.l8,r=new am([i,i+e]),(s=r.Nb(this.xR.Db())).$l){t.next=9;break}return t.next=8,Es(1e3,n);case 8:return t.abrupt("return");case 9:if(u=s.ab(0),o=this.rft(u)){t.next=15;break}return t.next=14,Id(this.IK,"u0",n);case 14:return t.abrupt("return");case 15:return h=o.$k,c=o.crt.my(),a=c+h.duration,t.prev=18,t.next=21,this.Wat.U3("$0",h.uri,sh.cs,Rf.Cv,Uf.cs);case 21:f=t.sent,t.next=30;break;case 24:return t.prev=24,t.t0=t.catch(18),_s(t.t0),t.next=29,Es(1e3,n);case 29:return t.abrupt("return");case 30:t.prev=30,v=cw(f),t.next=37;break;case 34:throw t.prev=34,t.t1=t.catch(30),Ly($g.WEBVTT,h.uri.toString(),0,t.t1);case 37:for(d=v.X_||{Z_:zA.Yy,q_:zA.Yy},l=this.IK.xK._K(h.lK),this.xR=this.xR.Lb(new am([c,a])),this.Xat.push(h.lK),g=0,A=v.Dg;g<A.length;g++)w=A[g],this.qat.push({x7:l,crt:aB(zA.D_(w.Yw),d.q_,d.Z_),sft:aB(zA.D_(w.Gw),d.q_,d.Z_),Pw:w});this.Jat();case 43:case"end":return t.stop()}},t,this,[[18,24],[30,34]])}));return function(n){return t.apply(this,arguments)}}(),i.Jat=function(){var t=this.IK.xp;if(this.qat.length&&t){for(var n=[],i=0,e=this.qat;i<e.length;i++){var r=e[i],s=t.l5(r.x7,r.crt);if(s.Oy())n.push(r);else{var u=t.l5(r.x7,r.sft),o=new yA(s.my(),u.my(),r.Pw.Fw,!1,r.Pw.cg);this.IK.$0.oN(o)}}this.qat=n,this.IK.$0.JY(this.f8.w8,!0)}},i.rft=function(t){var n=this.IK.xp,i=this.IK.xK;if(n.irt)for(var e=n.drt.my(),r=i.$l-1;r>=0;r-=1){var s=i.yK(r),u=e-s.duration;if(new am([u,e]).NI(t,.5)){var o={$k:s,crt:zA.D_(u)};return this.uft(i,o,r)}e=u}else for(var h=0,c=0;c<i.$l;c+=1){var a=i.yK(c),f=h+a.duration;if(new am([h,f]).NI(t,.5)){var v={$k:a,crt:zA.D_(h)};return this.uft(i,v,c)}h=f}},i.uft=function(t,n,i){var e=n.$k;if(-1===this.Xat.indexOf(e.lK))return n;for(var r=n.crt.my()+e.duration,s=i+1;s<t.$l;s+=1){var u=t.yK(s);if(-1===this.Xat.indexOf(u.lK))return{$k:u,crt:zA.D_(r)};r+=u.duration}},i.tft=function(){this.Vat=!1,this.Hat.pit(this.IK.o$),this.Zat.Po(),this.Zat=new gs},i.Jl=function(){this.tft(),this.xR=am.Xb(),this.Xat.length=0,this.IK.$0.th(Cd.xl,this.$at),this.IK.xp&&this.IK.xp.removeEventListener("n1",this.q0),this.Hat.removeEventListener(this.IK.o$,this.Kat)},t}();function aB(t,n,i){return HA(i,t.Cy(n))}var fB=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).uc=void 0,s.J4=void 0,s.Brt=void 0,s.kht=void 0,s.x4=void 0,s.Mht=void 0,s.oft=void 0,s.hft=NaN,s.cft=!1,s.aft=1/0,s.fft=1/0,s.vft=null,s.dft=!0,s.lft=!0,s.Pit=null,s.iN=void 0,s.hE=void 0,s.gft=void 0,s.Aft=void 0,s.wft=[],s.AY=function(){var t=s.x4.oA;w(t)||s.hft===t||(s.hft=t,s.dispatchEvent("durationchange"))},s.yft=function(){s.G4&&(s.x4.removeEventListener("renditionUpdated",s.yft),s.dispatchEvent("G4"))},s._ft=function(){s.jct&&s.dispatchEvent("jct")},s.Mft=function(){s.c2&&s.dispatchEvent("c2")},s.Xo=function(t){s.dispatchEvent(t)},s.kft=function(t){var n=s.x4.j1(t.Mit);n?n instanceof XC&&(n.s0(!1),n.d0()):s.dispatchEvent(t)},s.mft=function(t){s.x4.mA||(t.vh.code===AC.tK?(s.vft||(s.vft=o(s.pft,o_)),s.lft=!1,s.h0()):s.dispatchEvent({type:"vh",vh:t.vh}))},s.Nft=function(t){s.Dft(),s.Tft(t.mA),s.Ift(),s.x4.removeEventListener("z1",s.AY),s.x4.addEventListener("z1",s.AY),s.AY(),s.cft||(s.cft=!0,s.dispatchEvent("loadedmetadata")),s.yft(),s.lft=!0,s.h0()},s.pft=function(){s.Dft();var t=s.a2;t&&(s.Mht.Jl(),s.Mht.a2=t,s.Mht.ab())},s.bft=function(){s.Mht.Tit()},s.Eft=function(){s.Lft.forEach(function(t){return t.Pct()})},s.Sft=function(t){s.jft.forEach(function(n){return n.lct(t.o0)})},s.Cft=function(t){s.Lft.forEach(function(n){return n.gct(t.B9)}),s.oft.xit(t.B9,s.Lft.map(function(t){return t.xp}))},s.h0=function(){var t=s.dft,n=s.tat();s.dft=n,n&&!t?s.dispatchEvent("Aw"):!n&&t&&s.dispatchEvent("hd")},s.hE=r,s.uc=n,s.J4=i,s.iN=e,s.Brt=new Lz(n,i,e,sn(s)),s.kht=new vR(n),s.x4=new qC(n),s.Mht=new OR(e,n),s.oft=new xR,s.Mht.addEventListener("vh",s.kft),s.Mht.addEventListener("_it",s.mft),s.Mht.addEventListener("kit",s.Nft),s.Brt.addEventListener("O7",s.Xo),s.Brt.addEventListener("vh",s.Xo),s.x4.addEventListener("G1",s.Xo),s.x4.addEventListener("u0",s.Sft),s.x4.addEventListener("s1",s.Cft),s.x4.addEventListener("V1",s.Xo),s.oft.addEventListener("Lit",s.Xo),s.oft.addEventListener("Lit",s.Eft),s.addEventListener("Aw",s.bft),s}U(n,t);var i=n.prototype;return i.Oft=function(t){t.Xct=this.Xct,t.addEventListener("rct",this.Xo),t.addEventListener("xft",this.Xo),t.addEventListener("vh",this.Xo),t.addEventListener("Ict",this.Xo),t.addEventListener("h2",this.Xo),t.addEventListener("jct",this._ft),t.addEventListener("c2",this.Mft),t.addEventListener("hd",this.h0),t.addEventListener("Aw",this.h0),t.addEventListener("hg",this.Xo),t.addEventListener("F4",this.Xo),t.addEventListener(rh.xa,this.Xo),t.addEventListener(rh.Ra,this.Xo)},i.Ift=function(){this.zft();this.x4.q1.x$;var t=this.x4.Q0.x$;this.gft=new oB(this.x4,this.Mht,this.Brt,this.kht,this.Pit,this.uc,this.iN,this.hE,this),this.Oft(this.gft),t.length&&(this.Aft=new hB(this.x4,this.Mht,this.Brt,this.kht,this.Pit,this.uc,this.iN,this.hE,this),this.Oft(this.Aft));for(var n=this.x4.J1,i=this.gft.xp,e=0;e<n.length;e++){var r=n[e];r.xp=i,this.wft.push(new cB(r,this.Mht,this.Pit,this.iN,this.uc,this))}},i.zft=function(){this.gft&&(this.gft.nd(),this.gft=void 0),this.Aft&&(this.Aft.nd(),this.Aft=void 0),this.wft.forEach(function(t){return t.Jl()}),this.wft.length=0,this.oft.Jl()},i.Rft=function(t){this.Lft.forEach(function(n){return n.zct(t)})},i.Tft=function(t){this.x4.mA=t},i.Uft=function(){this.Mht.ab()},i.Bft=function(t){this.oft.zit(t,this.Lft.map(function(t){return t.xp}))||this.Lft.forEach(function(t){t.ict(),t.Qct()})},i.tft=function(){this.Brt.S7(),this.Lft.forEach(function(t){return t.Rct()})},i.g2=function(){this.Brt.S7(),this.Lft.forEach(function(t){return t.Uct()})},i.v2=function(){this.Lft.forEach(function(t){return t.Bct()})},i.nd=function(){this.$o(),this.Dft(),this.zft(),this.Brt.nd(),this.kht.nd(),this.x4.nd(),this.Mht.Jl(),this.oft.nd()},i.Qft=function(t,n,i,e){var r=this.gft,s=this.Aft;t&&(r.Rct(),this.Brt.ph(r.Vk),r.zct(e)),n&&s&&(s.Rct(),this.Brt.ph(s.Vk),i&&s.zct(e))},i.Pft=function(){if(!this.gft)return $O;var t=this.gft;return Mx(t.xp,this.Brt.D8(t.Vk))},i.mit=function(t,n,i){var e=this,r=n?n.uri:void 0,s=i?i.uri:void 0,u=function t(n){n.mA.live||e.Mht.removeEventListener(s,t),i&&i.n0(n.mA)};s&&(this.Mht.removeEventListener(s,u),this.Mht.addEventListener(s,u)),this.Mht.mit(r,s),this.Mht.Dit(s)},i.Dft=function(){null!==this.vft&&h(this.vft),this.vft=null},i.tat=function(){return!!this.lft&&(!this.gft||this.gft.Aw)},i.M2=function(t){this.gft&&(this.gft.qct=t)},i.Jl=function(){this.jft.forEach(function(t){return t.Jl()}),this.wft.forEach(function(t){return t.Jl()})},z(n,[{key:"Yft",get:function(){return this.gft}},{key:"Gft",get:function(){return this.Aft}},{key:"Lft",get:function(){var t=[];return this.gft&&t.push(this.gft),this.Aft&&this.Aft.Gct&&t.push(this.Aft),t}},{key:"jft",get:function(){return[this.gft,this.Aft].filter(K)}},{key:"l8",get:function(){return Vt(this.hE.SC*this.Brt.g8,1,this.Fft)}},{key:"a2",get:function(){return this.Mht.a2},set:function(t){this.hft=NaN,this.aft=1/0,this.cft=!1,this.dft=!0,this.lft=!0,this.x4.removeEventListener("renditionUpdated",this.yft),this.x4.removeEventListener("z1",this.AY),this.Dft(),this.zft(),this.Brt.ph(),this.kht.Po(),this.x4.nd(),this.x4.addEventListener("renditionUpdated",this.yft),this.Mht.a2=t,this.h0()}},{key:"oA",get:function(){return this.hft}},{key:"irt",get:function(){return this.x4&&OC.yA(this.x4.M0)}},{key:"Aw",get:function(){return this.dft}},{key:"G4",get:function(){var t=this.Lft;return t.length>0&&t.every(function(t){return t.m0})}},{key:"g8",get:function(){return this.Brt.g8},set:function(t){t>0&&(this.Brt.g8=t)}},{key:"jct",get:function(){return this.Lft.every(function(t){return t.jct})}},{key:"c2",get:function(){return this.Lft.length>0&&this.Lft.every(function(t){return t.c2})}},{key:"Fft",get:function(){return this.fft},set:function(t){this.fft=t}},{key:"Xct",get:function(){return this.aft},set:function(t){var n=this;this.aft=t,this.jft.forEach(function(t){return t.Xct=n.aft})}},{key:"_w",get:function(){return this.G4?new KO([{ab:this.vrt,vb:this.drt}]):$O}},{key:"vrt",get:function(){if(!this.G4)return 0;for(var t=-1/0,n=0,i=this.Lft;n<i.length;n++){var e=i[n];t=l.max(t,e.xp.vrt.my())}return t}},{key:"drt",get:function(){if(!this.G4)return 0;for(var t=1/0,n=0,i=this.Lft;n<i.length;n++){var e=i[n];t=l.min(t,e.xp.drt.my())}return t}},{key:"lrt",get:function(){if(!this.G4)return 0;for(var t=1/0,n=0,i=this.Lft;n<i.length;n++){var e=i[n];t=l.min(t,e.xp.lrt.my())}return l.max(t,this.vrt)}},{key:"_2",get:function(){return this.gft&&this.gft.qct||void 0}}]),n}(lC),vB=function(t){function n(n,i){var e;return(e=t.call(this)||this).uc=void 0,e.hft=NaN,e.cft=!1,e.x4=void 0,e.xp=void 0,e.Vft=void 0,e.vft=null,e.dft=!0,e.Pat=null,e.Yat=null,e.Xo=function(t){e.dispatchEvent(t)},e.Tft=function(t){if(e.x4.mA||(e.x4.mA=e.Vft.X1||null),!e.x4.Z1){var n=e.x4.q1.x$[0];n&&(e.x4.Z1=n,e.Vft.Ait(n),e.dispatchEvent({type:"Hft",o0:n}))}t.manifest.isMasterPlaylist||e.x4.Z1.n0(t.manifest),void 0!==t.manifest.duration&&e.hft!==t.manifest.duration&&(e.hft=t.manifest.duration,e.dispatchEvent("durationchange")),e.cft||(e.cft=!0,e.dispatchEvent("loadedmetadata")),e.wat(!0),e.dispatchEvent({type:"git",manifest:t.manifest})},e.mft=function(t){t.vh.code===AC.tK?(e.vft||(e.vft=o(e.pft,o_)),e.wat(!1)):e.dispatchEvent({type:"vh",vh:t.vh})},e.pft=function(){e.Dft();var t=e.a2;t&&e.Vft.ab(t)},e.Dft=function(){h(e.vft),e.vft=null},e.Sft=function(t){var n=t.o0;e.xp.Jet(n,n.RK),e.uc.manifestMetadataTrack&&(e.Yat||(e.Pat=e.x4.D1("",e.xp,""),e.Yat=new uB(e.Pat,e.xp)),e.Yat.Kh(n))},e.uc=n,e.x4=new qC(n,!0),e.xp=new tU(n),e.Vft=new CR(i,e.uc),e.xp.addEventListener("vh",e.Xo),e.Vft.addEventListener("git",e.Tft),e.Vft.addEventListener("vh",function(t){e.x4.mA?(e.vft||(e.vft=o(e.pft,o_)),e.wat(!1)):e.mft(t)}),e.x4.addEventListener("u0",e.Sft),e}U(n,t);var i=n.prototype;return i.Uft=function(){this.x4.mA||this.Vft.ab()},i.Pft=function(){return $O},i.wat=function(t){var n=this.dft;this.dft=t,t&&!n?this.dispatchEvent("Aw"):!t&&n&&this.dispatchEvent("hd")},i.nd=function(){this.$o(),this.Dft(),this.x4.nd(),this.Vft.nd(),this.Yat=null,this.xp.nd()},i.g2=function(){},i.v2=function(){},i.Rft=function(t){},i.M2=function(t){},z(n,[{key:"a2",get:function(){return this.Vft.a2},set:function(t){this.hft=NaN,this.cft=!1,this.Dft(),this.x4.nd(),this.Yat=null,this.Vft.a2=t,this.wat(!0)}},{key:"oA",get:function(){return this.hft}},{key:"irt",get:function(){return this.x4&&OC.yA(this.x4.M0)}},{key:"Aw",get:function(){return this.dft}},{key:"c2",get:function(){return!1}},{key:"jct",get:function(){return!1}},{key:"_2",get:function(){return[]}}]),n}(lC),dB=1e3,lB="VEE3",gB=function(t){function n(n){var i;return(i=t.call(this,"Wft")||this).ptsOffset=n,i}return U(n,t),n}(xs),AB=function(t){function n(n){var i;return(i=t.call(this)||this).t4=void 0,i.Xft=null,i.Zft=0,i.qft="start",i.Jft=1,i.Kft=!1,i.$ft=!1,i.tvt=0,i.nvt=null,i.ivt=null,i.evt=null,i.rvt=null,i.Sit=0,i.svt=0,i.uvt=new gs,i.ovt=new eo,i.cvt=void 0,i.avt={},i.fvt=!1,i.vvt=null,i.dvt=NaN,i.ect=function(){i.t4.Lft.map(function(t){t.ect()})},i.Gat=function(){for(var t,n,e,r=0,s=i.t4.jft;r<s.length;r++){var u=s[r],o=u.Gat();if(o){var h=o.Fat;h&&h.V0!==CC.Vv&&(i.vvt=h)}u.Vk===jC.Vv?t=o:u.Vk===jC.m$&&(n=o,e=u)}(t||n)&&i.dispatchEvent({type:"G1",lvt:t&&t.F1,A4:t&&t.Fat,M4:n&&n.F1,g4:n&&n.Fat,d4:!!e&&e.Gct})},i.sct=function(){null!==i.nvt&&h(i.nvt),i.nvt=o(i.sct,dB),i.t4.Lft.forEach(function(t){return t.sct()})},i.cct=function(){null!==i.ivt&&h(i.ivt),i.Kft&&(i.ivt=o(i.cct,dB),i.t4.Lft.forEach(function(t){return t.cct()}))},i.hct=function(){i.t4.Lft.forEach(function(t){return t.hct()})},i.gvt=function(){if(i.t4.irt&&i.vA>1){var t=i.t4.lrt;i.Avt>t&&(i.vA=1,i.Avt>=t+1&&(i.Avt="start"))}},i.wvt=function(){i.Xft&&(0===i.Xft.yvt()?i.Avt="start":i.Avt=i._vt(i.w8))},i.Mvt=function(){i.tvt=i.w8},i.kvt=function(t){i.mvt(),i.Xft.error&&(t.error.info.code===lB&&i.svt<h_?(i.svt+=1,i.pvt()):i.dispatchEvent({type:"vh",error:t.error}))},i.Nvt=function(){i.svt=0},i.Dvt=function(){i.removeEventListener("Tvt",i.Ivt),i.Kft?i.Ivt():i.addEventListener("Tvt",i.Ivt)},i.Ivt=function(){var t=i.w8;i.t4.removeEventListener("G4",i.Dvt),i.t4.G4?i.t4.Lft.forEach(function(n){return n.fct(t)}):(i.t4.addEventListener("G4",i.Dvt),i.t4.Uft())},i.bvt=function(){var t=i.w8;i.t4.jft.forEach(function(n){return n.act(t,i.t4.irt)})},i.Evt=function(){null!==i.nvt&&h(i.nvt),i.nvt=null,null!==i.ivt&&h(i.ivt),i.ivt=null},i.Lvt=function(){i.Svt(),i.t4.G4?i.f2():(i.t4.addEventListener("G4",i.Lvt),i.t4.Uft())},i.Svt=function(){i.t4.removeEventListener("G4",i.Lvt)},i.r4=function(t){i.t4.mit(t.V0,t.F1||void 0,t.o0||void 0),t.V1&&i.jvt(t.V0,t.F1,t.o0)},i.Cvt=function(t){var n=t.Sit-i.Sit;l.abs(n)>u_&&(i.Sit=t.Sit,i.w8=i.w8+n)},i.Ovt=function(t){var n=t.x7.metadata;n.F0&&(i.avt[t.Vk]=n.F0,i.xvt())},i.xvt=function(){if(i.t4.G4){var t=d.keys(i.avt).length===i.t4.Lft.length;i.Xft&&!i.Xft.zvt&&!i.cvt&&t&&i.Rvt(),i.Xft&&i.Sit&&(i.Xft.Sit=i.Sit)}},i.Uvt=function(){if(w(i.Bvt))if(i.t4.irt)i.Bvt=0;else{var t=i.vvt,n=t&&t.k0,e=t&&K(n)&&!w(n)&&t.UK(n)||void 0;i.Bvt=UC(e)?e.Y9.my():NaN}i.V4&&(i.removeEventListener("G1",i.Uvt),i.t4.removeEventListener("O7",i.Uvt),i.dispatchEvent("V4",!0))},i.t4=n,n.Pit=sn(i),i}U(n,t);var i=n.prototype;return i.pvt=function(){this.t4.irt?this.Avt="start":(this.tvt+=.5,this.t4.Lft.map(function(t){t.ict(),t.vct(),t.dct()}),this.Avt=this.tvt),this.xvt(),this.Xft.play()},i.Qvt=function(t){var n=this;this.evt&&(this.t4.removeEventListener("G4",this.evt),this.evt=null),this.t4.G4?(this.$ft=!0,this.fvt=!0,this.t4.Bft(t),this.fvt=!1):(this.evt=function(){return n.Qvt(t)},this.t4.Uft())},i.Pvt=function(t){this.Yvt(),this.t4.irt&&(t="none"),"auto"===t&&this.Lvt()},i.Gvt=function(t){var n=this;this.Yvt(),"none"!==t&&(this.t4.G4?this.Pvt(t):(this.rvt=function(){return n.Pvt(t)},this.t4.addEventListener("G4",this.rvt),this.t4.Uft()))},i.Yvt=function(){this.Svt(),this.rvt&&(this.t4.removeEventListener("G4",this.rvt),this.rvt=null)},i.f2=function(){this.$ft?this.t4.Rft():(this.Avt=this.qft,this.t4.Rft(22)),this.Kft||(this.Kft=!0,this.dispatchEvent("Tvt"))},i.Fvt=function(){this.Xft&&(this.Xft.addEventListener("Vvt",this.bvt),this.Xft.addEventListener("seeking",this.Dvt),this.Xft.addEventListener("error",this.kvt),this.Xft.addEventListener("playing",this.Nvt)),this.t4.addEventListener("G1",this.r4),this.t4.addEventListener("Ict",this.wvt),this.t4.addEventListener("G4",this.xvt),this.t4.addEventListener("Lit",this.Cvt),this.t4.addEventListener("hg",this.Dvt),this.A2()},i.Hvt=function(){this.Xft&&(this.Xft.removeEventListener("Vvt",this.bvt),this.Xft.removeEventListener("seeking",this.Dvt),this.Xft.removeEventListener("error",this.kvt),this.Xft.removeEventListener("playing",this.Nvt)),this.t4.removeEventListener("G1",this.r4),this.t4.removeEventListener("Ict",this.wvt),this.t4.removeEventListener("G4",this.xvt),this.t4.removeEventListener("Lit",this.Cvt),this.t4.removeEventListener("hg",this.Dvt),this.w2()},i.A2=function(){this.Xft&&(this.Xft.addEventListener("loadstart",this.Lvt),this.Xft.addEventListener("timeupdate",this.ect),this.Xft.addEventListener("playing",this.Gat),this.Xft.addEventListener("timeupdate",this.Gat),this.Xft.addEventListener("timeupdate",this.cct),this.Xft.addEventListener("timeupdate",this.sct),this.Xft.addEventListener("timeupdate",this.Mvt),this.Xft.addEventListener("timeupdate",this.gvt),this.Xft.addEventListener("ended",this.Evt)),this.t4.addEventListener("O7",this.Ovt),this.t4.addEventListener("O7",this.hct)},i.w2=function(){null!==this.nvt&&h(this.nvt),null!==this.ivt&&h(this.ivt),this.Xft&&(this.Xft.removeEventListener("loadstart",this.Lvt),this.Xft.removeEventListener("timeupdate",this.ect),this.Xft.removeEventListener("playing",this.Gat),this.Xft.removeEventListener("timeupdate",this.Gat),this.Xft.removeEventListener("timeupdate",this.cct),this.Xft.removeEventListener("timeupdate",this.sct),this.Xft.removeEventListener("timeupdate",this.Mvt),this.Xft.removeEventListener("timeupdate",this.gvt),this.Xft.removeEventListener("ended",this.Evt)),this.t4.removeEventListener("O7",this.Ovt),this.t4.removeEventListener("O7",this.hct)},i.Xit=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ovt.Ch;case 2:return i=this.Xft.Xit(n),this.Xft.loading&&(this.Xft.loaded=!0,this.Xft.loading=!1),t.next=6,i;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.NP=function(t,n){this.Wvt.NP(t,n)},i.nct=function(){var t=N.coroutine(rr.mark(function t(n,i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.ovt.Ch;case 3:return t.next=5,this.Xft.nct(n,i);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ws(t.t0)||this.dispatchEvent({type:"vh",error:t.t0});case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n,i){return t.apply(this,arguments)}}(),i.Rvt=function(){var t=this,n=this.ovt,i=this.Xvt(this.cvt,this.uvt.Fo);this.cvt=i,i.then(function(){t.cvt===i&&(t.cvt=void 0,n.Oh())},function(e){t.cvt===i&&(t.cvt=void 0,n.xh(e))})},i.Xvt=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return t.next=3,n.catch(T);case 3:return ys(i),t.next=6,this.Xft.Rvt(this.avt,this.t4.oA,i);case 6:if(e=t.sent){t.next=9;break}return t.abrupt("return");case 9:for(r=0,s=this.t4.jft;r<s.length;r++)u=s[r],e.R$&&(u.Qht=e.R$),e.U$&&(u.Ght=e.U$);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.mvt=function(){this.uvt.Po(),this.uvt=new gs,this.cvt=void 0,this.ovt=new eo},i._vt=function(t){var n=this._w;return n.length?Vt(t,n.start(0),n.end(n.length-1)):0},i.Act=function(t){var n=this.t4.Yft;return n?n.Act(t):null},i.art=function(t){var n=this.t4.Yft;return n?n.art(t):NaN},i.qh=function(t){var n=t||"none";this.Hvt(),this.Fvt(),this.Gvt(n)},i.l2=function(){this.Yvt()},i.nd=function(){this.$o(),this.avt={},this.Wvt=null},i.Jl=function(){this.mvt(),this.Zvt(),this.avt={},this.Zft=0,this.tvt=0,this.qft="start",this.Sit=0,this.Jft=1,this.Kft=!1,this.$ft=!1,this.vvt=null,this.t4.Jl()},i.jvt=function(t,n,i){if(n){this.dispatchEvent("H4"),this.w2();var e=!1,r=!1,s=!1;if("U$"===t){r=!0;var u=this.t4.Yft;u&&u.Gct&&(e=!0)}else e=!0,s=!(!i||!i.uri);e&&this.Xft.V1("audio"),r&&this.Xft.V1("video"),this.t4.jft.forEach(function(t){t.ict(),e&&t.vct(),r&&t.dct()}),this.t4.Qft(r,e,s,22),this.t4.jft.forEach(function(t){return t.uct()}),this.A2()}},i.QA=function(){this.w2(),this.t4.irt&&this.t4.tft()},i.BA=function(){this.w2(),this.A2(),this.t4.v2()},i.qvt=function(t){var n=this.Bvt||0;return this.W0?t-n<0?0:l.round((t-n)*this.W0-.5)||0:NaN},i.Jvt=function(t){var n=this.Bvt||0;return this.W0?n+(t+.5)/this.W0:NaN},i.Zvt=function(){this.Bvt=NaN,this.removeEventListener("G1",this.Uvt),this.addEventListener("G1",this.Uvt),this.t4.removeEventListener("O7",this.Uvt),this.t4.addEventListener("O7",this.Uvt)},z(n,[{key:"Wvt",get:function(){return this.Xft},set:function(t){this.Hvt(),this.mvt(),this.Nvt(),this.Xft=t,this.xvt()}},{key:"w8",get:function(){return this.Xft&&!this.fvt?this.Xft.yvt():this.Zft},set:function(t){t=this._vt(t),this.tvt=this.Zft=t,this.Xft?this.Xft.Kvt(t):(this.bvt(),this.Dvt())}},{key:"Avt",get:function(){return this.Xft&&!this.fvt?this.w8:this.qft},set:function(t){"start"===t&&(t=this.t4.irt?1/0:0),t=this._vt(t),this.qft=t,this.tvt=this.Zft=t,this.Qvt(zA.D_(this.Zft)),this.w8=t}},{key:"Gw",get:function(){return this.t4.Xct},set:function(t){this.t4.Xct=t}},{key:"vA",get:function(){return this.Xft?this.Xft.vA:this.Jft},set:function(t){var n=this.Jft;t>0&&(this.Jft=t,this.Xft&&(this.Xft.vA=t),this.t4.g8=t,this.Jft!==n&&this.dispatchEvent("$vt"))}},{key:"_w",get:function(){var t=this.t4._w;if(!t.length||!this.t4.irt)return t;var n=t.start(0),i=this.t4.lrt;return i=l.max(this.w8,i),new KO([{ab:n,vb:i}])}},{key:"ow",get:function(){return this.Act(this.w8)}},{key:"W0",get:function(){var t=this.vvt;return t&&t.W0||NaN}},{key:"Bvt",get:function(){return this.dvt},set:function(t){this.dvt!==t&&(this.dispatchEvent(new gB(t)),this.dvt=t)}},{key:"V4",get:function(){return Boolean(this.W0)&&!w(this.Bvt)}}]),n}(lC),wB=function(t){function n(n){var i;return(i=t.call(this)||this).tdt=null,i.x4=void 0,i.ndt=[],i.idt=function(t){return i.edt(t)},i.rdt=function(){return i.sdt()},i.x4=n,i.ndt=[],i}U(n,t);var i=n.prototype;return i.sN=function(t){var n,i;"metadata"===t.kind&&(t.mode=cl.wg,n=this.x4.m1(t.id,t.inBandMetadataTrackDispatchType),i=this.udt.bind(this,n),this.ndt.push({odt:t,hdt:i,$0:n}),t.addEventListener("cuechange",i))},i.FC=function(){for(var t=this.tdt.RA,n=t&&t.length,i=0;i<n;i+=1)this.sN(t[i]);t&&t.addEventListener&&(t.addEventListener("addtrack",this.idt),t.addEventListener("change",this.rdt))},i.udt=function(t,n){for(var i=n.target.activeCues,e=i.length,r=e?i[0].startTime:0,s=0;s<e;s++){var u=UL(i[s].value),o=new WL(r,u);t.oN(o)}},i.sdt=function(){for(var t=0,n=this.ndt;t<n.length;t++){var i=n[t].odt;i.mode!==cl.wg&&(i.mode=cl.wg)}},i.edt=function(t){this.sN(t.track)},i.cdt=function(){for(var t=this.tdt,n=t&&t.RA,i=0,e=this.ndt;i<e.length;i++){var r=e[i];r.odt.removeEventListener("cuechange",r.hdt)}this.ndt.length=0,n&&n.removeEventListener&&(n.removeEventListener("addtrack",this.idt),n.removeEventListener("change",this.rdt))},i.nd=function(){this.cdt(),this.tdt=null,this.x4=null,this.idt=null,this.rdt=null},i.Jl=function(){this.cdt(),this.tdt&&this.FC()},n}(lC),yB=function(t){function n(n){var i;return(i=t.call(this)||this).t4=void 0,i.adt=void 0,i.Xft=null,i.qft="start",i.Jft=1,i.hd=!1,i.fdt=null,i.vdt=null,i.ddt=NaN,i.ldt=NaN,i.gdt=null,i.Adt=function(){i.Xft.removeEventListener("loadstart",i.Adt),i.Xft.removeEventListener("play",i.Adt),i.t4.Uft()},i.ect=function(){var t=i.t4.x4.Z1;if(t&&(!i.fdt||i.fdt.ab>i.w8||i.fdt.vb<i.w8)){var n=i.t4.xp.ntt(t,zA.D_(i.w8));if(!n)return void i.Xft.addEventListener("timeupdate",i.ect);i.fdt={ab:n.crt.my(),vb:n.crt.mw(zA.D_(n.$k.duration)).my(),lK:n.$k.lK,A0:null},i.dispatchEvent({type:"rct",Qp:n.$k})}},i.Gat=function(){var t=i.t4.x4,n=t.q1.x$.length?t.q1.x$:t.Q0.x$,e=i.Xft.gA,r=i.Xft.lA,s=n&&n.filter(function(t){var n=t.resolution;return n&&n.width===e&&n.height===r}),u=s&&s.length?s[0]:null;u!==i.vdt&&(i.vdt=u,i.dispatchEvent({type:"G1",o0:u}))},i.wdt=function(t){i.dispatchEvent({type:"G1",o0:t.o0})},i.ydt=function(){if(i.Xft){var t=i.Xft._w,n=t.length?t.end(t.length-1):NaN;isFinite(n)&&n!==i.ldt&&(i.ldt=n,i.ddt=iN())}},i._dt=function(){i.hd=!0},i.Mdt=function(){i.hd&&(i.hd=!1,i.kdt())},i.t4=n,i.adt=new wB(n.x4),n.addEventListener("hd",i._dt),n.addEventListener("Aw",i.Mdt),i}U(n,t);var i=n.prototype;return i._vt=function(t){var n=this.Xft._w;return n.length?Vt(t,n.start(0),n.end(n.length-1)):0},i.kdt=function(){if(this.Xft){var t=this.Xft.currentTime,n=this.Xft.paused;this.Xft.load(),this.Xft.currentTime=t,n||this.Xft.play()}},i.mdt=function(){this.Xft&&(this.Xft.addEventListener("loadstart",this.Adt),this.Xft.addEventListener("play",this.Adt),this.Xft.addEventListener("timeupdate",this.ect),this.Xft.addEventListener("timeupdate",this.Gat),a(this.gdt),this.gdt=c(this.ydt,250))},i.pdt=function(){a(this.gdt),this.Xft&&(this.Xft.removeEventListener("loadstart",this.Adt),this.Xft.removeEventListener("play",this.Adt),this.Xft.removeEventListener("timeupdate",this.ect),this.Xft.removeEventListener("timeupdate",this.Gat))},i.qh=function(t){t=t||"none",this.pdt(),this.mdt(),this.t4.removeEventListener("Hft",this.wdt),this.t4.addEventListener("Hft",this.wdt),"none"!==t&&this.Adt()},i.nd=function(){this.$o(),this.adt.nd(),this.Wvt=null,this.t4.removeEventListener("Hft",this.wdt)},i.Jl=function(){this.qft="start",this.Jft=1,this.hd=!1,this.fdt=null,this.vdt=null,this.ddt=NaN,this.ldt=NaN,a(this.gdt),this.adt.Jl()},i.BA=function(){},i.QA=function(){},i.l2=function(){},i.jvt=function(){},i.art=function(t){var n=this.t4.x4.Z1;return this.t4.xp.art(n,t).my()},i.Act=function(t){var n,i,e=this.t4.x4.Z1,r=this.t4.xp,s=t,u=this.fdt;if(u)u.A0||(u.A0=r.hrt(e,u.lK)),n=u.ab,i=u.A0;else{var o=r.ntt(e,zA.D_(s));if(!o)return null;n=o.crt.my(),i=r.hrt(e,o.$k.lK)}if(!i)return null;var h=s-n;return new Date(i.getTime()+1e3*h)},i.qvt=function(t){return NaN},i.Jvt=function(t){return NaN},z(n,[{key:"Ndt",get:function(){return null}},{key:"ow",get:function(){return this.Act(this.w8)}},{key:"Wvt",get:function(){return this.Xft},set:function(t){this.pdt(),this.Xft=t,this.Xft&&(this.adt.tdt=this.Xft,this.adt.FC())}},{key:"Avt",get:function(){return this.Xft?this.Xft.yvt():this.qft},set:function(t){"start"===t&&(t=this.t4.irt?1/0:0),t=this._vt(t),this.qft=t,this.Xft&&this.Xft.Kvt(t)}},{key:"w8",get:function(){return this.Avt},set:function(t){t=this._vt(t),this.Avt=t}},{key:"Gw",get:function(){return 1/0},set:function(t){}},{key:"vA",get:function(){return this.Xft?this.Xft.vA:this.Jft},set:function(t){t>0&&(this.Jft=t,this.Xft&&(this.Xft.vA=t))}},{key:"_w",get:function(){var t,n,i,e=this.Xft?this.Xft._w:null,r=this.t4.xp._w;if(e&&e.length&&r.length)t=e.start(0),n=(i=this.ldt||e.end(e.length-1))+this.t4.xp.grt.my(),isFinite(this.ddt)&&(i+=(iN()-this.ddt)/1e3);else{if(e&&e.length)return e;if(!r.length)return r;t=e.start(0),n=r.end(r.length-1),i=this.t4.xp.lrt.my()}return i=l.min(n,i),i=l.max(this.w8,i),new KO([{ab:t,vb:i}])}},{key:"W0",get:function(){return NaN}},{key:"Bvt",get:function(){return NaN}},{key:"V4",get:function(){return!1}}]),n}(lC),_B=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r)||this).Ddt=new gs,o.Tdt=void 0,o.iN=void 0,o.Idt=function(){return o.bdt()},o.Ao=$g.WEBVTT,o.Ng=Kg.NONE,o.Ig=Ff(s),o.qo(Cd.xl,o.Idt),o.iN=u,o}U(n,t);var i=n.prototype;return i.qh=function(){this.Ig&&!this.Tdt&&(this.Tdt=this.Kd(this.Ddt.Fo),this.Tdt.catch(Ms))},i.Kd=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r,s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.Ig,t.prev=1,this.Ng=Kg.LOADING,e=new Qf({Sv:i,Xv:xf.GET,Tv:sh.cs,Fo:n}),t.next=6,this.iN.Ev(e);case 6:return r=t.sent,t.next=9,r.Ps();case 9:s=t.sent,this.M3(r,s),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),_s(t.t0),this.FT(Ey(t.t0,this.Ig));case 17:case"end":return t.stop()}},t,this,[[1,13]])}));return function(n){return t.apply(this,arguments)}}(),i.l2=function(){this.Ng!==Kg.LOADED&&(this.Ng=Kg.NONE,this.Ddt.Po(),this.Ddt=new gs,this.Tdt=void 0)},i.FT=function(t){this.Ng=Kg.ERROR,this.Zo(new vg(t))},i.nd=function(){this.l2(),this.Ddt.xo(),t.prototype.nd.call(this)},i.bdt=function(){switch(this.kg){case cl.yg:case cl.wg:this.qh();break;case cl.Ag:this.l2()}},i.M3=function(t,n){try{for(var i=cw(n).Dg,e=0;e<i.length;e++){var r=i[e];this.oN(r)}this.Ng=Kg.LOADED}catch(n){this.FT(Ly(this.Ao,this.Ig,t.Nv,n))}},n}(GE);function MB(t){return wy(t.kind)}var kB=function(){function t(t,n,i,e){this.Edt=void 0,this.RA=void 0,this.Ldt=void 0,this.iN=void 0,this.Edt=t,this.RA=i,this.Ldt=n,this.iN=e,this.Jl()}var n=t.prototype;return n.Sdt=function(t){if(this.jdt(),t)if(this.Ldt)for(var n=0;n<t.length;n++){var i=t[n];this.AI(i)}else for(var e=0;e<t.length;e++){var r=t[e];this.Cdt(r)}},n.AI=function(t){var n=MB(t);if(Ty(n,t.label||""));else{var i=r.createElement("track");i.kind=n,i.label=t.label,i.src=t.src,i.srclang=t.srclang,i.default=!!t.default,this.Edt.appendChild(i)}},n.Cdt=function(t){var n=MB(t),i=new _B(n,t.id,t.label,t.srclang,t.src,this.iN);t.default&&(i.kg=cl.yg),this.RA.Xl(i)},n.jdt=function(){for(var t=this.RA.Kl,n=t.length-1;n>=0;n--){var i=t[n];"static"===i.Odt&&this.RA.Zl(i)}},n.xdt=function(){this.jdt()},n.Jl=function(){this.jdt()},t}(),mB=function(){function t(t){this.Z4=void 0,this.Z4=t}var n=t.prototype;return n.qo=function(t,n){this.Z4.addEventListener(t,n)},n.th=function(t,n){this.Z4.removeEventListener(t,n)},z(t,[{key:"uA",get:function(){return this.Z4.currentTime}},{key:"fA",get:function(){return this.Z4.paused}},{key:"dA",get:function(){return this.Z4.seeking}}]),t}(),pB=function(t){function n(n,i){var e;(e=t.call(this)||this).zdt=void 0,e.RA=void 0,e.Rdt=void 0,e.Udt=void 0,e.Xft=void 0,e.Bdt=!0,e.Qdt=function(t){return e.Pdt(t)},e.Ydt=function(){return e.Gdt()},e.Fdt=function(){return e.Vdt()},e.Hdt=function(){return e.Wdt()},e.idt=function(t){return e.edt(t.Nl)},e.Xdt=function(t){return e.Zdt(t.Nl)},e.qdt=function(){return e.Jdt()},e.zdt=n,e.RA=i,e.zdt.addEventListener("seeking",e.qdt),e.zdt.addEventListener("seeked",e.qdt),e.Rdt=new HL(new mB(n));for(var r=0,s=e.RA.Kl;r<s.length;r++){var u=s[r];e.edt(u)}return e.RA.qo(Ed.wl,e.idt),e.RA.qo(Ed._l,e.Xdt),e}U(n,t);var i=n.prototype;return i.Pdt=function(t){this.RA.Xl(t.Nl)},i.Gdt=function(){for(var t=this.RA.Kl,n=t.length-1;n>=0;n--){var i=t[n];"static"!==i.Odt&&this.RA.Zl(i)}},i.Vdt=function(){var t=this.Wvt,n=[],i=t&&t.RA;if(i)for(var e=0;e<i.length;e++){var r=i[e]||i.item(e);if("metadata"!==r.kind){var s=r.THEOplayerTextTrack;if(!s){var u=this.IV(r);s=new QL(r,u,this.DG),r.THEOplayerTextTrack=s,this.RA.Xl(s)}n.push(s)}}for(var o=0,h=this.RA.Kl;o<h.length;o++){var c=h[o];PL(c)&&-1===n.indexOf(c)&&this.RA.Zl(c)}},i.IV=function(t){for(var n=this.Wvt.hw.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},i.Wdt=function(){for(var t=0,n=this.RA.Kl;t<n.length;t++){var i=n[t];PL(i)&&i.TG()}},i.Jdt=function(){this.Kdt()},i.edt=function(t){t instanceof GE&&this.Rdt.Xl(t)},i.Zdt=function(t){t instanceof GE&&this.Rdt.Zl(t)},i.Kdt=function(){var t=this.RA.Kl;if(t.length)for(var n=this.zdt.seekable,i=n.length?n.start(0):0,e=0;e<t.length;e++){var r=t[e];if(r instanceof GE){for(var s=[],u=0,o=r.Dg.Kl;u<o.length;u++){var h=o[u];if(!(h.Gw<i))break;s.push(h)}for(var c=0;c<s.length;c++){var a=s[c];r.qY(a)}}}},i.nd=function(){this.zdt.removeEventListener("seeking",this.qdt),this.zdt.removeEventListener("seeked",this.qdt);for(var t=0,n=this.RA.Kl;t<n.length;t++){var i=n[t];this.Zdt(i)}this.RA.th(Ed.wl,this.idt),this.RA.th(Ed._l,this.Xdt),this.Rdt.nd(),this.x4=null,this.Wvt=null},z(n,[{key:"x4",get:function(){return this.Udt},set:function(t){var n=this.Udt;if(n){for(var i=0,e=n.RA;i<e.length;i++){var r=e[i];this.RA.Zl(r)}n.removeEventListener("N1",this.Qdt),n.removeEventListener("nd",this.Ydt)}if(this.Udt=t,t){for(var s=0,u=t.RA;s<u.length;s++){var o=u[s];this.RA.Xl(o)}t.addEventListener("N1",this.Qdt),t.addEventListener("nd",this.Ydt)}}},{key:"Wvt",get:function(){return this.Xft},set:function(t){var n=this.Xft;n&&n.RA&&n.RA.removeEventListener&&(n.RA.removeEventListener("addtrack",this.Fdt),n.RA.removeEventListener("removetrack",this.Fdt),n.RA.removeEventListener("change",this.Hdt)),this.Xft=t,t&&t.RA&&t.RA.addEventListener&&(t.RA.addEventListener("addtrack",this.Fdt),t.RA.addEventListener("removetrack",this.Fdt),t.RA.addEventListener("change",this.Hdt)),this.Vdt(),this.Wdt()}},{key:"DG",get:function(){return this.Bdt},set:function(t){if(this.Bdt!==t){this.Bdt=t;for(var n=0,i=this.RA.Kl;n<i.length;n++){var e=i[n];PL(e)&&(e.DG=t)}}}}]),n}(lC),NB=function(){function t(t,n){this.Kv=void 0,this.Al=void 0,this.$dt=[],this.tlt=new uh,this.nlt=or(),this.ilt=new gs,this.Kv=!(!t||t.crossOrigin!==Dl.Fg&&!t.elt),this.Al=n}var n=t.prototype;return n.rlt=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s,u,o,h,c,a,v;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=p.Fu(n),r=0,s=this.$dt;r<s.length;r++)null===(u=s[r]).ps||void 0===u.ps?e.searchParams.delete(u.slt):e.searchParams.set(u.slt,u.ps);return t.prev=2,o=new Qf({Sv:e.href,Tv:sh.Va,Dv:this.tlt,Kv:this.Kv,Xv:xf.GET,Fo:i,Ao:zf.zv,qv:Rf.Fv}),t.next=6,this.Al.Ev(o);case 6:return h=t.sent,t.next=9,h.Ps();case 9:return c=t.sent,a=new y(c),v=new y(16),16!==a.length&&gt("AES-128 decryption key length must be 16 bytes, but was "+a.length+" bytes. URL: ",e.href),a.length>16&&(a=$u(a,0,16)),v.set(a,16-a.length),t.abrupt("return",v);case 19:throw t.prev=19,t.t0=t.catch(2),_s(t.t0),new f('Playback has been stalled due to failure to retrieve encryption key from "'+e.href);case 23:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n,i){return t.apply(this,arguments)}}(),n.getKey=function(t){var n=t.absoluteURI;if(!n)return N.reject(new wC(AC.uK,{code:"CAD1603"}));var i=this.nlt.get(n);return i||(i=this.rlt(n,this.ilt.Fo),this.nlt.set(n,i)),i},n.nd=function(){this.ilt.Po(),this.nlt.clear()},n.ult=function(t,n){this.$dt.push({slt:t,ps:n})},n.olt=function(t,n){this.tlt.append(t,n)},t}(),DB=function(t){this.zdt=void 0,this.zdt=t},TB=r.createElement("video");var IB=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.Iat=function(t){return!!function(t){return TB.canPlayType('video/mp4;codecs="'+t.codecs+'"')}(t)||(t.disabled="AvoidUnsupportedCodecsRule",!1)},n}(DB);gC.rs.Gz("AvoidUnsupportedCodecsRule",IB);var bB=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.Iat=function(t,n,i,e){return!("ztt"===e.G7)||t.bandwidth<2e6},n}(DB);gC.rs.Gz("AvoidHighBitrateStreamsRule",bB);var EB=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.hlt=function(t){if(!t.resolution)return!0;var n=this.zdt.element.getBoundingClientRect(),i=e.innerWidth||r.documentElement.clientWidth,s=e.innerHeight||r.documentElement.clientHeight,u=l.max(0,l.min(n.right,i)-l.max(0,n.left)),o=l.max(0,l.min(n.bottom,s)-l.max(0,n.top)),h=p.Wu.du;return t.resolution.width<=u*h&&t.resolution.height<=o*h},i.Iat=function(t){return this.hlt(t)},n}(DB);gC.rs.Gz("AvoidVideoResolutionGreaterThanDisplaySizeRule",EB);var LB=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.Iat=function(t,n,i){if(i.q8<=0)return!1;var e=i&&.8*i.q8;return!(e&&!w(e)&&t.bandwidth)||e>t.bandwidth*this.zdt.playbackRate},n}(DB);gC.rs.Gz("DownloadMetricRule",LB);var SB=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.Iat=function(t){return!0},n}(DB);gC.rs.Gz("LimitVideoQualityToDisplaySizeRule",SB);var jB=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.Iat=function(t,n){return!n||(n.V0===CC.Cv||t.V0===CC.Cv||(n.V0===CC.d$||t.V0===CC.d$||n.V0===t.V0))},n}(DB);function CB(t){return!!t&&("object"==typeof t&&"src"in t&&"type"in t)}function OB(t,n){var i=n;for(var e in t)it(t[e])?(i[e]=i[e]||{},OB(t[e],i[e])):q.call(i,e)||(i[e]=t[e]);return i}function xB(t,n){var i=OB(n,t||{});return i.crossOrigin=function(t){var n=t&&t.crossOrigin;switch(n){case Dl.Gg:case Dl.Fg:break;default:n=Dl.Vg}return t&&t.withCredentials&&(n=Dl.Fg),t&&t.vr&&t.vr[360]&&n===Dl.Vg&&(n=Dl.Gg),n}(i),i}function zB(t){st(t)&&t.then(T,T)}gC.rs.Gz("OnlyAllowSameTrackTypeRenditionsRule",jB);var RB,UB=500,BB=["abort","durationchange","ended","loadstart","pause","play","progress","ratechange","seeked","seeking","suspend","timeupdate","volumechange","webkitpresentationmodechanged"],QB=function(t){function n(n,i){var e;return(e=t.call(this)||this).clt=void 0,e.CT=void 0,e.flt=void 0,e.xT=void 0,e.loading=!1,e.loaded=!1,e.configuration={useNativeVideoPlayback:!0},e.mF=function(){var t=e.CT.sI.error&&e.CT.sI.error.code;t&&e.FT(new wC(AC.eK,{code:"VEE"+t}))},e.vlt=function(t){e.dispatchEvent({type:t.type,error:e.CT.sI.error})},e.dlt=function(){h(e.flt),e.flt=void 0,e.CT.sI.removeEventListener("timeupdate",e.dlt),e.CT.th(Wl.sA,e.dlt)},e.llt=function(){void 0!==e.flt&&e.dlt(),e.flt=o(function(){e.CT.sI.currentTime+=.1,e.dlt()},UB),e.CT.sI.addEventListener("timeupdate",e.dlt),e.CT.qo(Wl.sA,e.dlt)},e.glt=function(){switch(e.CT.sI.readyState){case El.Jg:case El.Kg:case El.$g:e.llt();break;case El.qg:case El.Zg:}},e.clt=n,e.CT=i,e}U(n,t);var i=n.prototype;return i.setup=function(){this.M1(),this.CT.sI.parentNode!==this.clt&&this.clt.appendChild(this.CT.sI),this.loaded=!1,this.CT.sI.preload="metadata",this.CT.sI.addEventListener("play",this.glt),this.CT.sI.addEventListener("loadeddata",this.glt),this.dispatchEvent("Alt")},i.M1=function(){for(var t=0;t<BB.length;t++){var n=BB[t];this.CT.sI.addEventListener(n,this.vlt,!0)}this.CT.sI.addEventListener("error",this.mF,!0),this.CT.qo(Wl.Rl,this.vlt),this.CT.qo(Wl.sA,this.vlt)},i.wlt=function(){for(var t=0;t<BB.length;t++){var n=BB[t];this.CT.sI.removeEventListener(n,this.vlt,!0)}this.CT.sI.removeEventListener("error",this.mF,!0),this.CT.th(Wl.Rl,this.vlt),this.CT.th(Wl.sA,this.vlt)},i.FT=function(t){this.xT=t,this.dispatchEvent({type:"error",error:t})},i.Xit=function(){return N.resolve()},i.load=function(){this.CT.sI.load(),this.loaded=!0},i.unload=function(){return this.dlt(),this.$o(),this.wlt(),this.CT.sI.removeEventListener("play",this.glt),this.CT.sI.removeEventListener("loadeddata",this.glt),Re(this.CT.sI),this.CT.sI},i.play=function(){var t=this.vA;zB(this.CT.sI.play()),this.vA=t},i.pause=function(){this.CT.sI.pause()},i.PA=function(){this.pause()},i.reset=function(){this.loading=!1,this.loaded=!1;try{this.Kvt(0)}catch(t){}this.dispatchEvent("reset")},i.KA=function(){return this.CT.sI},i.yvt=function(){return this.CT.sI.currentTime},i.Kvt=function(t){this.CT.sI.currentTime=t},i.canPlayCodecs=function(t){return this.CT.sI.canPlayType('video/mp4; codecs="'+t+'"')},z(n,[{key:"zvt",get:function(){return!0}},{key:"hw",get:function(){return this.CT.sI}},{key:"uw",get:function(){return this.CT.sI.buffered}},{key:"AA",get:function(){return this.CT.sI.volume},set:function(t){this.CT.sI.volume=t}},{key:"duration",get:function(){return this.CT.sI.duration}},{key:"muted",get:function(){return this.CT.sI.muted},set:function(t){this.CT.sI.muted=t}},{key:"paused",get:function(){return this.CT.sI.paused}},{key:"played",get:function(){return this.CT.sI.played}},{key:"poster",get:function(){return this.CT.sI.poster},set:function(t){t?this.CT.sI.poster=t:this.CT.sI.removeAttribute("poster")}},{key:"controls",get:function(){return this.CT.sI.controls},set:function(t){t?this.CT.sI.controls=t:this.CT.sI.removeAttribute("controls")}},{key:"ended",get:function(){return this.CT.sI.ended}},{key:"seeking",get:function(){return this.CT.sI.seeking}},{key:"error",get:function(){return this.CT.sI.error}},{key:"width",get:function(){return this.CT.sI.offsetWidth}},{key:"height",get:function(){return this.CT.sI.offsetHeight}},{key:"src",get:function(){return this.CT.sI.src},set:function(t){this.CT.sI.src=t}},{key:"gA",get:function(){return this.CT.sI.videoWidth}},{key:"lA",get:function(){return this.CT.sI.videoHeight}},{key:"RA",get:function(){return this.CT.sI.textTracks}},{key:"irt",get:function(){return this.CT.sI.duration===1/0}},{key:"_w",get:function(){var t=this.CT.sI.seekable,n=t.length&&t.start(0)||0,i=t.length&&t.end(t.length-1)||0;return i===1/0&&(i=this.yvt()||0),new KO([{ab:n,vb:i}])}},{key:"vA",get:function(){return this.CT.sI.playbackRate},set:function(t){t>0&&(this.CT.sI.playbackRate=t)}},{key:"Ng",get:function(){return this.CT.Ng}},{key:"ylt",get:function(){return void 0!==this.CT.sI.webkitSupportsPresentationMode&&this.CT.sI.webkitSupportsPresentationMode("picture-in-picture")}},{key:"_lt",get:function(){return"picture-in-picture"===this.CT.sI.webkitPresentationMode}},{key:"Mlt",get:function(){return this.CT.sI.webkitPresentationMode},set:function(t){["inline","picture-in-picture","fullscreen"].indexOf(t)>-1&&this.CT.sI.webkitSetPresentationMode(t)}}]),n}(lC);!function(t){t[t.klt=0]="klt",t[t.mlt=1]="mlt",t[t.Cq=2]="Cq",t[t.plt=3]="plt",t[t.Nlt=4]="Nlt"}(RB||(RB={}));var PB=function(){function t(){this.Dlt=!1,this.Tlt=null,this.Ilt=null,this.blt=null,this.mz=[],this.Elt=null}var n=t.prototype;return n.Llt=function(){if(!this.Dlt)return!1;for(var t=this.Tlt,n=this.Ilt,i=0;i<t.sourceBuffers.length;i++)if(t.sourceBuffers[i]===n)return!0;return!1},n.Slt=function(t){switch(t.Ao){case RB.klt:return this.jlt(t.Ps,t.crt,t.ij);case RB.mlt:return this.Clt(t.Olt);case RB.Cq:return this.xlt(t.zlt,t.Rlt);case RB.plt:return this.pz();case RB.Nlt:return this.Ult(t.ij)}},n.jlt=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=this.Ilt,w(i)||(r.timestampOffset=i),r.appendBuffer(n),t.next=6,this.Blt();case 6:e(),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),e(t.t0),t.t0;case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n,i,e){return t.apply(this,arguments)}}(),n.Clt=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r,s,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.Ilt,e=i.buffered,!(e.length>0)){t.next=11;break}if(r=e.start(0),s=l.min(e.end(0),n),!((u=s-r)>.5||s<=n&&u>0)){t.next=11;break}return i.remove(r,s),t.next=11,this.Blt();case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.xlt=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s,u,o;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Tlt,e=this.Ilt,r=e.buffered,!((s=r.length)>0)){t.next=12;break}if(u=l.max(r.start(0),n),o=l.min(r.end(s-1),i),!(o-u>0)){t.next=12;break}return e.remove(u,o),t.next=12,this.Blt();case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.pz=function(){var t=N.coroutine(rr.mark(function t(){var n,i,e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.Tlt,i=this.Ilt,n.open&&"open"===n.readyState){t.next=4;break}return t.abrupt("return");case 4:if(t.prev=4,e=i.updating,i.abort(),!e){t.next=10;break}return t.next=10,Id(i,"updateend");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4);case 15:case"end":return t.stop()}},t,this,[[4,12]])}));return function(){return t.apply(this,arguments)}}(),n.Ult=function(t){return N.resolve(t())},n.Qlt=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.vY(n)){t.next=5;break}return t.next=3,Es(100);case 3:t.next=0;break;case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.vY=function(t){var n=this.Tlt;if(!n.open||"open"!==n.readyState||!this.Llt())return!0;for(var i=0;i<n.sourceBuffers.length;i++)if(n.sourceBuffers[i].updating)return!1;return t?n.endOfStream(t):n.endOfStream(),!0},n.Blt=function(){var t=this;return new N(function(n,i){var e,r=t.Ilt,s=!1,u=function(){s=!0},o=function(){s=!1,e="error"},h=function(){s=!1,e="aborted"},c=function(){a(),s&&!e?n():i(new f(e))},a=function(){r.removeEventListener("update",u),r.removeEventListener("error",o),r.removeEventListener("abort",h),r.removeEventListener("updateend",c)};r.addEventListener("update",u),r.addEventListener("error",o),r.addEventListener("abort",h),r.addEventListener("updateend",c)})},n.Plt=function(){var t=this;this.blt||(0!==this.mz.length||this.Elt)&&this.Llt()&&(this.blt=this.Ylt().then(function(){t.blt=null}))},n.Ylt=function(){var t=N.coroutine(rr.mark(function t(){var n;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(!(this.mz.length>0)){t.next=9;break}if(this.Llt()){t.next=4;break}return t.abrupt("return");case 4:return n=this.mz.shift(),t.next=7,this.Slt(n);case 7:t.next=1;break;case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=16,this.Qlt("decode").catch(T);case 16:if(!this.Elt){t.next=26;break}return t.prev=17,t.next=20,this.Qlt(this.Elt.vh);case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(17);case 25:this.Elt=null;case 26:case"end":return t.stop()}},t,this,[[0,11],[17,22]])}));return function(){return t.apply(this,arguments)}}(),n.FC=function(t,n){this.Dlt||(this.Dlt=!0,this.Tlt=t,this.Ilt=n,this.Plt())},n.mw=function(t,n,i){this.mz.push({Ao:RB.klt,Ps:t,crt:n,ij:i}),this.Plt()},n.Glt=function(t,n){this.mz.push({Ao:RB.Cq,zlt:t,Rlt:n}),this.Plt()},n.Flt=function(t){this.mz.push({Ao:RB.mlt,Olt:t}),this.Plt()},n.Po=function(){this.mz.push({Ao:RB.plt}),this.Plt()},n.Vlt=function(t){this.mz.push({Ao:RB.Nlt,ij:t}),this.Plt()},n.nct=function(t){this.Elt={vh:t},this.Plt()},n.ph=function(){this.mz.length=0,this.Elt=null},t}();var YB=function(t){function n(n){var i;return(i=t.call(this)||this).Tlt=void 0,i.Ilt=null,i.Hlt=new PB,i.Gw=NaN,i.Wlt=null,i.Xo=function(t){return i.dispatchEvent(t)},i.Xlt=function(){return i.S7()},i.Tlt=n,i.Jl(),i}U(n,t);var i=n.prototype;return i.Zlt=function(t){if(t)return this.dispatchEvent({type:"error",error:t})},i.Xit=function(t,n,i,e){var r=this;if(!this.Ilt||!n)return N.resolve();var s=n.initializer.Ps,u=function(t,n){if(!t)return!0;var i=t.length;if(i!==n.length)return!0;for(var e=0;e<i;e+=1)if(t[e]!==n[e])return!0;return!1}(this.Wlt,s);if(e&&(Z.Yr||this.Hlt.Po()),e)if(Z.Yr);else{var o=t&&t.ab,h=t&&t.ab+t.oA-.5;this.Hlt.Glt(o,h)}return u&&(this.Hlt.mw(s,i,this.Zlt.bind(this)),this.Wlt=s),new N(function(t,e){r.Hlt.mw(n.m4s.Ps,i,function(n){n?e(n):t()})})},i.yP=function(){var t=this;return new N(function(n){t.Hlt.Vlt(function(){var i=t.uw;i&&i.length&&(t.Gw=i.end(i.length-1)),n()})})},i.qlt=function(t){if(!this.Ilt){try{this.Ilt=this.Tlt.addSourceBuffer(t),this.Ilt.addEventListener("updatestart",this.Xo),this.Ilt.addEventListener("updateend",this.Xo)}catch(t){return this.dispatchEvent({type:"error",error:t}),!1}this.Tlt.addEventListener("sourceclose",this.Xlt),this.Hlt.FC(this.Tlt,this.Ilt)}return!0},i.Llt=function(){for(var t=0;t<this.Tlt.sourceBuffers.length;t++)if(this.Tlt.sourceBuffers[t]===this.Ilt)return!0;return!1},i.Jh=function(t){var n=this,i=this.uw;if(!(this.Ilt&&i&&i.length))return t&&t();this.Ilt.remove(0,i.end(i.length-1)),t&&this.Ilt.addEventListener("updateend",function i(e){n.Ilt.removeEventListener("updateend",i),t()})},i.Jl=function(t){this.Wlt=null,this.Gw=NaN,this.S7(),this.Jh(t)},i.Flt=function(t){this.Ilt&&this.Hlt.Flt(t)},i.nct=function(t){this.Ilt&&this.Hlt.nct(t)},i.S7=function(){this.Hlt.ph(),"open"===this.Tlt.readyState&&this.Ilt&&this.Ilt.updating&&this.Ilt.abort()},z(n,[{key:"uw",get:function(){return this.Ilt&&this.Llt()?new KO(ux(this.Ilt.buffered)):null}},{key:"Uj",get:function(){return this.Ilt&&this.Ilt.updating}},{key:"hA",get:function(){var t=this.uw;return!t||!w(this.Gw)&&rx(t,this.Gw)}}]),n}(lC),GB="mp4a.40.34";var FB=function(t){function n(n){var i;return(i=t.call(this)||this).mediasource=void 0,i.audioTrackBuffer=void 0,i.videoTrackBuffer=void 0,i.Jlt=!1,i.CE=function(){var t=i.Jlt;i.Jlt=i.Uj,!t&&i.Jlt?i.dispatchEvent("updatestart"):t&&!i.Jlt&&i.dispatchEvent("updateend")},i.mediasource=n,i.audioTrackBuffer=new YB(n),i.videoTrackBuffer=new YB(n),i.audioTrackBuffer.addEventListener("updatestart",i.CE),i.videoTrackBuffer.addEventListener("updatestart",i.CE),i.audioTrackBuffer.addEventListener("updateend",i.CE),i.videoTrackBuffer.addEventListener("updateend",i.CE),i.Jl(),i}U(n,t);var i=n.prototype;return i.Xit=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.mediasource.open){t.next=2;break}return t.abrupt("return");case 2:return i=[],n.R$&&i.push(this.audioTrackBuffer.Xit(n.metadata.R$,n.R$,n.metadata.R$&&n.metadata.R$.G5===GB?n.metadata.R$.ab:NaN,n.metadata.Q6)),n.U$&&i.push(this.videoTrackBuffer.Xit(n.metadata.U$,n.U$,NaN,n.metadata.Q6)),t.next=7,N.all(i);case 7:this.hA&&(this.audioTrackBuffer.nct(),this.videoTrackBuffer.nct());case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.nct=function(){var t=N.coroutine(rr.mark(function t(n,i){var e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],n&&e.push(this.audioTrackBuffer.yP()),i&&e.push(this.videoTrackBuffer.yP()),t.next=5,N.all(e);case 5:this.hA&&(this.audioTrackBuffer.nct(),this.videoTrackBuffer.nct());case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.FC=function(t){var n,i={};for(var e in t)if(q.call(t,e)){var r=t[e];if(r.U$){var s='video/mp4; codecs="'+r.U$+'"';this.videoTrackBuffer.qlt(s),i.U$=this.videoTrackBuffer}if(r.R$){var u=(n=r.R$)!==GB||Ky?'audio/mp4; codecs="'+n+'"':"audio/mpeg";this.audioTrackBuffer.qlt(u),i.R$=this.audioTrackBuffer}0}return i},i.Jl=function(t){var n=!1,i=!1;this.Jlt=!1,this.audioTrackBuffer.Jl(function(){if(n=!0,i&&t)return t()}),this.videoTrackBuffer.Jl(function(){if(i=!0,n&&t)return t()})},i.Flt=function(t){this.audioTrackBuffer.Flt(t),this.videoTrackBuffer.Flt(t)},i.S7=function(t){t&&-1===t.indexOf("audio")||this.audioTrackBuffer.S7(),t&&-1===t.indexOf("video")||this.videoTrackBuffer.S7()},z(n,[{key:"uw",get:function(){var t=this.audioTrackBuffer.uw,n=this.videoTrackBuffer.uw;return t&&n?ix(t,n):t||n||$O}},{key:"fR",get:function(){return this.audioTrackBuffer.uw||$O}},{key:"vR",get:function(){return this.videoTrackBuffer.uw||$O}},{key:"Uj",get:function(){return this.audioTrackBuffer.Uj||this.videoTrackBuffer.Uj}},{key:"hA",get:function(){return this.audioTrackBuffer.hA&&this.videoTrackBuffer.hA}}]),n}(lC),VB=1,HB=.05,WB=.01;function XB(t,n){for(var i=n.length,e=0;e<i;e+=1)if(n.start(e)>t)return e;return-1}function ZB(t,n,i,e){var r=sx(n,t),s=t;if(!(!e&&r>=0&&t<n.end(r)-HB)){var u,o;do{if((u=XB(t,n))<0)return;t=(o=n.start(u)+WB)+HB}while(n.end(u)-o<HB);for(var h=o-s,c=ix(new KO([{ab:s,vb:o}]),i),a=0;a<c.length;a++)h-=c.end(a)-c.start(a);return e&&r>=0&&(h-=n.end(r)-s),h<VB?o:void 0}}var qB=100,JB=1e-4,KB=500,$B=e_,tQ=Z.Er,nQ=5,iQ=["resize","volumechange"],eQ=function(n){function i(t,i){var e;return(e=n.call(this)||this).Klt=void 0,e.CT=void 0,e.$lt=!0,e.hA=!1,e.tgt=!1,e.ngt=!1,e.igt=null,e.vh=!1,e.Tlt=null,e.Ilt=null,e.egt=null,e.Dlt=!1,e.rgt=0,e.sgt=am.Xb(),e.Jft=1,e.ugt=!1,e.TY=!1,e.dA=!1,e.ogt=new gs,e.hgt=!1,e.cgt=!1,e.agt=void 0,e.fgt=null,e.vgt=null,e.dgt=El.Zg,e.lgt=!1,e.configuration={},e.loading=!1,e.loaded=!1,e.ggt=function(){e.lgt=!1,e.Agt(),e.wgt(),e.ygt()},e._gt=function(){e.Mgt(),e.ygt(),e.kgt()},e.WT=function(){e.mgt(),e.Mgt(),e.SY()?e.dispatchEvent("playing"):e.lgt=!0},e.pgt=function(){e.lgt=!1,e.Agt(),e.PA()},e.fY=function(){e.Ngt()},e.HT=function(){e.Dgt(),e.kgt()},e.VP=function(){var t=e.dgt,n=e.Ng;t!==n&&(e.dgt=n,e.dispatchEvent(new fg(e.yvt(),n))),e.kgt()},e.wgt=function(){e.rgt&&(a(e.rgt),e.rgt=0,tQ&&(e.CT.sI.removeEventListener("timeupdate",e.jV),e.removeEventListener(Wl.Rl,e.zV)))},e.Tgt=function(){e.rgt||(e.rgt=c(e.Igt,KB)),tQ&&(e.CT.sI.addEventListener("timeupdate",e.jV),e.addEventListener(Wl.Rl,e.zV),e.jV()),e.Igt()},e.bgt=function(){var t=e.yvt(),n=rx(e.Egt,t);e.CT.fA||e.dA&&!n||e.Lgt()||e.Tgt()},e.Igt=function(t){if(!(e.fgt||void 0===t&&e.cgt)){var n,i=e.yvt(),r=e.uw;if(void 0===t){if(void 0===(n=ZB(i,r,e.Egt,e.tgt)))return}else{if(!rx(r,t))return;n=t}var s=function(){e.CT.sI.currentTime=n,e.Sgt(n),e.wgt(),e.cgt=!0};Wt(n,i)?e.fgt=o(function(){e.fgt=null,i=e.yvt(),Wt(n,i)&&(n+=1e3*KB,s())},KB):s()}},e.wH=function(){var t=e.egt;if(e.jgt(),e.CT.sI.readyState===El.Zg)return e.egt=t,void e.CT.sI.addEventListener("loadedmetadata",e.wH);l.abs(e.CT.sI.currentTime-t)<JB?e.HT():(e.CT.sI.currentTime=t,e.cgt=!1,e.fY()),e.egt=null,e.AO(e.Jft),e.CT.cH(),e.Cgt(t)&&e.PA()},e.Ogt=function(){if(!e.tgt){var t=e.CT.sI,n=e.uw,i=t.currentTime;e.xgt(n,i)&&(e.tgt=!0,e.Mgt(),i=t.currentTime,e.xgt(n,i)?e.tgt=!0:e.tgt=!1,e.VP()),e.vgt=i}},e.mgt=function(){e.Agt(),e.igt=c(e.Ogt,qB)},e.Agt=function(){e.tgt=!1,a(e.igt)},e.zgt=function(){e.tgt&&(e.tgt=!1,e.VP())},e.jV=function(){var t=e.Ilt;if(t)if(t.hA)e.CV();else{var n=t.fR,i=t.vR;if(0!==n.length&&0!==i.length){var r=e.yvt();if(r<n.start(0)||r<i.start(0))e.CV();else rx(n,r)!==rx(i,r)?e.OV():e.CV()}else e.CV()}},e.zV=function(){if(!(e.dA||e.cgt||e.CT.sI.seeking||e.Ng>=El.Kg)){var t=e.Ilt;if(t){var n=e.yvt(),i=am.Vb(t.fR),r=am.Vb(t.vR);if(i.NI(n)&&r.NI(n))i.Sb(r).zb(n-nQ,n)&&(e.CT.sI.currentTime=n,e.cgt=!0)}}},e.Rgt=function(){e.Tlt.open=!0,e.Tlt.removeEventListener("sourceopen",e.Rgt),e.Tlt.removeEventListener("webkitsourceopen",e.Rgt)},e.mF=function(t){var n=e.CT.sI.error&&e.CT.sI.error.code;n&&e.FT(new wC(AC.eK,{code:"VEE"+n}))},e.Xo=function(t){e.dispatchEvent({type:t.type})},e.Ugt=function(){e.Ilt&&e.Ilt.hA&&e.dispatchEvent("durationchange")},e.Bgt=function(){e.removeEventListener("Qgt",e.Bgt),e.hgt=!1,e.Pgt(e.Jft)},e.Klt=t,e.CT=i,e}U(i,n);var r=i.prototype;return r.Pgt=function(t){this.TY&&(t=0),this.CT.vA=t,0!==t||$B?this.ugt&&(this.ugt=!1,zB(this.CT.BA())):(this.ugt=!this.CT.fA||this.ugt,this.CT.QA()),this.ygt()},r.AO=function(t){this.Jft=t,this.hgt||this.Pgt(t)},r.Ygt=function(t){var n=sx(this.Egt,t);return-1===n?null:this.Egt.end(n)},r.Ngt=function(){this.cgt||this.dA||(this.dA=!0,this.dispatchEvent("seeking"))},r.Dgt=function(){this.cgt=!1,this.Ggt(),this.dA&&(this.dA=!1,this.dispatchEvent("seeked")),this.bgt()},r.Mgt=function(){this.cgt||this.bgt()},r.Ggt=function(){this.agt&&(h(this.agt),this.agt=void 0)},r.Sgt=function(t){var n=this;this.agt=o(function(){n.Igt(t+2)},750)},r.kgt=function(){this.lgt&&this.SY()&&(this.lgt=!1,this.dispatchEvent("playing"))},r.ygt=function(){var t=this.$lt,n=this.paused;this.$lt=n,t&&!n?this.dispatchEvent("play"):!t&&n&&this.dispatchEvent("pause")},r.NP=function(t,n){if(!(t+.001>n)){var i=new am([t,n]);this.sgt=this.sgt.Lb(i).jb(am.Vb(this.uw)),this.sgt.NI(this.yvt())&&this.bgt()}},r.Cgt=function(t){return t>=this.CT.sI.duration-(this.paused?0:.5)},r.Fgt=function(t){return w(this.CT.sI.duration)||(t=l.min(t,this.CT.sI.duration)),l.max(0,t)},r.jgt=function(){this.egt=null,this.CT.sI.removeEventListener("loadedmetadata",this.wH)},r.CY=function(){return this.Ng<El.Kg},r.SY=function(){return!(this.paused||this.ended||this.error||this.CY())},r.xgt=function(t,n){var i=function(t,n){for(var i=n.length,e=0;e<i;e+=1){if(n.start(e)>t)return e;if(t<n.end(e)-HB)return e}return-1}(n,t),e=i<0?0:t.end(i),r=i<0?0:t.start(i);if(this.vgt&&this.vgt===n){if(this.Cgt(n))return!1;if(r>n||e-n<1/6)return!0}return!1},r.OV=function(){this.TY||(this.TY=!0,this.Pgt(0),this.VP())},r.CV=function(){this.TY&&(this.TY=!1,this.AO(this.Jft),this.CT.sI.currentTime=this.CT.sI.currentTime,this.VP())},r.Vgt=function(){var t=this.CT.sI;t.addEventListener("timeupdate",this.zgt),this.CT.qo(rh.Ta,this.ggt),this.CT.qo(rh.Ia,this._gt),this.CT.qo(rh.ya,this.pgt),t.addEventListener("seeking",this.fY),t.addEventListener("seeked",this.HT);for(var n=0;n<iQ.length;n++){var i=iQ[n];t.addEventListener(i,this.Xo)}t.addEventListener("error",this.mF),t.addEventListener("durationchange",this.Ugt),this.CT.qo(rh.Qa,this.Xo),this.CT.qo(Wl.Rl,this.VP),this.CT.qo(Wl.sA,this.WT)},r.Hgt=function(){var t=this.CT.sI;t.removeEventListener("timeupdate",this.zgt),this.CT.th(rh.Ta,this.ggt),this.CT.th(rh.Ia,this._gt),this.CT.th(rh.ya,this.pgt),t.removeEventListener("seeking",this.fY),t.removeEventListener("seeked",this.HT);for(var n=0;n<iQ.length;n++){var i=iQ[n];t.removeEventListener(i,this.Xo)}t.removeEventListener("error",this.mF),t.removeEventListener("durationchange",this.Ugt),this.CT.th(rh.Qa,this.Xo),this.CT.th(Wl.Rl,this.VP),this.CT.th(Wl.sA,this.WT)},r.Wgt=function(){var n=this.CT.sI,i=e.MediaSource||e.WebKitMediaSource||null;null!==i?t.URL&&t.URL.createObjectURL||t.webkitURL&&t.webkitURL.createObjectURL||t.createObjectURL?(this.Xgt(),this.Tlt=new i,this.Tlt.addEventListener("sourceopen",this.Rgt),this.Tlt.addEventListener("webkitsourceopen",this.Rgt),n.src=zO(this.Tlt),n.load()):this.FT(new wC(AC.sK,{code:"MVE2720"})):this.FT(new wC(AC.sK,{code:"MVE2650"}))},r.Xgt=function(){if(this.Dlt=!1,this.Ilt&&(this.Ilt.Jl(),this.Ilt=null),this.Tlt){this.ogt.Po();var t=this.CT.sI;t.src&&(RO(t.src),Re(t)),this.Tlt=null}},r.setup=function(){this.Wgt(),this.Vgt(),this.CT.sI.parentNode!==this.Klt&&this.Klt.appendChild(this.CT.sI)},r.FT=function(t){this.vh=t,this.dispatchEvent({type:"error",error:t})},r.Lgt=function(){return this.Ilt&&this.Ilt.Uj},r.Zgt=function(t){var n=this.yvt()-l.max(30,3*t.o0.RK.targetDuration);this.dispatchEvent("Qgt"),this.Ilt&&!t.B6&&this.Ilt.Flt(n),this.bgt()},r.Xit=function(t){if(!this.Tlt.open||"closed"===this.Tlt.readyState)return N.reject("qgt");if(!this.Ilt)return N.reject("Jgt");var n=this.Kgt(t);return this.ngt||(this.ngt=!0,this.dispatchEvent({type:"canplay"},!0)),n},r.Kgt=function(){var t=N.coroutine(rr.mark(function t(n){var i,e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.metadata,(e=[]).push(this.Ilt.Xit(n)),i.B6&&e.push(this.nct(!!n.R$,!!n.U$)),n=null,t.next=7,N.all(e);case 7:this.Zgt(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.nct=function(t,n){return this.Tlt.open&&"closed"!==this.Tlt.readyState?this.Ilt?this.Ilt.nct(t,n):N.reject("Jgt"):N.reject("qgt")},r.play=function(){var t=this.CT.vA;this.hA=!1,0!==this.CT.vA||$B?(zB(this.CT.BA()),this.CT.cH(),this.CT.vA=t):this.ugt=!0,this.ygt()},r.pause=function(){0!==this.CT.vA||$B?this.CT.QA():this.ugt=!1,this.ygt()},r.PA=function(){this.hA||(this.hA=!0,this.CT.QA(),this.dispatchEvent("ended"))},r.load=function(){this.dispatchEvent("loadstart"),this.loaded=!0},r.unload=function(){return a(this.igt),this.igt=null,this.wgt(),this.jgt(),this.Xgt(),this.Hgt(),this.$o(),this.CT.sI},r.reset=function(){a(this.igt),this.igt=null,this.wgt(),this.jgt(),this.$lt=!0,this.hA=!1,this.tgt=!1,this.ngt=!1,this.vh=!1,this.dA=!1,this.lgt=!1,this.CV(),this.Wgt(),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},r.KA=function(){return this.CT.sI},r.yvt=function(){return null===this.egt?this.CT.sI.currentTime:this.egt},r.Kvt=function(t){var n=this.Ygt(t);t=this.Fgt(t),this.tgt=!1,this.CT.sI.error&&(this.ngt=!1,this.vh=!1,this.Wgt()),this.hA&&(this.hA=this.Cgt(t)),this.wgt(),null!==n&&(t=n),this.jgt(),this.egt=t,this.dA=!0,this.dispatchEvent("Vvt"),this.dispatchEvent("seeking"),this.wH()},r.$gt=function(t){return this.Tlt.open?N.resolve(null):Id(this.Tlt,"sourceopen",t)},r.tAt=function(t,n,i){ys(i),n>0&&(this.Tlt.duration=n),this.Ilt=new FB(this.Tlt);var e=this.Ilt.FC(t);return this.dispatchEvent("Alt"),this.Ilt.addEventListener("updatestart",this.wgt),this.Ilt.addEventListener("updateend",this.bgt),this.Dlt=!0,this.dispatchEvent("Dlt"),e},r.Rvt=function(t,n,i){var e=this;this.ogt.Po();var r=new gs;return r.Yo(i),this.ogt=r,this.Ilt?N.resolve(null):this.$gt(r.Fo).then(function(){return e.tAt(t,n,i)})},r.V1=function(t){Z.Yr&&(this.hgt=!0,this.Pgt(0),this.removeEventListener("Qgt",this.Bgt),this.addEventListener("Qgt",this.Bgt),this.Ilt&&this.Ilt.S7(t))},r.canPlayCodecs=function(t){return this.CT.sI.canPlayType('video/mp4; codecs="'+t+'"')},z(i,[{key:"Egt",get:function(){return this.sgt.DI()}},{key:"Ng",get:function(){var t=this.CT.Ng;return t>El.Jg&&(this.tgt||this.TY)?El.Jg:t}},{key:"hw",get:function(){return this.CT.sI}},{key:"uw",get:function(){return this.Ilt?this.Ilt.uw:this.CT.sI.buffered}},{key:"fR",get:function(){return this.Ilt?this.Ilt.fR:$O}},{key:"vR",get:function(){return this.Ilt?this.Ilt.vR:$O}},{key:"volume",get:function(){return this.CT.sI.volume},set:function(t){this.CT.sI.volume=t}},{key:"duration",get:function(){return this.CT.sI.duration}},{key:"muted",get:function(){return this.CT.sI.muted},set:function(t){this.CT.sI.muted=t}},{key:"paused",get:function(){return this.CT.fA&&!this.ugt}},{key:"played",get:function(){return this.CT.sI.played}},{key:"poster",get:function(){return this.CT.sI.poster},set:function(t){t?this.CT.sI.poster=t:this.CT.sI.removeAttribute("poster")}},{key:"controls",get:function(){return this.CT.sI.controls},set:function(t){t?this.CT.sI.controls=t:this.CT.sI.removeAttribute("controls")}},{key:"ended",get:function(){return this.hA}},{key:"seeking",get:function(){return this.dA}},{key:"error",get:function(){return this.vh||this.CT.sI.error}},{key:"width",get:function(){return this.CT.sI.offsetWidth||this.CT.sI.parentNode.offsetWidth}},{key:"height",get:function(){return this.CT.sI.offsetHeight||this.CT.sI.parentNode.offsetHeight}},{key:"vA",get:function(){return this.Jft},set:function(t){var n=this.Jft;t>0&&(this.AO(t),this.Jft!==n&&this.dispatchEvent("ratechange"))}},{key:"gA",get:function(){return this.CT.sI.videoWidth||0}},{key:"lA",get:function(){return this.CT.sI.videoHeight||0}},{key:"zvt",get:function(){return this.Dlt}}]),i}(lC),rQ=["seeked","seeking","playing","pause","play","resize","warning","ended","durationchange","nAt","V1",Wl.Rl],sQ=.04,uQ=.25,oQ=4,hQ=.75,cQ=1.5,aQ=.25,fQ=function(t){function n(){var n;return(n=t.call(this)||this).iAt=null,n.eAt=null,n.tE=!1,n.rE=1,n.iE=1,n.rAt=null,n.sAt=void 0,n.vlt=function(t){n.dispatchEvent(t)},n.uAt=function(t){n.eAt||n.dispatchEvent(t)},n.oAt=function(t){var i=t.error||n.eAt.error;n.audioStream=null,n.rAt=i.message||i.toString(),n.dispatchEvent({type:"warning",warning:n.rAt})},n.hAt=function(){n.eAt&&!n.eAt.loaded||n.iAt&&!n.iAt.loaded||(n.eAt&&(n.eAt.removeEventListener("loaded",n.hAt),n.eAt.play()),n.iAt&&(n.iAt.removeEventListener("loaded",n.hAt),n.iAt.play()))},n.cAt=function(){n.aAt(),n.eAt&&n.iAt&&(n.eAt.addEventListener("timeupdate",n.fAt),n.iAt.addEventListener("timeupdate",n.fAt))},n.aAt=function(){h(n.sAt),n.eAt&&n.eAt.removeEventListener("timeupdate",n.fAt),n.iAt&&(n.iAt.vA=n.iE,n.iAt.removeEventListener("timeupdate",n.fAt))},n.vAt=function(){n.Ng<El.Kg&&n.aAt()},n.fAt=function(){if(h(n.sAt),n.eAt&&n.iAt){var t=n.eAt.vA,i=n.eAt.yvt()-n.iAt.yvt(),e=l.max(oQ,cQ*t),r=l.min(uQ,hQ*t);if(l.abs(i)<sQ)n.iAt.vA!==t&&(n.iAt.vA=t);else{var s=aQ,u=t*(i/s+1);(u<r||u>e)&&(s=i/((u=i>0?e:r)/t-1)),n.iAt.vA=u,n.sAt=o(n.fAt,1e3*s)}}else n.aAt()},n.addEventListener("playing",n.cAt),n.addEventListener("ended",n.aAt),n.addEventListener(Wl.Rl,n.vAt),n}U(n,t);var i=n.prototype;return i.Q1=function(t,n){n?(t.addEventListener("timeupdate",this.vlt),t.addEventListener("error",this.oAt)):(t.addEventListener("timeupdate",this.uAt),t.addEventListener("error",this.vlt));for(var i=0;i<rQ.length;i++){var e=rQ[i];t.addEventListener(e,this.vlt)}},i.ih=function(t){t.removeEventListener("timeupdate",this.vlt),t.removeEventListener("timeupdate",this.uAt),t.removeEventListener("timeupdate",this.fAt),t.removeEventListener("error",this.vlt),t.removeEventListener("error",this.oAt),t.removeEventListener("loaded",this.hAt);for(var n=0;n<rQ.length;n++){var i=rQ[n];t.removeEventListener(i,this.vlt)}},i.dAt=function(t){this.eAt&&this.eAt.dAt(t),this.iAt&&this.iAt.dAt(t)},i.play=function(){if(this.eAt&&!this.eAt.loaded||this.iAt&&!this.iAt.loaded)return this.eAt&&this.eAt.addEventListener("loaded",this.hAt),void(this.iAt&&this.iAt.addEventListener("loaded",this.hAt));this.hAt()},i.pause=function(){this.eAt&&(this.eAt.removeEventListener("loaded",this.hAt),this.eAt.pause()),this.iAt&&(this.iAt.removeEventListener("loaded",this.hAt),this.iAt.pause()),this.aAt()},i.load=function(t){t?(-1!==t.indexOf("audio")&&this.eAt&&this.eAt.load(),-1!==t.indexOf("video")&&this.iAt&&this.iAt.load()):(this.eAt&&this.eAt.load(),this.iAt&&this.iAt.load())},i.nd=function(t){this.$o(),this.rAt=null,t?(-1!==t.indexOf("audio")&&this.eAt&&(this.eAt.nd(),this.eAt=null),-1!==t.indexOf("video")&&this.iAt&&(this.iAt.nd(),this.iAt=null)):(this.eAt&&(this.eAt.nd(),this.eAt=null),this.iAt&&(this.iAt.nd(),this.iAt=null))},i.V1=function(t){this.eAt&&this.eAt.pause(),this.iAt&&this.iAt.pause(),this.aAt(),t&&-1===t.indexOf("audio")||!this.eAt||this.eAt.V1(),t&&-1===t.indexOf("video")||!this.iAt||this.iAt.V1()},i.Xit=function(t){this.eAt&&t.R$&&this.eAt.Xit(t),this.iAt&&t.U$&&this.iAt.Xit(t)},i.lAt=function(t){return this.iAt?this.iAt.lAt(t):""},i.gAt=function(){return this.iAt?this.iAt.gAt():0},i.AAt=function(){return this.iAt?this.iAt.AAt():0},i.KA=function(){return this.iAt&&this.iAt.KA()},i.yvt=function(){return this.eAt?this.eAt.yvt():this.iAt?this.iAt.yvt():NaN},i.Kvt=function(t,n){this.eAt&&this.eAt.Kvt(t,n),this.iAt&&this.iAt.Kvt(t,n)},z(n,[{key:"uw",get:function(){return this.eAt&&this.iAt?ix(this.eAt.uw,this.iAt.uw):this.eAt?this.eAt.uw:this.iAt?this.iAt.uw:$O}},{key:"volume",get:function(){return this.rE},set:function(t){this.rE!==t&&(this.rE=t,this.eAt&&(this.eAt.volume=t),this.dispatchEvent("volumechange"))}},{key:"duration",get:function(){return this.eAt&&this.eAt.duration||this.iAt&&this.iAt.duration||NaN}},{key:"muted",get:function(){return this.tE},set:function(t){this.tE!==t&&(this.tE=t,this.eAt&&(this.eAt.muted=t),this.dispatchEvent("volumechange"))}},{key:"loaded",get:function(){return!(!this.eAt&&!this.iAt)&&(!(this.eAt&&!this.eAt.loaded)&&!(this.iAt&&!this.iAt.loaded))}},{key:"paused",get:function(){return!this.eAt&&!this.iAt||(this.eAt&&this.eAt.paused||this.iAt&&this.iAt.paused||!1)}},{key:"ended",get:function(){return this.eAt&&this.eAt.ended||this.iAt&&this.iAt.ended||!1}},{key:"seeking",get:function(){return this.eAt&&this.eAt.seeking||this.iAt&&this.iAt.seeking||!1}},{key:"error",get:function(){return this.eAt&&this.eAt.error||this.iAt&&this.iAt.error}},{key:"warning",get:function(){return this.rAt||this.eAt&&this.eAt.warning||this.iAt&&this.iAt.warning}},{key:"audioStream",get:function(){return this.eAt},set:function(t){this.eAt&&(this.ih(this.eAt),this.eAt.nd()),this.eAt=t,this.eAt&&(this.eAt.volume=this.rE,this.eAt.muted=this.tE,this.eAt.vA=this.iE,this.Q1(this.eAt,!0))}},{key:"videoStream",get:function(){return this.iAt},set:function(t){this.iAt&&(this.ih(this.iAt),this.iAt.nd()),this.iAt=t,this.iAt&&(this.iAt.vA=this.iE,this.Q1(this.iAt,!1))}},{key:"vA",get:function(){return this.iE},set:function(t){this.iE!==t&&(t<0||(this.iE=t,this.eAt&&(this.eAt.vA=t),this.iAt&&(this.iAt.vA=t),this.dispatchEvent("ratechange")))}},{key:"Ng",get:function(){return this.eAt&&this.iAt?l.min(this.eAt.Ng,this.iAt.Ng):this.eAt?this.eAt.Ng:this.iAt?this.iAt.Ng:El.Zg}},{key:"gA",get:function(){return this.iAt?this.iAt.gA:0}},{key:"lA",get:function(){return this.iAt?this.iAt.lA:0}}]),n}(lC),vQ=function(){function t(t,n,i,e){var r=this;this.wAt=void 0,this.yAt=void 0,this.oA=void 0,this.ij=void 0,this._At=void 0,this.MAt=void 0,this.Yw=void 0,this.Ev=0,this.Zv=0,this.running=!1,this.kAt=function(t){return r.Kh(t)},this.wAt=t,this.yAt=n,this.oA=i,this.ij=e,this._At=t.Mh(),this.MAt=(n-this._At)/(i||1)}var n=t.prototype;return n.mAt=function(){return this.wAt.sa(this.yAt),this.running=!1,this.pAt(),this.ij()},n.ab=function(){var t=this;this.running=!0,this.oA?this.NAt():dC(function(){t.running&&t.mAt()})},n.Kh=function(t){if(this.pAt(),this.running){void 0===this.Yw&&(this.Yw=t);var n=this._At,i=this.MAt,e=this.yAt,r=this.wAt,s=n+l.max(0,t-this.Yw)*i;if(n>=e&&s<=e||n<e&&s>=e)return this.mAt();if(r.sa(s))return this.mAt();this.NAt()}},n.NAt=function(){this.Ev=NN(this.kAt),this.Zv=kN(this.kAt)},n.pAt=function(){DN(this.Ev),pN(this.Zv)},t}();var dQ=function(t){function n(n,i){var e;return(e=t.call(this)||this).DAt=void 0,e.Gs=void 0,e.TAt=null,e.IAt=null,e.bAt=NaN,e.EAt=!1,e.LAt=!1,e.SAt=1,e.jAt=void 0,e.CAt=void 0,e.OAt=function(t){e.xAt(t)||e.dispatchEvent(t)},e.DAt=n,e.Gs=i,e}U(n,t);var i=n.prototype;return i.pause=function(){this.DAt.pause()},i.play=function(){zB(this.DAt.play()),this.zAt()},i.RAt=function(t){if(!(this.Ng<El.Kg))return this.S7(),this.EAt=!0,this.OAt({type:"canplay"}),t&&t();this.jAt=o(this.CAt,100)},i.qh=function(t){this.LAt=!0,this.EAt=!1,this.DAt.removeEventListener("canplay",this.CAt),this.CAt=this.RAt.bind(this,t),this.DAt.addEventListener("canplay",this.CAt),this.DAt.load(),this.jAt=o(this.CAt,100)},i.S7=function(){this.LAt=!1,this.DAt.removeEventListener("canplay",this.CAt),void 0!==this.jAt&&(h(this.jAt),this.jAt=void 0)},i.UAt=function(t){if(this.pause(),this.S7(),null===t)return this.TAt=null,void(this.EAt=!1);this.EAt=!1,this.IAt&&this.IAt.att(this.DAt.src),this.IAt=t[this.Gs],this.DAt.src=this.IAt.ftt,this.TAt=t},i.KA=function(){return this.DAt},i.BAt=function(t){this.bAt=l.max(t||0,0),this.DAt.currentTime=this.bAt},i.QAt=function(){return this.DAt.currentTime},i.PAt=function(t){var n=this.TAt&&this.TAt.metadata,i=n&&n.ab,e=n&&n[this.Gs].ab,r=n&&n[this.Gs].oA;return!!this.w3&&(!(t<i)&&t<e+l.min(r,this.DAt.duration))},i.zAt=function(){this.SAt!==this.DAt.playbackRate&&(this.DAt.playbackRate=this.SAt,r_&&this.SAt>0&&this.Ng!==El.Zg&&(this.DAt.currentTime=this.DAt.currentTime))},i.xAt=function(t){return!!(r_&&"seeked"===t.type&&l.abs(this.DAt.currentTime-this.bAt)>.04)},i.addEventListener=function(n,i){this.XJ(n)||this.DAt.addEventListener(n,this.OAt),t.prototype.addEventListener.call(this,n,i)},i.removeEventListener=function(n,i){t.prototype.removeEventListener.call(this,n,i),this.XJ(n)||this.DAt.removeEventListener(n,this.OAt)},i.$o=function(){for(var n=0,i=this.ZJ();n<i.length;n++){var e=i[n];this.DAt.removeEventListener(e,this.OAt)}t.prototype.$o.call(this)},i.unload=function(){this.IAt&&this.IAt.att(this.DAt.src),this.$o()},z(n,[{key:"volume",get:function(){return this.DAt.volume},set:function(t){this.DAt.volume=t}},{key:"muted",get:function(){return this.DAt.muted},set:function(t){this.DAt.muted=t}},{key:"style",get:function(){return this.DAt.style}},{key:"ab",get:function(){return this.TAt?this.TAt.metadata[this.Gs].ab:NaN}},{key:"vb",get:function(){return this.TAt?this.ab+this.TAt.metadata[this.Gs].oA:NaN}},{key:"YAt",get:function(){return this.TAt?this.ab+this.GAt:NaN},set:function(t){this.TAt?this.GAt=t-this.ab:this.GAt=0}},{key:"GAt",get:function(){return this.QAt()},set:function(t){this.BAt(t)}},{key:"FAt",get:function(){return this.TAt},set:function(t){this.UAt(t)}},{key:"htt",get:function(){return this.TAt&&this.TAt.metadata.B6}},{key:"w3",get:function(){return!(!this.EAt||!this.TAt)}},{key:"VAt",get:function(){return!(!this.LAt||!this.TAt)}},{key:"vA",get:function(){return this.SAt},set:function(t){t>=0&&this.SAt!==t&&(this.SAt=t,this.zAt())}},{key:"fA",get:function(){return this.DAt.paused}},{key:"hA",get:function(){return this.DAt.ended}},{key:"vh",get:function(){return this.DAt.error}},{key:"gA",get:function(){return this.DAt.videoWidth}},{key:"lA",get:function(){return this.DAt.videoHeight}},{key:"Ng",get:function(){return this.DAt.readyState}}]),n}(lC);function lQ(t,n){return i=t.FAt.metadata.o0,e=n.FAt.metadata.o0,i.bandwidth&&e.bandwidth&&ts(i.bandwidth,e.bandwidth)||i.resolution&&e.resolution&&ts(i.resolution.width*i.resolution.height,e.resolution.width*e.resolution.height)||$r(i.lK,e.lK)||ts(t.vb,n.vb);var i,e}function gQ(t){return{ab:t.ab,vb:t.vb}}function AQ(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.ab<=n&&n<e.vb)return i}return-1}function wQ(t,n,i){return{ab:n?i.metadata.q7:i.metadata[t].ab,vb:i.metadata[t].ab+i.metadata[t].oA}}function yQ(t,n,i){return new KO([wQ(t,n,i)])}function _Q(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r];e.push(wQ(t,n,s))}return nx(new KO(e))}function MQ(t,n,i){if(!n)return!1;var e=n.metadata[t].ab,r=e+n.metadata[t].oA;return e<=i&&i<=r}function kQ(t,n){var i=sx(t,n);return i<0?n:t.end(i)}var mQ=function(){function t(t){this.Ao=void 0,this.J3=[],this.HAt=$O,this.WAt=$O,this.Ao=t}var n=t.prototype;return n.Xit=function(t){var n,i;this.J3=function(t,n){for(var i=[],e=function(t,n,e){var r=i.length&&i[i.length-1];r&&r.FAt===t?r.vb=e:i.push({FAt:t,ab:n,vb:e})},r=0;r<t.length;r++){var s=t[r];if(s.vb<=n.ab)e(s.FAt,s.ab,s.vb);else if(s.ab>=n.vb)n.ab<n.vb&&(e(n.FAt,n.ab,n.vb),n.ab=n.vb),e(s.FAt,s.ab,s.vb);else{var u=void 0,o=void 0;lQ(n,s)>=0?(u=s,o=n):(u=n,o=s);var h=u.ab,c=o.ab,a=l.min(o.vb,s.vb),f=l.min(u.vb,s.vb);h<c&&e(u.FAt,h,c),c<a&&e(o.FAt,c,a),a<f&&e(u.FAt,a,f),n.ab=l.max(n.ab,s.vb)}}return n.ab<n.vb&&e(n.FAt,n.ab,n.vb),i}(this.J3,function(t,n){var i=n.metadata[t].ab;return{FAt:n,ab:i,vb:i+n.metadata[t].oA}}(this.Ao,t)),this.HAt=ox(this.HAt,yQ(this.Ao,!1,t)),this.WAt=ox(this.WAt,yQ(this.Ao,!0,t)),this.WAt=(n=this.WAt,i=this.HAt,ix(n,ex(i)))},n.XAt=function(t){t=this.ZAt(t);var n=AQ(this.J3,t);return n>=0?this.J3[n].FAt:null},n.qAt=function(t,n,i,e){t=this.ZAt(t);var r=this.J3,s=AQ(r,t);if(s<0)return null;var u=r[s];if(!i||!MQ(this.Ao,i,t))return e&&MQ(this.Ao,e,t)?null:u.FAt;if(i!==u.FAt){if(e&&e===u.FAt)return null;if(u.vb-t>n)return u.FAt}for(var o=s+1;o<r.length;o++){var h=r[o];if(e&&e===h.FAt)return null;if(h.vb-t>n)return h.FAt;for(var c=[i],a=o+1;a<r.length;a++)c.push(r[a].FAt);var f=_Q(this.Ao,!1,c);c.push(h.FAt);var v=_Q(this.Ao,!1,c);if(kQ(f,t)<kQ(v,t))return h.FAt}return null},n.JAt=function(t,n){for(var i=this.J3,e=i.length-1;e>=0;e--){var r=i[e];(r.vb<=t||r.ab>=n)&&us(i,e)}},n.Jl=function(){this.J3.length=0,this.HAt=$O,this.WAt=$O},n.ZAt=function(t){var n=ZB(t,this.uw,this.WAt,!1);return void 0===n?t:n},z(t,[{key:"uw",get:function(){var t=this.J3.map(gQ);return nx(new KO(t))}}]),t}(),pQ=5,NQ=30,DQ=function(t){function n(n,i){var e,r;(e=t.call(this)||this).KAt=void 0,e.Gs=void 0,e.$At=void 0,e.twt=void 0,e.nwt=void 0,e.Cc={R$:{iwt:100,ewt:100,rwt:100},U$:{iwt:500,ewt:100,rwt:200}},e.rE=void 0,e.xT=null,e.rAt=null,e.swt=null,e.uwt=void 0,e.owt=void 0,e.hwt=void 0,e.cwt=void 0,e.awt=null,e.fwt=void 0,e.vwt=void 0,e.dwt=0,e.lwt=null,e.gwt=!1,e.Vq=!1,e.Awt=0,e.wwt=0,e.ywt=El.Zg,e.Flt=function(){var t=e.yvt();e.nwt.JAt(t-pQ,t+NQ)},e._wt={Mwt:(r=sn(e),{qh:function(){r.hwt.addEventListener("ended",this.kwt),r.cwt.addEventListener("ended",this.mwt)},nd:function(){r.hwt.removeEventListener("ended",this.kwt),r.cwt.removeEventListener("ended",this.mwt)},pwt:function(){},kwt:function(){r.pause(),r.dispatchEvent({type:"ended",origin:r.hwt})},mwt:function(){r.pause(),r.dispatchEvent({type:"ended",origin:r.cwt})}}),cN:{_s:"cN",qh:function(){},nd:function(){},pwt:function(){}},Nwt:function(){var t=sn(e),n=function n(){t.hwt.removeEventListener("play",n),t.hwt.removeEventListener("timeupdate",i),t.hwt.addEventListener("timeupdate",i)},i=function n(){var i,e;t.hwt.fA||(!t.seeking&&t.hwt.FAt?(i=t.hwt,(e=t.cwt).w3&&TQ(i,e)>=0&&t.Dwt(t._wt.Twt)):t.hwt.removeEventListener("timeupdate",n))};return{_s:"Nwt",qh:function(){t._wt.Mwt.qh.call(this),this.Iwt(),this.pwt()},nd:function(){t._wt.Mwt.nd.call(this),t.hwt.removeEventListener("play",n),t.hwt.removeEventListener("timeupdate",i)},pwt:function(){t.hwt.FAt?t.pwt(t.cwt,t.bwt):t.pwt(t.hwt,t.bwt)},kwt:function(){var n=t.cwt.FAt;if(n&&n.metadata.Q6)return t.cwt.PAt(t.hwt.YAt)&&(t.cwt.YAt=t.hwt.YAt),t.Ewt(),void t.hwt.play();t._wt.Mwt.kwt.call(this)},mwt:function(){0},Iwt:function(){t.hwt.removeEventListener("play",n),t.hwt.fA?t.hwt.addEventListener("play",n):n.call(t.hwt)}}}(),Twt:function(){var t=sn(e),n=function(){e.Dwt(e._wt.Lwt)};return{_s:"Twt",qh:function(){t._wt.Mwt.qh.call(this),t.cwt.addEventListener("seeked",n);var i=TQ(t.hwt,t.cwt),e=t.Cc[t.Gs].iwt/1e3,r=l.min(i+e,t.cwt.vb);try{t.cwt.GAt=r}catch(n){t.Dwt(t._wt.Nwt),t.Swt(n.message)}},nd:function(){t._wt.Mwt.nd.call(this),t.cwt.removeEventListener("seeked",n)},pwt:function(){},kwt:function(){t._wt.Mwt.kwt.call(this)},mwt:function(){}}}(),Lwt:function(){var t,n=sn(e),i=function(){s()},r=function(){s()},s=function(){DN(t),e.cwt.YAt-e.hwt.YAt-1/60>0?t=NN(i):e.Dwt(e._wt.jwt)};return{_s:"Lwt",qh:function(){n._wt.Mwt.qh.call(this),n.hwt.addEventListener("timeupdate",r),s()},nd:function(){n._wt.Mwt.nd.call(this),DN(t),n.hwt.removeEventListener("timeupdate",r)},pwt:function(){},kwt:function(){n._wt.Mwt.kwt.call(this)},mwt:function(){n._wt.Mwt.mwt.call(this)}}}(),jwt:function(){var t,n=sn(e),i=function(){var t=e.Cwt(e.cwt),n=e.Cc[e.Gs].ewt/l.max(1,e.hwt.vA);return function(t,n,i,e){return new vQ(t,n,i,e)}(t,t.Owt,n,function(){e.Dwt(e._wt.xwt),e._wt.xwt.zwt()})},r=function(){e.swt.ab(),e.Dwt(e._wt.xwt)};return{_s:"jwt",qh:function(){n._wt.Mwt.qh.call(this);var e=n.Cc[n.Gs].rwt/l.max(1,n.hwt.vA);n.swt=i(),t=o(r,e),n.cwt.play()},nd:function(){n._wt.Mwt.nd.call(this),h(t),t=0},pwt:function(){},kwt:function(){n._wt.Mwt.kwt.call(this)},mwt:function(){n._wt.Mwt.mwt.call(this)}}}(),xwt:function(){var t=sn(e);return{_s:"xwt",qh:function(){t._wt.Mwt.qh.call(this)},nd:function(){t._wt.Mwt.nd.call(this),t.swt&&t.swt.mAt()},pwt:function(){},kwt:function(){t._wt.Mwt.kwt.call(this)},mwt:function(){t._wt.Mwt.mwt.call(this)},zwt:function(){t.swt=null,t.Ewt()}}}()},e.Rwt={Uwt:function(){var t=sn(e);return{qh:function(){},nd:function(){},pwt:function(){t.fwt.pwt()},Kvt:function(n,i,e,r){t.dwt=n,t.lwt=r,t.Dwt(t._wt.cN);var s=t.hwt===t.uwt?i:e,u=t.cwt===t.uwt?i:e;s&&t.hwt.PAt(n)?t.Bwt(t.Rwt.Qwt):u&&t.cwt.PAt(n)?t.Bwt(t.Rwt.Pwt):t.Bwt(t.Rwt.Ywt)}}}(),Ywt:function(){var t=sn(e),n=function(){e.bwt(),e.cwt.w3?(e.cwt.PAt(e.dwt)||(e.Gwt('Could not seek to exact timestamp "'+e.dwt+'", seeking instead to: "'+e.cwt.ab+'"'),e.dwt=e.cwt.ab),e.Bwt(e.Rwt.Pwt)):e.Bwt(e.Rwt.Uwt)};return{qh:function(){t.Fwt(),t.hwt.FAt=null,t.cwt.FAt=null,t.cwt.style.display="none",t.bwt(),this.pwt()},nd:function(){t.cwt.S7(),t.cwt.style.display=""},pwt:function(){t.cwt.FAt||t.pwt(t.cwt,n)},Kvt:function(n,i,e,r){t.Vwt(),t.vwt.Kvt(n,i,e,r)}}}(),Qwt:function(){var t=sn(e),n=function(){e.Bwt(e.Rwt.Uwt),e.Dwt(e._wt.Nwt),e.NY(),e.lwt&&(e.lwt.call(t),e.lwt=null)};return{qh:function(){t.hwt.addEventListener("seeked",n);try{t.hwt.YAt=t.dwt,t.NY()}catch(n){t.Swt(n.message)}},nd:function(){t.hwt.removeEventListener("seeked",n)},pwt:function(){},Kvt:function(n,i,e,r){t.Vwt(),t.vwt.Kvt(n,i,e,r)}}}(),Pwt:function(){var t=sn(e),n=function(){e.Bwt(e.Rwt.Uwt),e.Ewt(),e.lwt&&(e.lwt.call(t),e.lwt=null)};return{qh:function(){t.cwt.style.display="none",t.cwt.addEventListener("seeked",n);try{t.cwt.YAt=t.dwt,t.NY()}catch(n){t.Swt(n.message)}},nd:function(){t.cwt.style.display="",t.cwt.removeEventListener("seeked",n)},pwt:function(){},Kvt:function(n,i,e,r){t.Vwt(),t.vwt.Kvt(n,i,e,r)}}}()},e.bwt=function(){var t=e.Vq;e.Vq=e.uwt.VAt||e.owt.VAt,t&&!e.Vq&&e.dispatchEvent("updateend"),e.Hwt(),e.NY(),e.Wwt()},e.NY=function(){var t=e.Ng;t!==e.ywt&&(e.ywt=t,e.dispatchEvent(Wl.Rl))},e.KAt=n,e.Gs=i,e.nwt=new mQ(i),e.rE="U$"===i?0:1;var s=function(t){switch(t){case"R$":return"audio";case"U$":return"video"}}(i);return e.$At=IQ(s),e.twt=IQ(s),n.appendChild(e.$At),n.appendChild(e.twt),e.uwt=new dQ(e.$At,e.Gs),e.owt=new dQ(e.twt,e.Gs),e.hwt=e.uwt,e.cwt=e.owt,e.fwt=e._wt.Nwt,e.vwt=e.Rwt.Uwt,e.fwt.qh(),e.vwt.qh(),e.M1(),e.eg(),e}U(n,t);var i=n.prototype;return i.Xwt=function(t){return t===this.uwt?this.owt:this.uwt},i.Gwt=function(t){this.rAt=t,this.dispatchEvent({type:"warning",warning:this.rAt})},i.Swt=function(t){this.xT=t,this.dispatchEvent({type:"error",error:t})},i.Cwt=function(t){var n,i=this,e=this.Xwt(t);return n="U$"===this.Gs?{Mh:function(){if(i.awt!==t)return 0;var n=A(t.style.opacity);return w(n)?1:n},sa:function(n){n=Vt(n,0,1),e.style.opacity=""+(1-n),1===n&&(i.awt=t,t.style.zIndex="2",e.style.zIndex="1",e.style.opacity="1")},Owt:1,Zwt:function(){if(n.Mh()!==n.Owt)return n.sa(n.Owt)}}:{Mh:function(){return t.volume},sa:function(i){var r;try{t.volume=i}catch(t){r=t}try{e.volume=n.Owt-i}catch(t){r=t}return r},Owt:this.rE,Zwt:function(){if(n.Mh()!==n.Owt)return n.sa(n.Owt)}}},i.pwt=function(t,n){var i=this.nwt.qAt(this.yvt(),1,this.hwt.FAt,this.cwt.FAt);return!!i&&(this.Fwt(),t.FAt=i,t.qh(n),t.htt&&this.dispatchEvent("durationchange"),!0)},i.qwt=function(){this.Fwt(),this.nwt.Jl(),this.uwt.S7(),this.owt.S7(),this.bwt()},i.KA=function(){return this.hwt.KA()},i.yvt=function(){return this.seeking?this.dwt:this.hwt.YAt},i.Kvt=function(t,n){var i=this,e=!n;this.dispatchEvent("seeking"),this.pause(),this.vwt.Kvt(t,e,e,function(){i.dispatchEvent("seeked"),i.dispatchEvent("timeupdate",!0)})},i.Ewt=function(){var t=this.hwt;this.Dwt(this._wt.cN),this.hwt=this.cwt,this.cwt=t,this.Cwt(this.hwt).Zwt(),this.Fwt(),this.cwt.pause(),this.cwt.FAt=null,this.bwt(),this.Dwt(this._wt.Nwt)},i.M1=function(){for(var t=this,n=["timeupdate","play","playing"],i=function(n,i){if("error"===i.type)return i.error?t.Swt(new wC(AC.eK,{code:"VEE"+i.error})):t.Swt(new wC(AC.eK,{code:"VEE"+n.vh.code}));n===t.hwt&&t.dispatchEvent({type:i.type,origin:n})},e=i.bind(null,this.uwt),r=i.bind(null,this.owt),s=0;s<n.length;s++){var u=n[s];this.uwt.addEventListener(u,e),this.owt.addEventListener(u,r)}this.uwt.addEventListener("error",e),this.owt.addEventListener("error",r);for(var o=0;o<mE.length;o++){var h=mE[o];this.uwt.addEventListener(h,this.NY),this.owt.addEventListener(h,this.NY)}},i.eg=function(){this.addEventListener("seeking",this.Flt),this.addEventListener("timeupdate",this.Flt)},i.Dwt=function(t){var n;if(this.fwt!==t){do{(n=this.fwt).nd()}while(n!==this.fwt);this.fwt=t,t.qh()}},i.Bwt=function(t){var n;if(this.vwt!==t){do{(n=this.vwt).nd()}while(n!==this.vwt);this.vwt=t,t.qh()}},i.Vwt=function(){this.lwt=null,this.Bwt(this.Rwt.Uwt)},i.load=function(){this.pause(),this.Vwt(),this.hwt.FAt=null,this.cwt.FAt=null,this.Dwt(this._wt.Nwt)},i.nd=function(){this.Vwt(),this.Dwt(this._wt.cN),this.qwt(),this.uwt.unload(),this.owt.unload(),this.KAt.removeChild(this.$At),this.KAt.removeChild(this.twt),this.xT=null,this.rAt=null},i.V1=function(){var t=this,n=this.yvt();this.qwt(),this.vwt.Kvt(n,!1,!1,function(){t.dispatchEvent("V1",!0)})},i.play=function(){this.Cwt(this.hwt).Zwt(),this.hwt.w3&&this.hwt.play()},i.pause=function(){this.uwt.pause(),this.owt.pause()},i.dAt=function(t){var n=this,i=function(){n.dispatchEvent("nAt",!0)};this.pause(),this.hwt.hA?this.vwt.Kvt(t,this.cwt===this.uwt,this.cwt===this.owt,i):this.cwt.hA?this.vwt.Kvt(t,!1,!1,i):this.cwt.PAt(t)?this.vwt.Kvt(t,this.cwt===this.uwt,this.cwt===this.owt,i):i()},i.Xit=function(t){this.Fwt(),this.nwt.Xit(t),this.bwt(),this.vwt.pwt()},i.lAt=function(t){return this.$At.canPlayType('video/mp4; codecs="'+t+'"')},i.gAt=function(){return l.max(this.$At.offsetWidth,this.twt.offsetWidth)},i.AAt=function(){return l.max(this.$At.offsetHeight,this.twt.offsetHeight)},i.Hwt=function(){!this.gwt&&this.loaded&&(this.gwt=!0,this.dispatchEvent("loaded"))},i.Wwt=function(){if("U$"===this.Gs){var t=this.gA,n=this.lA;t>0&&n>0&&(this.Awt!==t||this.wwt!==n)&&(this.Awt=t,this.wwt=n,this.dispatchEvent("resize"))}},i.Fwt=function(){var t=this.Vq;this.Vq=!0,t||this.dispatchEvent("updatestart")},z(n,[{key:"uw",get:function(){var t=[];return w(this.uwt.ab)||t.push({ab:this.uwt.ab,vb:this.uwt.vb}),w(this.owt.ab)||t.push({ab:this.owt.ab,vb:this.owt.vb}),ox(nx(new KO(t)),this.nwt.uw)}},{key:"duration",get:function(){return this.hwt.htt?this.hwt.vb:this.cwt.htt?this.cwt.vb:NaN}},{key:"paused",get:function(){return this.hwt.fA}},{key:"ended",get:function(){return this.hwt.hA}},{key:"muted",get:function(){return this.hwt.muted&&this.cwt.muted},set:function(t){this.hwt.muted=t,this.cwt.muted=t}},{key:"volume",get:function(){return this.rE},set:function(t){this.rE=t,this.swt&&this.swt.mAt(),this.cwt.volume=0,this.hwt.volume=this.rE}},{key:"error",get:function(){return this.xT}},{key:"warning",get:function(){return this.rAt}},{key:"seeking",get:function(){return this.vwt!==this.Rwt.Uwt}},{key:"loaded",get:function(){return this.hwt.w3}},{key:"vA",get:function(){return this.hwt.vA},set:function(t){t>=0&&(this.hwt.vA=t,this.cwt.vA=t)}},{key:"gA",get:function(){return this.hwt.gA}},{key:"lA",get:function(){return this.hwt.lA}},{key:"Uj",get:function(){return this.Vq}},{key:"Ng",get:function(){var t;if(this.vwt===this.Rwt.Ywt||this.vwt===this.Rwt.Pwt)t=El.qg;else{var n=this.hwt.Ng;if(n<=El.Jg)t=n;else{var i=am.Vb(this.uw)._b(),e=this.duration,r=this.yvt();w(e)||(r=l.min(r,e));var s=i.Gb(r);if(s){var u=s.vb(0);t=u-r>=3*this.vA||!w(e)&&u>=e?El.$g:El.Kg}else t=El.Jg}}return t===El.Zg&&this.gwt?El.qg:t}}]),n}(lC);function TQ(t,n){return t.YAt-n.ab}function IQ(t){var n=r.createElement(t);return n.preload="metadata","audio"===t&&(n.style.display="none"),"video"===t&&(n.style.display="",n.style.zIndex="1"),Oe(n),n.controls=!1,n}var bQ,EQ=function(){function t(t){var n=this;this.VI=void 0,this.ww=void 0,this.Jwt=void 0,this.Kwt=void 0,this.$wt=void 0,this.tyt=function(){(w(n.Kwt)||n.$wt)&&(n.Kwt=n.eO()),n.Jwt=n.Kwt,n.$wt=!1},this.nyt=function(){var t=n.eO();n.iyt(t),n.Kwt=t},this.eyt=function(){n.VI.Ng<=El.Jg&&n.nyt()},this.ryt=function(){n.iyt(n.Kwt),n.$wt=!0},this.syt=function(){n.Kwt=n.eO()},this.VI=t,this.ww=am.Xb(),this.Jwt=NaN,this.Kwt=NaN,this.$wt=!1,t.addEventListener("playing",this.tyt),t.addEventListener("pause",this.nyt),t.addEventListener("seeking",this.ryt),t.addEventListener("timeupdate",this.syt),t.addEventListener(Wl.Rl,this.eyt)}var n=t.prototype;return n.CP=function(){var t=this.ww,n=this.Jwt;if(!w(n)){var i=this.eO();n<i&&(t=t.Lb(new am([n,i])))}return t.DI()},n.eO=function(){return this.VI.yvt()},n.iyt=function(t){var n=this.Jwt;n<t&&(this.ww=this.ww.Lb(new am([n,t]))),this.Jwt=NaN},n.Vvt=function(){var t=this.eO();this.iyt(t),this.$wt=!0},n.Jl=function(){this.ww=am.Xb(),this.Jwt=NaN,this.Kwt=NaN,this.$wt=!1},n.xo=function(){var t=this.VI;t.removeEventListener("playing",this.tyt),t.removeEventListener("pause",this.nyt),t.removeEventListener("seeking",this.ryt),t.removeEventListener("timeupdate",this.syt),t.removeEventListener(Wl.Rl,this.eyt),this.VI=null},t}(),LQ=function(t){function n(n,i){var e;return(e=t.call(this)||this).uyt=void 0,e.CT=void 0,e.Vi=!1,e.pU=NaN,e.oyt=void 0,e.sf=void 0,e.KAt=void 0,e.hyt=void 0,e.xT=void 0,e.configuration={},e.loading=!1,e.loaded=!1,e.ywt=El.Zg,e.cyt=function(){e.hyt.seeking||(e.hyt.removeEventListener("seeked",e.cyt),e.dispatchEvent("seeked"),e.ayt.paused?e.sf=e.fyt:e.vyt(),e.NY())},e.dyt=function(){e.hyt.paused||(e.hyt.removeEventListener("playing",e.dyt),e.dispatchEvent("playing"))},e.lyt=function(t){e.sf=e.gyt,e.xT=t,e.dispatchEvent({type:"error",error:e.xT})},e.Ayt={paused:!0,play:function(){e.removeEventListener("Dlt",e.Ayt.wyt),e.Vi?(e.sf=e.yyt,e.hyt.removeEventListener("playing",e.dyt),e.hyt.addEventListener("playing",e.dyt),e.hyt.play(),e.dispatchEvent("play")):e.addEventListener("Dlt",e.Ayt.wyt)},wyt:function(){e.removeEventListener("Dlt",e.Ayt.wyt),e.sf.play()},stall:function(){},pause:function(){e.Ayt.wyt&&e.removeEventListener("Dlt",e.Ayt.wyt),e.hyt.pause(),e.dispatchEvent("pause"),e.sf=e.fyt},load:function(t){},yvt:function(){return e.Vi?e.hyt.yvt():0},Kvt:function(t,n){var i=rx(e.uw,t);n=n||!i,e.hyt.removeEventListener("seeked",e.cyt),e.hyt.addEventListener("seeked",e.cyt),e.ayt.seekTime=t,e.sf=e.ayt,e.dispatchEvent("Vvt"),e.hyt.Kvt(t,n),e.dispatchEvent("seeking")},MO:function(){return e.hyt.Ng},V1:function(t){e.ayt.seekTime=e.yvt(),e.sf=e._yt,e.hyt.removeEventListener("V1",e._yt.Myt),e.hyt.addEventListener("V1",e._yt.Myt),e.hyt.V1(t),e.NY()},forwardEvent:function(t){"pause"===t.type&&e.hyt.ended||e.dispatchEvent(t)}},e.fyt=sr({},e.Ayt,{pause:function(){e.removeEventListener("Dlt",e.Ayt.wyt)},Kvt:function(t){e.ayt.paused=!0,e.Ayt.Kvt(t)},V1:function(t){e.ayt.paused=!0,e.Ayt.V1(t)}}),e.kyt=sr({},e.fyt),e.myt=sr({},e.fyt,{load:function(t,n){e.removeEventListener("Dlt",e.myt.pyt),n||e.dispatchEvent("loadstart"),e.Vi?e.hyt.load(t):(e.myt.Nyt=t,e.addEventListener("Dlt",e.myt.pyt))},pyt:function(){e.removeEventListener("Dlt",e.myt.pyt),e.sf.load(e.myt.Nyt,!0)},Nyt:null,yvt:function(){return e.Vi?e.hyt.yvt():e.myt.Dyt},Kvt:function(t){e.removeEventListener("Dlt",e.myt.Tyt),e.Vi?(e.sf=e.fyt,e.sf.Kvt(t)):(e.myt.Dyt=t,e.addEventListener("Dlt",e.myt.Tyt),e.dispatchEvent("seeking"))},Tyt:function(){e.removeEventListener("Dlt",e.myt.Tyt),e.sf.Kvt(e.myt.Dyt)},Dyt:0,V1:function(t){}}),e.yyt=sr({},e.Ayt,{Kvt:function(t){e.ayt.paused=!1,e.Ayt.Kvt(t)},play:function(){},stall:function(){e.sf=e.Iyt,e.Iyt.byt=e.hyt.yvt(),e.Iyt.paused=!1,e.hyt.addEventListener("nAt",e.Iyt.Eyt),e.hyt.dAt(e.Iyt.byt),e.NY()},V1:function(t){e.ayt.paused=!1,e.Ayt.V1(t)}}),e.Iyt=sr({},e.yyt,{paused:!1,byt:0,Kvt:function(t){e.hyt.removeEventListener("nAt",e.Iyt.Eyt),e.Iyt.paused?e.sf=e.fyt:e.sf=e.yyt,e.sf.Kvt(t),e.NY()},yvt:function(){return e.Iyt.byt},MO:function(){return l.min(e.hyt.Ng,El.Jg)},forwardEvent:function(){},play:function(){e.Iyt.paused=!1,e.dispatchEvent("play")},pause:function(){e.Iyt.paused=!0,e.dispatchEvent("pause")},stall:function(){},Eyt:function(){e.hyt.seeking||(e.hyt.removeEventListener("nAt",e.Iyt.Eyt),e.Iyt.paused?e.sf=e.fyt:e.Ayt.play(),e.NY())}}),e.ayt=sr({},e.Ayt,{paused:!1,seekTime:0,yvt:function(){return e.ayt.seekTime},play:function(){e.ayt.paused=!1},pause:function(){e.ayt.paused=!0,e.hyt.pause(),e.dispatchEvent("pause")}}),e._yt=sr({},e.ayt,{Kvt:function(t){e.hyt.removeEventListener("V1",e._yt.Myt),e.ayt.paused?e.sf=e.fyt:e.sf=e.yyt,e.sf.Kvt(t)},MO:function(){return l.min(e.hyt.Ng,El.Jg)},forwardEvent:function(){},stall:function(){},Myt:function(){e.hyt.seeking||(e.hyt.removeEventListener("V1",e._yt.Myt),e.ayt.paused?e.sf=e.fyt:e.Ayt.play(),e.NY())}}),e.gyt=sr({},e.Ayt,{play:function(){},pause:function(){},load:function(){},yvt:function(){return NaN},MO:function(){return El.Zg},Kvt:function(t){e.Ayt.Kvt(t,!0)},V1:function(t){}}),e.Xo=function(t){e.dispatchEvent(t)},e.Lyt=function(t){e.sf.forwardEvent(t)},e.Syt=function(t){e.lyt(t.error)},e.jyt=function(t){if(t.origin&&t.origin.htt)return e.PA();e.sf.stall()},e.Ugt=function(){var t=e.hyt.duration;t&&e.pU!==t&&(e.pU=t,e.dispatchEvent("durationchange"))},e.Cyt=function(){e.hyt.loaded&&(e.loaded=!0)},e.NY=function(){var t=e.Ng;t!==e.ywt&&(e.ywt=t,e.dispatchEvent(Wl.Rl))},e.uyt=n,e.CT=i,e.oyt=new EQ(sn(e)),e.hyt=new fQ,e.sf=e.myt,e.KAt=r.createElement("div"),e.KAt.style.position="absolute",e.KAt.style.width="100%",e.KAt.style.height="100%",e.Oyt(),e}U(n,t);var i=n.prototype;return i.vyt=function(){this.Ayt.play()},i.Oyt=function(){for(var t=["resize","volumechange","ratechange"],n=["timeupdate","pause","warning"],i=0;i<t.length;i++){var e=t[i];this.hyt.addEventListener(e,this.Xo)}for(var r=0;r<n.length;r++){var s=n[r];this.hyt.addEventListener(s,this.Lyt)}this.hyt.addEventListener("ended",this.jyt),this.hyt.addEventListener("error",this.Syt),this.hyt.addEventListener("durationchange",this.Ugt),this.hyt.addEventListener("loaded",this.Cyt),this.hyt.addEventListener(Wl.Rl,this.NY)},i.setup=function(){this.CT.sI.parentNode===this.uyt?this.uyt.replaceChild(this.KAt,this.CT.sI):(this.CT.sI.parentNode&&this.CT.sI.parentNode.removeChild(this.CT.sI),this.uyt.appendChild(this.KAt))},i.play=function(){this.sf.play()},i.pause=function(){this.sf.pause()},i.xyt=function(t){this.hyt&&this.hyt.nd(t),this.Vi=!1},i.PA=function(){this.pause(),this.sf=this.kyt,this.xT=void 0,this.dispatchEvent("ended"),this.dispatchEvent("pause")},i.load=function(t){this.sf.load(t)},i.unload=function(){return this.hyt.nd(),this.oyt.xo(),this.KAt.parentNode===this.uyt?this.uyt.replaceChild(this.CT.sI,this.KAt):(this.KAt.parentNode&&this.KAt.parentNode.removeChild(this.KAt),this.uyt.appendChild(this.CT.sI)),this.$o(),this.CT.sI},i.reset=function(t){this.Vi=!1,this.sf=this.myt,this.xT=void 0,this.pU=NaN,this.ywt=El.Zg,this.oyt.Jl(),this.xyt(t),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},i.V1=function(t){this.sf.V1(t)},i.Xit=function(t){return this.hyt.Xit(t),N.resolve()},i.KA=function(){return this.hyt.KA()},i.yvt=function(){return this.sf.yvt()},i.Kvt=function(t){this.oyt.Vvt(),this.sf.Kvt(t)},i.nct=function(t,n){return N.resolve()},i.canPlayCodecs=function(t){return this.hyt.lAt('video/mp4; codecs="'+t+'"')},i.Rvt=function(t,n,i){var e={};for(var r in t)if(q.call(t,r)){var s=t[r];!this.hyt.videoStream&&s.U$&&(this.hyt.videoStream=new DQ(this.KAt,"U$"),e.U$=this.hyt.videoStream),!this.hyt.audioStream&&s.R$&&(this.hyt.audioStream=new DQ(this.KAt,"R$"),e.R$=this.hyt.audioStream,this.dispatchEvent("Alt"))}return this.Vi=!0,this.dispatchEvent("Dlt"),N.resolve(e)},z(n,[{key:"zvt",get:function(){return this.Vi}},{key:"hw",get:function(){return this.KAt}},{key:"uw",get:function(){return this.hyt.uw}},{key:"volume",get:function(){return this.hyt.volume},set:function(t){this.hyt.volume=t}},{key:"duration",get:function(){return this.pU}},{key:"muted",get:function(){return this.hyt.muted},set:function(t){this.hyt.muted=t}},{key:"paused",get:function(){return this.sf.paused&&this.hyt.paused}},{key:"played",get:function(){return this.oyt.CP()}},{key:"ended",get:function(){return this.sf===this.kyt}},{key:"seeking",get:function(){return this.sf===this.ayt}},{key:"error",get:function(){return this.xT||this.hyt.error}},{key:"warning",get:function(){return this.hyt.warning}},{key:"width",get:function(){return this.hyt.gAt()}},{key:"height",get:function(){return this.hyt.AAt()}},{key:"vA",get:function(){return this.hyt.vA},set:function(t){this.hyt.vA=t}},{key:"Ng",get:function(){return this.sf.MO()}},{key:"gA",get:function(){return this.hyt.gA}},{key:"lA",get:function(){return this.hyt.lA}}]),n}(lC);!function(t){t.vK="unsupported",t.zyt="native",t.Ryt="hls-native",t.Uyt="hls-mse",t.Byt="hls-switching-video"}(bQ||(bQ={}));var SQ=function(){function t(){this.Qyt={},this.Pyt(bQ.zyt,QB),this.Pyt(bQ.Ryt,QB),this.Pyt(bQ.Uyt,eQ),this.Pyt(bQ.Byt,LQ)}return t.prototype.Pyt=function(t,n){this.Qyt[t]=n},t.Pyt=function(n,i){t.r3.Pyt(n,i)},t.Yyt=function(n,i,e){var r=t.r3.Qyt[n];return r?new r(i,e):void 0},t}();SQ.r3=new SQ;var jQ=function(t){function n(n){var i;return(i=t.call(this)||this).Gyt=void 0,i.Fyt=function(t){i.Zo(t)},i.Gyt=n,i.Vyt(),i}U(n,t);var i=n.prototype;return i.Vyt=function(){this.Gyt.qo("nj",this.Fyt)},i.Hyt=function(){this.Gyt.th("nj",this.Fyt)},i.nd=function(){this.Hyt()},z(n,[{key:"oj",get:function(){return this.Gyt.oj}},{key:"hj",get:function(){return this.Gyt.hj}},{key:"Wyt",set:function(t){var n=this.Gyt;n.oj===t.oj&&n.hj===t.hj||(this.Hyt(),this.Gyt=t,this.Vyt(),this.Zo(new AN(t.hj,t.oj)))}}]),n}(Cs);function CQ(t){return void 0!==t&&-1!==t.indexOf("m3u8")}function OQ(t){return void 0!==t&&(0===t.toLowerCase().indexOf("application/x-mpegurl")||0===t.toLowerCase().indexOf("application/vnd.apple.mpegurl"))}function xQ(t,n){var i=t.type;return i?Wy?OQ(i)?!t_||n.useSwitchOverMSE||Z.Yr&&n.vr&&n.vr[360]?!qy||Z.zr||Z.Qr&&Z.Ar?Jy?bQ.Byt:bQ.vK:bQ.Ryt:bQ.Uyt:bQ.zyt:bQ.vK:bQ.zyt}var zQ=function(t,n,i,e,r){var s,u,c,a,v,g,y=this,_=null,M=null,k=null,m=!0,p=null,D=null,T=!1,I=null,b=null,E=null,L=dm,S=dm,j=!0,C=null,O={B5:0,yAt:0},x=null,z=null,R=null,U=1,B=!1,Q="none",P=!0,Y=!0,G=!1,F=null,V=!0,H=!1,W=El.Zg,X=!1,q=!1,J=NaN,K=null,$=null,nt=Z.pr&&Zy,it=!1,et="",rt=bQ.vK,st=null,ut=function(){var i=N.coroutine(rr.mark(function i(){return rr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(y.So=!0,y.$o(),x&&Ot(null),g&&(g.nd(),g=null),v&&(v.Jl(),v=null),rn(),M&&(M.unload(),M=null),!b.sI){i.next=11;break}return i.next=10,n.mI(b);case 10:b=null;case 11:if(!E.sI){i.next=15;break}return i.next=14,n.mI(E);case 14:E=null;case 15:s.nd(),t=null;case 17:case"end":return i.stop()}},i)}));return function(){return i.apply(this,arguments)}}(),ot=function(){var t=new wC(AC.vK,{info:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."});y.dispatchEvent({type:"unsupportedPlatform"}),qt(t)},ht=function(){var t,e;return(t=i.audioOnly?(e=n.rI(Ug.Vv)).sI:(e=n.rI(Ug.Hv)).sI).preload="none",Oe(t),e},ct=function(t){return t===b?E:b},at=function(){p.style.zIndex="1",D.style.zIndex="0",p.style.display=m?"":"none",D.style.display=m&&T?"":"none"},ft=function(t){yt(t.t4),wt(t.n4),u&&(u.t4=c),kt()},vt=function(t,n){Mt(t.t4,n),_t(t.n4),u&&(u.t4=c)},dt=function(){Yt(),Et(),y.dispatchEvent("timeupdate"),y.dispatchEvent("ended")},lt=function(){var t=function(t){if("error"===t.type)return qt(t.error);y.dispatchEvent(t)},n=function(t,n){var i;for(i=0;i<t.length;i+=1)M.addEventListener(t[i],n,!0)};switch(M.addEventListener("Alt",function(){M.volume=U,M.muted=B}),M.addEventListener("loadedmetadata",function(t){rt===bQ.zyt&&(H=!0,y.dispatchEvent(t))}),M.addEventListener("durationchange",function(){var t=M.duration;t&&t!==1/0&&J!==t&&(J=t,y.dispatchEvent("durationchange"))}),M.addEventListener("seeking",Pt),M.addEventListener("seeked",Yt),M.addEventListener("ended",dt),M.addEventListener(Wl.Rl,nn),M.setup(),g.Wvt=M,n(["timeupdate","playing","ratechange","resize"],t),rt){case bQ.zyt:case bQ.Ryt:n(["abort","emptied","error","loadstart","progress","suspend"],t);break;case bQ.Uyt:n(["play","pause"],Tt)}M.addEventListener("warning",function(t){y.warning=t.warning,y.dispatchEvent(t)}),y.dispatchEvent("volumechange")},gt=function(t){_&&_.xdt(),M&&(_=new kB(t,nt,v,e))},At=function(t){var n=jt(t.sources),e=t.textTracks||[],r=xB(t.configuration,i);return n&&n.contentProtection&&n.contentProtection.aes128&&n.contentProtection.aes128.useCredentials&&(r.elt=!0),{sources:[n],textTracks:e,configuration:r}},wt=function(t){_t(t)},yt=function(t){c&&(c.nd(),c=null,y.initialized=!1),(c=t)&&(y.dispatchEvent("loadstart",!0),c.addEventListener("loadedmetadata",function(){H=!0,nn()}),c.addEventListener("durationchange",function(){J=c.oA,y.dispatchEvent("durationchange")}),c.addEventListener("vh",function(t){qt(t.vh)}),c.addEventListener("hd",mt),c.addEventListener("Aw",mt),c.x4.addEventListener("renditionUpdated",function(){Ht()}),g.x4=c.x4)},_t=function(t){var n;a&&(a.nd(),a=null),M&&(a=t)&&(n=a.Avt,a.addEventListener("G1",function(t){var n=y.videoWidth,i=y.videoHeight;K=t.o0,y.dispatchEvent(t),s_&&n===y.videoWidth&&i===y.videoHeight||y.dispatchEvent("resize")}),a.addEventListener("vh",function(t){qt(t.error)}),a.addEventListener("Wft",function(t){y.dispatchEvent(t)}),a.Wvt=M,w(n)||Qt(n))},Mt=function(t,n){c&&(c.nd(),c=null,y.initialized=!1),(c=t)&&(y.dispatchEvent("loadstart",!0),c.addEventListener("loadedmetadata",function(){H=!0,nn()}),c.addEventListener(rh.xa,function(t){y.dispatchEvent(t)}),c.addEventListener(rh.Ra,function(t){y.dispatchEvent(t)}),c.addEventListener("durationchange",function(){J=c.oA,y.dispatchEvent("durationchange")}),c.addEventListener("vh",function(t){qt(t.vh)}),c.addEventListener("hd",mt),c.addEventListener("Aw",mt),c.addEventListener("F4",function(){y.dispatchEvent("progress")}),c.x4.addEventListener("renditionUpdated",function(){Ht()}),c.x4.addEventListener("renditionUpdated",function(t){var i,e=t.o0.F0&&t.o0.F0.R$;e&&-1!==e.indexOf("mp4a.40.3")&&("Y7"!==n.G7||$y||(i=x,dC(function(){n.useSwitchOverMSE=!0;var t=Y;x=null,en({sources:i,configuration:n}),t||bt()})))}),g.x4=c.x4)},kt=function(){M.addEventListener("play",function(){y.play({fromNative:!0})}),M.addEventListener("pause",function(){y.pause({fromNative:!0})}),M.addEventListener("volumechange",function(){y.volume=M.volume,y.muted=M.muted}),M.addEventListener("webkitpresentationmodechanged",zt)},mt=function(){var t=V,n=!c||c.Aw;V=n,n&&!t?y.dispatchEvent(rh.Da):!n&&t&&y.dispatchEvent(rh.Na)},pt=function(){P=!1,Y=!1,X=!0,M.configuration.useNativeVideoPlayback||M.loaded||It(),Ht()},Nt=function t(){y.removeEventListener("initialized",t),y.removeEventListener("initialized",Dt),P&&(pt(),y.ended?Qt(0):Wt(),M.play(),a&&a.BA())},Dt=function t(){y.removeEventListener("initialized",Nt),y.removeEventListener("initialized",t),P&&(pt(),Wt())},Tt=function(t){var n=Y;Y="pause"===t.type,n&&!Y?y.play({fromNative:!0}):!n&&Y&&y.pause({fromNative:!0})},It=function(){X=!0,M.configuration.useNativeVideoPlayback?(M.load(),O.yAt="start"):M.loading||(M.load(),M.loading=!0),Ht()},bt=function(t){if(t=t||{},Y=!1,j&&(j=!1,n.fE()),O.Xyt=!1,!y.initialized||!M){if(t.onlyWhenInitialized){var i=new wC(AC.cK,{code:"MGB6720"});throw qt(i),i}return y.removeEventListener("initialized",Nt),y.removeEventListener("initialized",Dt),y.addEventListener("initialized",t.fromNative?Dt:Nt),y.dispatchEvent("play",!0),void y.dispatchEvent("waiting",!0)}if(P){if(G&&y.ended)return Et(),void y.dispatchEvent("timeupdate",!0);y.dispatchEvent("play",!0),t.fromNative?Dt():Nt()}},Et=function(t){Y=!0,(t=t||{}).fromNative||y.removeEventListener("initialized",Nt),y.removeEventListener("initialized",Dt),!P&&M&&(P=!0,t.fromNative||(M.pause(),a&&a.QA()),y.dispatchEvent("pause",!0))},Lt=function(t){return{type:CQ(t)?"application/vnd.apple.mpegurl":"",src:t}},St=function(t){return"string"==typeof t},jt=function(t){if(CB(t))return t.type?t:Lt(t.src);if(St(t))return Lt(t);if(tt(t)&&St(t[0])){for(var n=0;n<t.length;n++){var i=t[n];if(CQ(i))return Lt(i)}return Lt(t[0])}if(tt(t)&&CB(t[0])){for(var e=0;e<t.length;e++){var r=t[e];if(OQ(r.type)||!r.type&&CQ(r.src))return r.type?r:Lt(r.src)}return t[0]}return{type:null,src:null}},Ct=function(t){var n=(t=At(t)).sources[0],i=t.configuration,s=xQ(n,i);!function(t,n){switch(t){case bQ.zyt:case bQ.Ryt:n.G7=!1,n.Zyt=!1;break;case bQ.Uyt:n.G7="Y7",n.Zyt=!0;break;case bQ.Byt:n.G7="ztt",n.Zyt=Z.ar}}(s,i);var o=function(t,n,i){var s,o,h,c=i.configuration;switch(t){case bQ.zyt:h=s=o=null;break;case bQ.Ryt:h=null;var a=new vB(c,e);s=a,o=new yB(a);break;case bQ.Uyt:case bQ.Byt:h=new NB(c,e);var f=new fB(c,h,e,r);s=f,o=new AB(f);break;default:return null}return new lO(n,t,i,h,s,o,u)}(s,n,t);return o?(o.n4&&(o.n4.vA=y.playbackRate),o):null},Ot=function(t){en({sources:t})},xt=function(n,i){var e=I,r=e.sI,u=!1,o=!y.paused,h=rt,c=y.playbackRate,a=y.qyt;$&&($.nd(),$=null),rn();var f=n&&n.q4||null;n&&n.X4||null,z=n&&n.FI||null,R=f&&f.configuration||null,rt=n&&n.Z4||bQ.vK,Jt();var v={type:"Jyt",Kyt:n,uc:R,$yt:i};if(y.dispatchEvent(v),rt!==bQ.vK){if(M){y.pause();var d=h===rt||h===bQ.Ryt&&rt===bQ.zyt||h===bQ.zyt&&rt===bQ.Ryt,l=i&&!Z.pr;if(d&&!l)M.reset(),_.Jl();else{if(l?(k=M,r=(e=ct(e)).sI):r=M.unload(),!(u=SQ.Yyt(rt,t,e)))return void ot();M=u,lt(),gt(r)}Yt(),H=!1,W=El.Zg,X=!1,q=!1,J=NaN,C=null,y.dispatchEvent("durationchange"),O.yAt=0,O.B5=0,O.Xyt=!0,y.dispatchEvent("timeupdate")}else{if(!(u=SQ.Yyt(rt,t,e)))return void ot();M=u,e.sI.removeAttribute("poster"),lt(),gt(e.sI)}switch(I=e,s.Wyt=I.ez,p=M.hw,k?(D=k.hw,T=!0):(D=ct(e).sI,T=!1),at(),R.crossOrigin){case Dl.Gg:case Dl.Fg:I.sI.setAttribute("crossorigin",R.crossOrigin);break;default:I.sI.removeAttribute("crossorigin")}if(a!==y.qyt&&y.dispatchEvent(rh._a),zt(),Rt(),!z)return x=null,void(y.initialized=!1);!function(t,n){switch(rt){case bQ.zyt:case bQ.Ryt:ft(t);break;case bQ.Uyt:case bQ.Byt:vt(t,n);break;default:return}t.VI=y,t.f2(Q)}($=n,R),M.src=z,_.Sdt(f&&f.textTracks),y.playbackRate=c,x=z;var g={type:"t_t",Kyt:n,uc:R,$yt:i};y.dispatchEvent(g),y.initialized=!0,y.dispatchEvent("initialized"),mt(),Qt("start"),M.configuration.useNativeVideoPlayback&&Z.pr&&o&&Zt()&&(y.play(),y.pause()),f&&y.dispatchEvent({type:"sourcechange",sourceDescription:f})}else ot()},zt=function(){var t=et;(et=y.Mlt)!==t&&y.dispatchEvent("n_t")},Rt=function(){g&&(g.DG=nt&&it)},Ut=function(){return M&&M.zvt?M.volume:U},Bt=function(){if(!q)return"start"===C?0:C||0;if(!M||O.Xyt)return O.yAt;if(a){var t=a.Avt;return"start"===t?0:t}return M.yvt()},Qt=function(t){if(!q){var n=Bt();return C=t,void(n!==Bt()&&Pt())}if(C=null,"start"===t&&(t=y.live?1/0:0),t=A(t)||0,t=$t(t),M){if(l.abs(O.yAt-t)<.001&&iN()-O.B5<50)return;Pt(),a?a.Avt=t:M.Kvt(t),M.seeking||Yt(),O={yAt:t,B5:iN()}}},Pt=function(){G=!0,Ft(),st=o(Gt,100)},Yt=function(){G&&(G=!1,st&&Gt(),y.dispatchEvent("seeked"))},Gt=function(){Ft(),y.dispatchEvent("seeking")},Ft=function(){st&&(h(st),st=null)},Ht=function(){q||(q=!w(J)&&Kt().length>0&&(X||!y.live))&&y.dispatchEvent("PAt")},Wt=function t(){y.removeEventListener("PAt",t),null!==C&&(q?Qt(C):y.addEventListener("PAt",t))},Xt=function(){return M&&M.zvt?M.muted:B},Zt=function(){return Y},qt=function(t){if(t&&t.code===AC.aK)return n=!Y,Ot($.FI),void(n&&bt());var n;Zt()||Et(),F=t,y.dispatchEvent({type:"error",error:F})},Jt=function(){F=null},Kt=function(){return qO(a?a._w:J>0?new KO([{ab:0,vb:J}]):$O)},$t=function(t){var n=Kt();return n.length?Vt(t,n.start(0),n.end(n.length-1)):0},tn=function(){var t=M?M.Ng:El.Zg;return H&&(t=l.max(El.qg,t)),t},nn=function(){var t=tn();t!==W&&(W=t,y.dispatchEvent(Wl.Rl))},en=function(t){var n=Ct(t);xt(n,!1)},rn=function(){if(k){var t=k.unload();k=null,T=!1,D=t||ct(I).sI,at()}};y.initialized=!1,y.warning=null,y.play=bt,y.pause=Et,y.load=function(){if(!y.initialized||!M){var t=new wC(AC.cK,{code:"MGB7330"});throw qt(t),t}It(),Qt("start")},y.i_t=Ct,y.e_t=xt,y.xo=ut,y.GA=en,y.qA=function(){m=!0,at()},y.JA=function(){m=!1,at()},y.KA=function(){return M&&M.KA()},y.pA=function(){return sr({},{aw:0,fw:0,vw:0,dw:0,lw:0,gw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},M?TD(M.Wvt):{aw:0,fw:0,vw:0},{dw:8*pl.Bg()})},d.defineProperty(y,"buffered",{get:function(){return qO(M?M.uw:$O)}}),d.defineProperty(y,"played",{get:function(){return M?qO(M.played):$O}}),d.defineProperty(y,"seekable",{get:Kt}),d.defineProperty(y,"live",{get:function(){return!(!c||!OC.yA(c.x4.M0))}}),d.defineProperty(y,"volume",{get:Ut,set:function(t){(t=A(t))!==Ut()&&(M&&(M.volume=t),U=t,y.dispatchEvent("volumechange"))}}),d.defineProperty(y,"currentTime",{get:Bt,set:Qt}),d.defineProperty(y,"dimensions",{get:function(){return s}}),d.defineProperty(y,"currentProgramDateTime",{get:function(){return a?a.ow:null},set:function(t){var n,i;(i=t)&&"function"==typeof i.getTime&&!w(i.getTime())&&a&&(n=a.art(t),w(n)||null===n||Qt(n))}}),d.defineProperty(y,"duration",{get:function(){return J}}),d.defineProperty(y,"muted",{get:Xt,set:function(t){t!==Xt()&&(B=t,M&&(M.muted=t),B=t,y.dispatchEvent("volumechange"))}}),d.defineProperty(y,"paused",{get:Zt,set:function(t){t?Et():bt()}}),d.defineProperty(y,"preload",{get:function(){return Q},set:function(t){Q=rm((t||"none").toLowerCase())}}),d.defineProperty(y,"ended",{get:function(){return M&&M.ended||!1}}),d.defineProperty(y,"seeking",{get:function(){return G}}),d.defineProperty(y,"error",{get:function(){return F||M&&M.error}}),d.defineProperty(y,"element",{get:function(){return t}}),d.defineProperty(y,"qyt",{get:function(){return R&&R.vr&&R.vr[360]?dm:I===b?L:S}}),d.defineProperty(y,"videoWidth",{get:function(){return M?M.gA:K&&K.resolution?K.resolution.width:0}}),d.defineProperty(y,"videoHeight",{get:function(){return M?M.lA:K&&K.resolution?K.resolution.height:0}}),d.defineProperty(y,"frameRate",{get:function(){return a&&a.W0}}),d.defineProperty(y,"frameAccurateSeekEnabled",{get:function(){return!y.live&&M&&M.paused&&y.frameRate}}),d.defineProperty(y,"currentFrame",{get:function(){return a?a.qvt(Bt()):NaN},set:function(t){y.frameAccurateSeekEnabled&&(t=A(t),Qt(a.Jvt(t)))}}),d.defineProperty(y,"playbackRate",{get:function(){return a&&a.vA||M&&M.vA||1},set:function(t){(t=A(t))>0&&(a?a.vA=t:M&&(M.vA=t))}}),d.defineProperty(y,"videoTracks",{get:function(){return $&&$.zA.ml||null}}),d.defineProperty(y,"audioTracks",{get:function(){return $&&$.xA.ml||null}}),d.defineProperty(y,"RA",{get:function(){return v}}),d.defineProperty(y,"online",{get:function(){return V}}),d.defineProperty(y,"ylt",{get:function(){return M&&M.ylt}}),d.defineProperty(y,"_lt",{get:function(){return M&&M._lt}}),d.defineProperty(y,"Mlt",{get:function(){return M&&M.Mlt||"inline"},set:function(t){M&&(M.Mlt=t)}}),d.defineProperty(y,"r_t",{get:function(){return it},set:function(t){it=!!t,Rt()}}),d.defineProperty(y,"Ng",{get:tn}),function(){if(!t)throw new f("Invalid element.");var n;y.addEventListener(rh.Da,function(){y.live&&Qt("start")}),y.addEventListener("playing",rn),v=new ly,g=new pB(y,v),y.addEventListener("fullscreenchange",Rt),Rt(),i.allowManualQualitySwitch&&(u=new gO),n=function(t){if("string"==typeof t)try{return gC.rs.Kq(t,y)}catch(n){throw new f("Unknown rule: "+t)}return t},i._at=function(t){var i,e=[];for(i=0;i<t.length;i+=1)e.push(n(t[i]));return e}(i.abrRules),y.addEventListener("durationchange",Ht),b=ht(),E=ht(),I=b,p=b.sI,D=E.sI,s=new jQ(I.ez),L=b.yI,S=E.yI,at(),Ot(null)}()};zQ.prototype=new lC,zQ.prototype.constructor=zQ;var RQ,UQ=((RQ={useSwitchOverMSE:!1,ManifestParser:"s_t",allowManualQualitySwitch:"panel",initialRendition:"default",playbackRates:!1,isEmbeddable:!1,withCredentials:!1,enableKeyboardShortcuts:!0,skipImplicitHEAACDetection:!0,abrRules:[]}).abrRules.push("DownloadMetricRule"),RQ.abrRules.push("OnlyAllowSameTrackTypeRenditionsRule"),n_&&RQ.abrRules.push("AvoidHighBitrateStreamsRule"),Z.Tr&&RQ.abrRules.push("AvoidVideoResolutionGreaterThanDisplaySizeRule"),RQ);var BQ=function(t){function n(n,i,e){var r;return(r=t.call(this,Cd.Yl)||this).u_t=n,r.o_t=i,r.h_t=e,r}return U(n,t),n.prototype.pl=function(){return new QQ(this.u_t&&this.u_t.ml)},n}(Sd),QQ=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return U(n,t),n}(xs),PQ=function(t){function n(n,i){var e;return(e=t.call(this,Cd.Fl)||this).lg=void 0,e.Nl=void 0,e.lg=n||[],e.Nl=i,e}return U(n,t),n.prototype.pl=function(){return new YQ(this.lg.map(function(t){return t.ml}))},n}(Sd),YQ=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return U(n,t),n}(xs),GQ=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return U(n,t),n}(xs);function FQ(t){return{get bandwidth(){return t.wT},get codecs(){return t.F0},get id(){return t.cg},get uid(){return t.ag},get name(){return t.vg},get averageBandwidth(){return t.wT},get label(){return t.vg},set label(n){t.vg=tl(n)},get height(){return t.Xk},get width(){return t.pu},get frameRate(){return t.D4},get firstFrame(){return t.c_t},get available(){return t.jJ},addEventListener:function(n,i){t.qo(n,i)},removeEventListener:function(n,i){t.th(n,i)}}}function VQ(t){return{get bandwidth(){return t.wT},get codecs(){return t.F0},get id(){return t.cg},get uid(){return t.ag},get name(){return t.vg},get averageBandwidth(){return t.wT},get label(){return t.vg},set label(n){if(!et(n))throw new f("Unexpected - The provided label is not a string");t.vg=n},get audioSamplingRate(){return t.a_t},get available(){return t.jJ},addEventListener:function(n,i){t.qo(n,i)},removeEventListener:function(n,i){t.th(n,i)}}}function HQ(t){return{wT:t.wT,Nu:t.F0,Xk:WQ(t)?t.Xk:0,Ao:WQ(t)?Ug.Hv:Ug.Vv,pu:WQ(t)?t.pu:0}}function WQ(t){var n=t;return void 0!==n.Xk&&void 0!==n.pu}var XQ=function(t){function n(n,i){var e;(e=t.call(this)||this).f_t=void 0,e.v_t=void 0,e.Iw=void 0,e.kw=void 0,e.kl=void 0,e.d_t=void 0,e.I4=void 0,e.l_t=function(){return e.g_t()},e.A_t=function(){return e.w_t()},e.y_t=function(){return e.Zo(new Pg(sn(e)))},e.Iw=Fg(),e.f_t=n,e.v_t=i,e.kw=new Qg;for(var r=e.f_t.qualities,s=0;s<r.length;s++){var u=r.item(s),o=e.__t(u);o.qo("update",e.y_t),e.kw.mw(o)}return e.f_t.qualities.addEventListener("activequalitychanged",e.l_t),e.f_t.qualities.addEventListener("targetqualitychanged",e.A_t),e.g_t(),e.w_t(),e}U(n,t);var i=n.prototype;return i.M_t=function(t){t!==this.d_t&&(this.d_t=t,t&&this.Zo(new BQ(t)))},i.k_t=function(t,n){return t===n||!(!t||!n)&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!os(n,t[i]))return!1;return!0}(t,n)},i.m_t=function(t){for(var n=0,i=this.kw.Kl;n<i.length;n++){var e=i[n];if(e.p_t===t)return e}},i.N_t=function(t){for(var n=[],i=0,e=this.kw.Kl;i<e.length;i++){var r=e[i];os(t,r.p_t)&&n.push(r)}return n},i.g_t=function(){var t=this.hg?this.f_t.qualities.activeQuality:void 0,n=t&&this.m_t(t)||void 0;this.M_t(n)},i.w_t=function(){var t=this.f_t.qualities.targetQuality;t?$(t)?this.gg=this.N_t(t)||void 0:this.gg=this.N_t([t])||void 0:this.gg=void 0},i.Sw=function(t){this.hg=t},i.nd=function(){this.f_t.qualities.removeEventListener("activequalitychanged",this.l_t),this.f_t.qualities.removeEventListener("targetqualitychanged",this.A_t);for(var t=0,n=this.kw.Kl;t<n.length;t++){var i=n[t];i.th("update",this.y_t),i.nd()}},z(n,[{key:"og",get:function(){return this.d_t}},{key:"hg",get:function(){return this.f_t.enabled},set:function(t){t?this.v_t.enable(this.f_t):this.v_t.disable(this.f_t)}},{key:"ml",get:function(){return this.kl||(this.kl=ul(this)),this.kl}},{key:"cg",get:function(){return this.f_t.id+""}},{key:"ag",get:function(){return this.Iw}},{key:"fg",get:function(){return this.f_t.kind}},{key:"vg",get:function(){var t;return null!=(t=this.f_t.name)?t:""},set:function(t){t!==this.vg&&(this.f_t.name=t,this.Zo(new Pg(this)))}},{key:"dg",get:function(){return this.f_t.language}},{key:"kg",get:function(){return this.hg?"enabled":"disabled"}},{key:"lg",get:function(){return this.kw}},{key:"gg",get:function(){return this.I4},set:function(t){var n=this.I4,i=void 0!==this.og?HQ(this.og):void 0,e=t?t.filter(function(t){return p.Wu.au(i,HQ(t))}):void 0;e&&0===e.length||this.k_t(e,n)||(this.I4=e,this.f_t.qualities.targetQuality=e?e.map(function(t){return t.p_t}):null,this.Zo(new PQ(e,this)))}}]),n}(Cs),ZQ=function(t){function n(n){var i,e,r;return(r=t.call(this)||this).p_t=void 0,r.kl=void 0,r.CE=function(){return r.Kh()},r.cg=void 0,r.ag=void 0,r.wT=void 0,r.F0=void 0,r.o$=void 0,r.p_t=n,r.p_t.addEventListener("qualityupdated",r.CE),r.cg=String(n.id),r.ag=null!=(i=n.uid)?i:Hg++,r.wT=null!=(e=n.bandwidth)?e:NaN,r.F0=n.codecs,r.o$=n.uri,r}U(n,t);var i=n.prototype;return i.Kh=function(){this.D_t()&&this.Zo(new GQ(this.ml))},i.D_t=function(){var t,n,i=this.p_t,e=null!=(t=i.uid)?t:this.ag,r=null!=(n=i.bandwidth)?n:NaN,s=i.codecs,u=i.uri,o=this.ag!==e||!Zt(this.wT,r)||this.F0!==s||this.o$!==u;return this.ag=e,this.wT=r,this.F0=s,this.o$=u,o},i.nd=function(){this.p_t.removeEventListener("qualityupdated",this.CE)},i.Wp=function(){},z(n,[{key:"vg",get:function(){return this.p_t.name||""},set:function(t){this.vg!==t&&(this.p_t.name=t,this.Zo(new GQ(this.ml)))}},{key:"ml",get:function(){return this.kl||(this.kl=this.pl()),this.kl}},{key:"jJ",get:function(){return!0}}]),n}(Cs),qQ=function(t){function n(n){var i;return(i=t.call(this,n)||this).a_t=void 0,i.a_t=NaN,i}return U(n,t),n.prototype.pl=function(){return VQ(this)},n}(ZQ),JQ=function(t){function n(n,i){var e;return void 0===i&&(i=0),(e=t.call(this,n)||this).D4=void 0,e.pu=void 0,e.Xk=void 0,e.T_t=void 0,e.D4=n.frameRate,e.pu=n.resolution?n.resolution.width:NaN,e.Xk=n.resolution?n.resolution.height:NaN,e.T_t=i,e}U(n,t);var i=n.prototype;return i.D_t=function(){var n=t.prototype.D_t.call(this),i=this.p_t,e=i.frameRate,r=i.resolution?i.resolution.width:NaN,s=i.resolution?i.resolution.height:NaN;return n=n||!Zt(this.D4,e)||!Zt(this.pu,r)||!Zt(this.Xk,s),this.D4=e,this.pu=r,this.Xk=s,n},i.pl=function(){return FQ(this)},z(n,[{key:"c_t",get:function(){return this.T_t},set:function(t){this.T_t!==t&&(this.T_t=t,this.Zo(new GQ(this.ml)))}}]),n}(ZQ),KQ=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.__t=function(t){return new qQ(t)},n}(XQ),$Q=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).I_t=void 0,n}U(n,t);var i=n.prototype;return i.__t=function(t){return new JQ(t,this.I_t)},i.b_t=function(t){this.I_t=t;for(var n=0,i=this.lg.Kl;n<i.length;n++){var e=i[n];void 0!==e.c_t&&(e.c_t=t)}},n}(XQ),tP=function(t){function n(){return t.call(this,rh.Da)||this}return U(n,t),n}(xs),nP=function(t){function n(){return t.call(this,rh.Na)||this}return U(n,t),n}(xs),iP=function(){function t(t,n){this.SA=void 0,this.uV=void 0,this.SA=new ly,this.uV=new GL(t,n)}var n=t.prototype;return n.sN=function(t,n,i,e,r,s,u){var o=new GE(t,n,i,e,r,s,u);return this.SA.Xl(o),this.uV.Xl(o),o},n.hN=function(t){this.SA.Zl(t),this.uV.Zl(t),t.nd()},n.Jl=function(){for(var t=0,n=this.SA.Kl.slice();t<n.length;t++){n[t].nd()}this.SA.Jl(),this.uV.Jl()},n.nd=function(){this.Jl(),this.SA.nd(),this.uV.nd()},z(t,[{key:"RA",get:function(){return this.SA}}]),t}();function eP(t,n){for(var i=0;i<t.$l;i++){var e=t.Wl(i);if(e.f_t===n)return e}}var rP=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this)||this).sE=void 0,o.hq=void 0,o.E_t=void 0,o.L_t=void 0,o.S_t=void 0,o.EA=void 0,o.LA=void 0,o.eV=void 0,o.rV=void 0,o.SA=void 0,o.nN=void 0,o.Nq=void 0,o.Dq=void 0,o.j_t=void 0,o.xT=void 0,o.zT=void 0,o.C_t=NaN,o.O_t=0,o.YT=new Fk,o.x_t=function(){o.Zo(new ql(o.uA))},o.z_t=function(){o.Zo(new Zl(o.uA))},o.R_t=function(){o.Zo(new ug(o.uA))},o.U_t=function(){o.Zo(new og(o.uA))},o.B_t=function(){o.Zo(new ig(o.uA,o.vA))},o.Q_t=function(){o.Zo(new hg(o.uA,o.AA))},o.P_t=function(){o.Zo(new NT(o.uA))},o.Y_t=function(){o.Zo(new rg(o.uA))},o.G_t=function(){o.Zo(new DT)},o.F_t=function(){o.Zo(new tP)},o.V_t=function(){o.Zo(new nP)},o.H_t=function(){o.W_t(),o.S_t.Jl(),o.X_t(),o.kI()},o.lz=function(){o.X_t(),o.kI(),o.hI()},o.W_t=function(){var t=o.C_t,n=o.oA;o.C_t=n,t===n||w(t)&&w(n)||o.Zo(new ng(n))},o.Z_t=function(t){var n=t.error||o.E_t.error;if(n){var i,e=Eg.DECODE;n.code===AC.eK&&Or(n.info.code,"VEE")&&(e=+n.info.code.substr("VEE".length)),n.info&&(i=n.info.code),o.xT=new Cg(e,n.message,i),o.Zo(new vg(zg(o.xT)))}},o.VT=function(){o.Zo(new eg(o.uA,o.ow))},o.q_t=function(){o.gA>0&&o.lA>0&&o.Zo(new Qy)},o.J_t=function(){o.Zo(new kl)},o.K_t=function(t){o.LA.Kl.forEach(function(n){return n.b_t(t.ptsOffset)})},o.$_t=function(t){o.O_t+=t.lw,o.Zo(t)},o.tMt=function(t){return o.nMt(t.track)},o.iMt=function(t){return o.eMt(t.track)},o.rMt=function(t){var n=eP(o.EA,t.track);n&&n.Zo(new Pd(n))},o.sMt=function(t){var n=eP(o.LA,t.track);n&&n.Zo(new Pd(n))},o.hq=n,o.sE=i,r=function(t){var n,i={};return i=OB(t,i),(i=OB(UQ,i)).abrRules=i.abrRules.slice(0),i.allowManualQualitySwitch=!Z.yr&&i.allowManualQualitySwitch,i.libraryLocation=Ff(i.libraryLocation||"./",!0),i.initialRendition=i.initialRendition&&i.initialRendition.toLowerCase(),i.localisation=(n=i.localisation||{},function(t){return q.call(n,t)?n[t]:t}),i}(r),o.E_t=new zQ(o.hq,o.sE,r,e,s),o.uMt(),o.L_t=new sP(o.E_t),o.S_t=new f_(o.L_t,!0),o.S_t.qo($l,o.Xo),o.EA=new Bg,o.LA=new Bg,o.nN=new iP(sn(o),new FL),o.eV=new nS(sn(o)),o.eV.sg=o.E_t.RA,o.rV=new iS(o.nN,o.eV),o.SA=new Wk([o.E_t.RA,o.rV.jk]),o.Nq=new bS,o.Nq.CH(n),o.Dq=new Vj(o.Nq.hw,o.E_t.dimensions,o.RA,u,o.E_t.qyt),o.hI(),o}U(n,t);var i=n.prototype;return i.JA=function(){this.E_t.JA(),this.Nq.JA()},i.qA=function(){this.E_t.qA(),this.Nq.qA()},i.GA=function(){var t=N.coroutine(rr.mark(function t(n,i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.j_t=n,this.E_t.GA({sources:{src:n.src,type:Tl.Yg,contentProtection:n.contentProtection},textTracks:i.textTracks,configuration:sr({},i,{crossOrigin:n.crossOrigin,withCredentials:n.useCredentials,liveOffset:n.liveOffset,hlsDateRange:n.hlsDateRange,hls:n.hls})});case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.BA=function(){this.E_t.play()},i.QA=function(){this.E_t.pause()},i.Jl=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.j_t=void 0,this.xT=void 0,this.zT=void 0,this.O_t=0,this.E_t.GA({sources:null}),this.S_t.Jl(),this.nN.Jl(),this.X_t();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.FA=function(){return!1},i.VA=function(){},i.HA=function(){},i.KA=function(){return this.E_t.KA()||void 0},i.$A=function(){return this.E_t.qyt},i.sw=function(){},i.nd=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Jl();case 2:return this.$o(),this.S_t.nd(),this.L_t.nd(),this.oMt(),t.next=8,this.E_t.xo();case 8:return this.EA.nd(),this.LA.nd(),this.eV.nd(),t.next=13,this.rV.nd();case 13:this.nN.nd(),this.SA.nd(),this.Dq.nd(),this.Nq.nd();case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.uMt=function(){this.E_t.addEventListener("Jyt",this.H_t),this.E_t.addEventListener("t_t",this.lz),this.E_t.addEventListener("durationchange",this.W_t),this.E_t.addEventListener("error",this.Z_t),this.E_t.addEventListener("timeupdate",this.VT),this.E_t.addEventListener("resize",this.q_t),this.E_t.addEventListener(rh._a,this.J_t),this.E_t.addEventListener("Wft",this.K_t),this.E_t.addEventListener(rh.Ra,this.$_t),this.E_t.addEventListener("play",this.x_t),this.E_t.addEventListener("pause",this.z_t),this.E_t.addEventListener("seeking",this.R_t),this.E_t.addEventListener("seeked",this.U_t),this.E_t.addEventListener("ratechange",this.B_t),this.E_t.addEventListener("volumechange",this.Q_t),this.E_t.addEventListener("progress",this.P_t),this.E_t.addEventListener("ended",this.Y_t),this.E_t.addEventListener("loadstart",this.G_t),this.E_t.addEventListener(rh.Da,this.F_t),this.E_t.addEventListener(rh.Na,this.V_t),this.E_t.addEventListener(rh.xa,this.Xo)},i.oMt=function(){this.E_t.removeEventListener("Jyt",this.H_t),this.E_t.removeEventListener("t_t",this.lz),this.E_t.removeEventListener("durationchange",this.W_t),this.E_t.removeEventListener("error",this.Z_t),this.E_t.removeEventListener("timeupdate",this.VT),this.E_t.removeEventListener("resize",this.q_t),this.E_t.removeEventListener(rh._a,this.J_t),this.E_t.removeEventListener("play",this.x_t),this.E_t.removeEventListener("pause",this.z_t),this.E_t.removeEventListener("seeking",this.R_t),this.E_t.removeEventListener("seeked",this.U_t),this.E_t.removeEventListener("ratechange",this.B_t),this.E_t.removeEventListener("volumechange",this.Q_t),this.E_t.removeEventListener("progress",this.P_t),this.E_t.removeEventListener("ended",this.Y_t),this.E_t.removeEventListener("loadstart",this.G_t),this.E_t.removeEventListener(rh.Da,this.F_t),this.E_t.removeEventListener(rh.Na,this.V_t),this.E_t.removeEventListener(rh.xa,this.Xo),this.E_t.removeEventListener(rh.Ra,this.$_t)},i.hI=function(){var t=this.E_t.audioTracks,n=this.E_t.videoTracks;if(t){for(var i=0;i<t.length;i++)this.nMt(t.item(i));t.addEventListener("addtrack",this.tMt),t.addEventListener("enabledtrack",this.rMt),t.addEventListener("disabledtrack",this.rMt)}if(n){for(var e=0;e<n.length;e++)this.eMt(n.item(e));n.addEventListener("addtrack",this.iMt),n.addEventListener("enabledtrack",this.sMt),n.addEventListener("disabledtrack",this.sMt)}},i.kI=function(){var t=this.E_t.audioTracks,n=this.E_t.videoTracks;t&&(t.removeEventListener("addtrack",this.tMt),t.removeEventListener("enabledtrack",this.rMt),t.removeEventListener("disabledtrack",this.rMt)),n&&(n.removeEventListener("addtrack",this.iMt),n.removeEventListener("enabledtrack",this.sMt),n.removeEventListener("disabledtrack",this.sMt))},i.X_t=function(){for(var t=0,n=this.EA.Kl;t<n.length;t++){n[t].nd()}for(var i=0,e=this.LA.Kl;i<e.length;i++){e[i].nd()}this.EA.Jl(),this.LA.Jl()},i.nMt=function(t){eP(this.EA,t)||this.EA.Xl(new KQ(t,this.E_t.audioTracks))},i.eMt=function(t){eP(this.LA,t)||this.LA.Xl(new $Q(t,this.E_t.videoTracks))},z(n,[{key:"xA",get:function(){return this.EA}},{key:"uw",get:function(){return this.E_t.buffered}},{key:"ow",get:function(){var t;return null!=(t=this.E_t.currentProgramDateTime)?t:void 0},set:function(t){this.E_t.currentProgramDateTime=null!=t?t:null}},{key:"uA",get:function(){var t=this.E_t.currentTime;return t===1/0&&w(this.E_t.duration)&&(t=0),t},set:function(t){this.E_t.currentTime=t}},{key:"oA",get:function(){var t=this.E_t.duration;return t<0?1/0:t}},{key:"hA",get:function(){return this.E_t.ended}},{key:"vh",get:function(){return this.xT}},{key:"cA",get:function(){return this.zT}},{key:"UA",get:function(){}},{key:"cw",get:function(){return!1}},{key:"pA",get:function(){return sr({},this.E_t.pA(),{lw:this.O_t})}},{key:"aA",get:function(){return this.E_t.muted},set:function(t){this.E_t.muted=t}},{key:"Aw",get:function(){return this.E_t.online}},{key:"fA",get:function(){return this.E_t.paused}},{key:"vA",get:function(){return this.E_t.playbackRate},set:function(t){this.E_t.playbackRate=t}},{key:"ww",get:function(){return this.E_t.played}},{key:"yw",get:function(){return this.E_t.preload||im.ZI},set:function(t){this.E_t.preload=t}},{key:"Ng",get:function(){return this.E_t.Ng}},{key:"_w",get:function(){return this.E_t.seekable}},{key:"dA",get:function(){return this.E_t.seeking}},{key:"bI",get:function(){}},{key:"RA",get:function(){return this.SA}},{key:"zA",get:function(){return this.LA}},{key:"lA",get:function(){return this.E_t.videoHeight}},{key:"gA",get:function(){return this.E_t.videoWidth}},{key:"AA",get:function(){return this.E_t.volume},set:function(t){this.E_t.volume=t}},{key:"Mw",get:function(){return!1},set:function(t){}},{key:"EI",get:function(){return this.YT}}]),n}(_l),sP=function(t){function n(n){var i;return(i=t.call(this)||this).E_t=void 0,i.hMt=function(){i.Zo(new fg(i.uA,i.E_t.Ng))},i.cMt=function(){i.Zo(new a_(i.uA))},i.x_t=function(){i.Zo(new ql(i.uA))},i.z_t=function(){i.Zo(new Zl(i.uA))},i.E_t=n,i.E_t.addEventListener(Wl.Rl,i.hMt),i.E_t.addEventListener(Wl.sA,i.cMt),i.E_t.addEventListener(rh.Ia,i.x_t),i.E_t.addEventListener(rh.Ta,i.z_t),i}return U(n,t),n.prototype.nd=function(){this.$o(),this.E_t.removeEventListener(Wl.Rl,this.hMt),this.E_t.removeEventListener(Wl.sA,this.cMt),this.E_t.removeEventListener(rh.Ia,this.x_t),this.E_t.removeEventListener(rh.Ta,this.z_t)},z(n,[{key:"uA",get:function(){var t=this.E_t.currentTime;return t===1/0&&w(this.E_t.duration)&&(t=0),t}},{key:"hA",get:function(){return this.E_t.ended}},{key:"vh",get:function(){return this.E_t.error||void 0}},{key:"fA",get:function(){return this.E_t.paused}}]),n}(Cs);function uP(t,n){return oP.apply(this,arguments)}function oP(){return(oP=N.coroutine(rr.mark(function t(n,i,e,r,s){var u,o;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===e&&(e=3),void 0===r&&(r=1e3),void 0===s&&(s=1/0),u=0;case 4:return t.prev=5,t.next=8,n(i);case 8:return t.abrupt("return",t.sent);case 11:if(t.prev=11,t.t0=t.catch(5),_s(t.t0),!(u<e)){t.next=20;break}return o=l.min(r*l.pow(2,u),s),u++,t.next=19,Es(o,i);case 19:return t.abrupt("continue",4);case 20:throw t.t0;case 21:t.next=4;break;case 23:case"end":return t.stop()}},t,null,[[5,11]])}))).apply(this,arguments)}tm(new(function(){function t(){this.LI=Uk.Yg}var n=t.prototype;return n.hD=function(t,n,i,e,r,s){return new rP(t,n,i,e,r,s)},n.SI=function(n,i){if((Z.pr||Z.Kr)&&!i.manifestMetadataTrack)return!1;if(!xl(n.type))return!1;if(n.useNativePlayback)return!1;var e=n.contentProtection;return!(e&&!X_(e)&&!t.aMt(e))&&!!function(t){return xQ(t,{})!==bQ.vK}(n)},t.aMt=function(t){return!!t.aes128},n.jI=function(){return!0},t}()));var hP,cP,aP=function(t){function n(){return t.call(this,"fMt")||this}return U(n,t),n}(xs),fP=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).vMt=void 0,r.dMt=void 0,r.lMt=void 0,r.j_t=void 0,r.gMt=void 0,r.iN=void 0,r.Vi=void 0,r.AMt=void 0,r.wMt=function(){r.Zo(new aP)},r.j_t=n,r.gMt=sr({},i,{crossOrigin:r.j_t.crossOrigin,withCredentials:r.j_t.useCredentials,liveOffset:r.j_t.liveOffset,hlsDateRange:r.j_t.hlsDateRange}),r.iN=e,r.dMt=[],r.Vi=!1,r}U(n,t);var i=n.prototype;return i.yMt=function(){if(this.lMt)return this.lMt.mA},i.ab=function(t){var n=this;Ts(uP(function(){return n.f2()},t))},i.f2=function(){var t=N.coroutine(rr.mark(function t(){var n,i,e,r,s,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._Mt();case 2:if((n=t.sent).isMasterPlaylist)for(this.vMt=n,i=0,e=n.streams;i<e.length;i++)r=e[i],s=new CR(this.iN,this.gMt),this.dMt.push({stream:{uri:r.uri,width:r.resolution&&r.resolution.width,height:r.resolution&&r.resolution.height},updater:s});else u=new CR(this.iN,this.gMt),this.dMt.push({stream:{uri:n.uri},updater:u});this.AMt&&(this.MMt(this.AMt.width,this.AMt.height),this.AMt=void 0),this.Vi=!0;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.kMt=function(t,n){this.Vi?this.MMt(t,n):this.AMt={width:t,height:n}},i.MMt=function(t,n){this.mMt();var i=this.pMt(t,n);i&&(this.lMt=i.updater,this.lMt.addEventListener("git",this.wMt),i.updater.ab(i.stream.uri))},i.mMt=function(){this.lMt&&(this.lMt.PA(),this.lMt.removeEventListener("git",this.wMt),this.lMt=void 0)},i.pMt=function(t,n){return 1===this.dMt.length?this.dMt[0]:es(this.dMt,function(i){return i.stream.width===t&&i.stream.height===n})},i._Mt=function(){var t=N.coroutine(rr.mark(function t(){var n,i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new jR(this.gMt,bO.rs.O2,this.iN),t.next=3,n.qh(this.j_t.src,{});case 3:return i=t.sent,t.abrupt("return",i.mA);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.nd=function(){this.mMt();for(var t=0,n=this.dMt;t<n.length;t++){n[t].updater.nd()}hs(this.dMt)},n}(Cs),vP=function(t){function n(n,i,e){var r;return(r=t.call(this,n)||this).NMt=void 0,r.DMt=void 0,r.ax=void 0,r.TMt=!1,r.g1=void 0,r.uV=void 0,r.handleManifestUpdate=function(){var t=r.NMt.yMt();if(t){var n=r.bI;if(n){var i=n.getTime(),e=r.g1;e||(e=new xC,r.g1=e),e.Kh(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!r.TMt&&e.Dg.$l>0&&(r.RA.Xl(e),r.uV.Xl(e),r.TMt=!0)}}},r.q_t=function(){r.NMt&&r.NMt.kMt(r.gA,r.lA)},r.DMt=i,r.ax=e,r.uV=new HL(sn(r)),r.qo(rh.Sa,r.q_t),r}U(n,t);var i=n.prototype;return i.GA=function(){var n=N.coroutine(rr.mark(function n(i,e,r){return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.GA.call(this,i,e,r);case 2:i.hlsDateRange&&this.IMt(i,e,r);case 3:case"end":return n.stop()}},n,this)}));return function(t,i,e){return n.apply(this,arguments)}}(),i.IMt=function(t,n,i){this.NMt&&(this.NMt.th("fMt",this.handleManifestUpdate),this.NMt.nd()),this.NMt=new fP(t,n,this.DMt),this.NMt.qo("fMt",this.handleManifestUpdate),this.NMt.ab(i)},i.Jl=function(){return this.g1&&(this.RA.Zl(this.g1),this.uV.Zl(this.g1),this.g1.nd(),this.g1=void 0,this.TMt=!1),this.uV.Jl(),t.prototype.Jl.call(this)},i.nd=function(){return this.th(rh.Sa,this.q_t),this.NMt&&(this.NMt.th("fMt",this.handleManifestUpdate),this.NMt.nd()),this.uV.nd(),t.prototype.nd.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).bMt=void 0,i.bMt=n;for(var e=0;e<sm.length;e++){var r=sm[e];i.bMt.qo(r,i.Xo)}return i}U(n,t);var i=n.prototype;return i.FA=function(){return this.bMt.FA()},i.$A=function(){return this.bMt.$A()},i.KA=function(){return this.bMt.KA()},i.JA=function(){return this.bMt.JA()},i.sw=function(){return this.bMt.sw()},i.QA=function(){return this.bMt.QA()},i.BA=function(){return this.bMt.BA()},i.Jl=function(){return this.bMt.Jl()},i.GA=function(t,n,i){return this.bMt.GA(t,n,i)},i.qA=function(){return this.bMt.qA()},i.VA=function(){return this.bMt.VA()},i.HA=function(){return this.bMt.HA()},i.nd=function(){this.$o();for(var t=0;t<sm.length;t++){var n=sm[t];this.bMt.th(n,this.Xo)}return this.bMt.nd()},z(n,[{key:"xA",get:function(){return this.bMt.xA}},{key:"uw",get:function(){return this.bMt.uw}},{key:"ow",get:function(){return this.bMt.ow},set:function(t){this.bMt.ow=t}},{key:"uA",get:function(){return this.bMt.uA},set:function(t){this.bMt.uA=t}},{key:"oA",get:function(){return this.bMt.oA}},{key:"hA",get:function(){return this.bMt.hA}},{key:"cA",get:function(){return this.bMt.cA}},{key:"UA",get:function(){return this.bMt.UA}},{key:"vh",get:function(){return this.bMt.vh}},{key:"cw",get:function(){return this.bMt.cw}},{key:"pA",get:function(){return this.bMt.pA}},{key:"aA",get:function(){return this.bMt.aA},set:function(t){this.bMt.aA=t}},{key:"Aw",get:function(){return this.bMt.Aw}},{key:"fA",get:function(){return this.bMt.fA}},{key:"vA",get:function(){return this.bMt.vA},set:function(t){this.bMt.vA=t}},{key:"ww",get:function(){return this.bMt.ww}},{key:"yw",get:function(){return this.bMt.yw},set:function(t){this.bMt.yw=t}},{key:"Ng",get:function(){return this.bMt.Ng}},{key:"_w",get:function(){return this.bMt._w}},{key:"dA",get:function(){return this.bMt.dA}},{key:"bI",get:function(){return this.bMt.bI}},{key:"RA",get:function(){return this.bMt.RA}},{key:"lA",get:function(){return this.bMt.lA}},{key:"zA",get:function(){return this.bMt.zA}},{key:"gA",get:function(){return this.bMt.gA}},{key:"AA",get:function(){return this.bMt.AA},set:function(t){this.bMt.AA=t}},{key:"Mw",get:function(){return this.bMt.Mw},set:function(t){this.bMt.Mw=t}},{key:"EI",get:function(){return this.bMt.EI}}]),n}(_l));hP=function(t,n,i){return new vP(t,n,i)},Kk.xI().zI(hP),function(t){t[t.EMt=0]="EMt",t[t.LMt=1]="LMt"}(cP||(cP={}));var dP,lP,gP=function(){function t(t){this.SMt=or(),this.jMt=or(),this.CMt=t}var n=t.prototype;return n.OMt=function(t,n,i,e,r,s,u,o,h,c,a){var f=this;t.PE.forEach(function(t){if(!f.xMt(t.zMt)){var v=t.RMt(n,i,e,r,s,u,o,h,c,a);v&&f.UMt(v,i)}})},n.xMt=function(t){return this.SMt.get(t)},n.UMt=function(t,n){this.SMt.set(t.BMt,t),this.jMt.set(t.BMt,t.QMt),n.OA(t),this.CMt.ME(t.PMt)},n.YMt=function(t){this.SMt.has(t.BMt)||(this.jMt.set(t.BMt,t),this.CMt.ME(t.PMt))},n.GMt=function(t){return this.jMt.forEach(t)},n.nd=function(){this.SMt.clear(),this.jMt.clear()},t}(),AP=function(t){function n(n,i,e,r){var s;return(s=t.call(this,e||i&&wP[i]||n,r)||this).FMt=n,s.VMt=i,s.HMt=e,s}return U(n,t),z(n,[{key:"WMt",get:function(){return this.FMt}},{key:"XMt",get:function(){var t;return null!=(t=this.VMt)?t:lP.UNKNOWN_ERROR}}]),n}(on);!function(t){t.ADBLOCK="adblock",t.NETWORK="network",t.PARSING="parsing",t.PLAYBACK="playback",t.GENERAL="general"}(dP||(dP={})),function(t){t[t.VAST_MALFORMED_RESPONSE=100]="VAST_MALFORMED_RESPONSE",t[t.VAST_SCHEMA_VALIDATION_ERROR=101]="VAST_SCHEMA_VALIDATION_ERROR",t[t.VAST_UNSUPPORTED_VERSION=102]="VAST_UNSUPPORTED_VERSION",t[t.VAST_TRAFFICKING_ERROR=200]="VAST_TRAFFICKING_ERROR",t[t.VAST_UNEXPECTED_LINEARITY=201]="VAST_UNEXPECTED_LINEARITY",t[t.VAST_UNEXPECTED_DURATION_ERROR=202]="VAST_UNEXPECTED_DURATION_ERROR",t[t.UNEXPECTED_SIZE=203]="UNEXPECTED_SIZE",t[t.VAST_WRAPPER_ERROR=300]="VAST_WRAPPER_ERROR",t[t.VAST_LOAD_TIMEOUT=301]="VAST_LOAD_TIMEOUT",t[t.VAST_TOO_MANY_REDIRECTS=302]="VAST_TOO_MANY_REDIRECTS",t[t.VAST_NO_ADS_AFTER_WRAPPER=303]="VAST_NO_ADS_AFTER_WRAPPER",t[t.GENERAL_LINEAR_ERROR=400]="GENERAL_LINEAR_ERROR",t[t.FILE_NOT_FOUND=401]="FILE_NOT_FOUND",t[t.VAST_MEDIA_LOAD_TIMEOUT=402]="VAST_MEDIA_LOAD_TIMEOUT",t[t.VAST_LINEAR_ASSET_MISMATCH=403]="VAST_LINEAR_ASSET_MISMATCH",t[t.VAST_PROBLEM_DISPLAYING_MEDIA_FILE=405]="VAST_PROBLEM_DISPLAYING_MEDIA_FILE",t[t.MEZZANINE_FILE_REQUIRES=406]="MEZZANINE_FILE_REQUIRES",t[t.MEZZANINE_FILE_DOWNLOADED_FIRST_TIME=407]="MEZZANINE_FILE_DOWNLOADED_FIRST_TIME",t[t.AD_IN_VAST_REJECTED=408]="AD_IN_VAST_REJECTED",t[t.INTERACTIVE_CREATIVE_NOT_EXECUTED=409]="INTERACTIVE_CREATIVE_NOT_EXECUTED",t[t.VERIFICATION_CODE_NOT_EXECUTED=410]="VERIFICATION_CODE_NOT_EXECUTED",t[t.GENERAL_NON_LINEAR_ERROR=500]="GENERAL_NON_LINEAR_ERROR",t[t.NONLINEAR_DIMENSIONS_ERROR=501]="NONLINEAR_DIMENSIONS_ERROR",t[t.OVERLAY_AD_LOADING_FAILED=502]="OVERLAY_AD_LOADING_FAILED",t[t.VAST_NONLINEAR_ASSET_MISMATCH=503]="VAST_NONLINEAR_ASSET_MISMATCH",t[t.GENERAL_COMPANION_AD_ERROR=600]="GENERAL_COMPANION_AD_ERROR",t[t.INVALID_DIMENSIONS_COMPANION_AD=601]="INVALID_DIMENSIONS_COMPANION_AD",t[t.COMPANION_REQUIRED_ERROR=602]="COMPANION_REQUIRED_ERROR",t[t.COMPANION_AD_LOADING_FAILED=603]="COMPANION_AD_LOADING_FAILED",t[t.UNABLE_TO_FIND_SUPPORTED_COMPANION=604]="UNABLE_TO_FIND_SUPPORTED_COMPANION",t[t.UNKNOWN_ERROR=900]="UNKNOWN_ERROR",t[t.GENERAL_VPAID_ERROR=901]="GENERAL_VPAID_ERROR",t[t.MALFORMED_URI=1005]="MALFORMED_URI",t[t.VAST_ASSET_NOT_FOUND=1007]="VAST_ASSET_NOT_FOUND",t[t.VAST_EMPTY_RESPONSE=1009]="VAST_EMPTY_RESPONSE",t[t.UNKNOWN_AD_RESPONSE=1010]="UNKNOWN_AD_RESPONSE",t[t.UNSUPPORTED_LOCALE=1011]="UNSUPPORTED_LOCALE",t[t.INVALID_ARGUMENTS=1101]="INVALID_ARGUMENTS",t[t.INVALID_ADX_EXTENSION=1105]="INVALID_ADX_EXTENSION",t[t.AUTOPLAY_DISALLOWED=1205]="AUTOPLAY_DISALLOWED"}(lP||(lP={}));var wP={100:"XML parsing error.",101:"VAST schema validation error.",102:"VAST version of response not supported.",200:"Trafficking error. The video player received an ad type that it was not expecting and/or cannot display.",201:"Video player expecting different linearity.",202:"Video player expecting different duration.",203:"Video player expecting different size.",300:"General wrapper error.",301:"Timeout of VAST URI provided in wrapper element, or of VAST URI provided in a subsequent wrapper element. This includes request errors such as invalid URI, unreachable or request timeout for URI, and security or other exceptions related to requesting a VAST URI.",302:"Wrapper limit reached, as defined by the video player. Too many wrapper responses have been received with no InLine response. This can be caused by a circular loop of daisy chaining (one network bouncing to another and another).",303:"No ads VAST response after one or more wrappers. This also includes the number of empty VAST responses from fallback.",400:"General linear error. The video player is unable to display the linear ad.",401:"File not found. Unable to find Linear/MediaFile from URI.",402:"Unable to download or timeout of MediaFile URI.",403:"Could not find a media file that is supported by this video player, based on the attributes of the MediaFile element.",405:"Problem displaying a media file.",406:"A mezzanine file was required, but not provided.",407:"The mezzanine file was downloaded for the first time, so the ad did not serve. This can occur when an ad insertion is missed because the creative is being transcoded. It continues to occur until the creative is available for insertion.",408:"The ad returned in the VAST response was rejected.",409:"The interactive creative defined in the InteractiveCreativeFile node was not executed.",410:"The code referenced in the Verification node was not executed.",500:"General NonLinearAds error.",501:"Unable to display non-linear ad because creative dimensions do not align with creative display area (in other words, the creative dimension was too large). This can occur if you use CSS styles to set width and height of the video ,content element. You should instead use the width and height HTML attributes.",502:"Unable to fetch NonLinearAds/NonLinear resource.",503:"Could not find NonLinearResource with supported type. This can occur when a creative size is larger than the player size.",600:"General CompanionAds error.",601:"Unable to display companion because creative dimensions do not fit within the companion display area (in other words, space was not available).",602:"Unable to display required companion.",603:"Unable to fetch CompanionAds/Companion resource.",604:"Could not find Companion resource with supported type.",900:"VAST 2 error. Even if you request VAST 3 or your DFP network default is VAST 3, this can occur if you have a VAST redirect that returns a VAST 2 response.",901:"General VPAID error",1005:"URI malformed."},yP=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).ZMt=void 0,e.ZMt=i,e}return U(n,t),n}(Sd),_P=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).ad=i,e}return U(n,t),n}(xs),MP=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"qMt",null)||this).WMt=n,s.oh=i,s.zh=e,s.FI=r,s}return U(n,t),n.prototype.pl=function(){return new kP(this.WMt,this.oh,this.zh,this.FI)},n.JMt=function(t){return new n(dP.GENERAL,t.oh,t.XMt)},n.KMt=function(t,i){return new n(t.WMt,t.message,t.XMt,i)},n}(yP),kP=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"aderror",null)||this).problemType=n,s.message=i,s.errorCode=e,s.source=r,s}return U(n,t),n}(_P);var mP=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).$Mt=void 0,r.tkt=void 0,r.$Mt=n,r.tkt=e,r}return U(n,t),n.prototype.BA=function(){this.$Mt.sg=this.tkt,this.$Mt.BA()},n}(kD),pP=function(t){function i(n,i){var e,r;return(e=t.call(this)||this).ml=void 0,e.nkt=void 0,e.ikt=void 0,e.ekt=void 0,e.rkt=!1,e.skt=!1,e.ukt=function(){e.rkt&&e.okt("Starting ads was not possible. Turn off your AdBlocker and try again.")},e.AJ=function(){e.skt=!0},e.KI=n,e.$Mt=i,i.qo("play",e.AJ),e.ml=(r=sn(e),{get playing(){return r.hkt},get currentAds(){var t=[];return r.ckt(function(n){var i=n.akt;i.length&&(t=t.concat(i))}),t},get currentAdBreak(){var t=null;return r.ckt(function(n){!t&&n.fkt&&(t=n.fkt)}),t},get scheduledAds(){var t=[];return r.ckt(function(n){t=t.concat(n.vkt)}),t},get scheduledAdBreaks(){var t=[];return r.ckt(function(n){t=t.concat(n.dkt)}),t},skip:function(){r.ckt(function(t){t.$M()})},schedule:function(t){var n=Mp(t,Hm.rs);n?r.ae(n,cP.EMt,!1):console.error("Invalid ad description")},addEventListener:function(t,n){r.lkt.qo(t,n)},removeEventListener:function(t,n){r.lkt.th(t,n)}}),e.ekt=new _D(sn(e),e.ml),e.ikt=new gP(sn(e)),e.qo("qMt",e.ukt),e}U(i,t);var e=i.prototype;return e.ae=function(t,n,i){try{this.rkt=i;var e=Hm.rs.QE(t),r=this.ikt.xMt(e.zMt);if(!r)throw new AP(dP.ADBLOCK);n!==cP.LMt&&this.skt||(this.nkt=new mP(this.$Mt,this.$Mt.sg,r),this.$Mt.sg=this.nkt),e.ae(t,n,r,this.rkt)}catch(n){0,this.Zo(MP.KMt(n,t.sources))}},e.okt=function(t){var i,e=new Uo(n.ErrorCode.AD_BLOCKER_DETECTED,t),r=xg(e);this.$Mt.sg=new Am(this.KI.hw,r,e),null==(i=this.nkt)||i.nd(),this.KI.nd(),this.nd(),this.$Mt.iw(this.KI)},e.ckt=function(t){return this.gkt.GMt(t)},e.Jl=function(){var t;this.skt=!1,this.$Mt.sg===this.nkt&&(this.$Mt.sg=this.KI),null==(t=this.nkt)||t.Jl(),this.nkt=void 0},e.nd=function(){this.$o(),this.$Mt.th("play",this.AJ),this.th("qMt",this.ukt),this.ikt.nd(),this.ekt.nd(),this.nkt=void 0},z(i,[{key:"gkt",get:function(){return this.ikt}},{key:"lkt",get:function(){return this.ekt}},{key:"hkt",get:function(){var t=!1;return this.ckt(function(n){t=t||n.Akt}),t}}]),i}(Cm);WD(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).wkt=void 0,e.wkt=new pP(e.zx,e.WO),e}U(n,t);var i,e=n.prototype;return e.GA=function(n){this.wkt.Jl(),t.prototype.GA.call(this,n)},e.Rz=(i=N.coroutine(rr.mark(function n(i,e){var r,s,u,o;return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return ys(e),n.next=3,t.prototype.Rz.call(this,i,e);case 3:if(ys(e),i&&i.ads){n.next=6;break}return n.abrupt("return");case 6:for(r=Boolean(i.blockContentIfAdError),s=0,u=i.ads;s<u.length;s++)o=u[s],this.wkt.ae(o,cP.LMt,r);case 8:case"end":return n.stop()}},n,this)})),function(t,n){return i.apply(this,arguments)}),e.pl=function(){var n=this;return Hd(t.prototype.pl.call(this),{get ads(){return n.wkt.ml}})},e.nd=function(){this.wkt.nd(),t.prototype.nd.call(this)},n}(t)},BD.uz),WD(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).wkt&&e.wkt.gkt.OMt(Hm.rs,e.zx,e.WO,e.ez,i,e.nz,e.sz,e.tz,e.Al,n,e.Qx),e}return U(n,t),n.prototype.nd=function(){t.prototype.nd.call(this)},n}(t)},BD.uz);var NP=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).LA=void 0,r.EA=void 0,r.SA=void 0,r.ykt=void 0,r._kt=function(){r.VI.qA()},r.Mkt=function(){r.doHandleWindowFocus()},r.VI=n,r.kkt=i,r.ez=e,r.LA=new Bg,r.EA=new Bg,r.SA=new ly,r.ykt=new jm,r.VI.qo("currentsourcechange",r.Xo),r}U(n,t);var i=n.prototype;return i.XA=function(t){Ag(this,t)},i.ZA=function(){0},i.$A=function(){return dm},i.YA=function(){return this.kkt.YA()},i.GA=function(){var t=N.coroutine(rr.mark(function t(n,i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ys(i),t.next=3,this.VI.GA(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.FA=function(){return!1},i.VA=function(){},i.HA=function(){},i.nd=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.$o(),this.EA.nd(),this.LA.nd(),this.SA.nd(),this.ykt.nd(),this.VI.th("currentsourcechange",this.Xo);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.mkt=function(){Z.pr&&this.addWindowFocusEventListeners(),this.kkt.sg=this},i.pkt=function(){Z.pr&&this.removeWindowFocusEventListeners(),Z.Kr&&this.hw.querySelectorAll("video[src]").forEach(function(t){t.src=""}),this.kkt.sg=this.VI},i.addWindowFocusEventListeners=function(){Me.addEventListener("blur",this._kt),Me.addEventListener("focus",this.Mkt)},i.removeWindowFocusEventListeners=function(){Me.removeEventListener("blur",this._kt),Me.removeEventListener("focus",this.Mkt)},i.doHandleWindowFocus=function(){var t=this;requestAnimationFrame(function(){return t.VI.JA()})},i.sw=function(){},i.Jl=function(){return N.resolve()},z(n,[{key:"QMt",get:function(){return this}},{key:"dkt",get:function(){return[]}},{key:"UA",get:function(){}},{key:"PMt",get:function(){return this.ykt}},{key:"xA",get:function(){return this.EA}},{key:"Akt",get:function(){return this.kkt.sg===this}},{key:"uw",get:function(){return am.Xb().DI()}},{key:"ow",get:function(){return null},set:function(t){}},{key:"rw",get:function(){return this.VI.rw}},{key:"cw",get:function(){return!1}},{key:"pA",get:function(){return{aw:0,fw:0,vw:0,dw:0,lw:0,gw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Aw",get:function(){return!0}},{key:"vA",get:function(){return 1},set:function(t){}},{key:"yw",get:function(){return this.VI.yw},set:function(t){this.VI.yw=t}},{key:"ww",get:function(){return new am([0,this.uA]).DI()}},{key:"dA",get:function(){return!1}},{key:"RA",get:function(){return this.SA}},{key:"zA",get:function(){return this.LA}},{key:"Mw",get:function(){return!1},set:function(t){}}]),n}(Ml);function DP(t){r.createElement("img").src=t}var TP=new RegExp(/^(\d\d):(\d\d):(\d\d)(?:\.(\d{3}))?$/);function IP(t){if(et(t)){var n=t.match(TP);if(n)return 3600*g(n[1],10)+60*g(n[2],10)+Number(n[3])+(Number(n[4])||0)/1e3}}function bP(t){if(void 0!==t){var n=t.match(/^([1-9]?\d|100)%$/);if(n)return g(n[1])/100}}var EP,LP=function(){},SP=function(t){function n(n){var i;return(i=t.call(this)||this).Nkt=void 0,i.Nkt=n,i}return U(n,t),z(n,[{key:"Dkt",get:function(){return this.Nkt}}]),n}(LP),jP=function(){function t(){this.Tkt=void 0,this.Tkt=null}return z(t,[{key:"Ikt",get:function(){return this.Tkt}}]),t}(),CP=function(t){function n(n){var i;return(i=t.call(this)||this).bkt=void 0,i.Ekt=void 0,i.Lkt=void 0,i.bkt=n,i.Ekt=0,i.Lkt=null,i}U(n,t);var i=n.prototype;return i.cet=function(){if(null===this.Lkt&&(this.Lkt=this.bkt.Dkt[this.Ekt].Skt()),this.Ekt<this.bkt.Dkt.length){var t=this.Lkt.cet();null==t&&(this.Ekt+=1,this.Ekt<this.bkt.Dkt.length&&(this.Lkt=this.bkt.Dkt[this.Ekt].Skt(),t=this.Lkt.cet())),this.Tkt=t}else this.Tkt=void 0;return this.Tkt},i.vh=function(){return this.cet()},n}(jP),OP=function(t){function n(n){return t.call(this,n.sort(function(t,n){return t.ip-n.ip}))||this}return U(n,t),n.prototype.Skt=function(){return new CP(this)},n}(SP),xP=function(t){function n(n,i){var e;return(e=t.call(this)||this).jkt=void 0,e.Ckt=void 0,e.Okt=void 0,e.jkt=n,e.Ckt=i,e.Okt=!1,e}return U(n,t),z(n,[{key:"cg",get:function(){return this.jkt}},{key:"ip",get:function(){return this.Ckt}},{key:"xkt",get:function(){return this.Okt}}]),n}(LP),zP=function(t){function n(n){var i;return(i=t.call(this)||this).bkt=void 0,i.zkt=void 0,i.bkt=n,i.zkt=!1,i}U(n,t);var i=n.prototype;return i.cet=function(){if(this.zkt)this.Tkt=void 0;else{this.zkt=!0;var t=null,n=null,i=null,e=null,r=[],s=this.bkt.Rkt||[];this.bkt.vh&&(e=this.bkt.vh);for(var u=0,o=this.bkt.Ukt;u<o.length;u++){var h=o[u];h.Bkt&&(t=h.Bkt),h.Qkt&&(n=h.Qkt),h.Pkt&&(i=h.Pkt),r=r.concat(h.universalAdIds)}this.Tkt={Ykt:s,Bkt:t,Gkt:n,Pkt:i,vh:e,Fkt:r}}return this.Tkt},i.vh=function(){return this.cet()},n}(jP),RP=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this,n,i)||this).Vkt=e,h.Hkt=r,h.Wkt=s,h.Xkt=u,h.xT=o,h}return U(n,t),n.prototype.Skt=function(){return new zP(this)},z(n,[{key:"Ukt",get:function(){return this.Xkt}},{key:"Zkt",get:function(){return this.Vkt}},{key:"qkt",get:function(){return this.Hkt}},{key:"Rkt",get:function(){return this.Wkt}},{key:"vh",get:function(){return this.xT}}]),n}(xP),UP=function(){function t(t,n){this.Jkt=void 0,this.Kkt=void 0,this.Jkt=t,this.Kkt=n}return z(t,[{key:"$kt",get:function(){return this.Jkt}},{key:"tmt",get:function(){return this.Kkt}}]),t}(),BP=function(){function t(t,n,i,e,r,s){this.nmt=void 0,this.imt=void 0,this.emt=void 0,this.rmt=void 0,this.smt=void 0,this.umt=void 0,this.omt=void 0,this.Vkt=void 0,this.nmt=t,this.imt=n,this.emt=i,this.rmt=e,this.smt=!1,this.umt=r,this.Vkt=s}return t.prototype.hmt=function(){this.smt=!0},z(t,[{key:"cmt",get:function(){return this.nmt}},{key:"amt",get:function(){return this.imt}},{key:"fmt",get:function(){return this.emt}},{key:"vmt",get:function(){return this.rmt}},{key:"dmt",get:function(){return this.omt},set:function(t){this.omt=t}},{key:"lmt",get:function(){return this.umt}},{key:"gmt",get:function(){return this.smt}},{key:"Zkt",get:function(){return this.Vkt}}]),t}();!function(t){t.Amt="all",t.wmt="any",t.ZI="none"}(EP||(EP={}));var QP,PP=function(){function t(t,n){this.ymt=void 0,this._mt=void 0,this.ymt=t,this._mt=n}return z(t,[{key:"Mmt",get:function(){return this.ymt}},{key:"kmt",get:function(){return this._mt}}]),t}(),YP=function(){function t(t,n,i,e,r,s,u,o,h,c,a,f,v,d,l,g){this.OU=void 0,this.xU=void 0,this.Dw=void 0,this.mmt=void 0,this.pmt=void 0,this.Nmt=void 0,this.Dmt=void 0,this.Tmt=void 0,this.Imt=void 0,this.bmt=void 0,this.nmt=void 0,this.imt=void 0,this.emt=void 0,this.Emt=void 0,this.Lmt=void 0,this.Smt=void 0,this.OU=t,this.xU=n,this.Dw=i,this.mmt=e,this.pmt=r,this.Nmt=s,this.Dmt=u,this.Tmt=o,this.Imt=h,this.bmt=c,this.nmt=a,this.imt=f,this.emt=v,this.Emt=d,this.Lmt=l,this.Smt=g}return z(t,[{key:"cg",get:function(){return this.Dw}},{key:"pu",get:function(){return this.OU}},{key:"Xk",get:function(){return this.xU}},{key:"jmt",get:function(){return this.mmt}},{key:"Cmt",get:function(){return this.pmt}},{key:"Omt",get:function(){return this.Nmt}},{key:"xmt",get:function(){return this.Dmt}},{key:"zmt",get:function(){return this.Tmt}},{key:"Rmt",get:function(){return this.Imt}},{key:"Umt",get:function(){return this.bmt}},{key:"cmt",get:function(){return this.nmt}},{key:"amt",get:function(){return this.imt}},{key:"fmt",get:function(){return this.emt}},{key:"Bmt",get:function(){return this.Emt}},{key:"tmt",get:function(){return this.Lmt}},{key:"Qmt",get:function(){return this.Smt}}]),t}(),GP=function(){function t(t,n){this.Dw=void 0,this.F$=void 0,this.Dw=t,this.F$=n}return z(t,[{key:"id",get:function(){return this.Dw}},{key:"uri",get:function(){return this.F$}}]),t}(),FP=function(){function t(t,n,i,e){this.Pmt=void 0,this.Ymt=void 0,this.Gmt=void 0,this.Fmt=void 0,this.Pmt=t,this.Ymt=n,this.Gmt=i,this.Fmt=e}return z(t,[{key:"Vmt",get:function(){return this.Pmt}},{key:"Hmt",get:function(){return this.Ymt}},{key:"Wmt",get:function(){return this.Gmt}},{key:"Xmt",get:function(){return this.Fmt}}]),t}(),VP=function(t){function n(n){var i;return(i=t.call(this)||this).bkt=void 0,i.zkt=void 0,i.Lkt=void 0,i.bkt=n,i.zkt=!1,i.Lkt=null,i}U(n,t);var i=n.prototype;return i.cet=function(){if(!this.zkt&&this.bkt.Zmt){null===this.Lkt&&(this.Lkt=this.bkt.Zmt.Skt()),this.zkt=!0;var t=this.Lkt.cet(),n=null,i=null,e=null;if(this.bkt.Ukt)for(var r=0,s=this.bkt.Ukt;r<s.length;r++){var u=s[r];u.Bkt&&(n=u.Bkt),u.Qkt&&(i=u.Qkt),u.Pkt&&(e=u.Pkt)}var o=t.Ykt.concat(this.bkt.Ykt),h=t.Bkt;if(n&&t.Bkt){var c=new FP(t.Bkt.qmt.Vmt,t.Bkt.qmt.Hmt,t.Bkt.qmt.Wmt.concat(n.qmt.Wmt),t.Bkt.qmt.Xmt.concat(n.qmt.Xmt));(h=t.Bkt).qmt=c,h.tmt=h.tmt.concat(n.tmt)}var a=t.Gkt;if(i&&i.$kt){for(var f=[],v=0,d=i.$kt;v<d.length;v++){var l=d[v];f.concat(l.vmt.Wmt)}for(var g=[],A=0,w=t.Gkt.$kt;A<w.length;A++){var y=w[A],_=y[0],M=new FP(y.vmt.Vmt,y.vmt.Hmt,y.vmt.Wmt.concat(f),t.Bkt.qmt.Xmt.concat(n.qmt.Xmt));g.push(new BP(_.Jmt,_.Kmt,_.$mt,M,_.lmt))}a=new UP(g,t.Gkt.tmt.concat(i.tmt))}var k=t.Pkt;if(k){var m=k.Mmt;e&&e.Mmt&&(m=e.Mmt),k=new PP(m,t.Pkt.kmt.concat(e&&e.kmt||[]))}var p=t.vh;this.bkt.vh&&(p=this.bkt.vh),this.Tkt={Ykt:o,Bkt:h,Gkt:a,Pkt:k,vh:p,Fkt:t.Fkt}}else this.zkt?this.Tkt=void 0:(this.zkt=!0,this.Tkt=null);return this.Tkt},i.vh=function(){return this.cet()},n}(jP),HP=function(t){function n(n,i,e,r,s,u,o,h,c){var a;return(a=t.call(this,n,i)||this).tpt=void 0,a.npt=void 0,a.ipt=void 0,a.ept=void 0,a.rpt=void 0,a.Xkt=void 0,a.xT=void 0,a.tpt=e,a.npt=r,a.ipt=s,a.Xkt=u,a.ept=o,a.rpt=h,a.xT=c,a}return U(n,t),n.prototype.Skt=function(){return new VP(this)},z(n,[{key:"Ykt",get:function(){return this.tpt}},{key:"Zmt",get:function(){return this.npt}},{key:"spt",get:function(){return this.ipt}},{key:"Ukt",get:function(){return this.Xkt}},{key:"upt",get:function(){return this.ept}},{key:"hpt",get:function(){return this.rpt}},{key:"vh",get:function(){return this.xT}}]),n}(xP),WP=function(){function t(t,n,i,e,r,s,u,o){this.Dw=void 0,this.cpt=void 0,this.apt=void 0,this.Tmt=void 0,this.fpt=void 0,this.vpt=void 0,this.dpt=void 0,this.lpt=void 0,this.Dw=t,this.cpt=n,this.apt=i,this.Tmt=e,this.fpt=r,this.vpt=s,this.dpt=u,this.lpt=o}return z(t,[{key:"cg",get:function(){return this.Dw}},{key:"gpt",get:function(){return this.cpt}},{key:"Apt",get:function(){return this.apt}},{key:"zmt",get:function(){return this.Tmt}},{key:"Bkt",get:function(){return this.fpt}},{key:"Qkt",get:function(){return this.vpt}},{key:"Pkt",get:function(){return this.dpt}},{key:"universalAdIds",get:function(){return this.lpt}}]),t}(),XP=function(){function t(t,n,i,e,r,s,u){this.wpt=void 0,this.ypt=void 0,this.Kkt=void 0,this._pt=void 0,this.Mpt=void 0,this.smt=void 0,this.umt=void 0,this.omt=void 0,this.Vkt=void 0,this.wpt=t,this.ypt=n,this.Kkt=i,this._pt=e,this.Mpt=r,this.smt=!1,this.umt=s,this.Vkt=u}return t.prototype.hmt=function(){this.smt=!0},z(t,[{key:"oA",get:function(){return this.wpt}},{key:"kpt",get:function(){return this.ypt}},{key:"tmt",get:function(){return this.Kkt},set:function(t){this.Kkt=t}},{key:"qmt",get:function(){return this._pt},set:function(t){this._pt=t}},{key:"mpt",get:function(){return this.Mpt},set:function(t){this.Mpt=t}},{key:"ppt",get:function(){return this.smt}},{key:"dmt",get:function(){return this.omt},set:function(t){this.omt=t}},{key:"lmt",get:function(){return this.umt}},{key:"Zkt",get:function(){return this.Vkt}}]),t}();function ZP(t,n){return $P(t)&&t.getAttribute(n)||void 0}function qP(t,n){return JP(t,n,void 0,!1)}function JP(t,n,i,e){return n===(t.localName?t.localName:t.nodeName)&&(e&&i?i===t.namespaceURI:!i||!t.namespaceURI||i===t.namespaceURI)}function KP(t,n){for(var i=[],e=0;e<t.childNodes.length;e+=1){var r=t.childNodes.item(e);$P(r)&&qP(r,n)&&i.push(r)}return i}function $P(t){return t&&1===t.nodeType}function tY(t){return function(t,n){var i=(new DOMParser).parseFromString(t,n);if(!i||i.getElementsByTagName("parsererror").length>0)throw new f('Invalid document for MIME type "'+n+'"');return i}(t,"text/xml")}function nY(t){switch(t){case QP.Npt:case QP.Dpt:case QP._g:return!0;default:return!1}}!function(t){t.Tpt="mute",t.Ipt="unmute",t.Ta="pause",t.bpt="resume",t.Ept="rewind",t.Lpt="skip",t.Spt="playerExpand",t.jpt="playerCollapse",t.Cpt="fullscreen",t.Opt="exitFullscreen",t.xpt="expand",t.COLLAPSE="collapse",t.zpt="start",t.Rpt="firstQuartile",t.Upt="thirdQuartile",t.Bpt="midpoint",t.Ltt="complete",t.Qpt="acceptInvitationLinear",t.Ppt="acceptInvitation",t.Ypt="timeSpentViewing",t.Gpt="otherAdInteraction",t.ba="progress",t.Fpt="creativeView",t.Vpt="adExpand",t.Hpt="adCollapse",t.Wpt="minimize",t.Xpt="close",t.Zpt="closeLinear",t.qpt="overlayViewDuration",t.Npt="breakStart",t.Dpt="breakEnd",t._g="error"}(QP||(QP={}));var iY=[QP.Tpt,QP.Ipt,QP.Ta,QP.bpt,QP.Ept,QP.Lpt,QP.Zpt,QP.Xpt,QP.Spt,QP.jpt,QP.Cpt,QP.Opt,QP.xpt,QP.COLLAPSE,QP.Fpt,QP.zpt,QP.Rpt,QP.Bpt,QP.Upt,QP.Ltt,QP.Qpt,QP.Ppt,QP.Ypt,QP.Gpt,QP.ba];function eY(t){return void 0!==t&&-1!==iY.indexOf(t)}var rY=[QP.zpt,QP.Rpt,QP.Bpt,QP.Upt,QP.Ltt,QP.Tpt,QP.Ipt,QP.Ta,QP.bpt,QP.Ept,QP.Lpt,QP.Spt,QP.jpt,QP.xpt,QP.COLLAPSE,QP.Cpt,QP.Opt,QP.Fpt,QP.Ppt,QP.Vpt,QP.Hpt,QP.Wpt,QP.Xpt,QP.qpt,QP.Gpt,QP.ba];function sY(t){return void 0!==t&&-1!==rY.indexOf(t)}var uY=[QP.Tpt,QP.Ipt,QP.Ta,QP.bpt,QP.Ept,QP.Lpt,QP.Spt,QP.jpt,QP.Fpt];function oY(t){return void 0!==t&&-1!==uY.indexOf(t)}function hY(t,n){if(void 0!==t&&""!==t&&void 0!==n){var i=t.match(/^(\d+):(\d+):(\d+)$/);return i?A(i[1]||"0")+60*A(i[2]||"0")+A(i[3]||"0"):(i=t.match(/^(100|[1-9]\d|\d)%$/))?A(i[1]||"0")*n/100:void 0}}var cY,aY,fY=function(){function t(t,n,i){this.Jpt=void 0,this.Kpt=void 0,this.$pt=void 0,this.Jpt=t,this.Kpt=n,this.$pt=i}return z(t,[{key:"tNt",get:function(){return this.Jpt}},{key:"Eh",get:function(){return this.Kpt}},{key:"eventURL",get:function(){return this.$pt}}]),t}(),vY=function(){function t(t){this.nNt=void 0,this.nNt=t}return z(t,[{key:"iNt",get:function(){return this.nNt}}]),t}(),dY=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n)||this).eNt=void 0,s.Smt=void 0,s.rNt=void 0,s.eNt=i,s.rNt=e,s.Smt=r,s}return U(n,t),z(n,[{key:"sNt",get:function(){return this.rNt}},{key:"Qmt",get:function(){return this.Smt}},{key:"uNt",get:function(){return this.eNt}}]),n}(vY),lY=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n}(vY),gY=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n}(vY),AY={oNt:{zh:100,oh:"XML parsing error."},hNt:{zh:303,oh:"Empty or invalid VAST error."},cNt:{zh:400,oh:"General linear error"},aNt:{zh:403,oh:"Unsupported MIME-type or missing mediafiles error"},fNt:{zh:500,oh:"General nonlinear error"},pL:{zh:900,oh:"Network error"}},wY=function(){function t(t){this.vNt=void 0,this.vNt=t}return t.prototype.dNt=function(t){if(this.lNt){var n=this.lNt.replace(/\[ERRORCODE]/,""+t.zh);DP(n)}},z(t,[{key:"lNt",get:function(){return this.vNt}}]),t}(),yY=31536e3,_Y=2592e3,MY=86400,kY=3600,mY=60,pY=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,NY=function(){function t(t){this.gNt=void 0;var n=t.match(pY);if(!n)throw new f("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,e=Number(n[2])||0,r=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.gNt=i*yY+e*_Y+r*MY+s*kY+u*mY+o}var n=t.prototype;return n.ANt=function(){return this.gNt},n.wNt=function(){return 1e3*this.gNt},z(t,[{key:"B5",get:function(){return zA.D_(this.gNt,1e3)}}]),t}();!function(t){t.aN="static",t.fN="dynamic"}(cY||(cY={})),function(t){t.yNt="progressive",t._Nt="interlaced",t.Cv="unknown"}(aY||(aY={}));var DY=function(){function t(t,n){this.MNt=t,this.kNt=n}return t.prototype.my=function(){return this.MNt/this.kNt},t}(),TY=/^(?:true|false)$/i,IY=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function bY(t){if(void 0!==t)return new NY(t)}function EY(t){if(void 0!==t){var n=t.match(IY);if(!n)throw new f("The given value could not be parsed as a valid Date");var i=n[1],e=n[2],r=n[3],s=n[4],u=n[5],o=n[6],h=n[7],c=n[8],a=n[9],v=n[10],d=n[11],g=("-"===i?-1:1)*Number(e),A=Number(r)-1,y=Number(s),_=Number(u),M=Number(o),k=Number(h),m=Number("0."+(c||"")),p=l.round(1e3*m);if(a)M-=("-"===a?-1:1)*(60*Number(v)+Number(d));var N=new Date(Date.UTC(g,A,y,_,M,k,p));if(w(N.getTime()))throw new f("The given value could not be parsed as a valid Date");return N}}function LY(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[jY(n[1]),jY(n[2])]}}function SY(t){if(void 0!==t){if(!w(Number(t)))try{return Gt.fromString(t,!0)}catch(t){}throw new f("The given value could not be parsed as a valid unsigned long")}}function jY(t){if(void 0!==t){var n=Number(t);if(!w(n))return n;throw new f("The given value could not be parsed as a valid Number")}}function CY(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),e=Number(n[1]||1);if(!w(i)&&!w(e))return new DY(i,e);throw new f("The given value could not be parsed as a valid frame rate")}}function OY(t){if(void 0!==t){if(TY.test(t))return"true"===t.toLowerCase();if(!w(g(t)))return Boolean(g(t));throw new f("The given value could not be parsed as a valid Boolean.")}}function xY(t){return{Sv:t.Qs,mNt:OY(t.Cs("availabilityTimeComplete")),pNt:jY(t.Cs("availabilityTimeOffset"))}}function zY(t){return t.map(xY)}function RY(t){var n,i,e,r,s,u,o=XY(t),h=(i="default_KID",e="urn:mpeg:cenc:2013",r="cenc",void 0===(s=(n=t).Os(e,i))&&(s=n.Cs(r+":"+i)),s),c=qw(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==c&&(u=ru(c.Qs)),!u){var a=qw(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==a&&(u=function(t){var n=qs(t.Qs),i=new y([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=n.length,r=12+i.length+4+e,s=new ArrayBuffer(r),u=new y(s),o=new DataView(s),h=new no;Iu(o,h,r),Iu(o,h,1886614376),Iu(o,h,0),ku(o,h,i),Iu(o,h,e),ku(o,h,n),0;return u.buffer}(a))}return{EN:h,NNt:u,DNt:o.DNt,ps:o.ps}}function UY(t){return{TNt:t.Cs("sourceURL"),h$:LY(t.Cs("range"))}}function BY(t,n){var i=t.Cs("d"),e=t.Cs("t"),r=jY(t.Cs("r"));n.push({oA:i,Yw:e,INt:r})}function QY(t){return{k7:t.Cs("index"),bNt:LY(t.Cs("indexRange")),Pk:t.Cs("media"),ENt:LY(t.Cs("mediaRange"))}}function PY(t){var n,i;return sr({},FY(t),{LNt:(n=t.Ts("SegmentURL"),(i=n.map(QY)).length>0?i:void 0),SNt:t.Cs("xlink:href"),jNt:t.Cs("xlink:actuate")})}function YY(t){var n=t.map(PY);return n.length>0?n:void 0}function GY(t){var n=OY(t.Cs("availabilityTimeComplete")),i=jY(t.Cs("availabilityTimeOffset")),e=LY(t.Cs("indexRange")),r=OY(t.Cs("indexRangeExact")),s=t.Ts("Initialization");if(s.length>1)throw new f("The provided MPEG-DASH document's "+t.bs+" element can not have more than one Initialization element.");var u=1===s.length?UY(s[0]):void 0,o=SY(t.Cs("presentationTimeOffset")),h=t.Ts("RepresentationIndex");if(h.length>1)throw new f("The provided MPEG-DASH document's "+t.bs+" element can not have more than one RepresentationIndex element.");return{mNt:n,pNt:i,bNt:e,CNt:r,ONt:u,xNt:o,zNt:1===h.length?UY(h[0]):void 0,RNt:bY(t.Cs("timeShiftBufferDepth")),l_:jY(t.Cs("timescale"))}}function FY(t){var n=GY(t),i=t.Ts("BitstreamSwitching"),e=i.length>0?UY(i[0]):void 0,r=jY(t.Cs("duration")),s=t.Ts("SegmentTimeline");if(s.length>1)throw new f("The provided MPEG-DASH document's "+t.bs+" element can not have more than one SegmentTimeline element.");return sr({},n,{UNt:e,oA:r,BNt:1===s.length?function(t){for(var n=[],i=t.Ts("S"),e=0;e<i.length;e++)BY(i[e],n);return n}(s[0]):void 0,QNt:jY(t.Cs("startNumber")),PNt:jY(t.Cs("endNumber"))})}function VY(t){return sr({},FY(t),{YNt:t.Cs("bitstreamSwitching"),GNt:t.Cs("index"),FNt:t.Cs("initialization"),VNt:t.Cs("media")})}function HY(t){return{a_t:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(jY)):1===n.length?n.map(jY)[0]:void 0}}(t.Cs("audioSamplingRate")),F0:t.Cs("codecs"),HNt:OY(t.Cs("codingDependency")),WNt:function(t){if(0!==t.length)return t.map(RY)}(t.Ts("ContentProtection")),XNt:t.Ts("EssentialProperty").map(ZY),D4:CY(t.Cs("frameRate")),Xk:jY(t.Cs("height")),ZNt:jY(t.Cs("maxPlayoutRate")),qNt:jY(t.Cs("maximumSAPPeriod")),TS:t.Cs("mimeType"),JNt:t.Cs("profiles"),KNt:t.Cs("sar"),$Nt:function(t){switch(t){case aY.yNt:case aY._Nt:case aY.Cv:return t;default:return}}(t.Cs("scanType")),tDt:t.Cs("segmentProfiles"),nDt:jY(t.Cs("startWithSAP")),pu:jY(t.Cs("width"))}}function WY(t){var n=HY(t),i=jY(t.Cs("bandwidth")),e=zY(t.Ts("BaseURL")),r=t.Cs("dependencyId"),s=t.Cs("id"),u=t.Cs("mediaStreamStructureId"),o=jY(t.Cs("qualityRanking")),h=t.Ts("SegmentBase");if(h.length>1)throw new f("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var c=1===h.length?GY(h[0]):void 0,a=YY(t.Ts("SegmentList")),v=t.Ts("SegmentTemplate");if(v.length>1)throw new f("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return sr({},n,{wT:i,iDt:e,eDt:r,cg:s,rDt:u,sDt:o,uDt:c,oDt:a,hDt:1===v.length?VY(v[0]):void 0})}function XY(t){return{DNt:t.Cs("schemeIdUri"),ps:t.Cs("value")}}function ZY(t){return XY(t)}function qY(t){return XY(t)}function JY(t){return XY(t)}function KY(t){var n,i=HY(t),e=function(t){return t.map(JY)}(t.Ts("Accessibility")),r=zY(t.Ts("BaseURL")),s=OY(t.Cs("bitstreamSwitching")),u=t.Cs("contentType"),o=jY(t.Cs("group")),h=jY(t.Cs("id")),c=(null==(n=t.Ts("Label")[0])?void 0:n.Qs)||"",a=t.Cs("lang"),v=jY(t.Cs("maxBandwidth")),d=CY(t.Cs("maxFrameRate")),l=jY(t.Cs("maxHeight")),g=jY(t.Cs("maxWidth")),A=jY(t.Cs("minBandwidth")),w=CY(t.Cs("minFrameRate")),y=jY(t.Cs("minHeight")),_=jY(t.Cs("minWidth")),M=t.Cs("par"),k=t.Ts("Representation").map(WY);if(0===k.length)throw new f("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var m=function(t){return t.map(qY)}(t.Ts("Role")),p=OY(t.Cs("segmentAlignment"))||!1,N=t.Ts("SegmentBase");if(N.length>1)throw new f("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var D=1===N.length?GY(N[0]):void 0,T=YY(t.Ts("SegmentList")),I=t.Ts("SegmentTemplate");if(I.length>1)throw new f("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var b=1===I.length?VY(I[0]):void 0,E=jY(t.Cs("selectionPriority"));return sr({},i,{cDt:e,iDt:r,UNt:s,vv:u,aDt:o,cg:h,vg:c,dg:a,fDt:v,vDt:d,dDt:l,lDt:g,gDt:A,ADt:w,wDt:y,yDt:_,_Dt:M,MDt:k,kDt:m,mDt:p,uDt:D,oDt:T,hDt:b,LI:E||1,pDt:OY(t.Cs("subsegmentAlignment"))||!1,NDt:jY(t.Cs("subsegmentStartsWithSAP")),DDt:t.Cs("xlink:actuate")||"onRequest",TDt:t.Cs("xlink:href")})}function $Y(t){var n=SY(t.Cs("presentationTime"))||Gt.ZERO,i=SY(t.Cs("duration")),e=jY(t.Cs("id")),r=function(t){for(var n=t.Bs,i={},e=0;e<n.length;e++)i[n[e]._s]=n[e].ps;return i}(t),s=t.Qs;return{wp:n,oA:i,cg:e,Bs:r,Ps:""!==s.trim()?s:t.Cs("messageData")||""}}function tG(t){return{TDt:t.Cs("xlink:href"),DDt:t.Cs("xlink:actuate"),DNt:t.Cs("schemeIdUri"),ps:t.Cs("value"),l_:jY(t.Cs("timescale")),xNt:SY(t.Cs("presentationTimeOffset")),IS:t.Ts("Event").map($Y)}}function nG(t,n){var i=t.Ts("AssetIdentifier");if(i.length>1)throw new f("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var e=1===i.length?XY(i[0]):void 0,r=t.Ts("AdaptationSet").map(KY),s=zY(t.Ts("BaseURL")),u=OY(t.Cs("bitstreamSwitching")),o=bY(t.Cs("duration")),h=t.Ts("EventStream").map(tG),c=t.Cs("id"),a=n&&bY(n.Cs("start")),v=t.Ts("SegmentBase");if(v.length>1)throw new f("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var d=1===v.length?GY(v[0]):void 0,l=YY(t.Ts("SegmentBase")),g=t.Ts("SegmentTemplate");if(g.length>1)throw new f("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var A=1===g.length?VY(g[0]):void 0,w=bY(t.Cs("start")),y=(t.Ts("Subset"),t.Cs("xlink:href"));return{IDt:r,bDt:e,iDt:s,UNt:u,oA:o,EDt:h,cg:c,LDt:a,uDt:d,oDt:l,hDt:A,ab:w,DDt:t.Cs("xlink:actuate"),TDt:y}}function iG(t){var n=t.Cs("schemeIdUri");if(n)return{DNt:n,ps:t.Cs("value")}}function eG(t,n){var i=EY(t.Cs("availabilityEndTime")),e=EY(t.Cs("availabilityStartTime")),r=zY(t.Ts("BaseURL")),s=t.Cs("id"),u=t.Ts("Location").map(function(t){return""+t.Qs}),o=bY(t.Cs("maxSegmentDuration")),h=bY(t.Cs("maxSubsegmentDuration")),c=bY(t.Cs("mediaPresentationDuration")),a=(t.Ts("Metrics"),bY(t.Cs("minBufferTime")));if(!a)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var v=bY(t.Cs("minimumUpdatePeriod")),d=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(nG(t[i],t[i+1]));return n}(t.Ts("Period"));if(!d.length)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.Cs("profiles");if(!l)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{SDt:i,jDt:e,iDt:r,cg:s,CDt:u,ODt:n,xDt:o,zDt:h,RDt:c,UDt:a,BDt:v,QDt:d,JNt:l,PDt:EY(t.Cs("publishTime")),YDt:bY(t.Cs("suggestedPresentationDelay")),RNt:bY(t.Cs("timeShiftBufferDepth")),Ao:function(t){switch(t){case cY.aN:case cY.fN:return t;default:return}}(t.Cs("type")),GDt:function(t){for(var n=[],i=0;i<t.length;i++){var e=iG(t[i]);e&&n.push(e)}return n}(t.Ts("UTCTiming"))}}var rG=function(){function t(){}return t.prototype.IMt=function(t,n){return function(t,n){if(!t)throw new f("The provided MPEG-DASH document does not contain a valid MPD root element.");return eG(t,n)}(p.ds(t).Ys,n)},t}();function sG(t){if(!t)return!1;switch(t.toLocaleLowerCase()){case Tl.Yg:case Tl.Hg:case Tl.Pg:return!0;default:return!1}}function uG(t){var n=Be();return!!(sG(t)||t&&n&&null!=n&&n.canPlayType&&n.canPlayType(t))||(hG("Invalid or unsupported MediaFile Content delivery type, skipping mediafile"),!1)}function oG(t,n){n.forEach(function(n){new wY(n).dNt(t)})}function hG(t){0}var cG,aG=function(){function t(t,n){this.FDt=void 0,this.VDt=void 0,this.FDt=t,this.VDt=n}return z(t,[{key:"HDt",get:function(){return this.FDt}},{key:"WDt",get:function(){return this.VDt}}]),t}();!function(t){t.XDt="linear",t.ZDt="nonlinear",t.qDt="companion",t.JDt="vmap"}(cG||(cG={}));var fG,vG=function(){function t(){}var n=t.prototype;return n.KDt=function(){var n=N.coroutine(rr.mark(function n(i,e){var r,s,u,o;return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if("vmap"!==i.sources.type&&(void 0!==i.sources.type||void 0!==i.timeOffset)){n.next=28;break}return n.next=3,t.$Dt(i.sources.src,e);case 3:if(r=n.sent,s=r&&r.documentElement){n.next=7;break}throw new AP(dP.NETWORK,lP.VAST_SCHEMA_VALIDATION_ERROR,"Ad source is not a valid XML document.");case 7:if(!qP(s,"VMAP")){n.next=13;break}return n.next=10,this.tTt(s,i,e);case 10:return n.abrupt("return",n.sent);case 13:if(!qP(s,"VAST")){n.next=25;break}return n.next=16,this.nTt(s,e,!1);case 16:if(!(u=n.sent)){n.next=22;break}return o=new wG("",!0,!0,u),n.abrupt("return",[new gG("start",o,fG.XDt,"",[],!1,!0,i)]);case 22:return n.abrupt("return",[]);case 23:n.next=26;break;case 25:throw new AP(dP.GENERAL,lP.VAST_MALFORMED_RESPONSE,"Only VMAP and VAST files are allowed as ad source.");case 26:n.next=33;break;case 28:if("vast"!==i.sources.type&&(void 0!==i.sources.type||void 0===i.timeOffset)){n.next=32;break}return n.abrupt("return",[new AG(String(i.timeOffset),i,e)]);case 32:throw new AP(dP.GENERAL,lP.VAST_MALFORMED_RESPONSE,"Something went wrong parsing the ad source; only VMAP and VAST files are allowed as ad source.");case 33:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n.iTt=function(){var n=N.coroutine(rr.mark(function n(i,e,r,s){var u,o;return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===s&&(s=[]),n.prev=1,n.next=4,t.$Dt(i,e);case 4:u=n.sent,n.next=12;break;case 7:throw n.prev=7,n.t0=n.catch(1),oG(n.t0 instanceof AP&&n.t0.XMt===lP.VAST_MALFORMED_RESPONSE?AY.hNt:AY.pL,s),n.t0;case 12:if(!(o=u&&u.documentElement)||!qP(o,"VAST")){n.next=17;break}return n.next=16,this.nTt(o,e,r,s);case 16:return n.abrupt("return",n.sent);case 17:return n.abrupt("return",void 0);case 18:case"end":return n.stop()}},n,this,[[1,7]])}));return function(t,i,e){return n.apply(this,arguments)}}(),n.eTt=function(){var t=N.coroutine(rr.mark(function t(n,i,e,r){var s,u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(s=n.sources)&&s.src){t.next=2;break}throw new AP(dP.GENERAL,lP.MALFORMED_URI,"Property src on adSource is missing.");case 2:return t.next=4,this.iTt(n.sources.src,r,!1);case 4:return u=t.sent,o=new wG("",!0,!0,u),(h=new gG(i,o,fG.XDt,"",[],!1,!0,n)).rTt=e,t.abrupt("return",h);case 9:case"end":return t.stop()}},t,this)}));return function(n,i,e,r){return t.apply(this,arguments)}}(),t.requestSuccessOnly=function(){var t=N.coroutine(rr.mark(function t(n,i){var e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.Ev(n);case 3:e=t.sent,t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new AP(dP.NETWORK,lP.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.",t.t0);case 9:if(Of(e)){t.next=11;break}throw new AP(dP.NETWORK,lP.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.");case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n,i){return t.apply(this,arguments)}}(),t.$Dt=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Qf({Sv:n,Tv:sh.cs,Xv:xf.GET}),t.next=3,this.requestSuccessOnly(e,i);case 3:return r=t.sent,t.prev=4,t.t0=tY,t.next=8,r.Ps();case 8:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 12:throw t.prev=12,t.t2=t.catch(4),new AP(dP.NETWORK,lP.VAST_MALFORMED_RESPONSE,"The ad source could not be loaded.");case 15:case"end":return t.stop()}},t,this,[[4,12]])}));return function(n,i){return t.apply(this,arguments)}}(),n.nTt=function(){var t=N.coroutine(rr.mark(function t(n,i,e,r){var s,u,o,h,c,a,f,v,d,l;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===r&&(r=[]),s=[],u=[],n&&qP(n,"VAST")){t.next=8;break}if(!e){t.next=7;break}throw oG(AY.hNt,r),new AP(dP.PARSING,lP.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");case 7:return t.abrupt("return",void 0);case 8:if(0===KP(n,"Ad").length){t.next=31;break}o=0,h=KP(n,"Ad");case 10:if(!(o<h.length)){t.next=19;break}return c=h[o],t.next=14,this.sTt(c,i,r);case 14:0===(a=t.sent).ip?s.push(a):u.push(a);case 16:o++,t.next=10;break;case 19:if(1!==s.length||0!==u.length){t.next=23;break}return t.abrupt("return",s[0]);case 23:if(0!==s.length||0===u.length){t.next=27;break}return t.abrupt("return",new OP(u));case 27:if(!(s.length>0||u.length>0)){t.next=29;break}return t.abrupt("return",new OP(u.concat(s)));case 29:t.next=40;break;case 31:if(0===KP(n,"Error").length){t.next=36;break}for(f=0,v=KP(n,"Error");f<v.length;f++)d=v[f],hG(AY.oNt.oh),(l=d.textContent)&&r.push(l),oG(AY.oNt,r);throw new AP(dP.GENERAL,lP.VAST_MALFORMED_RESPONSE,"The Ad Server responded with a VAST Error");case 36:if(!e){t.next=39;break}throw oG(AY.hNt,r),new AP(dP.PARSING,lP.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");case 39:return t.abrupt("return",void 0);case 40:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),n.tTt=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r,s,u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],s=KP(n,"AdBreak"),u=0;case 3:if(!(u<s.length)){t.next=18;break}return o=s[u],t.prev=5,t.next=8,this.uTt(o,i,e);case 8:(h=t.sent)&&r.push(h),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),p.Lu(t.t0);case 15:u++,t.next=3;break;case 18:return t.abrupt("return",r);case 19:case"end":return t.stop()}},t,this,[[5,12]])}));return function(n,i,e){return t.apply(this,arguments)}}(),n.sTt=function(){var n=N.coroutine(rr.mark(function n(i,e,r){var s,u,o,h;return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(s=ZP(i,"id")||"",(u=jY(ZP(i,"sequence")))||(u=0),o=KP(i,"InLine"),0===(h=KP(i,"Wrapper")).length){n.next=11;break}return n.next=8,this.oTt(h[0],s,u,e,r);case 8:return n.abrupt("return",n.sent);case 11:if(0===o.length){n.next=13;break}return n.abrupt("return",t.hTt(o[0],s,u,r));case 13:throw new AP(dP.PARSING,lP.VAST_SCHEMA_VALIDATION_ERROR,"An Ad tag without a Wrapper or inline element cannot be parsed");case 14:case"end":return n.stop()}},n,this)}));return function(t,i,e){return n.apply(this,arguments)}}(),t.hTt=function(n,i,e,r){var s,u=KP(n,"Error")[0];u&&u.textContent&&(s=u.textContent,r.push(s));var o,h=KP(n,"AdSystem")[0],c="";h&&(c=h.textContent||c);var a=KP(n,"AdTitle")[0];a&&(o=a.textContent||void 0);for(var f=[],v=0,d=KP(n,"Impression");v<d.length;v++){var l=d[v];l.textContent&&f.push(l.textContent)}var g=t.cTt(KP(n,"Creatives")[0],c,r);return new RP(i,e,c,o,f,g,new wY(s))},n.oTt=function(){var n=N.coroutine(rr.mark(function n(i,e,r,s,u){var o,h,c,a,f,v,d,l,g,A,w,y,_,M,k,m;return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(o=KP(i,"Error")[0],h="",o&&o.textContent&&(h=o.textContent,u.push(h)),c=KP(i,"AdSystem")[0],a="",c&&(a=c.textContent||a),f=[],v=0,d=KP(i,"Impression");v<d.length;v++)(l=d[v]).textContent&&f.push(l.textContent);return g=KP(i,"VASTAdTagURI")[0],A="",g&&g.textContent&&(A=g.textContent),n.next=13,this.iTt(A,s,!0,u);case 13:return w=n.sent,y=KP(i,"Creatives")[0],_=[],y&&(_=t.aTt(y,a,u)),(M=OY(ZP(i,"followAdditionalWrappers")))||(M=!0),(k=OY(ZP(i,"allowMultipleAds")))||(k=!0),(m=OY(ZP(i,"fallbackOnNoAd")))||(m=!1),n.abrupt("return",new HP(e,r,f,w,M,_,k,m,new wY(h)));case 24:case"end":return n.stop()}},n,this)}));return function(t,i,e,r,s){return n.apply(this,arguments)}}(),t.aTt=function(n,i,e){for(var r=[],s=0,u=KP(n,"Creative");s<u.length;s++){var o=u[s],h=ZP(o,"id");h||(h="");var c=jY(ZP(o,"sequence"));c||(c=0);var a=ZP(o,"adId");a||(a="");var f=KP(o,"Linear")[0],v=void 0;f&&(v=t.fTt(f,"wrapper",h,i,e));var d=KP(o,"NonLinearAds")[0],l=void 0;if(d)try{l=t.vTt(d,h,i)}catch(t){}var g=KP(o,"CompanionAds")[0],A=void 0;g&&(A=t.dTt(g)),r.push(new WP(h,a,c,"",v,l,A,[]))}return r},t.cTt=function(n,i,e){for(var r=[],s=0,u=KP(n,"Creative");s<u.length;s++){var o=u[s],h=ZP(o,"id");h||(h="");var c=jY(ZP(o,"sequence"));c||(c=0);var a=ZP(o,"adId");a||(a="");var f=ZP(o,"apiFramework");f||(f="");var v=KP(o,"Linear")[0],d=void 0;if(v)try{d=t.fTt(v,"inline",h,i,e)}catch(t){}var l=KP(o,"NonLinearAds")[0],g=void 0;if(l)try{g=t.vTt(l,h,i)}catch(t){}var A=KP(o,"CompanionAds")[0],w=void 0;A&&(w=t.dTt(A));var y=KP(o,"UniversalAdId"),_=t.parseUniversalAdIds(y);r.push(new WP(h,a,c,f,d,g,w,_))}return r},t.fTt=function(n,i,e,r,s){var u=KP(n,"Duration")[0],o=0;if(u)o=IP(u.textContent)||0;else if(!u&&"inline"===i)throw new AP(dP.PARSING,lP.VAST_SCHEMA_VALIDATION_ERROR,"Missing duration element in inLine linear");var h=ZP(n,"skipoffset"),c=-1;if(h){var a=IP(h);if(void 0===a&&h.indexOf("%")>-1){var f=l.abs(Number(h.replace(/(?![0-9])./g,"")))/100;w(f)||(a=o*f)}void 0!==a&&(c=a)}var v=KP(n,"MediaFiles")[0],d=[];if(v&&(d=function(t,n){for(var i=[],e=0,r=KP(t,"MediaFile");e<r.length;e++){var s=r[e],u=ZP(s,"delivery"),o=ZP(s,"type");if(o){if(n(o)){var h=jY(ZP(s,"width")),c=jY(ZP(s,"height"));h||(hG(),h=0),c||(hG(),c=0);var a={delivery:u,type:o,width:h,height:c,contentURL:""+s.textContent};i.push(a)}}else hG()}return i}(v,uG)),"inline"===i&&(!v||0===d.length))throw oG(AY.aNt,s),new AP(dP.PARSING,lP.VAST_LINEAR_ASSET_MISMATCH,"Missing MediaFiles in linear element");var g=KP(n,"TrackingEvents")[0],A=[];g&&(A=t.lTt(g,eY,cG.XDt));var y=KP(n,"VideoClicks")[0],_=t.gTt(y);return new XP(o,d,A,_,c,e,r)},t.gTt=function(n){if(!n)return new FP("","",[],[]);var i,e=KP(n,"ClickThrough")[0],r="";e&&(i=e.textContent||void 0,r=ZP(e,"id")||"");var s=t.ATt(KP(n,"ClickTracking")),u=t.ATt(KP(n,"CustomClick"));return new FP(i,r,s,u)},t.ATt=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i],r=e.textContent;if(r){var s=ZP(e,"id")||"";n.push(new GP(s,r))}}return n},t.lTt=function(t,n,i){for(var e=[],r=0,s=KP(t,"Tracking");r<s.length;r++){var u=s[r],o=ZP(u,"event");if(n(o)){var h="";i===cG.XDt&&(h=ZP(t,"offset")||"0");var c=u.textContent;c&&e.push(new fY(o,h,c))}else hG()}return e},t.vTt=function(n,i,e){for(var r=[],s=0,u=KP(n,"NonLinear");s<u.length;s++){var o=u[s],h=KP(o,"NonLinearClickThrough")[0],c=void 0;h&&(c=h.textContent||void 0);var a=t.ATt(KP(o,"NonLinearClickTracking")),f=KP(o,"StaticResource")[0],v=void 0;if(f&&f.parentNode){var d=ZP(f,"creativeType"),l=f.textContent||"",g=KP(f.parentNode,"NonLinearClickThrough")[0],A="";g&&(A=g.textContent||""),v=new dY(l,d,A,"")}var w=KP(o,"IFrameResource")[0],y=void 0;if(w){var _=w.textContent;y=new lY(_)}var M=KP(o,"HTMLResource")[0],k=void 0;if(M){var m=M.textContent;k=new gY(m)}if(v||y||k){var p=new FP(c,"",a,[]);r.push(new BP(v,y,k,p,i,e))}else hG()}if(0===r.length)throw new AP(dP.PARSING,lP.VAST_SCHEMA_VALIDATION_ERROR,"nonLinearAds element found with no nonLinear elements");var N=KP(n,"TrackingEvents")[0],D=[];return N&&(D=t.lTt(N,sY,cG.ZDt)),new UP(r,D)},t.parseUniversalAdIds=function(t){for(var n=[],i=0;i<t.length;i++){var e,r,s,u=t[i],o=null!=(e=ZP(u,"idRegistry"))?e:"",h=null!=(r=null!=(s=ZP(u,"idValue"))?s:u.textContent)?r:"";n.push(new aG(o,h))}return n},t.dTt=function(n){var i=ZP(n,"requiredType");(function(t){switch(t){case EP.Amt:case EP.wmt:case EP.ZI:return!0;default:return!1}})(i)||(i=EP.ZI);for(var e=[],r=0,s=KP(n,"Companion");r<s.length;r++){var u=s[r],o=jY(ZP(u,"width")),h=jY(ZP(u,"height")),c=ZP(u,"id"),a=jY(ZP(u,"assetWidth")),f=jY(ZP(u,"assetHeight")),v=jY(ZP(u,"expandedWidth")),d=jY(ZP(u,"rxpandedHeight")),l=ZP(u,"apiFramework"),g=ZP(u,"adSlotId"),A=jY(ZP(u,"pxratio")),w=KP(u,"AltText")[0],y=w?w.textContent:"";o||(hG(),o=0),h||(hG(),h=0),c||(c=""),a||(a=0),f||(f=0),v||(v=0),d||(d=0),l||(l=""),g||(g=""),A||(A=1),y||(y="");var _=t.wTt(u),M=t.yTt(u),k=t.parseHtmlResource(u),m=KP(u,"TrackingEvents")[0],p=[];m&&(p=t.lTt(m,oY,cG.qDt));var N=KP(u,"CompanionClickThrough")[0],D=void 0;N&&(D=N.textContent||void 0);var T=t.ATt(KP(u,"CompanionClickTracking"));(_||M||k)&&e.push(new YP(o,h,c,a,f,v,d,l,g,A,_,M,k,new FP(D,"",T,[]),p,y))}return new PP(i,e)},t.wTt=function(t){var n,i=KP(t,"StaticResource")[0];if(i&&i.parentNode){var e=ZP(i,"creativeType");e||(e="");var r,s=i.textContent,u=KP(i.parentNode,"AltText")[0],o=KP(i.parentNode,"CompanionClickThrough")[0],h="";u&&(h=u.textContent||""),o&&(r=o.textContent||void 0),s&&(n=new dY(s,e,r,h))}return n},t.yTt=function(t){var n,i=KP(t,"IFrameResource")[0];if(i){var e=i.textContent;n=new lY(e)}return n},t.parseHtmlResource=function(t){var n,i=KP(t,"HTMLResource")[0];if(i){var e=i.textContent;n=new gY(e)}return n},n.uTt=function(){var n=N.coroutine(rr.mark(function n(i,e,r){var s,u,o,h,c,a,f,v,d,l,g,A,w,y,_,M,k;return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(s=ZP(i,"timeOffset")||"0",u=ZP(i,"breakType"),o=ZP(i,"breakId"),h=OY(ZP(i,"repeatAfter")),c=void 0!==lG._Tt(s),void 0===o&&(o=""),void 0===h&&(h=!1),c){n.next=9;break}throw new AP(dP.PARSING,lP.VAST_SCHEMA_VALIDATION_ERROR,"Invalid TimeOffset type");case 9:if(a=KP(i,"AdSource")[0],f=KP(i,"TrackingEvents")[0],v=[],f&&(v=t.lTt(f,nY,cG.JDt)),(d=ZP(a,"id"))||(d=""),void 0===(l=OY(ZP(a,"allowMultipleAds")))&&(l=!0),(g=OY(ZP(a,"followRedirects")))||(g=!0),A=KP(a,"AdTagURI")[0],"",y=KP(a,"VASTAdData")[0],!A||!A.textContent){n.next=35;break}return n.prev=23,w=A.textContent,(_=JSON.parse(JSON.stringify(e))).sources.src=w,n.abrupt("return",new AG(s,_,r));case 30:return n.prev=30,n.t0=n.catch(23),n.abrupt("return",void 0);case 33:n.next=52;break;case 35:if(!y){n.next=51;break}if(!y.firstElementChild||!JP(y.firstElementChild,"VAST")){n.next=48;break}return n.next=39,this.nTt(y.firstElementChild,r,!1);case 39:if(!(M=n.sent)){n.next=45;break}return k=new wG(d,l,g,M),n.abrupt("return",new gG(s,k,u,o,v,h,!1,e));case 45:return n.abrupt("return",void 0);case 46:n.next=49;break;case 48:throw new AP(dP.PARSING,lP.VAST_SCHEMA_VALIDATION_ERROR,"vmap:VASTAdData does not have a VAST-structure as a child element");case 49:n.next=52;break;case 51:throw new AP(dP.PARSING,lP.VAST_SCHEMA_VALIDATION_ERROR,"Invalid AdTagURI source or invalid VASTAdData in Adbreak Element");case 52:case"end":return n.stop()}},n,this,[[23,30]])}));return function(t,i,e){return n.apply(this,arguments)}}(),t}();!function(t){t.XDt="linear",t.MTt="nonlinear",t.kTt="display"}(fG||(fG={}));var dG,lG=function(){function t(){}return t.mTt=function(t){switch(t){case fG.XDt:case fG.MTt:case fG.kTt:return!0;default:return!1}},t.pTt=function(t){},t.NTt=function(t){if(void 0!==t)return"start"===t?0:"end"===t?-1:void 0},t.DTt=function(t){var n=t.split(":"),i=0;return i+=3600*Number(n[0]),i+=60*Number(n[1]),i+=Number(n[2])},t.TTt=function(t){var n=t<0,i=l.abs(t);return"hh:mm:ss".replace("-",n?"-":"").replace("hh",this.ITt(i/3600)).replace("mm",this.ITt(i/60%60)).replace("ss",this.ITt(i%60))},t.ITt=function(t){var n=l.floor(t);return n<10?"0"+n:""+n},t.bTt=function(t,n){var i=this._Tt(t);if(i===dG.pW)switch(t){case"start":return 0;case"end":return-1}else{if(i===dG.ETt)return bP(t)*n;if(i===dG.LTt)return IP(t);if(i===dG.STt)return this.NTt(t);if(i===dG.jTt){var e=Number(t);if(!w(e)&&e>=-1)return e}}},t._Tt=function(t){return"start"===t||"end"===t?dG.pW:void 0!==IP(t.toString())?dG.LTt:void 0!==bP(t.toString())?dG.ETt:void 0!==this.pTt(t.toString())?dG.STt:w(t)?void 0:dG.jTt},t}();!function(t){t[t.pW=0]="pW",t[t.LTt=1]="LTt",t[t.ETt=2]="ETt",t[t.STt=3]="STt",t[t.jTt=4]="jTt"}(dG||(dG={}));var gG=function(){function t(t,n,i,e,r,s,u,o){this.CTt=void 0,this.Lmt=void 0,this.OTt=void 0,this.Mpt=-1,this.xTt=void 0,this.zTt=void 0,this.RTt=void 0,this.UTt=void 0,this.BTt=void 0,this.QTt=void 0,this.CTt=n,this.OTt=t,this.xTt=i,this.zTt=e,this.RTt=s,this.Lmt=r,this.UTt=u,this.BTt=o,this.QTt=null}return t.prototype.qh=function(){return N.resolve(this)},z(t,[{key:"PTt",get:function(){return this.CTt}},{key:"YTt",get:function(){return this.OTt}},{key:"mpt",get:function(){return this.Mpt},set:function(t){this.Mpt=t}},{key:"tmt",get:function(){return this.Lmt}},{key:"GTt",get:function(){return this.zTt}},{key:"FTt",get:function(){return this.RTt}},{key:"VTt",get:function(){return this.BTt}},{key:"HTt",get:function(){return this.rTt.k_}},{key:"w3",get:function(){return!0}},{key:"rTt",get:function(){return this.QTt},set:function(t){this.QTt=t}}]),t}(),AG=function(){function t(t,n,i){this.omt=void 0,this.WTt=void 0,this.iN=void 0,this.iN=i,this.omt=new gG(t,null,null,"",[],!1,!1,n)}return t.prototype.qh=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.rTt,this.WTt){t.next=7;break}return this.WTt=(new vG).eTt(this.VTt,this.YTt,this.rTt,this.iN),t.next=5,this.WTt;case 5:this.omt=t.sent,n();case 7:return t.abrupt("return",this.WTt);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),z(t,[{key:"PTt",get:function(){return this.omt.PTt}},{key:"YTt",get:function(){return this.omt.YTt}},{key:"mpt",get:function(){return this.omt.mpt},set:function(t){this.omt.mpt=t}},{key:"tmt",get:function(){return this.omt.tmt}},{key:"GTt",get:function(){return this.omt.GTt}},{key:"FTt",get:function(){return this.omt.FTt}},{key:"VTt",get:function(){return this.omt.VTt}},{key:"HTt",get:function(){return this.omt.HTt}},{key:"w3",get:function(){return Boolean(this.WTt)}},{key:"rTt",get:function(){return this.omt.rTt},set:function(t){this.omt.rTt=t}}]),t}(),wG=function(){function t(t,n,i,e){this.Dw=void 0,this.XTt=void 0,this.ZTt=void 0,this.qTt=void 0,this.Dw=t,this.XTt=n,this.qTt=e,this.ZTt=i}return z(t,[{key:"cg",get:function(){return this.Dw}},{key:"upt",get:function(){return this.XTt}},{key:"JTt",get:function(){return this.ZTt}},{key:"Dkt",get:function(){return this.qTt}}]),t}();function yG(t){return"vmap"===t||"adrule"===t}function _G(t){if(t)return et(t)?{src:tl(t),type:void 0}:nt(t)&&t.src?{src:tl((t=t).src),type:MG(t.type)}:void 0}function MG(t){if(et(t)){var n=t.toLowerCase();switch(n){case"vast":case"vmap":case"adrule":return n;default:return void gt("The ad source type provided in the configuration could not be recognized: '"+t+"'.")}}else t||gt("For better performance it is highly recommended to add the type to the configuration of your ad sources.")}function kG(t){if(void 0!==t&&""!==t&&("string"==typeof t||"number"==typeof t)){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return 0;case"end":case"100%":return-1}if("string"==typeof t){if(n=t,TP.test(n))return lG.DTt(t);if(mG(t))return t}var n;return t>=0?+t:void 0}}function mG(t){return new RegExp(/^\d{1,2}%$/).test(t)}var pG,NG='<vmap:AdBreak timeOffset="$TIMEOFFSET$" breakType="linear,nonlinear" breakId="midroll">\n            <vmap:AdSource allowMultipleAds="true" followRedirects="true">\n                <vmap:AdTagURI templateType="vast3"><![CDATA[$TAG$]]></vmap:AdTagURI>\n            </vmap:AdSource>\n        </vmap:AdBreak>',DG=function(){function t(n,i,e,r,s){this.KTt=void 0,this.$Tt=void 0,this.tIt=NaN,this.nIt=!1,this.iIt=!1,this.eIt=void 0,this.rIt=!1,this.sIt=[],this.Yx=!1,this.tE=!1,this.uIt=[],this.oIt=void 0,this.hIt=e,this.KI=r,this.cIt=s,this.oIt=i,this.KTt=t.aIt(i),this.fIt(),this.uIt.push(n)}var n=t.prototype;return n.vIt=function(t){var n=this.dIt===t.timeOffset;return!this.$Tt&&n},n.fIt=function(){if(w(this.tIt)){var t=this.dIt;"string"==typeof t&&mG(t)&&(w(this.KI.oA)||this.KI.oA===1/0||(t=bP(t)*this.KI.oA)),w(t)||(this.tIt=t)}},n.lIt=function(t){this.sIt.push(t)},n.gIt=function(){if(!this.$Tt){var t,n,i=this.hIt===cP.LMt&&void 0===this.oIt&&1===this.AIt.length;yG(this.AIt[0].type)||i?t=this.AIt[0].src:n=this.wIt(),this.$Tt={yIt:this.KI.hw.offsetWidth,_It:this.KI.hw.offsetHeight,MIt:this.KI.hw.offsetWidth,kIt:this.KI.hw.offsetHeight,mIt:this.Yx,pIt:this.tE,NIt:t,DIt:n}}return this.$Tt},n.wIt=function(){var t=this;return'<vmap:VMAP xmlns:vmap="http://www.iab.net/videosuite/vmap" version="1.0">\n            '+this.AIt.map(function(n){return t.TIt(n)}).join("\n")+"\n            </vmap:VMAP>"},n.TIt=function(t){return NG.replace("$TIMEOFFSET$",this.IIt()).replace("$TAG$",t.src)},n.IIt=function(){if(0===this.dIt)return"start";if(this.dIt===1/0)return"end";var t=this.dIt;if("string"==typeof t&&mG(t)){var n=bP(t)*this.KI.oA;return lG.TTt(n)}return lG.TTt(this.dIt||0)},n.bIt=function(t){this.uIt.push(t)},t.aIt=function(t){return void 0===t?0:-1===t?1/0:t},n.EIt=function(){this.rIt=!0},z(t,[{key:"AIt",get:function(){return this.uIt}},{key:"LIt",get:function(){return this.hIt}},{key:"SIt",get:function(){return this.cIt}},{key:"jIt",get:function(){return this.rIt}},{key:"CIt",get:function(){return mG(this.KTt)&&!this.$Tt}},{key:"dIt",get:function(){return this.KTt}},{key:"k_",get:function(){return this.tIt}},{key:"OIt",get:function(){return this.nIt},set:function(t){this.nIt=t}},{key:"xIt",get:function(){return this.iIt},set:function(t){this.iIt=t,this.eIt=!1}},{key:"zIt",get:function(){return this.sIt}},{key:"CA",get:function(){return this.Yx},set:function(t){this.Yx=t}},{key:"aA",get:function(){return this.tE},set:function(t){this.tE=t}}]),t}(),TG=function(){function t(t){this.RIt=void 0,this.imaAdTimeOffsetHandler=t,this.RIt=t}var n=t.prototype;return n.UIt=function(t){return!this.BIt||"nonlinear"===this.PIt.QIt||this.BIt.k_>t.k_&&this.BIt.k_!==t.k_},n.YIt=function(t){if(t.length)return t.sort(function(t,n){return t.k_-n.k_})[0]},n.GIt=function(){if(this.vkt.length)return this.YIt(this.FIt(this.VI.uA))},n.VIt=function(t){var n=this;return this.vkt.filter(function(i){return(!i.OIt&&0===i.k_||void 0!==t&&t===i.k_)&&i!==n.BIt})[0]},n.FIt=function(t){return this.vkt.filter(function(n){return!n.OIt&&!w(n.k_)&&t<=n.k_})},z(t,[{key:"BIt",get:function(){return this.RIt.BIt}},{key:"PIt",get:function(){return this.RIt.PIt}},{key:"vkt",get:function(){return this.RIt.vkt}},{key:"VI",get:function(){return this.RIt.VI}}]),t}();!function(t){t[t.HIt=0]="HIt",t[t.WIt=1]="WIt",t[t.XIt=2]="XIt"}(pG||(pG={}));var IG,bG,EG,LG,SG=function(){function t(t,n,i,e,r){var s=this;this.ZIt=void 0,this.qIt=void 0,this.JIt=void 0,this.bA=void 0,this.KI=void 0,this.$Mt=void 0,this.KIt=void 0,this.$It=void 0,this.tbt=void 0,this.Fx=void 0,this.nbt=pG.HIt,this.ibt=void 0,this.ebt=void 0,this.rbt=!1,this.Ugt=function(){for(var t=s.qIt.filter(function(t){return t.CIt}),n=0;n<t.length;n++){var i=t[n];i.fIt();var e=i.dIt;s.ebt.sbt(e,i.k_)}!s.VI.fA&&s.PIt.ubt()&&s.obt()},this.qIt=[],this.ZIt=t,this.bA=!1,this.JIt=!1,this.KI=n,this.$Mt=i,this.BIt=void 0,this.$It=0,this.tbt=new TG(this),this.Fx=e,this.ebt=r,this.KI.qo("durationchange",this.Ugt)}var n=t.prototype;return n.WA=function(){this.bA=!0,this.JIt&&this.obt()},n.hbt=function(t,n){this.cbt(t,n);var i=es(this.vkt,function(n){return n.vIt(t)});if(i)i.bIt(t.sources);else{var e=void 0===t.replaceContent||t.replaceContent,r=new DG(t.sources,t.timeOffset,n,this.KI,e);this.qIt.push(r),this.abt===pG.XIt&&this.ebt.fbt(r.k_,r,r.dIt),this.vbt(n,r)}},n.dbt=function(){if(ss(this.vkt,this.BIt),this.BIt){for(var t=0,n=this.BIt.zIt;t<n.length;t++){n[t];this.ebt.lbt()}this.BIt=void 0}},n.gbt=function(){for(var t=0,n=this.qIt;t<n.length;t++)for(var i=0,e=n[t].zIt;i<e.length;i++){var r=e[i];this.ebt.Abt(r,!0)}hs(this.qIt)},n.wbt=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ybt=!0,this.BIt=n,this.$It=n.k_,this.ibt=this._bt(n),t.next=6,this.ibt;case 6:this.ibt=void 0;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n._bt=function(){var t=N.coroutine(rr.mark(function t(n){var i,e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Mbt(n);case 2:return i=n.gIt(),e=this.ZIt.kbt(i),n.OIt=!0,t.prev=5,t.next=8,e;case 8:if(n.LIt!==cP.EMt){t.next=11;break}return t.next=11,this.ZIt.mbt();case 11:t.next=18;break;case 13:t.prev=13,t.t0=t.catch(5),this.BIt=void 0,this.obt();case 18:case"end":return t.stop()}},t,this,[[5,13]])}));return function(n){return t.apply(this,arguments)}}(),n.Mbt=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.$Mt.CA){t.next=18;break}return t.next=3,this.Fx.Bz();case 3:i=t.sent,t.t0=i,t.next="all"===t.t0?7:"muted"===t.t0?10:"none"===t.t0?13:16;break;case 7:return n.CA=!0,n.aA=this.$Mt.aA,t.abrupt("break",16);case 10:return n.CA=!0,n.aA=!0,t.abrupt("break",16);case 13:return n.CA=!1,n.aA=this.$Mt.aA,t.abrupt("break",16);case 16:t.next=20;break;case 18:n.CA=!1,n.aA=this.$Mt.aA;case 20:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.pbt=function(){var t;return null!=(t=this.tbt.VIt())?t:this.tbt.GIt()},n.obt=function(){var t=N.coroutine(rr.mark(function t(){var n;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.BIt){t.next=6;break}if(!this.ibt){t.next=5;break}return t.abrupt("return",this.ibt);case 5:return t.abrupt("return");case 6:if(!(n=this.pbt())){t.next=10;break}return t.next=10,this.wbt(n);case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.Jl=function(){hs(this.qIt),this.$It=0,this.BIt=void 0,this.ibt=void 0,this.ybt=!1},n.xIt=function(){this.ybt=!1,this.BIt&&(this.BIt.xIt=!0)},n.vbt=function(t,n){t===cP.EMt&&this.bA&&this.tbt.UIt(n)&&!this.Nbt&&"linear"!==this.ZIt.QIt&&(!this.BIt||this.BIt&&this.BIt.OIt)&&(this.dbt(),this.wbt(n))},n.EIt=function(){this.BIt&&this.BIt.EIt()},n.Dbt=function(){if(this.ubt){var t=this.pbt();t&&(this.dbt(),this.wbt(t))}},n.cbt=function(t,n){var i=t.sources.type,e=n===cP.LMt&&void 0===t.timeOffset,r=yG(i)||e?pG.WIt:pG.XIt;r!==this.nbt&&(this.nbt=r,this.gbt(),this.ZIt.Tbt&&!this.Nbt&&"linear"!==this.ZIt.QIt&&(this.ZIt.Tbt.xo(),this.BIt=void 0,this.ibt=void 0),this.$It=0,this.JIt=!0)},n.nd=function(){this.KI.th("durationchange",this.Ugt)},z(t,[{key:"PIt",get:function(){return this.ZIt}},{key:"vkt",get:function(){return this.qIt}},{key:"VI",get:function(){return this.KI}},{key:"Nbt",get:function(){return Boolean(this.ibt)}},{key:"abt",get:function(){return this.nbt}},{key:"BIt",get:function(){return this.KIt},set:function(t){this.KIt=t}},{key:"ybt",get:function(){return this.rbt},set:function(t){this.rbt=t}},{key:"ubt",get:function(){var t=this,n=this.qIt.filter(function(n){return t.BIt!==n});if(this.Nbt||!n.length||this.ybt)return!1;var i=this.BIt&&this.BIt.jIt;return!(this.BIt&&!i)&&Boolean(this.pbt())}}]),t}();!function(t){t.Ibt="contentResumeRequested",t.bbt="contentPauseRequested",t.Ebt="click",t.Aa="durationChange",t.Lbt="expandedChanged",t.Sbt="start",t.jbt="impression",t.DA="pause",t.Cbt="resume",t.Obt="adProgress",t.xbt="adBuffering",t.zbt="firstQuartile",t.Bpt="midpoint",t.Rbt="thirdQuartile",t.Ltt="complete",t.Ubt="userClose",t.Bbt="linearChanged",t.Qbt="loaded",t.Pbt="adCanPlay",t.Ybt="adMetadata",t.Gbt="adBreakReady",t.Fbt="interaction",t.Vbt="allAdsCompleted",t.Hbt="skip",t.Wbt="skippableStateChanged",t.Xbt="log",t.Zbt="viewableImpression",t.qbt="volumeChange",t.Jbt="mute"}(IG||(IG={})),function(t){t.Kbt="adError"}(bG||(bG={})),function(t){t[t.$bt=-1]="$bt",t[t.tEt=-1]="tEt",t[t.nEt=-1]="nEt",t[t.iEt=-1]="iEt",t[t.eEt=-1]="eEt",t[t.rEt=-1]="rEt",t[t.sEt=-1]="sEt",t[t.uEt=101]="uEt",t[t.oEt=102]="oEt",t[t.hEt=200]="hEt",t[t.cEt=201]="cEt",t[t.aEt=202]="aEt",t[t.fEt=300]="fEt",t[t.vEt=301]="vEt",t[t.dEt=302]="dEt",t[t.lEt=303]="lEt",t[t.gEt=400]="gEt",t[t.AEt=402]="AEt",t[t.wEt=403]="wEt",t[t.yEt=403]="yEt",t[t._Et=500]="_Et",t[t.MEt=501]="MEt",t[t.kEt=503]="kEt",t[t.mEt=602]="mEt",t[t.pEt=900]="pEt",t[t.NEt=900]="NEt",t[t.DEt=901]="DEt",t[t.TEt=1005]="TEt",t[t.IEt=1007]="IEt",t[t.bEt=1009]="bEt",t[t.EEt=1010]="EEt",t[t.LEt=1011]="LEt",t[t.SEt=1021]="SEt",t[t.jEt=1101]="jEt",t[t.CEt=1205]="CEt"}(EG||(EG={})),function(t){t.OEt="adLoadError",t.xEt="adPlayError"}(LG||(LG={}));var jG,CG=function(t){function n(n){var i;return(i=t.call(this,al._g)||this).error=n,i}return U(n,t),n}(xs),OG=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).zEt=!1,s.REt=!1,s.UEt=void 0,s.BEt=void 0,s.QEt=void 0,s.PEt=function(t){t.GEt.YEt&&s.FEt(t.GEt.YEt)},s.VEt=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.zEt){t.next=4;break}return t.next=4,s.HEt();case 4:s.REt=!0;case 5:case"end":return t.stop()}},t)})),s.WEt=function(t){if(t.ZMt){0;var n=t.ZMt;s.ZIt.XEt(n),s.ZIt.qA(),s.ZIt.ZEt(),s.JEt.qEt(n);var i=n.oA;if(s.KEt(i),n.$Et){var e=s.ZIt.uA,r=s.ZIt.Ng;s.ZIt.Ng=El.Kg,s.tLt(new sg(e,r)),s.tLt(new cg(e,r)),s.tLt(new ag(e,r)),s.ZIt.fA||s.tLt(new a_(s.ZIt.uA)),s.setCountdownTimer(),s.nLt(!0)}else s.ZIt.pkt(),s.KI.qA(),s.ZIt.fA||s.KI.BA()}},s.iLt=function(t){var n;if(t.ZMt){var i=t.ZMt;if(s.xu(),s.JEt.eLt(s.ZIt.oA,i.$Et),s.ZIt.Ng!==El.Zg){var e=El.Zg;s.ZIt.Ng=e;var r=s.ZIt.uA;s.tLt(new Xl(r,e)),s.tLt(new fg(r,e))}s.KEt(NaN),null==(n=s.QEt)||n.EO(s.ZIt.rLt()),s.ZIt.EIt()}},s.sLt=function(t){t.ZMt&&(s.iLt(t),s.JEt.sLt(t.ZMt,s.ZIt.uA,s.ZIt.oA))},s.uLt=function(t){t.ZMt&&(s.JEt.eLt(-1,t.ZMt.$Et),s.ZIt.EIt(),s.ZIt.ubt()&&s.ZIt.Dbt())},s.oLt=function(t){t.ZMt&&(t.ZMt.$Et?s.ZIt.QA():s.KI.QA())},s.hLt=function(){var t;(s.ZIt.cLt=!0,s.ZIt.aLt)&&(null==(t=s.QEt)||t.QA(),s.ZIt.aLt=!1)},s.fLt=function(t){var n,i;if(t.ZMt){0,s.ZIt.vLt&&(s.BEt=s.KI.uA),s.ZIt.vLt&&null!=(n=s.KI.rw)&&n.contentProtection&&s.KI.sw(),s.zEt=!0,s.KI.Mw=!0,s.ZIt.dLt=!0;var e=t.ZMt;s.JEt.lLt(e);var r=e.oA;s.ZIt.XEt(e),s.KEt(r),s.ZIt.fA=!1,s.ZIt.qA(),s.ZIt.mkt(),s.ZIt.vLt||s.KI.JA(),s.KI.QA(),s.ZIt.gLt(e),0===(null==(i=e.ALt)?void 0:i.YTt)||s.ZIt.Zo(new c_(s.ZIt.uA))}},s.wLt=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.ZMt,s.ZIt.dLt=!1,"linear"===s.ZIt.QIt&&s.JEt.yLt(),i&&i.oA>=0&&s.KEt(i.oA),s.KI.oA===1/0&&s.ZIt._Lt(),s.ZIt.cLt=!1,!s.REt){t.next=10;break}return t.next=10,s.HEt();case 10:if(!s.ZIt.ubt()){t.next=14;break}s.ZIt.Dbt(),t.next=28;break;case 14:return s.ZIt.fA=!0,t.prev=15,t.next=18,s.MLt();case 18:t.next=24;break;case 20:return t.prev=20,t.t0=t.catch(15),ws(t.t0)||s.Zo(new CG(t.t0)),t.abrupt("return");case 24:s.KI.qA(),s.ZIt.pkt(),s.ZIt.JA(),s.KI.hA||s.KI.BA();case 28:i&&s.ZIt.XEt(i),s.ZIt.kLt&&(s.ZIt.vLt&&(r=s.KI.KA(),u=null==(e=s.KI.rw)?void 0:e.src,r&&u&&(r.src=u)),s.ZIt.mLt=!0),s.zEt=!1,s.KI.Mw=!1;case 32:case"end":return t.stop()}},t,null,[[15,20]])}));return function(n){return t.apply(this,arguments)}}(),s.ZIt=n,s.KI=i,s.$Mt=e,s.JEt=r,s}U(n,t);var i=n.prototype;return i.tLt=function(t){this.ZIt.Zo(t)},i.pLt=function(t){var n=this;this.QEt=t,this.QEt.qo(bG.Kbt,this.PEt),this.QEt.qo(IG.bbt,this.fLt),this.QEt.qo(IG.Ibt,this.wLt),this.QEt.qo(IG.Vbt,this.VEt),this.QEt.qo(IG.Sbt,this.WEt),this.QEt.qo(IG.Ltt,this.iLt),this.QEt.qo(IG.Hbt,this.sLt),this.QEt.qo(IG.Ubt,this.uLt),this.QEt.qo(IG.Ebt,this.oLt),this.QEt.qo(IG.Pbt,this.hLt),this.QEt.qo(IG.DA,function(){n.ZIt.fA||(n.ZIt.fA=!0,n.ZIt.Zo(new Zl(n.ZIt.uA))),n.nLt(!0)}),this.QEt.qo(IG.Cbt,function(){n.ZIt.fA&&(n.ZIt.fA=!1,n.ZIt.Zo(new ql(n.ZIt.uA)))}),this.QEt.qo(IG.Jbt,function(){var i=t.bO();i>=0&&n.NLt(i)}),this.QEt.qo(IG.qbt,function(){var i=t.bO();i>=0&&n.NLt(i)}),this.QEt.qo(IG.Ybt,function(t){n.JEt.DLt(t.type)}),this.QEt.qo(IG.Aa,function(t){t.ZMt&&n.KEt(t.ZMt.oA)}),this.QEt.qo(IG.Xbt,function(t){var i=t.GEt,e=i.adError;e&&(n.TLt(e)?n.FEt(e):n.ILt(e)&&n.bLt(e))}),this.QEt.qo(IG.Qbt,function(t){if(t.ZMt&&(n.ZIt.xIt(),n.JEt.ELt(t.ZMt),t.ZMt.$Et)){var i,e=n.ZIt.Ng;n.ZIt.Ng=El.Zg;var r=n.ZIt.uA,s=n.ZIt.Ng;s!==e&&n.tLt(new Xl(r,s)),null==(i=n.QEt)||i.EO(n.ZIt.rLt()),n.tLt(new tg(r,s)),n.tLt(new fg(r,s))}}),this.QEt.qo([IG.xbt,IG.jbt,IG.zbt,IG.Bpt,IG.Rbt],function(t){t.ZMt&&n.JEt.LLt(t.ZMt,t.type,n.ZIt.uA)})},i.switchToPlayerIfNoNextAd=function(){if(this.QEt){var t=this.QEt.SLt();t&&this.jLt(t)||(this.ZIt.ubt()?this.ZIt.Dbt():(this.ZIt.CLt(),this.$Mt.fA&&!this.$Mt.hA&&this.$Mt.BA()))}else if(this.ZIt.ubt())this.ZIt.Dbt();else{var n=this.$Mt.fA;this.ZIt.CLt(),n||this.KI.BA()}},i.jLt=function(t){var n=t.ALt,i=null==n?void 0:n.OLt;return(null==n?void 0:n.xLt)!==i},i.xu=function(){this.ZIt.zLt&&(a(this.ZIt.zLt),this.ZIt.zLt=null)},i.ILt=function(t){return t.Ao===LG.OEt},i.TLt=function(t){return t.Ao===LG.xEt},i.FEt=function(t){var n;this.ZIt.RLt.ybt=!1,this.bLt(t);var i=[EG.gEt,EG.DEt,EG.SEt,EG.CEt];this.ZIt.ULt||os(i,t.XMt)||os(i,null==(n=t.BLt)?void 0:n.XMt)||this.switchToPlayerIfNoNextAd()},i.bLt=function(t){this.ZIt.QLt(t)},i.HEt=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.JEt.lbt(),this.ZIt.EIt(),"nonlinear"===this.ZIt.QIt&&(this.JEt.eLt(-1,!1),this.ZIt.XEt(void 0)),"nonlinear"!==this.ZIt.QIt&&"none"!==this.ZIt.QIt||this.ZIt.ubt()&&this.ZIt.Dbt(),t.next=6,this.ZIt.PLt();case 6:this.$Mt.sg===this.ZIt?this.ZIt.pkt():this.YLt()&&this.KI.Zo(new rg(this.KI.uA));case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.YLt=function(){return this.ZIt.kLt&&!this.ZIt.mLt&&this.$Mt.hA},i.setCountdownTimer=function(){var t=this;this.xu(),this.ZIt.zLt=c(function(){return t.nLt()},250)},i.KEt=function(t){this.ZIt.oA!==t&&t>=0&&(this.ZIt.oA=t,this.tLt(new ng(this.ZIt.oA)))},i.NLt=function(t){this.ZIt.rLt()!==t&&(0===t?this.ZIt.GLt(t,!0,!1):this.ZIt.GLt(t,!1,!1))},i.MLt=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.ZIt.vLt||!this.KI.vh){t.next=6;break}return this.UEt=new gs,t.next=4,this.KI.GA(this.KI.YA(),this.UEt.Fo);case 4:this.BEt&&(this.KI.uA=this.BEt),this.BEt=void 0;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.nLt=function(t){if(this.QEt){var n=this.QEt.FLt();n>this.ZIt.oA&&this.KEt(l.round(n))}var i=this.ZIt.uA;(t||!this.ZIt.fA&&i!==this.ZIt.VLt)&&(this.ZIt.Zo(new eg(i,void 0)),this.ZIt.VLt=i)},i.Jl=function(){this.UEt&&(this.UEt.Po(),this.UEt=void 0),this.zEt=!1,this.REt=!1},i.nd=function(){this.Jl(),this.$o()},n}(Cs);!function(t){t.HLt="theo",t.WLt="google-ima",t.XLt="google-dai",t.ZLt="freewheel"}(jG||(jG={}));var xG=function(t){function n(n,i){var e;return(e=t.call(this,-1,-1,n)||this).qLt=i,e}return U(n,t),z(n,[{key:"JLt",get:function(){return jG.WLt}},{key:"KLt",get:function(){return this.qLt}}]),n}(function(){function t(t,n,i){this.kl=void 0,this.$Lt=[],this.tSt=!1,this.nSt=t,this.iSt=n,this.OTt=i}var n=t.prototype;return n.eSt=function(){this.tSt=!0},n.rSt=function(t){this.$Lt.push(t)},n.sSt=function(){var t;return this.kl||(this.kl=(t=this,{get ads(){return t.wkt.map(function(t){return t.sSt()})},get maxDuration(){return t.uSt},get maxRemainingDuration(){return t.oSt},get timeOffset(){return t.YTt},get integration(){return t.JLt}})),this.kl},z(t,[{key:"wkt",get:function(){return this.$Lt}},{key:"uSt",get:function(){return this.nSt},set:function(t){this.nSt=t}},{key:"oSt",get:function(){return this.iSt},set:function(t){this.iSt=t}},{key:"YTt",get:function(){return this.OTt},set:function(t){this.OTt=t}},{key:"ww",get:function(){return this.tSt}}]),t}()),zG=function(){function t(t,n){this.tkt=void 0,this.KI=void 0,this.tkt=t,this.KI=n}return t.prototype.hSt=function(n){if(!n||!n.w3)return[];var i=t.cSt(n),e=[];if(i)for(;i.cet();){var r=i.Ikt,s=[];r.Pkt&&(s=r.Pkt.kmt),r.Bkt&&(e.push(new HG(r.Bkt,s,n,new RG(this.tkt,this.KI),r.Fkt).sSt()),hs(s)),r.Gkt&&e.push(new VG(r.Gkt.$kt[0],s,n,new RG(this.tkt,this.KI),r.Fkt).sSt())}return e},t.cSt=function(t){var n,i;return null==(n=t.PTt)?void 0:null==(i=n.Dkt)?void 0:i.Skt()},t}(),RG=function(){function t(t,n){this.QEt=void 0,this.KI=void 0,this.QEt=t,this.KI=n}return z(t,[{key:"Tbt",get:function(){return this.QEt}},{key:"VI",get:function(){return this.KI}}]),t}(),UG=function(){function t(t,n){this.omt=void 0,this.aSt=void 0,this.omt=t,this.aSt=n}var n=t.prototype;return n.sSt=function(){for(var t=this,n=[],i=this,e=0,r=this.omt.rTt.fSt;e<r.length;e++){var s=r[e],u=this.vSt(s);if(u)for(var o=function(){var i=u.Ikt;if(i){var e=[];i.Pkt&&(e=i.Pkt.kmt),i.Bkt&&n.push(new HG(i.Bkt,e,t.omt,t.aSt,i.Fkt)),i.Gkt&&i.Gkt.$kt.forEach(function(r){n.push(new VG(r,e,t.omt,t.aSt,i.Fkt))})}};u.cet();)o()}return{maxDuration:i.sO(),timeOffset:i.YTt,get maxRemainingDuration(){return i.oSt},ads:n.map(function(t){return t.sSt()}),integration:jG.HLt}},n.dSt=function(t){for(var n=0;t.cet();)t.Ikt.Bkt&&!t.Ikt.Bkt.ppt&&(n+=t.Ikt.Bkt.oA||0);return n},n.sO=function(){for(var t=0,n=0,i=this.omt.rTt.fSt;n<i.length;n++){var e=i[n],r=this.vSt(e);if(r)for(;r.cet();)r.Ikt.Bkt&&(t+=r.Ikt.Bkt.oA||0)}return t},n.vSt=function(t){return zG.cSt(t)},z(t,[{key:"YTt",get:function(){var t=this.omt.rTt.k_;return t>=0?t:this.aSt.VI.oA}},{key:"oSt",get:function(){var t=this,n=0;return this.omt.rTt.fSt.forEach(function(i){var e=t.vSt(i);e&&(n+=t.dSt(e))}),this.aSt&&this.aSt.Tbt&&(n+=this.aSt.Tbt.oA-this.aSt.Tbt.uA),n}}]),t}(),BG=function(){},QG={height:0,width:0,clickThrough:"",contentHTML:"",resourceURI:"",altText:""},PG=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).lSt=void 0,u._mt=void 0,u.omt=void 0,u.aSt=void 0,u.lpt=void 0,u.lSt=n,u._mt=i,u.omt=e,u.aSt=r,u.lpt=s,u}U(n,t);var i=n.prototype;return i.gSt=function(t){return sr({},QG,{resourceURI:t.iNt||""})},i.ASt=function(t){return sr({},QG,{contentHTML:t.iNt.trim(),type:"HTMLResource"})},i.wSt=function(t){var n,i;return sr({},QG,{clickThrough:(null==(n=t.sNt)?void 0:n.trim())||"",resourceURI:(null==(i=t.iNt)?void 0:i.trim())||"",altText:t.Qmt||"",type:"StaticResource"})},i.ySt=function(t,n,i){if(t&&n){var e="<img "+(i?"title='"+i+"' ":"")+"src='"+encodeURI(t)+"'>";return"<a href='"+encodeURI(n)+"' target='_blank' rel='noopener'>"+e+"</a>"}},i.Pkt=function(t){var n=this;return t?t.map(function(t){var i,e={adSlotId:t.Rmt||"",height:t.Xk||0,width:t.pu||0};if(t.cmt){var r,s=n.wSt(t.cmt),u=s.clickThrough||(null==(r=t.Bmt)?void 0:r.Vmt);i=sr({},s,{contentHTML:n.ySt(s.resourceURI,u,s.altText)||""})}else if(t.fmt)i=n.ASt(t.fmt);else{if(!t.amt)return;i=n.gSt(t.amt)}return Hd(i,e)}).filter(function(t){return void 0!==t}):[]},i._St=function(){return this.lSt.Zkt},i.MSt=function(){if(this.lSt.kpt)return this.lSt.kpt[0].contentURL;var t=this.lSt;return t&&t.cmt?t.cmt.iNt:""},i.kSt=function(){if(this.lSt.kpt)return this.lSt.kpt[0].type;var t=this.lSt,n=t&&t.cmt;return n&&n.uNt?n.uNt:""},n}(BG);function YG(t){if(t)return t.sSt()}var GG,FG,VG=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).kl=void 0,u}U(n,t);var i=n.prototype;return i.pl=function(){var t=this.omt,n=this.aSt,i={companions:this.Pkt(this._mt),type:"nonlinear",id:this.lSt.lmt,skipOffset:this.mpt,integration:jG.HLt,adSystem:this.lSt.Zkt,get adBreak(){return t?new UG(t,n).sSt():void 0},creativeId:this.lSt.lmt,universalAdIds:this.lpt.map(function(t){return{adIdRegistry:t.HDt,adIdValue:t.WDt}})};return this.lSt.amt?Hd(this.gSt(this.lSt.amt),i):this.lSt.fmt?Hd(this.ASt(this.lSt.fmt),i):this.lSt.cmt?Hd(this.wSt(this.lSt.cmt),i):i},i.sSt=function(){return this.kl||(this.kl=this.pl()),this.kl},z(n,[{key:"mpt",get:function(){var t,n=this.lSt.dmt;return n&&n.VTt&&void 0!==n.VTt.skipOffset?lG.bTt(n.VTt.skipOffset,this.aSt.Tbt.oA):(null==(t=this.lSt.dmt)?void 0:t.mpt)||-1}}]),n}(PG),HG=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).kl=void 0,u}return U(n,t),n.prototype.sSt=function(){var t,n=this.omt,i=this.aSt;this.kl||(this.kl={companions:this.Pkt(this._mt),duration:this.lSt.oA,id:this.lSt.lmt,mediaFiles:this.lSt.kpt,skipOffset:this.mpt,type:"linear",integration:jG.HLt,adSystem:this.lSt.Zkt,width:void 0,height:void 0,get adBreak(){return n?new UG(n,i).sSt():void 0},clickThrough:null==(t=this.lSt.qmt)?void 0:t.Vmt,creativeId:this.lSt.lmt,universalAdIds:this.lpt.map(function(t){return{adIdRegistry:t.HDt,adIdValue:t.WDt}})});return this.kl},z(n,[{key:"mpt",get:function(){var t=this.lSt.dmt;return t&&t.VTt&&void 0!==t.VTt.skipOffset?lG.bTt(t.VTt.skipOffset,this.aSt.Tbt.oA):this.lSt.mpt||-1}}]),n}(PG),WG=function(t){function n(n){return t.call(this,"mSt",n)||this}return U(n,t),n.prototype.pl=function(){return new XG(YG(this.ZMt))},n}(yP),XG=function(t){function n(n){return t.call(this,"addadbreak",n)||this}return U(n,t),n}(_P),ZG=function(t){function n(n){return t.call(this,"pSt",n)||this}return U(n,t),n.prototype.pl=function(){return new qG(YG(this.ZMt))},n}(yP),qG=function(t){function n(n){return t.call(this,"removeadbreak",n)||this}return U(n,t),n}(_P);!function(t){t.XDt="linear",t.ZDt="nonlinear",t.Cv="unknown"}(GG||(GG={})),function(t){t.NONE="none",t.READY="ready"}(FG||(FG={}));var JG=function(t){function n(n){var i;return(i=t.call(this,n,GG.Cv)||this).NSt=void 0,i.DSt=void 0,i}U(n,t);var i=n.prototype;return i.pl=function(){var t;return function(t,n){return Hd(t,{get adSystem(){return n.Zkt},get apiFramework(){return n.TSt},get bitrate(){return n.h6},get contentType(){return n.vv},get creativeId(){return n.lmt},get mediaUrl(){return n.ISt},get title(){return n.vI},get traffickingParameters(){return n.bSt},get traffickingParametersString(){return n.ESt},get wrapperAdIds(){return n.LSt},get wrapperAdSystems(){return n.SSt},get wrapperCreativeIds(){return n.jSt},get universalAdIds(){return n.Fkt}})}((t=this,{adSystem:void 0,creativeId:void 0,universalAdIds:[],get readyState(){return t.CSt},get adBreak(){return t.dmt.sSt()},get duration(){return t.oA},get companions(){return t.kmt.map(function(t){return t.sSt()})},get clickThrough(){return t.sNt},get width(){return t.pu},get type(){return t.QIt},get height(){return t.Xk},get id(){return t.cg},get skipOffset(){return t.mpt},get integration(){return t.JLt}}),this)},i.OSt=function(t){this.NSt=t,this.xSt(t.gpt,t.zSt,t.RSt,t.oA,[],t.USt),this.BSt=t.$Et?GG.XDt:GG.ZDt},z(n,[{key:"JLt",get:function(){return jG.WLt}},{key:"Zkt",get:function(){return this.NSt?KG(this.NSt.Zkt):void 0}},{key:"TSt",get:function(){return this.NSt?KG(this.NSt.zmt):void 0}},{key:"h6",get:function(){return this.NSt?this.NSt.QSt:0}},{key:"vv",get:function(){return this.NSt?KG(this.NSt.vv):void 0}},{key:"lmt",get:function(){return this.NSt?KG(this.NSt.lmt):void 0}},{key:"PSt",get:function(){return this.NSt?KG(this.NSt.PSt):void 0}},{key:"ISt",get:function(){var t,n=null==(t=this.NSt)?void 0:t.ISt;return K(n)?n:this.DSt},set:function(t){this.DSt=t}},{key:"vI",get:function(){var t;return null==(t=this.NSt)?void 0:t.vI}},{key:"bSt",get:function(){return this.NSt?KG(this.NSt.bSt):void 0}},{key:"ESt",get:function(){return this.NSt?KG(this.NSt.ESt):void 0}},{key:"LSt",get:function(){var t,n;return null!=(t=null==(n=this.NSt)?void 0:n.LSt)?t:[]}},{key:"SSt",get:function(){var t,n;return null!=(t=null==(n=this.NSt)?void 0:n.SSt)?t:[]}},{key:"jSt",get:function(){var t,n;return null!=(t=null==(n=this.NSt)?void 0:n.jSt)?t:[]}},{key:"Fkt",get:function(){var t,n;return null!=(t=null==(n=this.NSt)?void 0:n.Fkt.map(function(t){return{adIdRegistry:t.YSt,adIdValue:t.GSt}}))?t:[]}}]),n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).kl=void 0,e.Dw=void 0,e.Mpt=void 0,e.OU=void 0,e.xU=void 0,e.pU=void 0,e._mt=[],e.FSt=FG.NONE,e.rNt=void 0,e.omt=n,e.BSt=i,e}U(n,t);var i=n.prototype;return i.xSt=function(t,n,i,e,r,s){this.Dw=t,this.OU=n,this.xU=i,this.pU=e,this._mt=r,this.Mpt=s,this.FSt=FG.READY},i.sSt=function(){return this.kl||(this.kl=this.pl()),this.kl},i._St=function(){return""},i.kSt=function(){return""},i.MSt=function(){return""},z(n,[{key:"CSt",get:function(){return this.FSt}},{key:"dmt",get:function(){return this.omt}},{key:"kmt",get:function(){return this._mt}},{key:"oA",get:function(){return this.pU}},{key:"Xk",get:function(){return this.xU}},{key:"cg",get:function(){return this.Dw}},{key:"mpt",get:function(){return this.Mpt}},{key:"pu",get:function(){return this.OU}},{key:"QIt",get:function(){return this.BSt}},{key:"sNt",get:function(){}}]),n}(BG));function KG(t){return null===t?void 0:t}var $G=function(){function t(t,n){this.JEt=t,this.VSt=n}var n=t.prototype;return n.HSt=function(t,n,i){0},n.$M=function(){this.JEt.$M()},n.nd=function(){return N.resolve()},z(t,[{key:"PMt",get:function(){return this.JEt.PMt}},{key:"BMt",get:function(){return this.VSt}},{key:"Akt",get:function(){return this.JEt.Akt}},{key:"fkt",get:function(){var t=this.JEt.fkt;return t?t.sSt():null}},{key:"akt",get:function(){var t=this.JEt.WSt;return t?[t.sSt()]:[]}},{key:"vkt",get:function(){return[]}},{key:"dkt",get:function(){return this.JEt.dkt.map(function(t){return t.sSt()})}}]),t}(),tF=function(){function t(t,n){this.XSt=[],this.lSt=void 0,this.ZSt=void 0,this.qSt=!1,this.JSt=void 0,this.ykt=t,this.JSt=new $G(this,n)}return t.prototype.$M=function(){},z(t,[{key:"KSt",get:function(){return this.JSt}},{key:"PMt",get:function(){return this.ykt}},{key:"Akt",get:function(){return this.qSt}},{key:"vkt",get:function(){return[]}},{key:"WSt",get:function(){return this.lSt}},{key:"fkt",get:function(){return this.ZSt}}]),t}(),nF=function(t){function n(n){return t.call(this,"$St",n)||this}return U(n,t),n.prototype.pl=function(){return new iF(YG(this.ZMt))},n}(yP),iF=function(t){function n(n){return t.call(this,"updatead",n)||this}return U(n,t),n}(_P),eF=function(t){function n(n){return t.call(this,"tjt",n)||this}return U(n,t),n.prototype.pl=function(){return new rF(YG(this.ZMt))},n}(yP),rF=function(t){function n(n){return t.call(this,"addad",n)||this}return U(n,t),n}(_P),sF=function(t){function n(n,i){var e;return(e=t.call(this,"njt",n)||this).currentTime=void 0,e.currentTime=i,e}return U(n,t),n.prototype.pl=function(){return new uF(YG(this.ZMt),this.currentTime)},n}(yP),uF=function(t){function n(n,i){var e;return(e=t.call(this,"adbegin",n)||this).currentTime=i,e}return U(n,t),n}(_P),oF=function(t){function n(n){return t.call(this,"ijt",n)||this}return U(n,t),n.prototype.pl=function(){return new hF(YG(this.ZMt))},n}(yP),hF=function(t){function n(n){return t.call(this,"adloaded",n)||this}return U(n,t),n}(_P),cF=function(t){function n(n){return t.call(this,"ejt",n)||this}return U(n,t),n.prototype.pl=function(){return new aF(YG(this.ZMt))},n}(yP),aF=function(t){function n(n){return t.call(this,"adimpression",n)||this}return U(n,t),n}(_P),fF=function(t){function n(n,i){var e;return(e=t.call(this,"rjt",n)||this).currentTime=void 0,e.currentTime=i,e}return U(n,t),n.prototype.pl=function(){return new vF(YG(this.ZMt),this.currentTime)},n}(yP),vF=function(t){function n(n,i){var e;return(e=t.call(this,"adfirstquartile",n)||this).currentTime=i,e}return U(n,t),n}(_P),dF=function(t){function n(n,i){var e;return(e=t.call(this,"sjt",n)||this).currentTime=void 0,e.currentTime=i,e}return U(n,t),n.prototype.pl=function(){return new lF(YG(this.ZMt),this.currentTime)},n}(yP),lF=function(t){function n(n,i){var e;return(e=t.call(this,"admidpoint",n)||this).currentTime=i,e}return U(n,t),n}(_P),gF=function(t){function n(n,i){var e;return(e=t.call(this,"ujt",n)||this).currentTime=void 0,e.currentTime=i,e}return U(n,t),n.prototype.pl=function(){return new AF(YG(this.ZMt),this.currentTime)},n}(yP),AF=function(t){function n(n,i){var e;return(e=t.call(this,"adthirdquartile",n)||this).ad=n,e.currentTime=i,e}return U(n,t),n}(_P),wF=function(t){function n(n,i){var e;return(e=t.call(this,"hjt",n)||this).ojt=void 0,e.ojt=i,e}return U(n,t),n.prototype.pl=function(){return new yF(YG(this.ZMt),this.cjt)},z(n,[{key:"cjt",get:function(){return this.ojt}}]),n}(yP),yF=function(t){function n(n,i){var e;return(e=t.call(this,"adskip",n)||this).playedPercentage=i,e}return U(n,t),n}(_P),_F=function(t){function n(n,i){var e;return(e=t.call(this,"ajt",n)||this).currentTime=void 0,e.currentTime=i,e}return U(n,t),n.prototype.pl=function(){return new MF(YG(this.ZMt),this.currentTime)},n}(yP),MF=function(t){function n(n,i){var e;return(e=t.call(this,"adend",n)||this).currentTime=i,e}return U(n,t),n}(_P),kF=function(t){function n(n){return t.call(this,"fjt",n)||this}return U(n,t),n.prototype.pl=function(){return new mF(YG(this.ZMt))},n}(yP),mF=function(t){function n(n){return t.call(this,"adbreakbegin",n)||this}return U(n,t),n}(_P),pF=function(t){function n(n){return t.call(this,"vjt",n)||this}return U(n,t),n.prototype.pl=function(){return new NF(YG(this.ZMt))},n}(yP),NF=function(t){function n(n){return t.call(this,"adbreakend",n)||this}return U(n,t),n}(_P),DF=function(t){function n(n){return t.call(this,"djt",n)||this}return U(n,t),n.prototype.pl=function(){return new TF(YG(this.ZMt))},n}(yP),TF=function(t){function n(n){return t.call(this,"updateadbreak",n)||this}return U(n,t),n}(_P),IF=function(t){function n(n){var i;return(i=t.call(this,"ljt")||this).ZMt=n,i}return U(n,t),n.prototype.pl=function(){return new bF(this.ZMt.sSt())},n}(Sd),bF=function(t){function n(n){var i;return(i=t.call(this,"adbuffering")||this).ad=n,i}return U(n,t),n}(xs),EF=function(t){function n(){return t.call(this,"gjt")||this}return U(n,t),n.prototype.pl=function(){return new LF},n}(Sd),LF=function(t){function n(){return t.call(this,"admetadata")||this}return U(n,t),n}(xs),SF=function(t){function n(n,i){var e;return(e=t.call(this,n,jG.WLt)||this).Ajt=[],e.wjt=[],e.yjt=i,e}U(n,t);var i=n.prototype;return i._jt=function(t,n){for(var i=0;i<t;i++){var e=new JG(n);n.rSt(e),this.PMt.Zo(new eF(e))}},i.fbt=function(t,n,i){var e=t;e===1/0&&(e=-1);var r=new xG(e,i);this.XSt.push(r),n.lIt(r),this.PMt.Zo(new WG(r))},i.sbt=function(t,n){for(var i=0,e=this.XSt;i<e.length;i++){var r=e[i];w(r.YTt)&&r.KLt===t&&(r.YTt=n,this.PMt.Zo(new DF(r)))}},i.Abt=function(t,n){void 0===n&&(n=!1),n&&ss(this.XSt,t),this.PMt.Zo(new ZG(t))},i.lbt=function(){if(this.fkt){this.Abt(this.fkt,!0);var t=Boolean(this.lSt&&this.lSt.QIt===GG.XDt);this.Mjt(void 0,t)}},i.kjt=function(t,n){var i=n.ALt;if(i){var e=i.xLt-1,r=t.wkt[e];return r.CSt===FG.READY?r:(r.OSt(n),this.PMt.Zo(new nF(r)),r.dmt.uSt=i.uSt,r)}},i.mjt=function(t){if(!os(this.wjt,t)){if(t){if(this.lSt===t)return;this.lSt=t,this.PMt.Zo(new sF(this.lSt,t.dmt.YTt));for(var n=0,i=this.Ajt;n<i.length;n++){var e=i[n];0,this.DLt(e,t,this.yjt.uA)}}else{if(!this.lSt)return;var r=new _F(this.lSt,this.lSt.dmt.YTt);this.wjt.push(this.lSt),this.lSt=void 0,this.ykt.Zo(r)}hs(this.Ajt)}},i.Mjt=function(t,n){if(t){if(this.ZSt)return;this.ZSt=t,n&&this.PMt.Zo(new kF(this.ZSt))}else{if(!this.ZSt)return;var i=new pF(this.ZSt);this.ZSt=void 0,hs(this.wjt),n&&this.ykt.Zo(i)}},i.pjt=function(t){return this.XSt.filter(function(n){return Wt(n.YTt,t)})[0]},n.Njt=function(t,n){if(n.ALt)return t.wkt[n.ALt.xLt-1]},i.lLt=function(t){if(t.ALt){var n=t.ALt,i=this.pjt(n.YTt);i&&(hs(this.Ajt),this.Mjt(i,t.$Et))}},i.yLt=function(){this.fkt&&this.PMt.Zo(new pF(this.fkt)),hs(this.Ajt),this.lbt()},i.qEt=function(t){if(!this.ZSt&&!t.$Et&&t.ALt){var i=this.pjt(t.ALt.YTt);this.Mjt(i,!1)}if(this.ZSt){var e=n.Njt(this.ZSt,t);if(!e)return;e.CSt===FG.NONE&&this.kjt(this.ZSt,t);var r=t.ISt;K(r)&&!K(e.ISt)&&(e.ISt=r,this.PMt.Zo(new nF(e))),this.mjt(e)}else 0},i.eLt=function(t,n){if(this.mjt(void 0),!n&&this.fkt){var i=this.fkt;this.Mjt(void 0,!1),this.Abt(i)}},i.ELt=function(t){var n=t.ALt;if(n){var i=n.YTt,e=this.pjt(i);if(e){var r=e.wkt.length;if(n.OLt>r){var s=n.OLt-r;this._jt(s,e),e.uSt=n.uSt,this.PMt.Zo(new DF(e))}var u=this.kjt(e,t);u&&this.PMt.Zo(new oF(u))}}},i.sLt=function(t,i,e){if(this.ZSt){var r=n.Njt(this.ZSt,t);if(r){var s=i/e;this.PMt.Zo(new wF(r,s))}}},i.LLt=function(t,i,e){if(this.ZSt){var r=this.lSt;if(!r){var s=n.Njt(this.ZSt,t);if(!s||os(this.wjt,s))return void this.Ajt.push(i);r=s,this.kjt(this.ZSt,t),this.mjt(r)}this.DLt(i,r,e)}},i.DLt=function(t,n,i){t===IG.Ybt?this.PMt.Zo(new EF):t===IG.jbt&&n?this.PMt.Zo(new cF(n)):t===IG.xbt&&n?this.PMt.Zo(new IF(n)):t===IG.zbt&&n&&i?this.PMt.Zo(new fF(n,i)):t===IG.Bpt&&n&&i?this.PMt.Zo(new dF(n,i)):t===IG.Rbt&&n&&i&&this.PMt.Zo(new gF(n,i))},i.$M=function(){this.yjt.$M()},i.Jl=function(){var t=Boolean(this.lSt&&this.lSt.QIt===GG.XDt);this.mjt(void 0),this.Mjt(void 0,t);for(var n=0,i=this.XSt;n<i.length;n++){var e=i[n];this.Abt(e)}hs(this.XSt),hs(this.Ajt),hs(this.wjt)},i.nd=function(){this.Jl()},z(n,[{key:"Akt",get:function(){return this.yjt.Akt}},{key:"WSt",get:function(){return this.lSt}},{key:"fkt",get:function(){return this.ZSt}},{key:"dkt",get:function(){var t=this;return this.XSt.filter(function(n){return n!==t.fkt})}}]),n}(tF);function jF(t){var n=e.google.ima.settings;t.ads&&t.ads.vpaidMode&&e.google.ima.settings.setVpaidMode(function(t){var n=e.google.ima.ImaSdkSettings.VpaidMode;switch(t){case Il.ENABLED:return n.ENABLED;case Il.INSECURE:return n.INSECURE;case Il.DISABLED:default:return n.DISABLED}}(t.ads.vpaidMode)),n.setPlayerVersion("3.2.1"),n.setPlayerType("THEOplayer"),n.setAutoPlayAdBreaks(!0),n.setDisableCustomPlaybackForIOS10Plus(!CF(t));var i,r,s="string"==typeof(r=(i=t).ui&&i.ui.language)?r:void 0;s&&n.setLocale(s)}function CF(t){return Z.pr&&t.allowNativeFullscreen}var OF=function(t){function i(n,i,e,r,s,u,o,h){var c;return(c=t.call(this,n,i,e)||this).Djt=void 0,c.bA=!1,c.Tjt=void 0,c.nE=void 0,c.tE=void 0,c.rE=void 0,c.mY=void 0,c.QEt=void 0,c.Ijt=void 0,c.bjt=void 0,c.zLt=void 0,c.pU=void 0,c.Ejt=void 0,c.Ljt=void 0,c.rkt=!1,c.Sjt=void 0,c.jjt=void 0,c.RIt=void 0,c.Cjt=void 0,c.Ojt=-1,c.BSt="none",c.ax=void 0,c.xjt=void 0,c.zjt=!1,c.Rjt=!1,c.ebt=void 0,c.Ujt=!1,c.Bjt=new gs,c.Qjt=void 0,c.Pjt=!1,c.Yjt=!1,c.Gjt=function(t){c.PMt.Zo(t)},c.Fjt=function(t){c.Sjt=new Cg(Eg.ADVERTISEMENT_ERROR,"Error while recovering from failed IMA ad.",t.error.message),c.jjt=zg(c.Sjt)},c.VLt=NaN,c.Vjt=function(){c.bA||c.WA()},c.ax=r,c.nE=!0,c.pU=NaN,c.mY=El.Zg,c.Ejt=!1,c.Ljt=!1,c.tE=c.VI.aA,c.rE=c.VI.AA,c.ebt=new SF(c.PMt,sn(c)),c.Cjt=new OG(sn(c),c.VI,c.kkt,c.ebt),c.Cjt.qo(al._g,c.Fjt),c.VI.qo("play",c.Vjt),c.RIt=new SG(sn(c),c.VI,c.kkt,s,c.ebt),c.Tjt=h,c.Ijt=o,c.bjt=u,c.JA(),c.Ijt.qo("Hjt",c.Gjt),c}U(i,t);var e=i.prototype;return e.HSt=function(t,n,i){n===cP.LMt&&void 0!==i&&(this.rkt=i),this.RIt.hbt(t,n)},e.tw=function(){return[]},e.mbt=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ujt||!this.Tbt){t.next=4;break}return t.next=3,this.Tbt.ab();case 3:this.Ujt=!0;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.XEt=function(t){this.QIt=t?t.$Et?"linear":"nonlinear":"none"},e.rLt=function(){return this.tE?0:this.VI.AA},e.GLt=function(t,n,i){this.rE=t,this.tE=n,this.VI.AA=t,this.VI.aA=n,this.Tbt&&i&&this.Tbt.EO(this.rLt()),this.Zo(new hg(this.uA,this.AA))},e.WA=function(){this.VI.th("play",this.Vjt),this.bA||(this.bA=!0,this.RIt.WA(),this.ZEt())},e.Wjt=function(){return this.Djt||(this.Djt=this.bjt.FC()),this.Djt},e.BA=function(){var t=N.coroutine(rr.mark(function t(){var n,i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.xjt){t.next=2;break}return t.abrupt("return");case 2:return this.Bjt.Po(),this.Bjt=new gs,n=this.fA,this.fA=!1,this.Zo(new ql(this.uA)),this.Xjt()||(this.vLt||this.VI.JA(),this.Zo(new c_(this.uA))),this.cLt||(this.aLt=!1),i=Boolean(this.Tbt),this.xjt=this.RIt.obt(),t.prev=11,t.next=14,this.xjt;case 14:return t.prev=14,this.xjt=void 0,t.finish(14);case 17:t.prev=17,ys(this.Bjt.Fo),t.next=24;break;case 21:return t.prev=21,t.t0=t.catch(17),t.abrupt("return");case 24:if(this.bA||this.Vjt(),!this.Sjt||!this.rkt){t.next=27;break}return t.abrupt("return");case 27:if(!this.Tbt){t.next=45;break}if(!n){t.next=43;break}if(!i){t.next=41;break}return t.prev=30,t.next=33,ks(this.Tbt.Zjt(),this.Bjt.Fo);case 33:this.Zo(new a_(this.uA)),t.next=39;break;case 36:return t.prev=36,t.t1=t.catch(30),t.abrupt("return");case 39:t.next=43;break;case 41:return t.next=43,this.mbt();case 43:t.next=46;break;case 45:this.rkt||(this.pkt(),this.kkt.BA());case 46:case"end":return t.stop()}},t,this,[[11,,14,17],[17,21],[30,36]])}));return function(){return t.apply(this,arguments)}}(),e.QA=function(){var t;this.fA||(this.fA=!0,this.Zo(new Zl(this.uA))),this.Bjt.Po(),this.cLt?null==(t=this.Tbt)||t.QA():this.aLt=!0},e.$M=function(){var t;null==(t=this.Tbt)||t.$M()},e.PLt=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Tbt){t.next=11;break}return t.next=3,this.Tbt.PA();case 3:return t.next=5,this.Tbt.xo();case 5:return this.Tbt=void 0,this.QIt="none",this.RIt.dbt(),t.next=10,this.Ijt.qjt();case 10:this.Ujt=!1;case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.PA=function(){var t=N.coroutine(rr.mark(function t(){var n;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Djt=void 0,t.next=3,this.bjt.xo();case 3:return this.VLt=0,this.RIt.Jl(),this.Bjt.Po(),this.fA=!0,this.Ejt=!1,this.Ljt=!1,this.cLt=!1,this.ebt.Jl(),t.next=13,this.PLt();case 13:this.CLt(),null==(n=this.Tjt)||n.Jl(),this.aLt=!1;case 16:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.qA=function(){this.Jjt()},e.Jjt=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Wjt();case 2:return t.next=4,this.bjt.qA();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.JA=function(){this.bjt.JA()},e.Kjt=function(){return Boolean(this.Tbt)&&os(this.Tbt.$jt(),-1)&&!this.Ejt},e.xIt=function(){this.RIt.xIt()},e.ubt=function(){return this.RIt.ubt},e.EIt=function(){this.RIt.EIt()},e.Dbt=function(){this.RIt.Dbt()},e.nw=function(t){if(this.Kjt()){if("pause"===t.type&&this.VI.hA)return!0;if("ended"===t.type)return this.Ejt=!0,this.Ijt.qjt(),!0}return!1},e.Xjt=function(){return Boolean(this.Tbt&&this.Tbt.SLt())},e.kbt=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.PLt();case 3:return i=this.tCt(),t.next=6,this.Wjt();case 6:return t.next=8,this.Ijt.kbt(n,this.Tjt,i);case 8:return this.Tbt=t.sent,t.next=11,this.nCt(this.Tbt);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),this.Cjt.FEt(t.t0);case 16:case"end":return t.stop()}},t,this,[[0,13]])}));return function(n){return t.apply(this,arguments)}}(),e.nCt=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.EO(this.rLt());case 2:if(this.RIt.abt===pG.WIt)if((i=n.$jt()).length)for(e=0;e<i.length;e++)r=i[e],this.ebt.fbt(r,this.RIt.BIt);else this.ebt.fbt(this.RIt.BIt.k_,this.RIt.BIt);this.Cjt.Jl(),this.Cjt.pLt(n);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.KA=function(){if(this.QEt&&this.vLt&&this.Xjt())return this.VI.KA()},e.$A=function(){return this.vLt&&this.kkt.sg===this?this.VI.$A():dm},e.tCt=function(){var t,n,i=this.RIt.abt===pG.WIt,e=!(!this.Rjt||!i)&&this.iCt;return this.ax.ads.showCountdown||(t=[]),void 0!==this.ax.ads.allowedMimeTypes&&(n=this.ax.ads.allowedMimeTypes),{eCt:n,rCt:t,sCt:e,h6:void 0,uCt:void 0,oCt:void 0}},e.ZEt=function(){if(!this.Rjt&&!this.aA&&(this.Rjt=!0,this.QEt)){var t=this.tCt();this.QEt.hCt(t)}},e.QLt=function(t){this.Sjt=new Cg(Eg.ADVERTISEMENT_ERROR,t.oh),this.jjt=new Uo(n.ErrorCode.AD_ERROR,"There was a problem playing ads.",this.Sjt),this.PMt.Zo(MP.JMt(t)),this.rkt&&this.Zo(new vg(this.jjt))},e.CLt=function(){this.kkt.sg===this&&(this.VI.qA(),this.pkt(),this.JA())},e._Lt=function(){var t;this.VI.uA!==1/0&&this.VI._w.length&&((null==(t=this.RIt.BIt)?void 0:t.SIt)&&-1!==this.Ojt&&(this.VI.uA+=this.Ojt,this.Ojt=-1))},e.gLt=function(t){var n,i;this.Ojt=null!=(n=null==(i=t.ALt)?void 0:i.uSt)?n:-1},e.mkt=function(){this.vLt&&(this.Qjt=gg(this.VI)),t.prototype.mkt.call(this)},e.pkt=function(){this.restorePlayerState(),t.prototype.pkt.call(this),this.VI.qA(),this.vLt&&!this.VI.hA&&this.VI.BA()},e.restorePlayerState=function(){this.Qjt&&(this.VI.vA=this.Qjt.vA,this.VI.AA=this.Qjt.AA,this.VI.aA=this.Qjt.aA),this.Qjt=void 0},e.doHandleWindowFocus=function(){this.vLt||t.prototype.doHandleWindowFocus.call(this)},e.nd=function(){var n=N.coroutine(rr.mark(function n(){return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Cjt.th(al._g,this.Fjt),n.next=3,t.prototype.nd.call(this);case 3:return this.kkt.iw(this),n.next=6,this.PLt();case 6:return this.Ijt.th("Hjt",this.Gjt),n.next=9,this.Ijt.xo();case 9:return n.next=11,this.bjt.xo();case 11:this.RIt.nd(),this.Cjt.nd();case 13:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),z(i,[{key:"QMt",get:function(){return this.ebt.KSt}},{key:"cCt",get:function(){return this.ebt}},{key:"RLt",get:function(){return this.RIt}},{key:"vLt",get:function(){return CF(this.ax)}},{key:"BMt",get:function(){return i.BMt}},{key:"iCt",get:function(){return this.ax.ads.preload===bl.MIDROLL_AND_POSTROLL}},{key:"vkt",get:function(){return[]}},{key:"akt",get:function(){return[]}},{key:"fkt",get:function(){return null}},{key:"QIt",get:function(){return this.BSt},set:function(t){this.BSt=t}},{key:"Tbt",get:function(){return this.QEt},set:function(t){this.QEt=t,this.Ujt=!1}},{key:"uA",get:function(){if(!this.Tbt)return 0;var t=this.Tbt.FLt();return w(this.oA)||t<0?0:this.oA-t},set:function(t){}},{key:"oA",get:function(){return this.pU||NaN},set:function(t){this.pU=t}},{key:"aA",get:function(){return this.tE},set:function(t){this.tE!==t&&this.GLt(this.AA,t,!0)}},{key:"Aw",get:function(){return!0}},{key:"fA",get:function(){return this.nE},set:function(t){this.nE=t}},{key:"cLt",get:function(){return this.Pjt},set:function(t){this.Pjt=t}},{key:"ULt",get:function(){return this.rkt}},{key:"kLt",get:function(){return this.Ejt}},{key:"aLt",get:function(){return this.Yjt},set:function(t){this.Yjt=t}},{key:"mLt",get:function(){return this.Ljt},set:function(t){this.Ljt=t}},{key:"lA",get:function(){return 0}},{key:"gA",get:function(){return 0}},{key:"_w",get:function(){return new am([0,this.oA]).DI()}},{key:"AA",get:function(){return this.rE},set:function(t){this.rE!==t&&this.GLt(t,this.aA,!0)}},{key:"hw",get:function(){return this.VI.hw}},{key:"hA",get:function(){return!1}},{key:"vh",get:function(){if(this.Sjt&&this.rkt)return this.Sjt}},{key:"cA",get:function(){if(this.jjt&&this.rkt)return this.jjt}},{key:"Ng",get:function(){return this.mY},set:function(t){this.mY=t}},{key:"dLt",get:function(){return this.zjt},set:function(t){this.zjt=t}}],[{key:"BMt",get:function(){return jG.WLt}}]),i}(NP),xF=function(){function t(){this.aCt=void 0,this.fCt=void 0}var n=t.prototype;return n.registerWebImaAdPlayerConstructor=function(t){this.aCt=t},n.registerNativeImaAdPlayerConstructor=function(t){this.fCt=t},n.createAdPlayer=function(t,n,i,e,r){var s,u;return null!=(s=null==(u=e.ads.googleImaConfiguration)?void 0:u.useNativeIma)&&s&&this.fCt?this.fCt(t,n,i,e,r):function(){if(Boolean(Me.google&&Me.google.ima)){var t=1===d.keys(Me.google.ima).length&&Me.google.ima.dai;return!t}return!1}()&&this.aCt?this.aCt(t,n,i,e,r):void 0},t}();xF.rs=new xF;var zF=function(){function t(){}var n=t.prototype;return n.YE=function(t){return t&&t.integration===Om.GOOGLE_IMA},n.RMt=function(t,n,i,e,r){return xF.rs.createAdPlayer(t,n,i,e,r)},n.ae=function(t,n,i,e){i.HSt(t,n,e)},n.jL=function(t){var n=_G(t.sources);if(n){var i={integration:Om.GOOGLE_IMA,sources:n},e=kG(t.timeOffset);return void 0!==e&&(i.timeOffset=e),i}},z(t,[{key:"zMt",get:function(){return OF.BMt}}]),t}();Hm.rs.GE(new zF);var RF=function(t){function n(n){return t.call(this,"ijt",n)||this}return U(n,t),n.prototype.pl=function(){return new UF(YG(this.ZMt))},n}(yP),UF=function(t){function n(n){return t.call(this,"adloaded",n)||this}return U(n,t),n}(_P),BF=-1,QF=10,PF=function(){function t(t,n){this.XSt=void 0,this.KTt=void 0,this.vCt=void 0,this.Zs=void 0,this.zkt=void 0,this.KI=void 0,this.dCt=void 0,this.lCt=void 0,this.XSt=[],this.vCt=!1,this.KTt=t,this.Zs=0,this.zkt=0,this.KI=n,this.dCt=NaN,this.lCt=!1}var n=t.prototype;return n.cet=function(t){var n;return this.fSt.length>this.Zs&&(t?(n=this.fSt[this.Zs],this.Zs++):n=this.fSt[this.Zs]),n},n.gCt=function(t){t.rTt=this,this.fSt.push(t)},n.ACt=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r,s,u,o;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=!1,e=0,r=this.XSt;case 2:if(!(e<r.length)){t.next=19;break}return s=r[e],t.prev=4,t.next=7,s.qh(function(){});case 7:i=!0,t.next=16;break;case 10:t.prev=10,t.t0=t.catch(4),u=s.VTt.sources,o="string"==typeof u?u:u.src,n.Zo(MP.KMt(t.t0,o));case 16:e++,t.next=2;break;case 19:return this.lCt=!0,t.abrupt("return",i);case 21:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n){return t.apply(this,arguments)}}(),n.wCt=function(){this.vCt=!0},n.yCt=function(){return this.vCt},n._Ct=function(){for(var t=0,n=this.XSt;t<n.length;t++)for(var i=n[t],e=zG.cSt(i);null!=e&&e.cet();)if(e.Ikt.Bkt)return!0;return!1},z(t,[{key:"fSt",get:function(){return this.XSt}},{key:"k7",get:function(){return this.Zs}},{key:"MCt",get:function(){return this.KTt}},{key:"kCt",get:function(){return this.lCt}},{key:"k_",get:function(){if(w(this.dCt)){var t=lG.bTt(this.KTt,this.KI.oA);void 0===t||w(t)||(this.dCt=t)}return this.dCt}},{key:"mCt",get:function(){return this.vCt}},{key:"pCt",get:function(){return this.zkt},set:function(t){this.zkt=t}}]),t}(),YF=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).NCt=void 0,s.KI=void 0,s.$w=void 0,s.DCt=void 0,s.RP=void 0,s.tkt=void 0,s.TCt=void 0,s.ICt=void 0,s.bCt=function(t){return Ts(s.ECt(t))},s.ECt=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r,u,o,h,c;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.currentTime,e=n.currentTime!==BF?s.LCt(s.RP,n.currentTime):s.SCt(n.currentTime,0,0)[0],o=s.KI.oA-QF,!(u=s.jCt(BF)&&l.ceil(i)===l.ceil(o)?s.SCt(BF,QF,0).filter(function(t){return!t.kCt}):s.SCt(i,QF,0).filter(function(t){return!t.kCt})).length){t.next=11;break}return t.next=7,N.all(u.map(function(t){return t.ACt(s.DCt)}));case 7:h=t.sent,(c=h.some(function(t){return!0===t}))&&s.Zo(new RF),(!c||!s.TCt.CCt||u[0].k_<s.TCt.CCt.k_)&&(r=u[0]);case 11:if(e&&(e!==s.TCt.CCt&&(r=e),s.OCt([e])),!r){t.next=17;break}return s.TCt.xCt(),s.TCt.CCt=r,t.next=17,s.TCt.zCt();case 17:w(s.KI.oA)||(s.RP=n.currentTime);case 18:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.KI=n,s.tkt=i,n.oA!==1/0?s.$w=0:s.$w=n.uA,s.RP=s.$w,s.NCt=[],s.DCt=e,s.TCt=r,s.ICt=!1,s}U(n,t);var i=n.prototype;return i.RCt=function(){this.TCt.zCt()},i.ab=function(){this.UCt(),this.DCt.qo("ajt",this.TCt.xCt)},i.vb=function(){this.BCt(),this.DCt.th("ajt",this.TCt.xCt),this.TCt.Jl();for(var t=0,n=this.NCt;t<n.length;t++){var i=n[t];i.mCt||i.wCt()}hs(this.NCt)},i.UCt=function(){this.ICt||(this.KI.qo("timeupdate",this.bCt),this.ICt=!0)},i.BCt=function(){this.ICt&&(this.KI.th("timeupdate",this.bCt),this.ICt=!1)},i.QCt=function(){return this.ECt(new eg(BF,void 0))},i.jCt=function(t){return this.SCt(t,0,0).length>0},i.LCt=function(t,n){var i=this.NCt.filter(function(t){return!t.mCt});if(0!==i.length){for(var e,r=0,s=0;s<i.length;s++){var u=i[s],o=u.k_;o>=t&&o<=n&&o>=r&&!w(o)&&(r=(e=u).k_)}return e}},i.PCt=function(t){return this.ECt(new eg(t,void 0))},i.OCt=function(t){for(var n=0;n<t.length;n++){t[n].wCt()}this.tkt.YCt(t),0===this.GCt&&this.BCt()},i.SCt=function(t,n,i){for(var e=[],r=0,s=this.NCt;r<s.length;r++){var u=s[r];if(!u.mCt){var o=u.k_;(this.FCt(o,t)||this.VCt(o,t,n,i))&&e.push(u)}}return e},i.FCt=function(t,n){return 0===t||n===BF},i.VCt=function(t,n,i,e){if(t<0)return!1;var r=t-n;return-1!==r&&r<=i&&r>=-e},i.HCt=function(t){if(t&&t.length>0){for(var i=0;i<t.length;i++){var e=t[i],r=n.aIt(e.YTt),s=this.qot(e);-1===s&&(this.NCt.push(new PF(r,this.KI)),s=this.NCt.length-1),this.NCt[s].gCt(e)}this.UCt()}},n.aIt=function(t){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return"0";case"end":case"100%":return"-1";default:return t}},i.qot=function(t){for(var i=n.aIt(t.YTt),e=0,r=this.NCt.length;e<r;e++){var s=this.NCt[e];if(i===n.aIt(s.MCt))return e}return-1},i.WCt=function(t){var n=this.NCt.indexOf(t);us(this.NCt,n)},z(n,[{key:"GCt",get:function(){for(var t=0,n=0,i=this.NCt;n<i.length;n++){i[n].mCt||(t+=1)}return t}},{key:"vkt",get:function(){return this.NCt}}]),n}(Ml),GF=function(t){function n(n,i){var e;return(e=t.call(this)||this).XCt=void 0,e.ZCt=void 0,e.qCt=void 0,e.xT=void 0,e.JCt=void 0,e.KCt=void 0,e.ykt=void 0,e.$Ct=function(t){e.tOt(t)},e.XCt=r.createElement("div"),e.XCt.style.display="none",e.ZCt=[],e.qCt=[],e.JCt=n,e.KCt=i,e.xT=null,e.ykt=new Ml,e}U(n,t);var i=n.prototype;return i.nOt=function(){this.iOt(),this.eOt(),this.xT=null},i.rOt=function(t){this.qCt=this.qCt.concat(t)},i.sOt=function(t){this.ZCt=this.ZCt.concat(t)},i.eOt=function(){this.qCt=[]},i.iOt=function(){this.ZCt=[]},i.tOt=function(t){t.stopPropagation();for(var n=0,i=this.ZCt;n<i.length;n++)for(var e=0,r=i[n].Wmt;e<r.length;e++){var s=r[e];DP(s.uri)}},i.uOt=function(t){for(var n=0,i=this.qCt;n<i.length;n++){var e=i[n];e.tNt===t&&DP(e.eventURL)}},i.qA=function(){this.oOt.style.display=""},i.JA=function(){this.oOt.style.display="none"},i.nd=function(){this.$o(),this.ykt.$o(),Te(this.XCt)},z(n,[{key:"oOt",get:function(){return this.XCt}},{key:"PMt",get:function(){return this.ykt}}]),n}(Ml);var FF,VF="und";function HF(t,n){var i=n;if(!function(t){return"ui"in t}(t))return i;var e,r=t.ui.language;if(et(r)){var s=t.ui.languages;if(!s)return i;e=s[r]}else e=r;return e&&e[n]&&(i=e[n]),i}!function(t){t.hOt="theo-size-xs",t.cOt="theo-size-s",t.aOt="theo-size-m",t.fOt="theo-size-l",t.vOt="theo-size-xl"}(FF||(FF={}));var WF=[1200,992,768,576],XF={1200:FF.vOt,992:FF.fOt,768:FF.aOt,576:FF.cOt},ZF=function(){function t(t,n){var i=this;this.dOt=void 0,this.lOt=function(t){i.gOt({width:t.pu,height:t.Xk})},this.WI=t,this.XF=n,this.dOt=qF(n.hj),Le(this.WI,this.dOt),n.qo("nj",this.lOt)}var n=t.prototype;return n.gOt=function(t){var n=qF(t.width);n!==this.dOt&&(Le(this.WI,n),function(t,n){if(void 0!==t.classList)t.classList.remove(n);else if(void 0!==t.className){for(var i=" "+be(t)+" ",e=" "+n+" ";-1!==i.indexOf(e);)i=i.replace(e," ");Ee(t,i.trim())}}(this.WI,this.dOt),this.dOt=n)},n.nd=function(){this.XF.th("nj",this.lOt)},t}();function qF(t){for(var n=0;n<WF.length;n++){var i=WF[n];if(t>i)return XF[i]}return FF.hOt}var JF,KF=function(t){function n(n,i){var e;return(e=t.call(this)||this).WI=void 0,e.AOt=void 0,e.wOt=void 0,e.yOt=void 0,e.mE=void 0,e._Ot=function(){e.Zo(new xs("$M"))},e.WI=r.createElement("div"),e.hw.className="theoplayer-ad-overlay-component theoplayer-ad-skip theoplayer-ad-skip-countdown",e.hw.style.position="absolute",e.wOt=r.createElement("span"),e.hw.appendChild(e.wOt),i&&(e.AOt=r.createElement("div"),e.AOt.className="theoplayer-ad-skip-poster",e.AOt.style.backgroundImage='url("'+Yr(i)+'")',e.hw.appendChild(e.AOt)),e.mE="countdown",e.yOt=new ZF(e.hw,n),e}U(n,t);var i=n.prototype;return i.MOt=function(){this.mE="skip",this.hv="Skip Ad",this.kOt(),this.hw.classList.remove("theoplayer-ad-skip-countdown"),this.hw.classList.add("theoplayer-ad-skip-button")},i.kOt=function(){this.hw.addEventListener("mouseup",this._Ot),this.hw.addEventListener("touchend",this._Ot)},i.mOt=function(){this.hw.removeEventListener("mouseup",this._Ot),this.hw.removeEventListener("touchend",this._Ot)},i.nd=function(){this.mOt(),this.yOt.nd(),Te(this.WI),Te(this.wOt),this.AOt&&Te(this.AOt)},z(n,[{key:"hw",get:function(){return this.WI}},{key:"kg",get:function(){return this.mE}},{key:"hv",get:function(){return this.wOt.textContent||""},set:function(t){zS(this.wOt,t)}}]),n}(Ml);function $F(t,n){var i=t.pu&&n.pu,e=t.Xk&&n.Xk;return i||e?i&&e?t.pu*t.Xk-n.pu*n.Xk:i?t.pu-n.pu:e?t.Xk-n.Xk:(t.pu||1)*(t.Xk||1)-(n.pu||1)*(n.Xk||1):0}function tV(t,n){return $F(t,n)||function(t,n){return t.wT-n.wT}(t,n)}var nV=((JF={})[Tl.Pg]=1,JF[Tl.Yg]=2,JF[Tl.Hg]=2,JF);function iV(t,n){var i=n?n.map(function(t){return t.toLowerCase()}):n;return Zr(t.filter(function(t){var n=t.type.toLowerCase();return!!$(i)&&-1!==i.indexOf(n)&&sG(n)}),function(t,n){return nV[t.type]-nV[n.type]}).map(eV)}function eV(t){return fp({src:t.contentURL,type:t.type,isAdvertisement:!0})}function rV(t,n){return $F(sV(t),sV(n))}function sV(t){return{Xk:t.height,pu:t.width}}function uV(t,n,i,e){var r=function(t,n,i,e){var r,s=1/0,u=t.filter(function(t){return!sG(t.type)}).filter(function(t){return void 0===e||-1!==e.indexOf(t.type)});if(u.length){for(var o=0;o<u.length;o++){var h=u[o],c=(l.abs(h.width/n-1)+l.abs(h.height/i-1))/2;c<s&&(s=c,r=h)}return eV(r||u.sort(rV)[0])}}(t,n.width,n.height,i),s=iV(t,i);return r&&s.push(r),Np({sources:s},e)}var oV,hV=function(t){function n(n,i,e,r,s,u,o,h){var c;return(c=t.call(this,n,i)||this).fpt=void 0,c.pOt=[],c.NOt=void 0,c.DOt=!1,c.TOt=0,c.IOt=void 0,c.bOt=void 0,c.EOt=void 0,c.LOt=void 0,c.qd=new gs,c.lpt=[],c.SOt=!0,c.jOt=function(t){void 0===t&&(t=!0),c.COt.th(rh.ya,c.OOt),c.DOt=!1,t&&c.uOt(QP.Ltt),c.JA(),c.KCt()},c.xOt=function(){c.qd=void 0,c.DOt||(c.zOt(),c.DOt=!0),c.SOt&&(c.SOt=!1,c.tkt.RCt()),c.oOt.style.display="block",c.COt.th(Wl.sA,c.xOt),c.DOt=!0,c.Zo(new a_(c.uA)),c.ROt()},c.OOt=function(){var t=c.uA/c.oA;0===c.TOt&&t>=.25?(c.uOt(QP.Rpt),c.TOt=1):1===c.TOt&&t>=.5?(c.uOt(QP.Bpt),c.TOt=2):2===c.TOt&&t>=.75&&(c.uOt(QP.Upt),c.TOt=3),c.UOt(),c.fpt&&-1!==c.fpt.mpt&&c.fpt.mpt<c.fpt.oA&&(c.uA<c.fpt.mpt?c.BOt():(c.EOt||c.QOt(),c.EOt&&"skip"!==c.EOt.kg&&c.EOt.MOt()))},c.POt=function(){var t;c.qd=void 0,c.COt.th(al._g,c.POt),c.SOt=!0,c.xT.dNt(AY.cNt),c.DOt=!1,c.COt.JA();var n=(null==(t=c.COt.rw)?void 0:t.src)||"";c.JCt(n)},c.YOt=function(){c.Xo(new eg(c.uA,void 0))},c.GOt=function(){c.Xo(new ng(c.oA))},c.FOt=function(){c.Xo(new hg(c.uA,c.AA))},c.VOt=function(){c.tkt.QA()},c.HOt=function(){if(c.fpt){c.uOt(QP.Lpt);var t=new HG(c.fpt,c.pOt,c.fpt.dmt,c.WOt,c.XOt);c.PMt.Zo(new wF(t,c.uA/c.oA)),c.jOt(!1)}},c.JC=e,c.ZOt=r,c.Cc=s,c.tkt=u,c.XF=o,c.COt=h,c.oOt.className="theoplayer-ad-linear",c.oOt.style.position="absolute",c.oOt.style.width="100%",c.oOt.style.height="100%",c.COt.JA(),c.IOt=!1,c}U(n,t);var i=n.prototype;return i.BA=function(){this.COt.fA&&(this.COt.BA(),this.Zo(new ql(this.uA)),this.DOt&&this.uOt(QP.bpt),this.DOt=!0)},i.QA=function(){this.COt.fA||(this.COt.QA(),this.Zo(new Zl(this.uA)),this.uOt(QP.Ta))},i.PA=function(){var t=N.coroutine(rr.mark(function t(){var n;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return null==(n=this.qd)||n.Po(),this.qd=void 0,this.JA(),this.DOt=!1,this.SOt=!0,this.qOt(),this.JOt(),t.next=9,this.KOt();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.$Ot=function(t){this.pOt.push(t)},i.BOt=function(){if(this.fpt){this.EOt||this.QOt();var t=l.round(this.fpt.mpt-this.uA);this.EOt.hv="You can skip in "+t+" seconds"}},i.QOt=function(){var t,n=null==(t=this.JC.YA())?void 0:t.poster;this.EOt=new KF(this.XF,n),this.oOt.appendChild(this.EOt.hw),this.EOt.qo("$M",this.HOt)},i.txt=function(){this.fpt&&this.fpt.qmt.Vmt&&(this.LOt=r.createElement("a"),this.LOt.href=this.fpt.qmt.Vmt,this.LOt.style.position="absolute",this.LOt.style.zIndex="11",this.LOt.target="nxt",p.Wu.cr?(zS(this.LOt,"learn more"),this.LOt.className="theoplayer-ad-overlay-component theoplayer-ad-touch-clickthrough",this.LOt.setAttribute("rel","noopener"),this.LOt.addEventListener("touchstart",this.VOt),this.LOt.addEventListener("touchend",this.$Ct)):(this.oOt.style.cursor="pointer",Oe(this.LOt),this.oOt.addEventListener("mousedown",this.VOt)),this.oOt.appendChild(this.LOt))},i.ROt=function(){for(var t=this,n=0,i=this.qCt;n<i.length;n++){var e=hY(i[n].Eh,this.oA);e&&o(function(){return t.uOt(QP.ba)},1e3*e)}},i.ixt=function(){var t=N.coroutine(rr.mark(function t(){var n;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.fpt&&this.NOt){t.next=2;break}return t.abrupt("return");case 2:if(!(n=uV(this.fpt.kpt,this.NOt,this.Cc.ads.allowedMimeTypes,this.Cc)).sources.length){t.next=12;break}return this.qd=new gs,this.SOt=!0,t.next=8,this.COt.GA(n,this.qd.Fo);case 8:this.COt.qA(),this.fpt.hmt(),t.next=17;break;case 12:return t.next=14,this.COt.Jl();case 14:return this.JCt(""),this.fpt.hmt(),t.abrupt("return");case 17:this.txt();case 18:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ext=function(){var t=N.coroutine(rr.mark(function t(n,i,e,r){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.fpt=n,this.lpt=r,this.COt.qo(rh.Qa,this.YOt),this.COt.qo(rh.Aa,this.GOt),this.COt.qo(rh.Pa,this.FOt),this.fpt.tmt&&0!==this.fpt.tmt.length&&this.rOt(this.fpt.tmt),this.fpt.qmt&&(p.Wu.cr||this.oOt.addEventListener("click",this.$Ct),this.sOt(this.fpt.qmt)),this.xT=i,this.NOt=e,0===n.kpt.length){t.next=17;break}return this.COt.qo(al._g,this.POt),t.next=13,this.ixt();case 13:this.COt.qo(rh.ya,this.jOt),this.COt.qo(rh.Qa,this.OOt),this.COt.qo(Wl.sA,this.xOt),this.zOt();case 17:case"end":return t.stop()}},t,this)}));return function(n,i,e,r){return t.apply(this,arguments)}}(),i.rxt=function(){this.sxt&&this.uxt&&this.HOt()},i.zOt=function(){this.uOt(QP.zpt);var t=this.Bkt;if(t){var n=new HG(t,this.pOt,t.dmt,this.WOt,this.XOt);this.PMt.Zo(new sF(n,this.uA))}},i.KOt=function(){var t=N.coroutine(rr.mark(function t(){var n,i,e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.COt.th(al._g,this.POt),this.COt.th(rh.ya,this.jOt),this.COt.th(rh.Qa,this.OOt),this.COt.th(Wl.sA,this.xOt),this.COt.th(rh.Qa,this.YOt),this.COt.th(rh.Aa,this.GOt),this.COt.th(rh.Pa,this.FOt),this.oOt.removeEventListener("click",this.$Ct),this.oOt.removeEventListener("mousedown",this.VOt),p.Wu.cr&&(n=this.oOt.querySelector(".theoplayer-ad-touch-clickthrough"))&&(n.removeEventListener("touchend",this.$Ct),n.removeEventListener("touchstart",this.VOt)),this.fpt&&(i=this.fpt,e=new HG(i,this.pOt,i.dmt,this.WOt,this.XOt),this.PMt.Zo(new _F(e,this.uA))),this.oxt(),this.nOt(),this.qOt(),this.JOt(),this.fpt=void 0,this.lpt=[],this.NOt=void 0,t.next=20,this.COt.Jl();case 20:this.oOt.style.cursor="",this.TOt=0,hs(this.pOt),this.IOt&&(this.ZOt.KOt(),this.IOt=!1);case 24:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.oxt=function(){this.LOt&&Te(this.LOt)},i.JOt=function(){this.bOt&&(Te(this.bOt),this.bOt=void 0)},i.qOt=function(){this.EOt&&(this.EOt.nd(),this.EOt=void 0)},i.hxt=function(){this.IOt=!0},i.UOt=function(){this.bOt||(this.bOt=r.createElement("div"),this.bOt.className="theoplayer-ad-overlay-component theo-ad-remaining-container",this.oOt.appendChild(this.bOt));var t=this.tkt.fkt;if(t&&t.ads){var n=t.ads.filter(function(t){return"linear"===t.type}).length,i=HF(this.Cc,"The content will play in")+" "+l.round(t.maxRemainingDuration)+" "+HF(this.Cc,"seconds");if(n>1){var e=this.tkt.cxt;if(e)i+=" Ad "+(e.rTt.pCt+1)+"/"+n}zS(this.bOt,i)}},z(n,[{key:"WOt",get:function(){return this.tkt.axt()}},{key:"sxt",get:function(){return this.DOt}},{key:"uA",get:function(){return this.COt.uA}},{key:"oA",get:function(){var t=this.COt.oA;return w(t)&&this.fpt&&(t=this.fpt.oA||0),t}},{key:"hA",get:function(){return this.COt.hA}},{key:"aA",get:function(){return this.COt.aA},set:function(t){this.COt.aA=t,t?this.uOt(QP.Tpt):this.uOt(QP.Ipt)}},{key:"fA",get:function(){return this.COt.fA}},{key:"AA",get:function(){return this.COt.AA},set:function(t){this.COt.AA=t}},{key:"Bkt",get:function(){return this.fpt}},{key:"fxt",get:function(){return this.pOt}},{key:"XOt",get:function(){return this.lpt}},{key:"uxt",get:function(){return this.Bkt&&-1!==this.Bkt.mpt&&this.COt.uA>=this.Bkt.mpt}}]),n}(GF),cV=function(t){function n(){var i;return(i=t.call(this)||this).WI=void 0,i._Ot=function(t){i.Zo(new xs("$M")),i.vxt(t)},i.vxt=function(t){t.stopPropagation()},i.WI=n.dxt(),i.kOt(),i}U(n,t);var i=n.prototype;return i.kOt=function(){this.hw.addEventListener("mouseup",this._Ot),this.hw.addEventListener("touchend",this._Ot),this.hw.addEventListener("mousedown",this.vxt)},i.mOt=function(){this.hw.removeEventListener("mouseup",this._Ot),this.hw.removeEventListener("touchend",this._Ot),this.hw.removeEventListener("mousedown",this.vxt)},n.dxt=function(){var t=r.createElement("div");return t.className="theoplayer-ad-nonlinear-close",t.style.position="absolute",t.style.right="0",t.style.top="0",t.style.cursor="pointer",t.style.fontSize="1.7em",t.style.lineHeight="0.75em",t},i.nd=function(){this.mOt(),this.WI=null},z(n,[{key:"hw",get:function(){return this.WI}}]),n}(Ml),aV=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i)||this).lxt=void 0,s.pOt=[],s.NOt=void 0,s.tkt=void 0,s.gxt=void 0,s.Axt=void 0,s.$Mt=void 0,s.lpt=[],s.wxt=function(){s.yxt(),s.uOt(QP.Fpt),s.KCt()},s._xt=function(t){s.yxt(),s.xT.dNt(AY.fNt),s.JCt()},s.Mxt=function(){s.JA(),Ie(s.oOt),s.KCt(),s.lxt=void 0,s.lpt=[]},s.kxt=function(){s.mxt||(s.Axt=void 0,s.gxt=new cV,s.oOt.children[0].appendChild(s.gxt.hw),s.gxt.qo("$M",s.pxt))},s.pxt=function(){s.uOt(QP.Lpt),s.rxt()},s.oOt.className="theoplayer-ad-nonlinear",s.oOt.style.position="absolute",s.oOt.style.width="100%",s.oOt.style.bottom="3em",s.oOt.style.zIndex="10",s.oOt.style.textAlign="center",s.tkt=e,s.$Mt=r,s}U(n,t);var i=n.prototype;return i.nOt=function(){t.prototype.nOt.call(this),this.oOt&&Ie(this.oOt)},i.ext=function(){var t=N.coroutine(rr.mark(function t(n,i,e,r){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.lxt&&this.KOt(),this.lxt=n,this.lpt=r,0!==this.lxt.tmt.length&&this.rOt(this.lxt.tmt),this.xT=i,this.NOt=e,0===this.lxt.$kt.length){t.next=13;break}return this.sOt(this.lxt.$kt[0].vmt),this.oOt.addEventListener("error",this._xt),this.oOt.addEventListener("load",this.wxt),t.next=12,this.ixt();case 12:this.Nxt();case 13:case"end":return t.stop()}},t,this)}));return function(n,i,e,r){return t.apply(this,arguments)}}(),i.rxt=function(){if(void 0===this.Axt&&this.lxt&&-1!==this.lxt.$kt[0].dmt.mpt){this.uOt(QP.Lpt);var t=this.lxt.$kt[0],n=new VG(t,this.pOt,t.dmt,this.WOt,this.XOt);this.PMt.Zo(new wF(n,0)),this.Mxt()}},i.zOt=function(){var t=this.lxt.$kt[0],n=new VG(t,this.pOt,t.dmt,this.WOt,this.XOt);this.PMt.Zo(new sF(n,this.$Mt.uA))},i.PA=function(){this.KOt(),this.NOt=void 0,this.lxt=void 0,this.lpt=[]},i.KOt=function(){if(this.yxt(),this.lxt){var t=this.lxt.$kt[0],n=new VG(t,this.pOt,t.dmt,this.WOt,this.XOt);this.PMt.Zo(new _F(n,this.$Mt.uA))}this.nOt(),hs(this.pOt),this.Dxt(),void 0!==this.Axt&&(h(this.Axt),this.Axt=void 0)},i.$Ot=function(t){this.pOt.push(t)},i.yxt=function(){this.oOt.removeEventListener("load",this.wxt),this.oOt.removeEventListener("error",this._xt)},i.ixt=function(){var t=N.coroutine(rr.mark(function t(){var n,i,e,s,u,o,h,c,a;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=r.createElement("div")).className="theoplayer-ad-nonlinear-content",n.style.position="relative",n.style.display="inline-block",i=this.lxt.$kt[0],e=r.createElement("a"),i.vmt.Vmt&&(e.href=i.vmt.Vmt,e.target="nxt",e.setAttribute("rel","noopener")),i.amt?(s=i.amt,(u=r.createElement("iframe")).src=s.iNt,e.appendChild(u)):i.cmt?(o=i.cmt,(h=r.createElement("img")).src=o.iNt,e.appendChild(h)):i.fmt&&(c=i.fmt,(a=r.createElement("iframe")).src=c.iNt,e.appendChild(a)),i.hmt(),e.addEventListener("mousedown",this.$Ct),e.addEventListener("touchend",this.$Ct),this.oOt.firstChild&&(Ie(this.oOt),this.KOt()),this.zOt(),n.appendChild(e),this.oOt.appendChild(n),this.qA();case 16:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Nxt=function(){if(this.lxt){var t=this.lxt.$kt[0].dmt.mpt;-1!==t&&void 0!==t&&(this.Axt=Me.setTimeout(this.kxt,1e3*t))}},i.Dxt=function(){this.mxt&&(this.mxt.th("$M",this.pxt),this.mxt.nd()),this.gxt=void 0},z(n,[{key:"Qkt",get:function(){return this.lxt}},{key:"fxt",get:function(){return this.pOt}},{key:"mxt",get:function(){return this.gxt}},{key:"XOt",get:function(){return this.lpt}},{key:"WOt",get:function(){return this.tkt.axt()}}]),n}(GF),fV=function(t){function n(n){return t.call(this,"Txt",n)||this}return U(n,t),n.prototype.pl=function(){return new vV(YG(this.ZMt))},n}(yP),vV=function(t){function n(n){return t.call(this,"adbreakchange",n)||this}return U(n,t),n}(_P),dV=function(){function t(){}return t.Ixt=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r,s,u,o;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],s=n.shift();case 2:if(!s){t.next=18;break}return t.prev=3,t.next=6,(new vG).KDt(s,i);case 6:u=t.sent,r=r.concat(u),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(3),o=MP.KMt(t.t0,s.sources.src),e.Zo(o);case 15:s=n.shift(),t.next=2;break;case 18:return t.abrupt("return",r);case 19:case"end":return t.stop()}},t,null,[[3,10]])}));return function(n,i,e){return t.apply(this,arguments)}}(),t}(),lV=function(t){function n(n){return t.call(this,"bxt",n)||this}return U(n,t),n.prototype.pl=function(){return new gV(YG(this.ZMt))},n}(yP),gV=function(t){function n(n){return t.call(this,"adadded",n)||this}return U(n,t),n}(_P),AV=function(t){function n(){return t.call(this,"Ext")||this}return U(n,t),n.prototype.pl=function(){return new wV},n}(Sd),wV=function(t){function n(){return t.call(this,"statechange")||this}return U(n,t),n}(xs);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(oV||(oV={}));var yV=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Lxt=new _l,n.Xo=function(t){n.Zo(t)},n}U(n,t);var i=n.prototype;return i.pl=function(){return n=function(t){var n=t.Sxt.map(function(t){return t.ml});return n.item=function(n){n|=0;var i=t.Wl(n);return i&&i.ml||void 0},n}(t=this),i=new yD(t,n),n.addEventListener=function(t,n){i.qo(t,n)},n.removeEventListener=function(t,n){i.th(t,n)},n;var t,n,i},i.qo=function(t,n){this.Lxt.qo(t,n)},i.Ko=function(t){this.Lxt.Ko(t)},i.$o=function(){this.Lxt.$o()},i.Zo=function(t){this.Lxt.Zo(t)},i.th=function(t,n){this.Lxt.th(t,n)},i.ih=function(t){this.Lxt.ih(t)},i.eh=function(t){this.Lxt.eh(t)},i.rh=function(t,n){return this.Lxt.rh(t,n)},n}(function(){function t(){this.yh=[],this.kl=void 0}var n=t.prototype;return n.Wl=function(t){return this.yh[t]},n.mw=function(t){this.yh.push(t),this.kl&&this.kl.push(t.ml),this.jxt(t)},n.Cxt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.mw(i)}},n.Oxt=function(t,n){n>=0&&n<=this.yh.length&&(this.yh.splice(n,0,t),this.kl&&this.kl.splice(n,0,t.ml),this.jxt(t))},n.pw=function(t){return os(this.yh,t)},n.Jh=function(t){this.xxt(this.yh.indexOf(t))},n.xxt=function(t){if(t>=0&&t<this.yh.length){var n=this.yh[t];us(this.yh,t),this.kl&&us(this.kl,t),this.zxt(n)}},n.ph=function(){var t=this.yh.slice();hs(this.yh),this.kl&&hs(this.kl);for(var n=0;n<t.length;n++){var i=t[n];this.zxt(i)}},z(t,[{key:"Sxt",get:function(){return this.yh}},{key:"$l",get:function(){return this.yh.length}},{key:"ml",get:function(){return this.kl||(this.kl=this.pl()),this.kl}}]),t}());var _V,MV=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return U(n,t),n}(xs),kV=function(t){function n(n){var i;return(i=t.call(this,"Uxt")||this).Rxt=n,i}return U(n,t),n.prototype.pl=function(){return new MV(this.Rxt.ml)},n}(Sd),mV=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return U(n,t),n}(xs),pV=function(t){function n(n){var i;return(i=t.call(this,"Bxt")||this).task=n,i}return U(n,t),n.prototype.pl=function(){return new mV(this.task.ml)},n}(Sd),NV=function(t){function n(){return t.call(this)||this}U(n,t);var i=n.prototype;return i.jxt=function(t){this.Zo(new kV(t))},i.zxt=function(t){this.Zo(new pV(t))},n}(yV);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(_V||(_V={}));var DV=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Qxt=_V.UNINITIALISED,r.yz=new NV,r.nit=void 0,r.Pxt=void 0,r.Yxt=void 0,r.Yxt=i,r.Pxt=e,r.nit=n,r.WA(),r}U(n,t);var i=n.prototype;return i.WA=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Gxt();case 2:this.Fxt(_V.INITIALISED);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Gxt=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Vxt();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.Vxt=function(){var t=N.coroutine(rr.mark(function t(){var n,i,e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.nit.I2();case 2:for(n=t.sent,i=0;i<n.length;i++)e=n[i],r=this.Yxt.Hxt(e.id,e.sourceDescription,e.parameters,this.Pxt),this.Wxt(r),this.yz.mw(r);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Fxt=function(t){this.Qxt=t,this.Zo(new AV)},i.Hxt=function(t,n,i){void 0===i&&(i="persistent");var e=this.Yxt.Xxt(t,n,i);return this.Zxt(e,i),this.yz.mw(e),this.Wxt(e),e},i.Zxt=function(){var t=N.coroutine(rr.mark(function t(n,i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.qxt(n,i);case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),f("Unable to persist task - "+t.t0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n,i){return t.apply(this,arguments)}}(),i.qxt=function(){var t=N.coroutine(rr.mark(function t(n,i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.nit.N2({key:n.cg,id:n.cg,sourceDescription:n.FI,parameters:n.Ac},i);case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Wxt=function(t){var n=this;t.qo("Ext",function(){t.Nv===oV.EVICTED&&n.yz.Jh(t)})},z(n,[{key:"Nv",get:function(){return this.Qxt}},{key:"Jxt",get:function(){return this.yz}}]),n}(Cs);function TV(t){var n,i={get id(){return t.cg},get status(){return t.Nv},get source(){return t.FI},get parameters(){return t.Ac},get duration(){return t.oA},get cached(){return t.Kxt.DI()},get secondsCached(){return t.$xt},get percentageCached(){return t.tzt},get bytes(){return t.nzt},get bytesCached(){return t.izt},get license(){return t.GS.ml},start:function(){t.ab()},pause:function(){t.QA()},remove:function(){t.Jh()},addEventListener:function(t,i){n.qo(t,i)},removeEventListener:function(t,i){n.th(t,i)}};return n=new wD(t,["F4","Ext"],i),i}var IV=function(){function t(t,n,i){if(this.ezt=void 0,this.rzt=t,this.kw=n,this.szt=i,0===this.kw.size)this.ezt=am.Xb();else{var e=new am([-1/0,1/0]);this.kw.forEach(function(t){e=e.Nb(t.timeRanges)}),this.ezt=e}}return t.prototype.hy=function(t){return!!Xd(this.kw,t.kw)&&(!!Zt(this.rzt,t.rzt)&&(!!Zt(this.Fb,t.Fb)&&(!!Zt(this.uzt,t.uzt)&&this.ozt.Ub(t.ozt))))},t.hzt=function(){return EV},z(t,[{key:"Fb",get:function(){return this.szt}},{key:"czt",get:function(){return this.rzt}},{key:"uzt",get:function(){return this.ozt.Fb}},{key:"azt",get:function(){var t=0,n=0;return this.kw.forEach(function(i){t+=i.timeRanges.Fb,n+=i.totalQualityDurationToCache}),0===n?0:l.min(1,t/n)}},{key:"ozt",get:function(){return this.ezt}}]),t}(),bV=or(),EV=new IV(0,bV,NaN),LV=function(t){function n(){return t.call(this,"progress")||this}return U(n,t),n}(xs),SV=function(t){function n(){return t.call(this,"F4")||this}return U(n,t),n.prototype.pl=function(){return new LV},n}(Sd);function jV(t,n){if(et(t)){if(Cr(t,"%"))return A(t)/100*n;throw new f("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var CV,OV=function(t){function n(n,i){return t.call(this,n,i)||this}return U(n,t),z(n,[{key:"name",get:function(){return"fzt"}}]),n}(on);function xV(t,n,i,e){var r=[],s=es(i,function(t){return t.DNt===Ar});if(void 0!==s){var u=s.ps?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.ps.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var h=i[o];if(h.DNt!==Ar)for(var c=0,a=Sr(h.DNt);c<a.length;c++){var f=a[c];r.push({sc:f,mT:h.NNt?[h.NNt]:[],PD:void 0})}}if(r.length)return{bN:t,vzt:{dzt:u,EN:s.EN},lzt:r,gzt:n===Ug.Vv?e.slice():[],Azt:n===Ug.Hv?e.slice():[],PF:!1}}}}function zV(t,n){var i;if(!t)return n;if(!n)return t;var e=[],r=or();return RV(e,r,t.lzt),RV(e,r,n.lzt),{bN:t.bN,vzt:{dzt:t.vzt.dzt,EN:null!=(i=t.vzt.EN)?i:n.vzt.EN},lzt:e,gzt:UV(t.gzt,n.gzt,os),Azt:UV(t.Azt,n.Azt,os),PF:t.PF||n.PF||!1}}function RV(t,n,i){for(var e=0;e<i.length;e++){var r=i[e],s=r.sc.Mo,u=void 0;n.has(s)?(u=n.get(s)).mT=UV(u.mT,r.mT,BV):(u=sr({},r),t.push(u),n.set(s,u))}}function UV(t,n,i){for(var e=t.slice(),r=0;r<n.length;r++){var s=n[r];i(e,s)||e.push(s)}return e}function BV(t,n){for(var i=0;i<t.length;i++){if(nu(t[i],n))return!0}return!1}function QV(t,n){var i,e=t.WNt;if(e){for(var r=t.TS,s=[],u=0,o=t.F0;u<o.length;u++){var h=o[u];s.push(r+'; codecs="'+h+'"')}i=xV(n||{},t.Ao,e,s)}for(var c=0,a=t.MDt;c<a.length;c++){i=zV(i,PV(a[c],n))}return i}function PV(t,n){return xV(n||{},t.Ao,t.WNt||[],[t.vv])}function YV(t,n,i){return GV.apply(this,arguments)}function GV(){return(GV=N.coroutine(rr.mark(function t(n,i,e){var r,s,u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],s=0,u=n.QDt;s<u.length;s++)o=u[s],r.push(FV(o,i,e));return t.next=4,N.all(r);case 4:return h=t.sent,t.abrupt("return",{oA:n.RDt.ANt(),wzt:[n.yzt],QDt:h});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function FV(t,n,i){return VV.apply(this,arguments)}function VV(){return(VV=N.coroutine(rr.mark(function t(n,i,e){var r,s,u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],s=0,u=n._zt;s<u.length;s++)o=u[s],r.push(HV(o,i,e));return t.next=4,N.all(r);case 4:return h=t.sent,t.abrupt("return",{Mzt:h});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function HV(t,n,i){return WV.apply(this,arguments)}function WV(){return(WV=N.coroutine(rr.mark(function t(n,i,e){var r,s,u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],s=0,u=n.IDt;s<u.length;s++)XV(o=u[s])||r.push(JV(o,i,e));return t.next=4,N.all(r);case 4:return h=t.sent,t.abrupt("return",{jk:h,Ao:n.Ao});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function XV(t){return t.MDt.every(qV)}!function(t){t[t.Pg=0]="Pg",t[t.Yg=1]="Yg"}(CV||(CV={}));var ZV=1;function qV(t){return t.ZNt!==ZV&&Boolean(t.ZNt)}function JV(t,n,i){return KV.apply(this,arguments)}function KV(){return(KV=N.coroutine(rr.mark(function t(n,i,e){var r,s,u,o,h,c,a,f,v;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],s=0,u=n.MDt;s<u.length;s++)qV(o=u[s])||r.push(tH(o,e));return t.next=4,N.all(r);case 4:return h=t.sent,c=n.F0[0],a=n.WNt,f=a?$V(c,a):void 0,v=QV(n,i),t.abrupt("return",{lg:h,dg:n.kzt,Ao:n.Ao,cI:f,mzt:v});case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function $V(t,n){for(var i=[],e=function(t){return t?Cr(t,"avc")?lo.VIDEO_H264:Cr(t,"hev")||Cr(t,"hvc")||Cr(t,"hvt")||Cr(t,"lhv")||Cr(t,"lhe")||Cr(t,"lht")?lo.VIDEO_H265:Cr(t,"mp4")?lo.VIDEO_MP4:Cr(t,"mpeg2")?lo.VIDEO_MPEG2:Cr(t,"mpeg")?lo.VIDEO_MPEG:lo.VIDEO_UNKNOWN:lo.VIDEO_UNKNOWN}(t),r=0;r<n.length;r++){var s=n[r],u=s.DNt.split(":").pop(),o=s.NNt;i.push({mimeType:e,uuid:u,data:o})}return{type:CV.Pg,schemeType:wr,schemeDatas:i}}function tH(t,n){return nH.apply(this,arguments)}function nH(){return(nH=N.coroutine(rr.mark(function t(n,i){var e,r,s,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,iH(n,i);case 2:s=t.sent,u={cg:sH(n),xp:s,Tnt:n.Lnt,wT:n.wT,Nu:n.Nu,Xk:n.Xk,Ao:n.Ao,pu:n.pu},t.t0=n.Ao,t.next=t.t0===Ug.cs?7:t.t0===Ug.Hv?8:t.t0===Ug.Vv?10:12;break;case 7:return t.abrupt("break",13);case 8:return u.D4=null!=(e=null==(r=n.D4)?void 0:r.my())?e:NaN,t.abrupt("break",13);case 10:return u.audioSamplingRate=n.a_t,t.abrupt("break",13);case 12:0;case 13:return t.abrupt("return",u);case 14:case"end":return t.stop()}},t)}))).apply(this,arguments)}function iH(t,n){return eH.apply(this,arguments)}function eH(){return(eH=N.coroutine(rr.mark(function t(n,i){var e,r,s,u,o,h,c,a;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=[],r=n.BNt,s=r.pzt(),u=s;case 4:if(!u){t.next=16;break}if(!n.Nzt(u)){t.next=12;break}return t.next=8,n.Dzt(u,i,(new gs).Fo);case 8:for(o=t.sent,h=0;h<o.$l;h++)e.push(rH(o.Tzt(h),n));t.next=13;break;case 12:e.push(rH(u,n));case 13:u=r.qAt(u),t.next=4;break;case 16:return c=r.Izt(),a=c.Gw-s.Yw,t.abrupt("return",{oA:a,C2:e});case 19:case"end":return t.stop()}},t)}))).apply(this,arguments)}function rH(t,n){return{Yw:t.Yw,oA:t.oA,bzt:n.Ezt(t)}}function sH(t){return t.Lzt.ab+"-"+(""+t.cg)}function uH(t,n){return function(t,n){var i={};for(var e in t){var r=t[e];for(var s in i[e]={},r){var u=[];i[e][s]=[];for(var o=r[s],h=0;h<o.length;h++){var c=o[h],a=oH(c,e,n);u.push(a)}i[e][s]=u}}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var e=t[i];n[e["group-id"]]||(n[e["group-id"]]={Ao:e.type,Pk:[]}),n[e["group-id"]].Pk.push(e)}return n}(t),i={};for(var e in n)for(var r=n[e],s=0,u=r.Pk;s<u.length;s++){var o=u[s];i[r.Ao]||(i[r.Ao]={}),i[r.Ao][o.name]||(i[r.Ao][o.name]=[]),i[r.Ao][o.name].push(o)}return i}(t),n)}function oH(t,n,i){for(var e=t["group-id"],r={o0:t,q1:[]},s=0;s<i.length;s++){var u=i[s];u[n.toLowerCase()]===e&&r.q1.push(u)}return r}function hH(t,n){return cH.apply(this,arguments)}function cH(){return(cH=N.coroutine(rr.mark(function t(n,i){var e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Jnt([n],{});case 2:return e=t.sent,r=new mR,t.abrupt("return",r.yk(e.Pnt,e.Lv,SR(e.Lv)));case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function aH(t,n){return fH.apply(this,arguments)}function fH(){return(fH=N.coroutine(rr.mark(function t(n,i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isMasterPlaylist){t.next=4;break}return t.abrupt("return",vH(n,i));case 4:return t.abrupt("return",(r=void 0,r=IH(e=n),{oA:e.duration,wzt:[e.uri],QDt:[{Mzt:[{Ao:Ug.Cv,jk:[{Ao:Ug.Cv,dg:VF,lg:[{cg:e.uri,xp:r,wT:0,Nu:"",Xk:0,Ao:Ug.Cv,pu:0}]}]}]}]}));case 5:case"end":return t.stop()}var e,r},t)}))).apply(this,arguments)}function vH(t,n){return dH.apply(this,arguments)}function dH(){return(dH=N.coroutine(rr.mark(function t(n,i){var e,r,s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=uH(n.media,n.streams),t.next=3,wH(e,i);case 3:return r=t.sent,t.next=6,gH(n.streams,i);case 6:return s=t.sent,r.push(s),t.abrupt("return",{oA:lH(r),wzt:[n.uri],QDt:[{Mzt:r}]});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function lH(t){for(var n=-1/0,i=0;i<t.length;i++)for(var e=0,r=t[i].jk;e<r.length;e++){var s=r[e];n=l.max.apply(l,[n].concat(s.lg.map(function(t){return t.xp.oA})))}return n}function gH(t,n){return AH.apply(this,arguments)}function AH(){return(AH=N.coroutine(rr.mark(function t(n,i){var e,r,s,u,o,h,c,a;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=[],r=0;case 2:if(!(r<n.length)){t.next=15;break}return c=n[r],t.next=6,DH(c.uri,i);case 6:(a=t.sent).wT=c.bandwidth,a.Nu=c.codecs,a.Xk=null!=(s=null==(u=c.resolution)?void 0:u.height)?s:0,a.pu=null!=(o=null==(h=c.resolution)?void 0:h.width)?o:0,e.push(a);case 12:r++,t.next=2;break;case 15:return t.abrupt("return",{Ao:Ug.Cv,jk:[{dg:VF,Ao:Ug.Cv,lg:e}]});case 16:case"end":return t.stop()}},t)}))).apply(this,arguments)}function wH(t,n){return yH.apply(this,arguments)}function yH(){return(yH=N.coroutine(rr.mark(function t(n,i){var e,r,s,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=[],t.t0=rr.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return r=t.t1.value,s=n[r],t.next=7,_H(s,r,i);case 7:u=t.sent,e.push(u),t.next=2;break;case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function _H(t,n,i){return MH.apply(this,arguments)}function MH(){return(MH=N.coroutine(rr.mark(function t(n,i,e){var r,s,u,o;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=rr.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return s=t.t1.value,u=n[s],t.next=7,kH(u,e);case 7:o=t.sent,r.push(o),t.next=2;break;case 11:return t.abrupt("return",{Ao:pH(i),jk:r});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function kH(t,n){return mH.apply(this,arguments)}function mH(){return(mH=N.coroutine(rr.mark(function t(n,i){var e,r,s,u,o;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=[],r=n[0].o0,s=0;case 3:if(!(s<n.length)){t.next=12;break}return u=n[s],t.next=7,NH(u,i);case 7:o=t.sent,e.push(o);case 9:s++,t.next=3;break;case 12:return t.abrupt("return",{dg:r.language||VF,Ao:pH(r.type),lg:e});case 13:case"end":return t.stop()}},t)}))).apply(this,arguments)}function pH(t){switch(t.toUpperCase()){case"AUDIO":return Ug.Vv;case"VIDEO":return Ug.Hv;case"SUBTITLES":case"CLOSED-CAPTIONS":return Ug.cs;default:return Ug.Cv}}function NH(t,n){var i,e,r;return DH((e=(i=t).o0.uri,r=i.q1.map(function(t){return t.uri}),e||(r.length?r[0]:void 0)),n)}function DH(t,n){return TH.apply(this,arguments)}function TH(){return(TH=N.coroutine(rr.mark(function t(n,i){var e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=7;break}return t.next=3,hH(n,i);case 3:r=t.sent,e=IH(r),t.next=8;break;case 7:e={oA:0,C2:[]};case 8:return t.abrupt("return",{cg:n||"default",Szt:n,xp:e,wT:0,Nu:"",Xk:0,Ao:Ug.Cv,pu:0});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function IH(t){for(var n=[],i=0,e=t.fragments;i<e.length;i++){var r=e[i];n.push(bH(r))}return{oA:t.duration,C2:n}}function bH(t){return{Yw:t.start,oA:t.duration,bzt:EH(t.uri)}}function EH(t){return RC(t)?{Sv:t.o$,h$:[t.h$.ab,t.h$.vb],Kv:!1}:{Sv:t.toString(),Kv:!1}}var LH,SH=0,jH=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).ag=void 0,u.Tw=void 0,u.jzt=void 0,u.cg=n,u.wT=i,u.F0=e,u.o$=s,u.ag=SH++,u.Tw=r||"",u.jzt=!0,u}return U(n,t),n.prototype.Wp=function(){this.jzt=!1,this.Zo(new GQ(this.ml))},z(n,[{key:"vg",get:function(){return this.Tw},set:function(t){this.Tw!==t&&(this.Tw=t,this.Zo(new GQ(this.ml)))}},{key:"jJ",get:function(){return this.jzt}}]),n}(Cs),CH=function(t){function n(n,i,e,r,s,u,o,h,c){var a;return void 0===c&&(c=0),(a=t.call(this,n,i,e,r,s)||this).kl=void 0,a.D4=u,a.pu=o,a.Xk=h,a.c_t=c,a}return U(n,t),z(n,[{key:"ml",get:function(){return this.kl||(this.kl=FQ(this)),this.kl}}]),n}(jH),OH=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s)||this).kl=void 0,o.a_t=u,o}return U(n,t),z(n,[{key:"ml",get:function(){return this.kl||(this.kl=VQ(this)),this.kl}}]),n}(jH);!function(t){t.Czt="Ozt",t.xzt="zzt"}(LH||(LH={}));var xH=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Rzt=function(t){n.Zo(t)},n}return U(n,t),z(n,[{key:"Uzt",get:function(){var t=this.Bzt();return null==t?void 0:t.ab}},{key:"Qzt",get:function(){var t=this.Bzt();return null==t?void 0:t.vb}}]),n}(Cs);function zH(t){return ot(t.Pzt)}var RH=function(t){function n(n,i){var e;if((e=t.call(this)||this).Yzt=void 0,e.kl=void 0,e.Gzt=void 0,e.Fzt=void 0,e.Vzt=void 0,e.Yzt=n,e.Gzt=i,e.Gzt.qo(LH.Czt,e.Rzt),e.Ao===Ug.Hv){var r,s,u=null!=(r=null==(s=e.D4)?void 0:s.my())?r:NaN;e.Fzt=new CH(e.cg,e.wT,e.Nu,"","",u,e.pu,e.Xk)}else e.Ao===Ug.Vv?e.Fzt=new OH(e.cg,e.wT,e.Nu,"","",e.a_t):e.Fzt=void 0;return e}U(n,t);var i=n.prototype;return i.Ezt=function(t){var n=zH(t)?this.Gzt.Hzt(t):this.Gzt.Ezt(t);return{Sv:n.Sv,h$:n.h$,Kv:this.Wzt.Kv}},i.Xzt=function(){return this.Gzt.Xzt()},i.Bzt=function(){return this.Gzt.Bzt()},i.Zzt=function(){return this.Gzt.Zzt()},i.Nzt=function(t){return this.Gzt.Nzt(t)},i.Dzt=function(t,n,i){return this.Gzt.Dzt(t,this.Wzt.Kv,n,i)},i.qzt=function(t){return zH(t)?this.BNt.Jzt(t):this.BNt.qzt(t)},i.htt=function(t){return zH(t)?this.BNt.Kzt(t):this.BNt.htt(t)},i.nd=function(){this.Gzt.th(LH.Czt,this.Rzt)},z(n,[{key:"$zt",get:function(){return this.Yzt}},{key:"a_t",get:function(){var t;return null!=(t=this.Gzt.Ps.a_t)?t:this.$zt.a_t}},{key:"wT",get:function(){return this.Gzt.Ps.wT||0}},{key:"F0",get:function(){var t=this.Gzt.Ps;return t.F0?[t.F0]:this.$zt.F0}},{key:"tRt",get:function(){var t=this.Gzt.Ps;return t.F0?[t.F0]:[]}},{key:"Nu",get:function(){return this.Gzt.Ps.F0||this.$zt.Nu}},{key:"HNt",get:function(){return this.Gzt.Ps.HNt||this.$zt.HNt}},{key:"WNt",get:function(){return this.Gzt.Ps.WNt||this.$zt.WNt}},{key:"vv",get:function(){return this.TS+'; codecs="'+this.Nu+'"'}},{key:"XNt",get:function(){var t=this.Gzt.Ps;return t.XNt.length?t.XNt:this.$zt.XNt}},{key:"ml",get:function(){return this.kl||(this.kl=(t=this,{get id(){return t.cg},get type(){return t.Ao},get bandwidth(){return t.wT},get width(){return t.pu},get height(){return t.Xk},get frameRate(){var n,i;return null!=(n=null==(i=t.D4)?void 0:i.my())?n:NaN},get audioSamplingRate(){return t.a_t}}));var t}},{key:"D4",get:function(){var t;return null!=(t=this.Gzt.Ps.D4)?t:this.$zt.D4}},{key:"Xk",get:function(){return this.Gzt.Ps.Xk||this.$zt.Xk}},{key:"cg",get:function(){return this.Gzt.Ps.cg||""}},{key:"e8",get:function(){return this.Vzt},set:function(t){this.Vzt=t}},{key:"Lnt",get:function(){var t=this.Gzt.nRt();if(t)return{Sv:t.Sv,h$:t.h$,Kv:this.Wzt.Kv}}},{key:"ZNt",get:function(){return this.Gzt.Ps.ZNt||this.$zt.ZNt||1}},{key:"qNt",get:function(){return this.Gzt.Ps.qNt||this.$zt.qNt}},{key:"Wzt",get:function(){return this.Lzt.Wzt}},{key:"TS",get:function(){return this.Gzt.Ps.TS||this.$zt.TS}},{key:"Lzt",get:function(){return this.$zt.Lzt}},{key:"JNt",get:function(){return this.Gzt.Ps.JNt||this.$zt.JNt}},{key:"u_t",get:function(){return this.Fzt}},{key:"KNt",get:function(){return this.Gzt.Ps.KNt||this.$zt.KNt}},{key:"$Nt",get:function(){return this.Gzt.Ps.$Nt||this.$zt.$Nt}},{key:"iRt",get:function(){return this.Gzt.iRt}},{key:"tDt",get:function(){return this.Gzt.Ps.tDt||this.$zt.tDt}},{key:"BNt",get:function(){return this.Gzt.BNt}},{key:"nDt",get:function(){return this.Gzt.Ps.nDt||this.$zt.nDt}},{key:"Ao",get:function(){var t=this.TS.split("/")[0];return"application"===t||"text"===t||Ny(this.TS,this.F0)?Ug.cs:"video"===t?Ug.Hv:"audio"===t?Ug.Vv:"image"===t?Ug.Wv:Ug.Cv}},{key:"pu",get:function(){return this.Gzt.Ps.pu||this.$zt.pu}}]),n}(xH),UH=function(t){function n(n,i){var e;return(e=t.call(this)||this).eRt=[],e.Gzt=void 0,e.rRt=void 0,e.sRt=[],e.rRt=n,e.Gzt=i,e.Gzt.qo(LH.Czt,e.Rzt),e}U(n,t);var i=n.prototype;return i.Kh=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r=this;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.sRt.length){t.next=6;break}return this.sRt=[],e=this.Gzt.MDt.map(function(t){return r.uRt(t,n,i)}),t.next=5,N.all(e);case 5:this.sRt=t.sent.filter(K);case 6:this.oRt();case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.uRt=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r,s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new RH(this,n),t.next=3,i(r);case 3:if(s=t.sent,ys(e),s){t.next=7;break}return t.abrupt("return",void 0);case 7:return t.abrupt("return",r);case 8:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.oRt=function(){if(!this.sRt.length)throw new f("Detected an AdaptationSet without any supported Representations.")},i.Bzt=function(){return this.Gzt.Bzt()},i.Zzt=function(){return this.Gzt.Zzt()},i.nd=function(){this.Gzt.th(LH.Czt,this.Rzt);for(var t=0,n=this.sRt;t<n.length;t++){n[t].nd()}hs(this.sRt)},z(n,[{key:"cDt",get:function(){return this.Gzt.Ps.cDt}},{key:"a_t",get:function(){var t;return null!=(t=this.Gzt.Ps.a_t)?t:-1}},{key:"F0",get:function(){if(this.Gzt.Ps.F0)return[this.Gzt.Ps.F0];for(var t=[],n=0,i=this.MDt;n<i.length;n++){var e=i[n];e.tRt.length&&-1===t.indexOf(e.Nu)&&t.push(e.Nu)}return t}},{key:"Nu",get:function(){return this.F0.join()}},{key:"HNt",get:function(){return this.Gzt.Ps.HNt}},{key:"WNt",get:function(){return this.Gzt.Ps.WNt}},{key:"vv",get:function(){return this.TS+'; codecs="'+this.Nu+'"'}},{key:"XNt",get:function(){return this.eRt}},{key:"D4",get:function(){return this.Gzt.Ps.D4}},{key:"aDt",get:function(){return this.Gzt.Ps.aDt}},{key:"Xk",get:function(){return this.Gzt.Ps.Xk||0}},{key:"cg",get:function(){return this.Gzt.Ps.cg}},{key:"vg",get:function(){return this.Gzt.Ps.vg||""}},{key:"ZNt",get:function(){return this.Gzt.Ps.ZNt}},{key:"qNt",get:function(){return this.Gzt.Ps.qNt}},{key:"Wzt",get:function(){return this.Lzt.Wzt}},{key:"TS",get:function(){return this.Gzt.Ps.TS||this.sRt[0].TS}},{key:"Lzt",get:function(){return this.rRt}},{key:"JNt",get:function(){return this.Gzt.Ps.JNt}},{key:"MDt",get:function(){return this.sRt}},{key:"kDt",get:function(){return this.Gzt.Ps.kDt||[]}},{key:"KNt",get:function(){return this.Gzt.Ps.KNt}},{key:"$Nt",get:function(){return this.Gzt.Ps.$Nt}},{key:"tDt",get:function(){return this.Gzt.Ps.tDt}},{key:"LI",get:function(){return this.Gzt.Ps.LI}},{key:"nDt",get:function(){return this.Gzt.Ps.nDt}},{key:"Ao",get:function(){var t=(this.Gzt.Ps.vv||this.TS).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||Ny(this.TS,this.F0)?Ug.cs:"video"===t?Ug.Hv:"audio"===t?Ug.Vv:"image"===t?Ug.Wv:Ug.Cv}},{key:"pu",get:function(){return this.Gzt.Ps.pu||0}},{key:"kzt",get:function(){return this.Gzt.Ps.dg||""}},{key:"hRt",get:function(){return this.Uzt}},{key:"cRt",get:function(){var t=this.hRt,n=this.Qzt;if(void 0!==t&&void 0!==n){var i=l.min(n,this.Wzt.aRt);return l.max(t,i)}}}]),n}(xH);function BH(t,n){for(var i=[],e=0;e<n.length;e++)for(var r=n[e],s=0;s<t.length;s++){var u=t[s];i.push(p.Fu(u,r))}return i}var QH=function(){function t(t,n){this.rRt=void 0,this.fRt=void 0,this.mU=void 0,this.vRt=void 0,this.dRt=void 0,this.rRt=t,this.fRt=n,this.mU=n.l_,this.vRt=n.pNt,this.dRt=n.xNt}var n=t.prototype;return n.lRt=function(t){var n=t-this.rRt.ab;if(!(n<0||n>=this.rRt.oA)){var i=this.gRt();return void 0!==i&&Ht(i,n,1e-5)?this.pzt():this.ARt(n)}},n.wRt=function(t){var n=t-this.rRt.ab;if(!(n<0))return this.yRt(l.min(n,this.rRt.oA))},n.pzt=function(){return this._Rt(0)},n.Izt=function(){var t=this.rRt.oA;if(isFinite(t))return this.yRt(t)},n.Xzt=function(t){if(this.rRt.MRt.Ao===cY.fN){var n=this.kRt(t);if(!n)return;return{mRt:t,pRt:this.NRt(t),DRt:n}}var i=this.pzt();if(i)return{mRt:t,pRt:i,DRt:this.Izt()}},n.Zzt=function(t,n){if(n){var i=this.TRt(n.pRt),e=this.qAt(n.DRt);if(e){var r=this.IRt(e);(!i||r.getTime()<i.getTime())&&(i=r)}return i}var s=this.pzt();if(s){var u=this.IRt(s);if(t.getTime()<u.getTime())return u}var o=this.rRt.MRt.jDt;return t.getTime()<o.getTime()?o:void 0},n.kRt=function(t){var n=(t.getTime()-this.rRt.MRt.jDt.getTime())/1e3-this.rRt.ab+this.vRt,i=this.yRt(Vt(n,0,this.rRt.oA));if(i&&(i=this.bRt(i,t))){for(var e=this.qAt(i);e&&this.ERt(e,t);)i=e,e=this.qAt(i);return i}},n.NRt=function(t){var n,i=this.fRt.RNt;if(i){var e=(t.getTime()-this.rRt.MRt.jDt.getTime())/1e3-this.rRt.ab-i.ANt();(n=this.yRt(Vt(e,0,this.rRt.oA)))||(n=this.pzt())}else n=this.pzt();if(n&&(n=this.bRt(n,t))){for(var r=this.LRt(n);r&&this.ERt(r,t);)n=r,r=this.LRt(n);return n}},n.bRt=function(t,n){for(var i=t;i&&this.IRt(i).getTime()>n.getTime();)i=this.LRt(i);if(i){var e=this.TRt(i);if(e&&e.getTime()<=n.getTime()){var r=this.LRt(i);for(r&&this.ERt(r,n)&&(i=r);i;){if(this.IRt(i).getTime()>n.getTime())return;if(this.ERt(i,n))break;i=this.qAt(i)}if(!i)return}return i}},n.ERt=function(t,n){if(this.IRt(t).getTime()>n.getTime())return!1;var i=this.TRt(t);return!(i&&n.getTime()>=i.getTime())},n.SRt=function(t,n){if(this.jRt(t).getTime()>n.getTime())return!1;var i=this.TRt(t);return!(i&&n.getTime()>=i.getTime())},n.CRt=function(t,n,i){var e=nn(n,this.mU)+this.rRt.ab;return{k7:t,ORt:n,Yw:e,oA:i,Gw:e+i}},n.jRt=function(t){return this.rRt.MRt.Ao===cY.fN?new Date(this.rRt.MRt.jDt.getTime()+1e3*(t.Yw+t.oA)):this.rRt.MRt.jDt},n.IRt=function(t){var n=this.jRt(t);return this.rRt.MRt.Ao===cY.fN?new Date(n.getTime()-1e3*this.vRt):n},n.TRt=function(t){var n=1/0;if(this.rRt.MRt.Ao===cY.fN){var i=this.fRt.RNt;i&&(n=this.jRt(t).getTime()+1e3*t.oA+i.wNt())}var e=this.rRt.MRt.SDt;return e&&(n=l.min(n,e.getTime())),n===1/0?void 0:new Date(n)},n.xRt=function(t,n){return t.k7+n},n.Nzt=function(t){return!1},n.Dzt=function(t,n,i,e,r){var s=this.zRt(t);if(!s)return N.reject(new f("Invalid segment"));var u=this.RRt(s.k7);return u?N.resolve(u):this.URt(s.k7,n,i,e,r)},n.RRt=function(t){},n.URt=function(t,n,i,e,r){return N.reject(new f("Not supported"))},n.LRt=function(t){var n=this.zRt(t);if(n)return this._Rt(n.k7-1)},n.qAt=function(t){var n=this.zRt(t);if(n)return this._Rt(n.k7+1)},n.zRt=function(t){var n=this._Rt(t.k7);if(n&&n.Yw===t.Yw)return n;var i=this.lRt(t.Yw);return i&&i.Yw===t.Yw?i:void 0},n.BRt=function(t){var n=this.QRt(t);if(n&&this.Nzt(n.k7)){var i=this.RRt(n.k7);if(i)return i.BRt(t)}},n.QRt=function(t){return this._Rt(t.PRt)},n.qzt=function(t){var n=this.zRt(t);return!!n&&0===n.k7},n.Jzt=function(t){var n=this.BRt(t);return!!n&&0===n.Pzt},n.htt=function(t){var n=this.zRt(t);if(!n)return!1;var i=this.Izt();return!!i&&n.k7===i.k7},n.Kzt=function(t){var n=this.BRt(t);if(!n)return!1;var i=this.Izt();if(!i||n.PRt!==i.k7)return!1;var e=this.RRt(n.PRt);return n.Pzt+1===e.$l},z(t,[{key:"V_",get:function(){return nn(this.dRt,this.mU)-this.rRt.ab}},{key:"xNt",get:function(){return nn(this.dRt,this.mU)}}]),t}(),PH=function(t){function n(n,i){var e;(e=t.call(this,i,n)||this).YRt=void 0,e.GRt=void 0;var r=n.FRt,s=n.oA;if(void 0===r||void 0===s)throw new f("MultipleSegmentBase does not have a segment duration specified.");return e.GRt=r,e.YRt=s,e}U(n,t);var i=n.prototype;return i._Rt=function(t){if(!(t<0)){var n=this.GRt.multiply(t),i=nn(n,this.mU),e=this.rRt.oA;if(!(i>=e)){var r=this.VRt();if(void 0!==r){if(t>r)return;if(t===r)return this.CRt(t,n,e-i)}return isFinite(e)&&i+this.YRt>e?this.CRt(t,n,e-i):this.CRt(t,n,this.YRt)}}},i.gRt=function(){return 0},i.ARt=function(t){var n=l.floor(t/this.YRt),i=this.VRt();return void 0!==i&&n>=i?this._Rt(i):this._Rt(n)},i.yRt=function(t){if(t>=this.rRt.oA){var n=l.ceil(this.rRt.oA/this.YRt)-1,i=this.VRt();return void 0!==i&&n>=i?this._Rt(i):this._Rt(n)}return this.ARt(t)},i.VRt=function(){var t,n=this.fRt.PNt;if(void 0!==n)return n-(null!=(t=this.fRt.QNt)?t:1);if(isFinite(this.rRt.oA)){var i=this.fRt.HRt;if(void 0!==i&&i>0)return i-1}},i.WRt=function(){if(isFinite(this.rRt.oA))return this.Izt()},i.XRt=function(t,n){return this.GRt.multiply(t.k7+(n-1))},i.Kh=function(){},n}(QH);function YH(t,n){var i=t.length;if(0===i)return-1;for(var e=0,r=i-1,s=t[e].Yw,u=t[r].Gw;e<=r&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=e+l.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(r-e)),h=t[o],c=h.Yw,a=o+1<i?t[o+1].Yw:h.Gw;if(a.lessThanOrEqual(n))e=o+1,s=a;else{if(!n.lessThan(c))return o;r=o-1,u=c}}return-1}var GH=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).ZRt=[],e.qRt=void 0,e.JRt=Gt.ZERO,e.Kh(),e}U(n,t);var i=n.prototype;return i._Rt=function(t){if(!(t<0))return t<this.ZRt.length?this.ZRt[t].FAt:this.KRt(t-this.ZRt.length)},i.gRt=function(){if(this.ZRt.length>0)return nn(this.ZRt[0].Yw,this.mU)},i.ARt=function(t){if(this.qRt&&nn(this.qRt.Yw,this.mU)<=t){var n=nn(this.qRt.Yw,this.mU),i=nn(this.qRt.oA,this.mU),e=l.floor((t-n)/i);return this.KRt(e)}if(this.ZRt.length>0&&Ht(t,nn(this.ZRt[0].Yw,this.mU),1e-5))return this.ZRt[0].FAt;var r=YH(this.ZRt,Gt.fromNumber(t*this.mU));return r<0?void 0:this.ZRt[r].FAt},i.yRt=function(t){if(!this.qRt&&this.ZRt.length>0){var n=this.ZRt[this.ZRt.length-1];if(i=t,e=nn(n.Gw,this.mU),ns(i,e,1e-5)>=0)return n.FAt}var i,e,r=this.gRt();return r&&t<r?this.ZRt[0].FAt:this.ARt(t)},i.WRt=function(){return isFinite(this.rRt.oA)?this.Izt():this._Rt(this.ZRt.length-1)},i.XRt=function(t){return this.$Rt(t)},i.KRt=function(t){if(this.qRt){var n=this.qRt.Yw,i=this.qRt.oA,e=n.add(i.multiply(t)),r=nn(e,this.mU),s=this.rRt.oA;if(!(r>=s)){var u=this.ZRt.length+t,o=l.min(nn(i,this.mU),r+s);return this.CRt(u,e,o)}}},i.$Rt=function(t){return t.ORt.add(this.dRt)},i.Kh=function(){var t=this.fRt.Ps.BNt;if(!t)throw new f("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.tUt(t)},i.tUt=function(t){var n=this.dRt;this.nUt(t,n);var i=this.iUt(t);this.eUt(t,n,i.rUt,i.PRt)},i.nUt=function(t,n){var i=this.ZRt;if(0===t.length)hs(i);else{for(var e=t[0],r=e.Yw?Gt.fromString(e.Yw,!1).subtract(n):Gt.ZERO,s=0;s<i.length&&i[s].Yw.lessThan(r);)s++;s>0&&i.splice(0,s)}},i.iUt=function(t){for(var n=this.ZRt,i=this.JRt,e=0,r=0;e<t.length&&r<n.length;){var s=t[e].INt||0;if(s<0)break;var u=r+s;if(u>=n.length)break;if(n[u].Yw.greaterThanOrEqual(i))break;if(n[r].FAt.k7===r)r=u+1;else for(;r<=u;)n[r].FAt.k7=r,r++;0,e++}return{rUt:e,PRt:r}},i.eUt=function(t,n,i,e){for(var r,s=this.ZRt,u=i,o=e;u<t.length;){var h=t[u],c=Gt.fromString(h.oA,!1),a=h.INt||0,f=void 0;if(h.Yw){if(f=Gt.fromString(h.Yw,!1).subtract(n),o>0){var v=s[o-1];v.Gw.greaterThan(f)&&(v.oA=f.subtract(v.Yw),v.Gw=v.Yw.add(v.oA))}}else f=o>0?s[o-1].Gw:Gt.ZERO;if(a<0){if(u+1===t.length){r={Yw:f,oA:c};break}for(var d=Gt.fromString(t[u+1].Yw,!1).subtract(n);f.lessThan(d);){var l=f.add(c);this.sUt(s,o,f,c,l),f=l,o++}}else for(var g=o+a;o<=g;){var A=f.add(c);this.sUt(s,o,f,c,A),f=A,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.JRt=s[s.length-1].Yw),this.qRt=r},i.sUt=function(t,n,i,e,r){if(n<t.length){var s=t[n];0,s.oA.equals(e)?s.FAt.k7=n:t[n]={Yw:i,oA:e,Gw:r,FAt:this.CRt(n,i,nn(e,this.mU))}}else t.push({Yw:i,oA:e,Gw:r,FAt:this.CRt(n,i,nn(e,this.mU))})},n}(QH),FH=function(){function t(t,n,i){this.Lzt=void 0,this.uUt=void 0,this.re=void 0,this.oUt=void 0,this.hUt=void 0,this.Lzt=t,this.uUt=n,this.re=i}var n=t.prototype;return n.cUt=function(){if(this.hUt=this.aUt(),this.hUt)return this.hUt;if(this.uUt)return this.uUt.BNt;throw new f("Missing media segment information.")},n.nRt=function(t){var n=this.ONt;if(n)return{Sv:(void 0!==n.TNt?p.Fu(n.TNt,t.iDt[0]):t.iDt[0]).href,h$:n.h$};var i=this.bNt;return i?{Sv:t.iDt[0].href,h$:[0,i[0]-1]}:void 0},n.Kh=function(t){this.re=t,this.hUt&&this.hUt.Kh()},z(t,[{key:"Ps",get:function(){return this.re}},{key:"pNt",get:function(){return this.re&&void 0!==this.re.pNt?this.re.pNt:this.uUt?this.uUt.pNt:0}},{key:"xNt",get:function(){return this.re&&void 0!==this.re.xNt?this.re.xNt:this.uUt?this.uUt.xNt:Gt.ZERO}},{key:"RNt",get:function(){return this.re&&void 0!==this.re.RNt?this.re.RNt:this.uUt?this.uUt.RNt:this.Lzt.MRt.RNt}},{key:"l_",get:function(){return this.re&&void 0!==this.re.l_?this.re.l_:this.uUt&&this.uUt.l_?this.uUt.l_:1}},{key:"bNt",get:function(){return this.re&&void 0!==this.re.bNt?this.re.bNt:this.uUt?this.uUt.bNt:void 0}},{key:"ONt",get:function(){return this.re&&void 0!==this.re.ONt?this.re.ONt:this.uUt?this.uUt.ONt:void 0}},{key:"BNt",get:function(){return this.oUt||(this.oUt=this.cUt()),this.oUt}}]),t}(),VH=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.aUt=function(){return this.re.BNt?new GH(this,this.Lzt):void 0!==this.re.oA?new PH(this,this.Lzt):void 0},z(n,[{key:"oA",get:function(){return void 0!==this.re.oA?this.re.oA/this.l_:this.uUt&&this.uUt instanceof n?this.uUt.oA:void 0}},{key:"FRt",get:function(){return void 0!==this.re.oA?Gt.fromNumber(this.re.oA):this.uUt&&this.uUt instanceof n?this.uUt.FRt:void 0}},{key:"QNt",get:function(){return void 0!==this.re.QNt?this.re.QNt:this.uUt&&this.uUt instanceof n?this.uUt.QNt:void 0}},{key:"PNt",get:function(){return void 0!==this.re.PNt?this.re.PNt:this.uUt&&this.uUt instanceof n?this.uUt.PNt:void 0}}]),n}(FH),HH=function(){function t(t){this.fUt=void 0,this.fUt=t}return t.prototype.Oh=function(t){return this.fUt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,e,r){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===e)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,r);return void 0===u?n:u=Ur(u,Number(e),"0")})},t}();var WH=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).vUt=void 0,r.dUt=void 0,r.vUt=e.FNt?new HH(e.FNt):void 0,r.dUt=e.VNt?new HH(e.VNt):void 0,r}U(n,t);var i=n.prototype;return i.nRt=function(n){var i=this.FNt;if(!i)return t.prototype.nRt.call(this,n);var e=i.Oh({Bandwidth:n.Ps.wT,RepresentationID:n.Ps.cg});return{Sv:p.Vu(e,n.iDt[0])}},i.Ezt=function(t,n){var i,e=null!=(i=n.iRt.QNt)?i:1,r=this.VNt.Oh({Bandwidth:n.Ps.wT,Number:n.BNt.xRt(t,e),RepresentationID:n.Ps.cg,Time:n.BNt.XRt(t,e)});return{Sv:p.Vu(r,n.iDt[0])}},i.Hzt=function(t,n){},z(n,[{key:"FNt",get:function(){return this.vUt?this.vUt:this.uUt&&this.uUt instanceof n?this.uUt.FNt:void 0}},{key:"VNt",get:function(){return this.dUt?this.dUt:this.uUt&&this.uUt instanceof n?this.uUt.VNt:void 0}},{key:"HRt",get:function(){}}]),n}(VH),XH=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Ezt=function(t,n){var i=this.re.LNt[t.k7],e=n.iDt[0];return{Sv:(i.Pk?p.Fu(i.Pk,e):e).href,h$:i.ENt}},i.Hzt=function(t,n){},z(n,[{key:"HRt",get:function(){return void 0!==this.re.LNt?this.re.LNt.length:this.uUt&&this.uUt instanceof VH?this.uUt.HRt:void 0}}]),n}(VH),ZH=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).PRt=void 0,u.lUt=void 0,u.l_=void 0,u.gUt=void 0,u.xNt=void 0,u.AUt=void 0,u.PRt=n,u.lUt=i,u.l_=e.l_,u.gUt=r,u.xNt=s,u.AUt=u.wUt(e),u}U(n,t);var i=n.prototype;return i.Tzt=function(t){if(t>=0&&t<this.$l)return this.yUt(this.AUt[t])},i._Ut=function(t){var n=this.MUt(t);if(this.AUt.length>0){var i=this.AUt[0];if(n<=nn(i.Yw,this.l_))return this.yUt(i)}var e=YH(this.AUt,Gt.fromNumber(n*this.l_));if(!(e<0))return this.yUt(this.AUt[e])},i.kUt=function(t){var n=this.MUt(t);if(this.AUt.length>0){var i=this.AUt[this.AUt.length-1];if(n>=nn(i.Gw,this.l_))return this.yUt(i)}return this._Ut(t)},i.yUt=function(t){var n=nn(t.Yw,this.l_)-this.xNt,i=n+this.gUt,e=nn(t.oA,this.l_);return{PRt:this.PRt,Pzt:t.k7,Yw:i,ORt:Gt.fromNumber(n*this.l_),oA:e,Gw:i+e,mUt:[this.lUt+t.lUt,this.lUt+t.pUt]}},i.wUt=function(t){for(var n=[],i=t.jp,e=t.Cp.toNumber(),r=0,s=0,u=t.xp;s<u.length;s++){var o=u[s],h=o.Ip,c=Gt.fromNumber(o.oA),a=i.add(c);0===o.Tp&&n.push({k7:r++,Yw:i,oA:c,Gw:a,lUt:e,pUt:e+h-1}),e+=h,i=a}return n},i.MUt=function(t){return t-this.gUt+this.xNt},z(n,[{key:"$l",get:function(){return this.AUt.length}}]),n}(function(){function t(){}return t.prototype.BRt=function(t){var n=this.Tzt(t.Pzt);if(n&&n.Yw===t.Yw)return n;var i=this._Ut(t.Yw);return i&&i.Yw===t.Yw?i:void 0},t}()),qH=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).NUt=void 0,e.TAt=void 0,e.DUt=void 0,e.NUt=n.bNt,e.TAt=e.CRt(0,Gt.ZERO,e.rRt.oA),e}U(n,t);var i=n.prototype;return i._Rt=function(t){if(0===t)return this.TAt},i.gRt=function(){return 0},i.ARt=function(t){return this.TAt},i.yRt=function(t){return this.ARt(t)},i.WRt=function(){return this.TAt},i.XRt=function(t,n){return Gt.ZERO},i.Xzt=function(t){var n=this.TUt(t);return n&&{mRt:t,pRt:n,DRt:n}},i.TUt=function(t){var n=this.TAt;return this.ERt(n,t)?n:void 0},i.kRt=function(t){return this.TUt(t)},i.NRt=function(t){return this.TUt(t)},i.Kh=function(){},i.Nzt=function(t){return 0===t&&void 0!==this.NUt},i.RRt=function(t){return this.DUt},i.URt=function(){var t=N.coroutine(rr.mark(function t(n,i,e,r,s){var u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=i.iDt[0].href,o=this.NUt,t.next=4,r.IUt(u,o,e,s);case 4:return h=t.sent,this.DUt=this.bUt(n,h),t.abrupt("return",this.DUt);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,e,r,s){return t.apply(this,arguments)}}(),i.bUt=function(t,n){var i=this.NUt,e=Qw.hk(new DataView(n),new no);if(e.Ao!==qA.CM)throw new f("Invalid segment index");var r=Vw.Ik(e.Ps),s=i[1]+1;return new ZH(t,s,r,this.rRt.ab,nn(this.dRt,this.mU))},n}(QH),JH=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Ezt=function(t,n){return{Sv:n.iDt[0].href}},i.Hzt=function(t,n){return{Sv:n.iDt[0].href,h$:t.mUt}},i.aUt=function(){return new qH(this,this.Lzt)},z(n,[{key:"QNt",get:function(){}}]),n}(FH),KH=function(t){function n(){return t.call(this,LH.Czt)||this}return U(n,t),n}(xs);var $H=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).an=void 0,r.re=void 0,r.EUt=void 0,r.fRt=void 0,r.LUt=1/0,r.SUt=void 0,r.an=i,r.jUt(n,e),r}U(n,t);var i=n.prototype;return i.CUt=function(){return this.fRt||this.an&&this.an.CUt()},i.OUt=function(t){var n=this.Lzt,i=this.an&&this.an.CUt();this.re.hDt?this.fRt=new WH(n,i,this.re.hDt):this.re.oDt?this.fRt=new XH(n,i,this.re.oDt[0]):this.re.uDt?this.fRt=new JH(n,i,this.re.uDt):t&&!i&&(this.fRt=new JH(n,i,void 0))},i.jUt=function(t,n){this.re=t,this.EUt=t.iDt&&t.iDt.length>0?BH(t.iDt.map(function(t){return t.Sv}),n):n.slice(),this.fRt&&(t.hDt?this.fRt.Kh(t.hDt):t.oDt?this.fRt.Kh(t.oDt[0]):t.uDt&&this.fRt.Kh(t.uDt))},i.Bzt=function(){var t;return null==(t=this.SUt)?void 0:t.xUt},i.Zzt=function(){var t;return null==(t=this.SUt)?void 0:t.zUt},i.RUt=function(t){var n=this.LUt,i=this.Lzt.oA,e=this.SUt,r=this.UUt(t);e&&Ht(i,n,1e-5)&&eW(e,r)||(this.LUt=i,this.SUt=r,this.Zo(new KH))},i.xo=function(){this.$o()},z(n,[{key:"Ps",get:function(){return this.re}},{key:"iDt",get:function(){return this.EUt}}]),n}(Cs);function tW(t){for(var n,i=0;i<t.length;i++){var e=t[i].Bzt();if(e){n=e.ab;break}}if(void 0!==n){for(var r,s=t.length-1;s>=0;s--){var u=t[s].Bzt();if(u){r=u.vb;break}}if(void 0!==r)return{ab:n,vb:r}}}function nW(t){if(0!==t.length){for(var n=0,i=1/0,e=0;e<t.length;e++){var r=t[e].Bzt();if(!r)return;if((n=l.max(n,r.ab))>=(i=l.min(i,r.vb)))return}return{ab:n,vb:i}}}function iW(t){for(var n,i=0;i<t.length;i++){var e=t[i].Zzt();e&&(!n||e.getTime()<n.getTime())&&(n=e)}return n}function eW(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.zUt,n.zUt)&&function(t,n){return t&&n?Ht(t.ab,n.ab,1e-5)&&Ht(t.vb,n.vb,1e-5):t===n}(t.xUt,n.xUt)}var rW=function(t){function n(n,i,e){var r;(r=t.call(this)||this).rRt=void 0,r.Dw=void 0,r.BUt=void 0,r.rRt=n,r.Dw=i,r.BUt=e.slice();for(var s=0;s<e.length;s++){e[s].qo(LH.Czt,r.Rzt)}return r}U(n,t);var i=n.prototype;return i.Bzt=function(){return nW(this.BUt)},i.Zzt=function(){for(var t,n=0,i=this.BUt;n<i.length;n++){var e=i[n].Zzt();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t},i.nd=function(){this.$o();for(var t=0,n=this.BUt;t<n.length;t++){n[t].th(LH.Czt,this.Rzt)}},z(n,[{key:"IDt",get:function(){return this.BUt}},{key:"F0",get:function(){return this.IDt.reduce(function(t,n){for(var i=0,e=n.F0;i<e.length;i++){var r=e[i];os(t,r)||t.push(r)}return t},[])}},{key:"Nu",get:function(){return this.F0.length>0?this.F0[0]:""}},{key:"Ao",get:function(){return this.BUt[0].Ao}},{key:"cg",get:function(){return this.Dw}},{key:"Wzt",get:function(){return this.rRt.Wzt}},{key:"TS",get:function(){return this.BUt[0].TS}},{key:"Lzt",get:function(){return this.rRt}},{key:"MDt",get:function(){return as(this.IDt,function(t){return t.MDt})}}]),n}(xH),sW=function(t){function n(){return t.call(this,LH.xzt)||this}return U(n,t),n}(xs);function uW(t){for(var n=[],i=function(i){var e=t[i],r=void 0,s=e.aDt;void 0===s||(r=es(n,function(t){return t.cg===s})),r||(r={cg:s,IDt:[]},n.push(r)),r.IDt.push(e)},e=0;e<t.length;e++)i(e);return n}var oW,hW=function(t){function n(n,i){var e;return(e=t.call(this)||this).Gzt=void 0,e.BUt=[],e.QUt=[],e.PUt=void 0,e.YUt=!1,e.PUt=n,e.Gzt=i,e.Gzt.qo(LH.Czt,e.Rzt),e}U(n,t);var i=n.prototype;return i.GUt=function(t,n){if(0!==this.QUt.length){for(var i=t,e=0,r=this.QUt;e<r.length;e++){var s=r[e],u=s.Ao;if(u===Ug.Vv||u===Ug.Hv){var o=s.Qzt;if(void 0===o)return;i=n(i,o)}}return i}},i.FUt=function(){this.YUt||(this.YUt=!0,this.Zo(new sW),this.nd())},i.Kh=function(){var t=N.coroutine(rr.mark(function t(n,i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.BUt.length){t.next=7;break}return t.next=3,this.VUt(this.Gzt.IDt,n,i);case 3:this.HUt(this.BUt),ys(i),t.next=9;break;case 7:return t.next=9,this.WUt(n,i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.VUt=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r,s,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=17;break}return s=n[r],u=new UH(this,s),t.prev=4,t.next=7,u.Kh(i,e);case 7:this.BUt.push(u),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(4),_s(t.t0);case 14:r++,t.next=1;break;case 17:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,e){return t.apply(this,arguments)}}(),i.HUt=function(t){for(var n=uW(t),i=0;i<n.length;i++){var e=n[i],r=new rW(this,e.cg,e.IDt);this.QUt.push(r)}},i.WUt=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,r=this.BUt;case 1:if(!(e<r.length)){t.next=8;break}return s=r[e],t.next=5,s.Kh(n,i);case 5:e++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Bzt=function(){return this.Gzt.Bzt()},i.Zzt=function(){return this.Gzt.Zzt()},i.nd=function(){this.$o(),this.Gzt.th(LH.Czt,this.Rzt);for(var t=0,n=this.QUt;t<n.length;t++){n[t].nd()}for(var i=0,e=this.BUt;i<e.length;i++){e[i].nd()}hs(this.BUt),hs(this.QUt)},z(n,[{key:"IDt",get:function(){return this.BUt}},{key:"_zt",get:function(){return this.QUt}},{key:"bDt",get:function(){return this.Gzt.Ps.bDt}},{key:"oA",get:function(){return this.Gzt.oA}},{key:"vb",get:function(){return this.ab+this.oA}},{key:"EDt",get:function(){return this.Gzt.Ps.EDt||[]}},{key:"cg",get:function(){return this.Gzt.cg}},{key:"zzt",get:function(){return this.YUt}},{key:"Wzt",get:function(){return this.PUt}},{key:"XUt",get:function(){return this.PUt.ZUt(this)}},{key:"Lzt",get:function(){return this}},{key:"qUt",get:function(){return this.PUt.JUt(this)}},{key:"KUt",get:function(){return this.GUt(1/0,l.min)}},{key:"$Ut",get:function(){return this.GUt(0,l.max)}},{key:"ab",get:function(){return this.Gzt.ab}},{key:"Kv",get:function(){return this.Wzt.Kv}}]),n}(xH),cW=function(t){function n(){return t.call(this,rh.ma)||this}return U(n,t),n}(xs);!function(t){t.tBt="nBt"}(oW||(oW={}));var aW=function(t){function n(){return t.call(this,oW.tBt)||this}return U(n,t),n}(xs),fW=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.iDt)||this).Yzt=void 0,e.iBt=void 0,e.Yzt=i,e.OUt(!0),e}U(n,t);var i=n.prototype;return i.Nzt=function(t){return!!go(this.TS)&&this.BNt.Nzt(t.k7)},i.Dzt=function(t,n,i,e){return this.BNt.Dzt(t,this,n,i,e)},i.nRt=function(){return this.iRt.nRt(this)},i.Ezt=function(t){return this.iRt.Ezt(t,this)},i.Hzt=function(t){return this.iRt.Hzt(t,this)},i.Xzt=function(){return this.iBt},i.UUt=function(t){var n=this.BNt,i=n.Xzt(t),e=i&&function(t,n){var i,e=t.pRt,r=t.DRt,s=t.mRt,u=e.Yw,o=n.jRt(r);if(o.getTime()<=s.getTime())i=r.Gw;else{var h=(o.getTime()-s.getTime())/1e3,c=l.max(r.oA-h,0);i=r.Yw+c}return{ab:u,vb:i}}(i,n),r=this.BNt.Zzt(t,i);return this.iBt=i,{mRt:t,xUt:e,zUt:r}},i.Kh=function(t){this.jUt(t,this.Yzt.iDt)},z(n,[{key:"$zt",get:function(){return this.Yzt}},{key:"Lzt",get:function(){return this.Yzt.Lzt}},{key:"MRt",get:function(){return this.Yzt.MRt}},{key:"TS",get:function(){return this.re.TS||this.Yzt.TS}},{key:"iRt",get:function(){return this.CUt()}},{key:"BNt",get:function(){return this.iRt.BNt}}]),n}($H),vW=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.iDt)||this).rRt=void 0,e.sRt=void 0,e.rRt=i,e.OUt(!1),e.sRt=n.MDt.map(function(t){return new fW(t,sn(e))}),e}U(n,t);var i=n.prototype;return i.Kh=function(t){this.jUt(t,this.rRt.iDt);var n=t.MDt||[];if(this.sRt.length!==n.length)throw new f("Expected "+this.sRt.length+' representations in adaptation set "'+t.cg+'", found '+n.length);for(var i=0;i<n.length;i++)this.sRt[i].Kh(n[i])},i.RUt=function(n){for(var i=0,e=this.sRt;i<e.length;i++){e[i].RUt(n)}t.prototype.RUt.call(this,n)},i.UUt=function(t){return{mRt:t,xUt:nW(this.sRt),zUt:iW(this.sRt)}},i.xo=function(){for(var n=0,i=this.sRt;n<i.length;n++){i[n].xo()}t.prototype.xo.call(this)},z(n,[{key:"MDt",get:function(){return this.sRt}},{key:"Lzt",get:function(){return this.rRt}},{key:"MRt",get:function(){return this.rRt.MRt}},{key:"aDt",get:function(){return this.re.aDt}},{key:"TS",get:function(){var t;return this.re.TS||(null==(t=this.sRt[0])?void 0:t.Ps.TS)||""}}]),n}($H),dW=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i,void 0,n.iDt)||this).eBt=void 0,s.Pp=void 0,s.pU=void 0,s.BUt=void 0,s.QUt=[],s.eBt=n,s.Pp=e,s.pU=r,s.OUt(!1),s.BUt=(i.IDt||[]).map(function(t){return new vW(t,sn(s))}),s.QUt=uW(s.BUt),s}U(n,t);var i=n.prototype;return i.Kh=function(t,n){this.jUt(t,this.eBt.iDt),this.pU=n;var i=t.IDt||[];if(this.BUt.length!==i.length)throw new f("Expected "+this.BUt.length+' adaptation sets in period "'+t.cg+'", found '+i.length);for(var e=0;e<i.length;e++)this.BUt[e].Kh(i[e])},i.RUt=function(n){for(var i=0,e=this.BUt;i<e.length;i++){e[i].RUt(n)}t.prototype.RUt.call(this,n)},i.UUt=function(t){return{mRt:t,xUt:nW(this.BUt),zUt:iW(this.BUt)}},i.xo=function(){for(var n=0,i=this.BUt;n<i.length;n++){i[n].xo()}t.prototype.xo.call(this)},z(n,[{key:"IDt",get:function(){return this.BUt}},{key:"_zt",get:function(){return this.QUt}},{key:"Lzt",get:function(){return this}},{key:"MRt",get:function(){return this.eBt}},{key:"cg",get:function(){return this.re.cg}},{key:"ab",get:function(){return this.Pp}},{key:"oA",get:function(){return this.pU}}]),n}($H),lW=new Date("2000-01-01"),gW=function(t){function n(n,i,e,r){var s;if((s=t.call(this)||this).re=void 0,s.rBt=void 0,s.sBt=void 0,s.OG=void 0,s.uBt=void 0,s.SUt=void 0,s.EUt=void 0,s.oBt=void 0,s.hBt=void 0,s.cBt=void 0,s.aBt=[],s.rBt=i,s.Kh(n,e,r),n.Ao===cY.fN){var u=s.WRt();u&&u.SDt&&u.SDt.getTime()<lW.getTime()&&(s.cBt=new Date(s.PDt.getTime()-1e3*(u.FAt.Yw+u.FAt.oA)),s.RUt(r))}return s}U(n,t);var i=n.prototype;return i.Bzt=function(){var t;return null==(t=this.SUt)?void 0:t.xUt},i.Zzt=function(){var t;return null==(t=this.SUt)?void 0:t.zUt},i.Kh=function(t,n,i,e){var r;this.re=t,this.sBt=n,this.uBt=null!=e?e:i,this.OG=i;var s,u=[(s=n,p.Fu(".",s))];this.EUt=t.iDt&&t.iDt.length>0?BH(t.iDt.map(function(t){return t.Sv}),u):u,this.oBt=t.CDt&&t.CDt.length>0?BH(t.CDt,this.EUt):[];var o=this.oBt.map(function(t){return t.href}),h=n.href;os(o,h)||(this.oBt.push(n),o.push(h));var c=this.rBt.href;os(o,c)||(this.oBt.push(this.rBt),o.push(c)),this.hBt=null==(r=t.RDt)?void 0:r.ANt();var a=t.Ao===cY.fN,f=function(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=void 0;if(s.ab)u=s.ab.ANt();else if(r>0&&t[r-1].oA){var o=e[r-1],h=t[r-1].oA.ANt();u=o+h}else{if(0!==r||n)break;u=0}e.push(u)}for(var c=[],a=0;a<e.length-1;a++)c.push({Ps:t[a],ab:e[a],oA:e[a+1]-e[a]});if(e.length>0){var f=e.length-1,v=t[f],d=e[f],l=1/0;n||(l=v.oA?v.oA.ANt():i-d),c.push({Ps:v,ab:d,oA:l})}return c}(t.QDt,a,this.hBt);this.fBt(f),this.RUt(i)},i.fBt=function(t){var n=this.aBt;if(0!==t.length){for(var i=t[0].Ps.cg,e=0;e<n.length&&n[e].cg!==i;)e++;for(var r=n.splice(0,e),s=0;s<r.length;s++){r[s].xo()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var h=n[u];0,h.Kh(o.Ps,o.oA)}else n.push(new dW(this,o.Ps,o.ab,o.oA))}}else hs(n)},i.RUt=function(t){for(var n=0,i=this.aBt;n<i.length;n++){i[n].RUt(t)}var e=this.SUt,r=this.UUt(t);e&&eW(e,r)||(this.SUt=r,this.Zo(new KH))},i.UUt=function(t){return{mRt:t,xUt:tW(this.aBt),zUt:iW(this.aBt)}},i.WRt=function(){if(0!==this.aBt.length){var t=this.aBt[this.aBt.length-1];if(!isFinite(t.oA)&&0!==t.IDt.length){var n=t.IDt[0];if(0!==n.MDt.length){var i=n.MDt[0].BNt,e=i.WRt();if(e)return{FAt:e,SDt:i.TRt(e)}}}}},i.xo=function(){this.$o();for(var t=0,n=this.aBt;t<n.length;t++){n[t].xo()}},z(n,[{key:"Ps",get:function(){return this.re}},{key:"Ao",get:function(){return this.re.Ao||cY.aN}},{key:"jDt",get:function(){return this.cBt||this.re.jDt||this.PDt}},{key:"SDt",get:function(){return this.re.SDt}},{key:"RDt",get:function(){return this.hBt}},{key:"iDt",get:function(){return this.EUt}},{key:"CDt",get:function(){return this.oBt}},{key:"QDt",get:function(){return this.aBt}},{key:"PDt",get:function(){return this.re.PDt||this.OG}},{key:"RNt",get:function(){return this.re.RNt}},{key:"vBt",get:function(){return this.uBt}},{key:"dBt",get:function(){return this.OG}}]),n}(Cs);var AW=function(){function t(t,n,i){this.lBt=0,this.iN=t,this.gBt=n,this.ABt=i}var n=t.prototype;return n.FC=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.wBt(n,this.iN,this.gBt,this.ABt).catch(Ms);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.yBt=function(){return new Date(Jt()+this.lBt)},n.wBt=function(){var t=N.coroutine(rr.mark(function t(n,i,e,r){var s,u,o;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=4;break}return t.next=3,this._Bt(i,r,e);case 3:s=t.sent;case 4:if(void 0!==s){t.next=17;break}ys(e),u=0;case 7:if(!(u<n.length)){t.next=17;break}return o=n[u],t.next=11,this.MBt(i,o,e);case 11:if(void 0===(s=t.sent)){t.next=14;break}return t.abrupt("break",17);case 14:u++,t.next=7;break;case 17:this.lBt=void 0===s?0:s-Jt();case 18:case"end":return t.stop()}},t,this)}));return function(n,i,e,r){return t.apply(this,arguments)}}(),n.MBt=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r,s,u,o;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=i.DNt,t.t0=r,t.next="urn:mpeg:dash:utc:http-xsdate:2012"===t.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===t.t0?4:"urn:mpeg:dash:utc:direct:2012"===t.t0?10:"urn:mpeg:dash:utc:direct:2014"===t.t0?10:16;break;case 4:if(!(s=i.ps)){t.next=9;break}return t.next=8,this._Bt(n,s,e);case 8:return t.abrupt("return",t.sent);case 9:return t.abrupt("break",17);case 10:if(!(u=i.ps)){t.next=15;break}if(o=new Date(u).getTime(),w(o)){t.next=15;break}return t.abrupt("return",o);case 15:return t.abrupt("break",17);case 16:return t.abrupt("return");case 17:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),n._Bt=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r,s,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.Ev({Sv:i,Xv:xf.GET,Tv:sh.cs,Fo:e});case 3:return r=t.sent,t.next=6,r.hv();case 6:if(s=t.sent,u=new Date(s).getTime(),w(u)){t.next=10;break}return t.abrupt("return",u);case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),_s(t.t0);case 16:case"end":return t.stop()}},t,null,[[0,12]])}));return function(n,i,e){return t.apply(this,arguments)}}(),t}(),wW=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).kBt=void 0,s.Gzt=void 0,s.mBt=void 0,s.W$=!0,s.aBt=[],s.pBt=void 0,s.NBt=void 0,s.DBt=void 0,s.iN=void 0,s.TBt=void 0,s.pBt=n,s.mBt=n.Ig,s.NBt=i,s.iN=e,s.kBt=r,s.TBt=new AW(s.iN,s.kBt,s.pBt.IBt),s}U(n,t);var i=n.prototype;return i.wat=function(t){var n=this.Aw;this.W$=t,n!==this.Aw&&this.Zo(new aW)},i.Kh=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r,s,u,o,h,c,a,f,v,d,l,g,A;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=[],u=[],o=n.ODt?p.Fu(n.ODt,this.mBt):this.mBt,void 0!==this.Gzt){t.next=10;break}return t.next=6,this.TBt.FC(n.GDt);case 6:this.Gzt=new gW(n,this.mBt,o,this.yBt()),this.Gzt.qo(LH.Czt,this.Xo),t.next=11;break;case 10:this.Gzt.Kh(n,o,this.yBt(),i);case 11:if(0===(h=this.Gzt.QDt).length)c=this.aBt.slice(),hs(this.aBt);else{for(a=h[0].cg,f=0;f<this.aBt.length&&this.aBt[f].cg!==a;)f++;for(c=this.aBt.splice(0,f),v=0;v<h.length;v++)d=h[v],l=void 0,v<this.aBt.length?l=this.aBt[v]:(l=new hW(this,d),s.push(l)),u.push(l.Kh(this.NBt,e))}return t.next=15,N.all(u);case 15:for((r=this.aBt).push.apply(r,s),g=0,A=c;g<A.length;g++)A[g].FUt();this.Zo(new cW);case 18:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.yBt=function(){return this.TBt.yBt()},i.JUt=function(t){var n=this.aBt.indexOf(t);if(n>0)return this.aBt[n-1]},i.ZUt=function(t){var n=this.aBt.indexOf(t);if(n>=0&&n+1<this.aBt.length)return this.aBt[n+1]},i.Bzt=function(){return this.Gzt?this.Gzt.Bzt():void 0},i.Zzt=function(){return this.Gzt&&this.Gzt.Zzt()},i.RUt=function(t){this.Gzt&&this.Gzt.RUt(t)},i.nd=function(){this.$o(),this.DBt=void 0,this.wat(!1);for(var t=0,n=this.aBt;t<n.length;t++){n[t].nd()}hs(this.aBt),this.Gzt&&this.Gzt.xo()},z(n,[{key:"SDt",get:function(){return this.Gzt&&this.Gzt.SDt}},{key:"jDt",get:function(){return this.Gzt&&this.Gzt.jDt}},{key:"cg",get:function(){return this.Gzt&&this.Gzt.Ps.cg}},{key:"vBt",get:function(){var t;return null==(t=this.Gzt)?void 0:t.vBt}},{key:"bBt",get:function(){var t;return null==(t=this.Gzt)?void 0:t.dBt}},{key:"CDt",get:function(){return this.Gzt?this.Gzt.CDt.map(function(t){return t.href}):[this.yzt]}},{key:"yzt",get:function(){return this.mBt.href}},{key:"xDt",get:function(){return this.Gzt&&this.Gzt.Ps.xDt}},{key:"zDt",get:function(){return this.Gzt&&this.Gzt.Ps.zDt}},{key:"RDt",get:function(){return this.Gzt&&this.Gzt.Ps.RDt}},{key:"UDt",get:function(){return this.Gzt&&this.Gzt.Ps.UDt}},{key:"BDt",get:function(){var t,n,i=(null==(t=this.Gzt)?void 0:null==(n=t.Ps.BDt)?void 0:n.wNt())||0;return l.max(i,_W)}},{key:"Aw",get:function(){return this.W$}},{key:"QDt",get:function(){return this.aBt}},{key:"EBt",get:function(){return this.Ao===cY.fN?this.aRt:this.LBt}},{key:"SBt",get:function(){var t=this.EBt;if(void 0!==t)for(var n=0,i=this.QDt;n<i.length;n++){var e=i[n];if(e.ab<=t&&e.vb>t)return e}}},{key:"JNt",get:function(){return this.Gzt&&this.Gzt.Ps.JNt}},{key:"PDt",get:function(){return this.Gzt&&this.Gzt.PDt}},{key:"KUt",get:function(){for(var t=this.aBt.length-1;t>=0;t-=1){var n=this.aBt[t].KUt;if(n)return n}}},{key:"aRt",get:function(){var t=this.KUt;if(void 0!==t){var n=t-this.jBt;return l.max(n,this.LBt)}}},{key:"LBt",get:function(){for(var t=0,n=this.aBt;t<n.length;t++){var i=n[t].Uzt;if(void 0!==i)return i}}},{key:"Kv",get:function(){return Boolean(this.pBt.Kv)}},{key:"jBt",get:function(){var t=this.Gzt&&this.Gzt.Ps.YDt;return t?t.ANt():this.Ao===cY.fN?this.grt:0}},{key:"grt",get:function(){return this.pBt.grt?this.pBt.grt:1.5*this.UDt.ANt()}},{key:"RNt",get:function(){return this.Gzt&&this.Gzt.RNt}},{key:"Ao",get:function(){return this.Gzt?this.Gzt.Ao:void 0}}]),n}(Cs),yW=function(){function t(t,n,i,e){this.PUt=void 0,this.PUt=new wW(t,n,i,e)}return z(t,[{key:"Wzt",get:function(){return this.PUt}}]),t}(),_W=1e3,MW=l.pow(2,31)-1,kW=function(){function t(t,n,i,e){var r=this;this.tit=void 0,this.Gzt=void 0,this.CBt=void 0,this.OBt=void 0,this.xBt=void 0,this.zBt=new gs,this.RBt=function(){var t=N.coroutine(rr.mark(function t(n){var i,e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=r.Gzt.Wzt.yBt(),t.next=4,r.UBt(r.Gzt.Wzt.CDt,n);case 4:return e=t.sent,t.next=7,r.Gzt.Wzt.Kh(e,i,n);case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),My(t.t0)&&r.Gzt.Wzt.wat(!1),t.t0;case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),this.tit=e,this.Gzt=new yW(t,n,i,this.zBt.Fo)}var n=t.prototype;return n.Kd=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Gzt.Wzt.Zo(new DT),t.prev=1,t.next=4,uP(this.RBt,n);case 4:this.Gzt.Wzt.wat(!0),t.next=13;break;case 7:throw t.prev=7,t.t0=t.catch(1),_s(t.t0),this.OBt=void 0,this.Gzt.Wzt.wat(!1),new f("The provided MPEG-DASH document could not be loaded - "+t.t0.message);case 13:this.CBt=this.BBt(this.zBt.Fo);case 14:case"end":return t.stop()}},t,this,[[1,7]])}));return function(n){return t.apply(this,arguments)}}(),n.BBt=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(this.Gzt.Wzt.Ao!==cY.fN){t.next=6;break}return t.next=4,ks(this.QBt,n);case 4:t.next=1;break;case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),n.PBt=function(){var t=N.coroutine(rr.mark(function t(n){var i,e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ys(n),!((i=this.YBt())>0)){t.next=6;break}return e=l.min(i,MW),t.next=6,Es(e,n);case 6:return t.prev=6,t.next=9,uP(this.RBt,n,1/0,_W,3e4);case 9:this.Gzt.Wzt.wat(!0);case 10:return t.prev=10,this.xBt=void 0,t.finish(10);case 13:case"end":return t.stop()}},t,this,[[6,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),n.YBt=function(){var t=this.Gzt.Wzt.yBt().getTime()-this.Gzt.Wzt.vBt.getTime();return this.Gzt.Wzt.BDt-t},n.GBt=function(t){var n=this.Gzt.Wzt.Zzt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.Gzt.Wzt.RUt(t);var e=this.Gzt.Wzt.Zzt();return e?e.getTime()-t.getTime():NaN},n.FBt=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.xBt||(this.xBt=this.PBt(n)),(i=new gs).Yo(n),t.prev=3,t.next=6,N.race([this.xBt,this.VBt(i.Fo)].filter(K));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),Ms(t.t0);case 11:return t.prev=11,i.Po(),t.finish(11);case 14:case"end":return t.stop()}},t,this,[[3,8,11,14]])}));return function(n){return t.apply(this,arguments)}}(),n.VBt=function(t){var n=this.Gzt.Wzt.yBt(),i=this.GBt(n);if(!w(i))return this.HBt(i,t)},n.HBt=function(){var t=N.coroutine(rr.mark(function t(n,i){var e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Es(n,i);case 2:e=this.Gzt.Wzt.yBt(),this.Gzt.Wzt.RUt(e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.UBt=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.tit.Jnt(n,{},i,!1);case 2:return e=t.sent,r=new rG,t.abrupt("return",r.IMt(e.Pnt,e.Lv));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.nd=function(){return this.zBt.Po(),this.CBt=void 0,this.OBt=void 0,this.xBt=void 0,this.Gzt.Wzt.nd(),N.resolve()},z(t,[{key:"WBt",get:function(){return this.Gzt}},{key:"w3",get:function(){return this.OBt||(this.OBt=this.Kd(this.zBt.Fo),Ts(this.OBt)),this.OBt}},{key:"QBt",get:function(){return this.Gzt.Wzt.bBt&&this.Gzt.Wzt.Ao===cY.fN?this.FBt(this.zBt.Fo):this.w3}}]),t}(),mW=function(){function t(t,n,i){this.tit=t,this.XBt=n,this.ZBt=i}var n=t.prototype;return n.qBt=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.src){t.next=2;break}throw new f("Invalid typed source");case 2:if(!xl(i=n.type)){t.next=9;break}return t.next=6,this.JBt(n);case 6:return t.abrupt("return",t.sent);case 9:if(!Ol(i)){t.next=15;break}return t.next=12,this.KBt(n);case 12:return t.abrupt("return",t.sent);case 15:throw new f("Unexpected source type");case 16:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.JBt=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,hH(n.src,this.tit);case 3:return i=t.sent,t.next=6,aH(i,this.tit);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new f("Unable to fetch HLS manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),n.KBt=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=new kW({Ig:p.Fu(n.src),grt:n.liveOffset,IBt:n.timeServer,Kv:n.useCredentials},this.ZBt,Yf.hd,this.tit),t.next=4,i.w3;case 4:return t.next=6,YV(i.WBt.Wzt,n.contentProtection,this.XBt);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new f("Unable to fetch DASH manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),t}();var pW=function(){function t(t){this.$Bt=void 0,this.tQt=[],this.nQt=0,this.$Bt=t}var n=t.prototype;return n.iQt=function(){var t=new eo;return this.tQt.push(t),this.eQt(),t.Ch},n.rQt=function(){var t=N.coroutine(rr.mark(function t(n,i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:this.nQt-=1,this.eQt(),0===this.tQt.length&&0===this.nQt&&i.Oh(!0);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.eQt=function(){this.tQt.length>0&&this.nQt<this.$Bt&&(this.tQt.shift().Oh(),this.nQt+=1)},t}();function NW(t,n){for(var i=0,e=0,r=t.xp.C2.map(function(t){return t.oA});e<r.length;e++){if((i+=r[e])>=n)return i}return i}var DW=function(t){function n(n,i,e,r,s,u,o,h){var c,a,f,v,d,l;void 0===h&&(f=Z.xr||Z.Cr,v=void 0!==a&&void 0!==a.preferredAudioCodecs&&a.preferredAudioCodecs.some(function(t){return"ec-3"===t}),d=f&&!v,l=N.coroutine(rr.mark(function t(n){var i,e,r,s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.vv,MediaSource.isTypeSupported(e)||Dy(n.TS,n.F0)){t.next=3;break}return t.abrupt("return",!1);case 3:if(!d||-1===(null==(i=n.Nu)?void 0:i.indexOf("ec-3"))){t.next=5;break}return t.abrupt("return",!1);case 5:if(!n.WNt){t.next=13;break}return r=n.WNt,s=as(r,function(t){return Sr(t.DNt)}).filter(K),t.next=10,fs(s,function(t){return p.Yu(t,e)});case 10:if(t.sent){t.next=13;break}return t.abrupt("return",!1);case 13:return t.abrupt("return",!0);case 14:case"end":return t.stop()}},t)})),h=function(t){return l.apply(this,arguments)}),(c=t.call(this)||this).iit=void 0,c.sQt=void 0,c.uQt=new eo,c.oQt=void 0,c.u1=void 0,c.hQt=IV.hzt(),c.szt=void 0,c.cQt=void 0,c.bA=void 0,c.aQt=void 0,c.P2=void 0,c.tit=void 0,c.fQt=void 0,c.XBt=void 0,c.ZBt=void 0,c.Pxt=void 0,c.iit=n,c.P2=i,c.tit=e,c.aQt=r,c.fQt=s,c.XBt=u,c.ZBt=h,c.Pxt=o,c.cQt=-1;var g=c.iit.FI.sources[0];return c.oQt=g,c.bA=c.WA(),c.sQt=new pW(c.iit.Ac.parallelTasksThreshold),c}U(n,t);var i=n.prototype;return i.WA=function(){var t=N.coroutine(rr.mark(function t(){var n,i,e,r,s,u,o,h,c,a,f,v,d,g,A,w,y,_,M,k,m,p,N,D,T,I,b,E=this;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new mW(this.tit,this.XBt,this.ZBt),t.next=3,n.qBt(this.oQt);case 3:return this.u1=t.sent,i=this.iit.Ac.amount,e=this.u1.oA,r=jV(i,e),this.szt=r,u=EO(this.u1.wzt[0]),t.next=11,this.P2.j2.E2(u,"manifestURL");case 11:for(o=t.sent.filter(function(t){return os(t.references,E.iit.cg)}),h=[],c=this.iit.Ac.bandwidth,a=0,f=this.u1.QDt;a<f.length;a++)for(v=f[a],d=0,g=v.Mzt;d<g.length;d++)for(A=g[d],w=0,y=bW(A.jk);w<y.length;w++)for(_=y[w],M=0,k=EW(_.lg,c);M<k.length;M++)m=k[M],h.push(m);if(this.cQt=l.ceil(h.map(function(t){return t.wT*NW(t,r)/8}).reduce(function(t,n){return t+n},0)),p=or(),o&&0!==o.length){for(N=o.reduce(function(t,n){return t+n.byteSize},0),D=function(t){var n=o[t],i=n.qualityId,e=new am(n.startsAndEnds);if(p.has(i))p.get(i).timeRanges=p.get(i).timeRanges.Lb(e).Eb(5e-4);else{var r,s=es(h,function(t){return t.cg===i}),u=l.min(E.szt,null!=(r=null==s?void 0:s.xp.oA)?r:1/0);p.set(i,{timeRanges:e,totalQualityDurationToCache:u})}},T=0;T<o.length;T++)D(T);s=new IV(N,p,this.szt)}else{for(I=0;I<h.length;I++)b=h[I],p.set(b.cg,{timeRanges:am.Xb(),totalQualityDurationToCache:l.min(b.xp.oA,this.szt)});s=new IV(0,p,this.szt)}this.vQt=s;case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.dQt=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.bA;case 2:return t.next=4,this.lQt(this.u1,n);case 4:return t.next=6,this.uQt.Ch;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.lQt=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.wzt){t.next=2;break}throw new f("Unexpected - manifest is missing locations");case 2:return t.next=4,this.gQt();case 4:for(e=[],r=0,s=n.QDt;r<s.length;r++)u=s[r],e.push(this.AQt(u,n.wzt[0],i));return t.abrupt("return",N.all(e));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.gQt=function(){var t=N.coroutine(rr.mark(function t(){var n,i,e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.aQt.I2();case 2:n=t.sent,i=0;case 4:if(!(i<n.length)){t.next=25;break}return e=n[i],t.next=8,this.P2.O2.Mh(e.key);case 8:if(!(r=t.sent)){t.next=14;break}return t.next=12,TW(r,this.iit.cg,this.P2.O2,this.Pxt);case 12:t.next=22;break;case 14:return t.prev=14,t.next=17,this.P2.O2.N2(e,this.Pxt);case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(14),new OV("Unable to store manifest with url: "+e.locationURL,t.t0);case 22:i++,t.next=4;break;case 25:return t.next=27,this.aQt.S2();case 27:case"end":return t.stop()}},t,this,[[14,19]])}));return function(){return t.apply(this,arguments)}}(),i.AQt=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r,s,u,o,h,c,a;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],s=0,u=n.Mzt;s<u.length;s++)for(o=u[s],h=bW(o.jk),c=0;c<h.length;c++)a=h[c],r.push(this.wQt(a,i,e));return t.abrupt("return",N.all(r));case 3:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.wQt=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r,s,u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.iit.Ac.bandwidth,s=EW(n.lg,r),n.Ao!==Ug.Hv||!n.mzt||!n.mzt.bN.widevine||"persistent"!==n.mzt.bN.widevine.licenseType){t.next=6;break}return t.next=5,this.yQt(n.mzt);case 5:ys(e);case 6:for(u=[],o=0;o<s.length;o++)h=s[o],u.push(this._Qt(h,i,e));return t.abrupt("return",N.all(u));case 9:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i._Qt=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r,s,u,o,h,c;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ys(e),!n.Tnt){t.next=7;break}return r={Yw:0,oA:0,bzt:n.Tnt},t.next=5,this.sQt.iQt();case 5:ys(e),Ts(this.sQt.rQt(this.MQt(r,n,i),this.uQt));case 7:s=n.xp.C2[0].Yw,u=s+this.szt,o=0,h=n.xp.C2;case 10:if(!(o<h.length)){t.next=22;break}if(!((c=h[o]).Yw>=u)){t.next=14;break}return t.abrupt("break",22);case 14:return t.next=16,this.kQt(e);case 16:return t.next=18,this.sQt.iQt();case 18:Ts(this.sQt.rQt(this.MQt(c,n,i),this.uQt));case 19:o++,t.next=10;break;case 22:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.kQt=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==n||!n.Lo){t.next=4;break}return t.next=3,this.uQt.Ch;case 3:throw new As;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.mQt=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.bA;case 2:return t.abrupt("return",this.u1);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.yQt=function(t){return N.resolve()},i.pQt=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return gt("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.MQt=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r,s,u,o,h,c,a,f=this;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.P2.j2,s=LO(n.bzt.Sv,n.bzt.h$),t.next=4,r.Mh(s);case 4:if(!(u=t.sent)){t.next=11;break}return t.next=8,TW(u,this.iit.cg,r,this.Pxt);case 8:this.NQt(u,!1),t.next=24;break;case 11:return t.prev=11,t.next=14,this.DQt(n.bzt);case 14:return o=t.sent,h=this.TQt(n,i,e,o),c=h.segmentMetadataEntry,a=h.segmentEntry,t.next=18,this.P2.U2(function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.j2.N2(c,f.Pxt);case 2:return t.next=4,n.C2.N2(a,f.Pxt);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 18:this.NQt(c,!0),t.next=24;break;case 21:throw t.prev=21,t.t0=t.catch(11),new OV("Unable to store segment with url: "+n.bzt.Sv,t.t0);case 24:case"end":return t.stop()}},t,this,[[11,21]])}));return function(n,i,e){return t.apply(this,arguments)}}(),i.DQt=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fQt.IQt(n,!1);case 2:return i=t.sent,t.next=5,this.bQt(i);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.bQt=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.av();case 2:return i=t.sent,t.abrupt("return",{buffer:i});case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.TQt=function(t,n,i,e){var r=LO(t.bzt.Sv,t.bzt.h$),s=t.Yw,u=t.oA,o=this.EQt(e);return{segmentMetadataEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:EO(i),qualityId:n.cg,byteSize:o,startsAndEnds:new am([s,s+u]).gb,references:[this.iit.cg]},segmentEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:EO(i),data:e}}},i.EQt=function(t){return t.buffer.byteLength},i.NQt=function(t,n){var i=t.qualityId,e=this.hQt,r=e.kw;r.get(i).timeRanges=r.get(i).timeRanges.Lb(new am(t.startsAndEnds)).Eb(5e-4),this.vQt=new IV(n?e.czt+t.byteSize:e.czt,r,this.szt)},z(n,[{key:"LQt",get:function(){return this.cQt}},{key:"vQt",get:function(){return this.hQt},set:function(t){this.hQt.hy(t)||(this.hQt=t,t.hy(IV.hzt())||this.Zo(new SV))}}]),n}(Cs);function TW(t,n,i,e){return IW.apply(this,arguments)}function IW(){return(IW=N.coroutine(rr.mark(function t(n,i,e,r){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(os(n.references,i)){t.next=4;break}return n.references.push(i),t.next=4,e.N2(n,r);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function bW(t){return t.length?[t[0]]:[]}function EW(t,n){if(!t.length)return[];var i=[].concat(t).sort(tV),e=i.filter(function(t){return t.wT<=n});return e.length>0?[e.pop()]:[i.shift()]}var LW=function(){function t(t,n,i){this.iit=t,this.P2=n,this.u1=i}var n=t.prototype;return n.SQt=function(){var t=N.coroutine(rr.mark(function t(){var n=this;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.P2.U2(function(){var t=N.coroutine(rr.mark(function t(i){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.jQt(i);case 2:return t.next=4,n.CQt(i);case 4:return t.next=6,n.OQt(i);case 6:return t.next=8,n.xQt(i);case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.jQt=function(){var t=N.coroutine(rr.mark(function t(n){var i,e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.z2,e=this.iit.cg,t.next=4,i.Jh(e);case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.CQt=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r,s,u,o,h,c=this;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.j2,e=n.C2,Bl(r=this.iit.FI.sources[0])){t.next=5;break}return t.abrupt("return");case 5:return s=EO(r.src),t.next=8,i.E2(s,"manifestURL");case 8:u=t.sent.filter(function(t){return os(t.references,c.iit.cg)}),o=0;case 10:if(!(o<u.length)){t.next=25;break}if(ss((h=u[o]).references,this.iit.cg),0!==h.references.length){t.next=20;break}return t.next=16,i.Jh(h.key);case 16:return t.next=18,e.Jh(h.key);case 18:t.next=22;break;case 20:return t.next=22,i.N2(h);case 22:o++,t.next=10;break;case 25:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.OQt=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r,s,u,o=this;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.O2,e=this.zQt(),t.next=4,i.T2(e);case 4:r=t.sent.filter(function(t){return os(t.references,o.iit.cg)}),s=0;case 6:if(!(s<r.length)){t.next=19;break}if(ss((u=r[s]).references,this.iit.cg),0!==u.references.length){t.next=14;break}return t.next=12,i.Jh(u.key);case 12:t.next=16;break;case 14:return t.next=16,i.N2(u);case 16:s++,t.next=6;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.zQt=function(){if(!this.u1)return[];var t=this.iit.FI.sources[0];if(!Bl(t))return[];var n=EO(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,e=t.QDt;i<e.length;i++)for(var r=0,s=e[i].Mzt;r<s.length;r++)for(var u=0,o=s[r].jk;u<o.length;u++)for(var h=0,c=o[u].lg;h<c.length;h++){var a=c[h];a.Szt&&n.push(a.Szt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.u1).map(function(t){return{src:t}}).map(function(t){return EO(t.src)});return[n].concat(i)},n.xQt=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r,s,u=this;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.R2,t.next=3,i.I2();case 3:e=t.sent.filter(function(t){return os(t.references,u.iit.cg)}),r=0;case 5:if(!(r<e.length)){t.next=19;break}if(ss((s=e[r]).references,this.iit.cg),0!==s.references.length){t.next=14;break}return t.next=11,i.Jh(s.key);case 11:this.RQt(s),t.next=16;break;case 14:return t.next=16,i.N2(s);case 16:r++,t.next=5;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.RQt=function(t){},t}(),SW=new(function(){function t(){}return t.prototype.Kq=function(t,n,i){return new LW(t,n,i)},t}());var jW=function(){function t(t,n){this.kl=void 0,this.an=t,this.UQt=n}var n=t.prototype;return n.d8=function(t){this.BQt(t)},n.BQt=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.UQt.pQt(n);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),this.an.Fxt(oV.ERROR);case 9:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),z(t,[{key:"ml",get:function(){var t;return this.kl||(this.kl=(t=this,{renew:function(n){t.d8(n)}})),this.kl}}]),t}(),CW=function(t){function n(n,i,e,r,s,u){var h;(h=t.call(this)||this).Dw=void 0,h.Qxt=void 0,h.kl=void 0,h.j_t=void 0,h.QQt=void 0,h.P2=void 0,h.UQt=void 0,h.PQt=new gs,h.YQt=void 0,h.evictOnLoading=function(){h.th("Ext",h.evictOnLoading),h.GQt()},h.Dw=n,h.j_t=i,h.QQt=e,h.P2=r,h.UQt=s.Kq(sn(h),h.P2,u),h.YQt=new jW(sn(h),h.UQt),h.Qxt=1===h.UQt.vQt.azt?oV.DONE:oV.IDLE,h.UQt.qo("F4",function(t){h.Xo(t),1===h.tzt&&h.Fxt(oV.DONE)});var c=new Date,a=h.QQt.expirationDate.getTime()-c.getTime();return a<2147483647&&o(function(){return h.GQt()},a),h}U(n,t);var i=n.prototype;return i.Fxt=function(t){this.Qxt!==t&&(this.Qxt=t,this.Zo(new AV))},i.ab=function(){this.Qxt===oV.EVICTED||this.Qxt===oV.DONE||this.FQt()},i.FQt=function(){var t=N.coroutine(rr.mark(function t(){var n;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.Fxt(oV.LOADING),n=new gs,this.PQt=n,t.next=6,this.UQt.dQt(n.Fo);case 6:this.Fxt(oV.DONE),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),ws(t.t0)?this.Fxt(oV.IDLE):this.Fxt(oV.ERROR);case 12:return t.prev=12,this.PQt.xo(),t.finish(12);case 15:case"end":return t.stop()}},t,this,[[0,9,12,15]])}));return function(){return t.apply(this,arguments)}}(),i.QA=function(){this.PQt.Po()},i.Jh=function(){this.Nv===oV.LOADING?(this.qo("Ext",this.evictOnLoading),this.QA()):this.GQt()},i.GQt=function(){var t=N.coroutine(rr.mark(function t(){var n;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.UQt.mQt();case 3:return n=t.sent,t.next=6,SW.Kq(this,this.P2,n).SQt();case 6:this.UQt.vQt=IV.hzt(),this.Fxt(oV.EVICTED),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),this.Fxt(oV.ERROR);case 14:case"end":return t.stop()}},t,this,[[0,10]])}));return function(){return t.apply(this,arguments)}}(),z(n,[{key:"ml",get:function(){return this.kl||(this.kl=TV(this)),this.kl}},{key:"cg",get:function(){return this.Dw}},{key:"GS",get:function(){return this.YQt}},{key:"Nv",get:function(){return this.Qxt}},{key:"FI",get:function(){return this.j_t}},{key:"Ac",get:function(){return this.QQt}},{key:"oA",get:function(){return this.UQt.vQt.Fb}},{key:"Kxt",get:function(){return this.UQt.vQt.ozt}},{key:"$xt",get:function(){return this.UQt.vQt.uzt}},{key:"tzt",get:function(){return this.UQt.vQt.azt}},{key:"nzt",get:function(){return this.UQt.LQt}},{key:"izt",get:function(){return this.UQt.vQt.czt}}]),n}(_l);var OW=function(){function t(t,n){this.P2=t,this.VQt=n}var n=t.prototype;return n.Xxt=function(t,n,i){var e=tN();return this.Hxt(e,t,n,i)},n.Hxt=function(t,n,i,e){return new CW(t,n,i,this.P2,this.VQt,e)},t}(),xW=30,zW=5;function RW(t){if(!t)throw new f("Unexpected - The cache parameters are undefined");var n=function(t){if(et(t)&&!Cr(t,"%"))return g(t);return t}(t.amount);!function(t){if(i=t,et(i)&&Cr(i,"%")){var n=A(t);if(w(n)||n<0||n>100)throw new f("The amount as percentage must be between 0 and 100 percent.")}var i;if(!et(t)&&w(t))throw new f("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+xW),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(ut(n)&&n>new Date)))throw new f("Invalid expiration date for the cache parameters");var n}(i);var e=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(w(t)||t<0)throw new f("The bandwidth must be between zero and infinity.")}(e),{amount:n,expirationDate:i,bandwidth:e,parallelTasksThreshold:function(t){if(!t)return zW;if(w(t))throw new f("The amount must be a number");return t}(t.numberOfParallelTasks)}}var UW=5,BW=function(){function t(t,n,i,e){var r=this;this.HQt=void 0,this.UQt=void 0,this.WQt=void 0,this.ax=void 0,this.XQt=[],this.ZQt=0,this.qd=void 0,this.qQt=void 0,this.VQt=void 0,this.hE=void 0,this.zCt=N.coroutine(rr.mark(function t(){var n;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=r.pbt())){t.next=4;break}return t.next=4,r.Pvt(n);case 4:case"end":return t.stop()}},t)})),this.xCt=function(){var t=r.XQt.shift();null==t||t.Jh()},this.JQt=function(){var t=N.coroutine(rr.mark(function t(n,i){var e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=!1;case 1:if(e){t.next=7;break}return t.next=4,n.rh("F4");case 4:e=1===n.vQt.azt,t.next=1;break;case 7:i.oA<UW&&r.zCt();case 8:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),this.ax=t,this.qQt=n,this.qd=new gs,this.VQt=i,this.hE=e}var n=t.prototype;return n.pbt=function(){var t;if(this.WQt){var n=this.WQt.fSt[this.ZQt];if(!n&&this.WQt.fSt.length>this.ZQt)return this.ZQt++,this.HQt=void 0,this.pbt();this.HQt||(this.HQt=zG.cSt(n));var i=null==(t=this.HQt)?void 0:t.cet();return null==i?void 0:i.Bkt}},n.Jl=function(){for(this.CCt=void 0,this.HQt=void 0,this.ZQt=0,this.qd.Po(),this.qd=new gs;this.XQt.length;)this.xCt()},n.getCachingTaskService=function(t){return new DV(bO.rs.z2,t,"temporary")},n.Pvt=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r,s,u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=iV(n.kpt,this.ax.ads.allowedMimeTypes)).length){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,nm.rs.YI(i,Np({sources:i}));case 5:if((e=t.sent).VI.jI()){t.next=8;break}return t.abrupt("return");case 8:this.UQt||(this.UQt=new this.VQt(this.qQt)),r=bO.rs,s=new OW(r,this.UQt),u=this.getCachingTaskService(s),o=u.Hxt(Np({sources:e.FI}),RW({amount:10,bandwidth:pl.Bg()||this.hE.VC/8}),"temporary"),this.XQt.push(o),h=this.UQt.Kq(o,r,"temporary"),this.qd.Po(),this.qd=new gs,h.dQt(this.qd.Fo).then(T),this.JQt(h,n);case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),z(t,[{key:"CCt",get:function(){return this.WQt},set:function(t){this.WQt=t,this.ZQt=0}}]),t}(),QW=function(){function t(t){this.iN=void 0,this.Cz=new eT,this.iN=t}var n=t.prototype;return n.Ev=function(t){var n=this,i=new eo;return this.Cz.mz(function(e){return n.KQt(i,t,e)},t.Fo).catch(T),i.Ch},n.td=function(t){return this.iN.td(t)},n.KQt=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r,s,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ys(e),r=new Qf({Sv:i.Sv,Fo:e},i),s=this.iN.Ev(r),n.Oh(s),t.next=6,s;case 6:return u=t.sent,t.next=9,u._v();case 9:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),n.nd=function(){this.Cz.nd()},t}(),PW=function(){function t(t,n){this.iN=void 0,this.$Qt=void 0,this.tPt=void 0,this.iN=t,this.$Qt=new QW(t),this.tPt=n}var n=t.prototype;return n.IQt=function(t,n,i){return this.Pht(t,n,!0,!1,void 0,i)},n.nPt=function(t,n,i,e){return this.Pht(t,n,!1,!1,i,e)},n.iPt=function(t,n,i,e){return this.Pht(t,n,!1,!0,i,e)},n.Pht=function(){var n=N.coroutine(rr.mark(function n(i,e,r,s,u,o){var h;return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return ys(o),n.next=3,this.ePt(i,r,s,u,o);case 3:if(h=n.sent,!e){n.next=8;break}return n.abrupt("return",t.rPt(h));case 8:return n.abrupt("return",this.sPt(h));case 9:case"end":return n.stop()}},n,this)}));return function(t,i,e,r,s,u){return n.apply(this,arguments)}}(),n.sPt=function(t){return t},t.rPt=function(t){return t},n.ePt=function(t,n,i,e,r){var s=new Qf({Sv:t.Sv,Tv:sh.Va,Dv:t.h$?{Range:"bytes="+t.h$[0]+"-"+t.h$[1]}:void 0,Kv:t.Kv,Xv:xf.GET,Ao:zf.xv,qv:i?Rf.Rv:Rf.Cv,Jv:this.tPt,Zv:e,Fo:r});return n?this.$Qt.Ev(s):this.iN.Ev(s)},t}(),YW=function(){function t(t){this.iN=void 0,this.iN=t}return t.prototype.IUt=function(){var t=N.coroutine(rr.mark(function t(n,i,e,r){var s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.iN.Ev({Sv:n,Tv:sh.Va,Dv:{Range:"bytes="+i[0]+"-"+i[1]},Kv:e,Xv:xf.GET,Ao:zf.Cv,Fo:r});case 2:return s=t.sent,t.next=5,s.av();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n,i,e,r){return t.apply(this,arguments)}}(),t}(),GW=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).FAt=void 0,r.FAt=n,r}return U(n,t),n}(on),FW=function(){function t(t){this.Knt=void 0,this.Knt=t}return t.prototype.IUt=function(){var t=N.coroutine(rr.mark(function t(n,i,e,r){var s,u;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Knt.Znt(n,i);case 2:if(!(s=t.sent)){t.next=5;break}return t.abrupt("return",s.buffer);case 5:return t.next=7,this.Knt.Znt(n);case 7:if(!(u=t.sent)){t.next=10;break}return t.abrupt("return",$u(new y(u.buffer),i[0],i[1]));case 10:throw new GW({Sv:n,h$:i,Kv:!1});case 11:case"end":return t.stop()}},t,this)}));return function(n,i,e,r){return t.apply(this,arguments)}}(),t}(),VW={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new am([0,0]).gb,references:[]},HW={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},WW=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n)||this).uPt=void 0,u.oPt=void 0,u.P2=void 0,u.Pxt=void 0,u.uPt=new YW(i),u.P2=e,u.oPt=r,u.Pxt=s,u}U(n,t);var i=n.prototype;return i.IUt=function(){var n=N.coroutine(rr.mark(function n(i,e,r,s){var u;return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.prototype.IUt.call(this,i,e,r,s);case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),_s(n.t0);case 9:return n.next=11,this.uPt.IUt(i,e,r,s);case 11:return u=n.sent,n.next=14,this.hPt(i,e,u);case 14:return n.abrupt("return",u);case 15:case"end":return n.stop()}},n,this,[[0,6]])}));return function(t,i,e,r){return n.apply(this,arguments)}}(),i.hPt=function(){var t=N.coroutine(rr.mark(function t(i,e,r){var s,u,o,h,c,a,f,v=this;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this.oPt){t.next=2;break}return t.abrupt("return");case 2:return s=this.P2.j2,u=LO(i,e),t.next=6,s.Mh(u);case 6:if(!(o=t.sent)){t.next=12;break}return t.next=10,TW(o,this.oPt,s);case 10:t.next=22;break;case 12:return t.prev=12,h={buffer:r},c=n.TQt(u,h,this.oPt),a=c.segmentMetadataEntry,f=c.segmentEntry,t.next=17,this.P2.U2(function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.j2.N2(a,v.Pxt);case 2:return t.next=4,n.C2.N2(f,v.Pxt);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(12),new OV("Unable to store segment with url: "+i,t.t0);case 22:case"end":return t.stop()}},t,this,[[12,19]])}));return function(n,i,e){return t.apply(this,arguments)}}(),n.TQt=function(t,n,i){return{segmentMetadataEntry:sr({},VW,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:sr({},HW,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(FW);var XW,ZW=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.cPt=function(t,n,i,e,r,s,u){return new DW(t,n,i,e,r,s,u)},n}(function(){function t(t){this.iN=t}return t.prototype.Kq=function(t,n,i){void 0===i&&(i="persistent");var e=Boolean(t.FI.sources[0].useCredentials),r=new PW(this.iN,Uf.Cv),s=new NR(this.iN,e),u=new DR(n.O2,n.j2,n.C2,n.R2),o=function(t,n,i,e,r){return new WW(n,t,i,e,r)}(this.iN,u,n,t.cg,i),h=new mO,c=new LR(ER(s,u),h,t);return this.cPt(t,n,c,h,r,o,i)},t}()),qW=ZW;!function(t){t[t.NOT_INITIALISED=0]="NOT_INITIALISED",t[t.aPt=1]="aPt",t[t.fPt=2]="fPt",t[t.sA=3]="sA",t[t.DA=4]="DA",t[t.vPt=5]="vPt"}(XW||(XW={}));var JW=function(t){function i(n,i,e,r,s,u,o){var h;(h=t.call(this,n,e,r)||this).dPt=void 0,h.lPt=void 0,h.ZOt=void 0,h.gPt=void 0,h.APt=void 0,h.wPt=void 0,h.ZSt=void 0,h.yPt=void 0,h._Pt=void 0,h.mY=void 0,h.MPt=void 0,h.hIt=void 0,h.kPt=void 0,h.mPt=void 0,h.rkt=!1,h.Sjt=void 0,h.jjt=void 0,h.pPt=void 0,h.skt=!1,h.NPt=!0,h.COt=void 0,h.DPt=void 0,h.iN=void 0,h.TPt=function(t){"play"!==t.type||h.NPt?h.Zo(t):h.NPt=!0},h.IPt=function(){h.skt||(h.skt=!0)},h.YCt=function(t){var n;(n=h.APt).push.apply(n,t);for(var i=0;i<t.length;i++){t[i];h.skt&&h.kkt.sg!==sn(h)&&h.bPt()}},h.EPt=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return h.wPt=XW.aPt,t.next=4,h.lPt.KOt();case 4:return h.ZSt&&h.ZSt.rTt.pCt++,t.abrupt("return",h.ext(h.yPt.cet()));case 6:case"end":return t.stop()}},t)})),h.LPt=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new AP(dP.PLAYBACK,lP.GENERAL_LINEAR_ERROR,"There was a problem playing a linear ad."),h.PMt.Zo(MP.KMt(i,n)),t.next=4,h.lPt.KOt();case 4:return h.ZSt&&h.ZSt.rTt.pCt++,t.abrupt("return",h.ext(h.yPt.vh()));case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),h.SPt=function(){return h.ZOt.KOt(),h.ext(h.yPt.cet())},h.jPt=function(t){var n=new AP(dP.PLAYBACK,lP.GENERAL_NON_LINEAR_ERROR,"There was a problem playing a non linear ad.");return h.PMt.Zo(MP.KMt(n,t)),h.ZOt.KOt(),h.ext(h.yPt.vh())},h.iN=o,h.MPt=!1,h.COt=i,h.ZOt=new aV(h.jPt,h.SPt,sn(h),e),h.lPt=new hV(h.LPt,h.EPt,n,h.ZOt,s,sn(h),r,i),h.CPt(h.ZOt.oOt),h.CPt(h.lPt.oOt);var c=new nD(o,!1),a=new BW(s,c,ZW,u);return h.gPt=new YF(h.VI,sn(h),h.PMt,a),h.lPt.Ko(h.TPt),h.ZOt.Ko(h.Xo),h.PMt.ME(h.lPt.PMt),h.PMt.ME(h.ZOt.PMt),h.PMt.ME(h.gPt),h._Pt=[],h.APt=[],h.ZSt=void 0,h.yPt=void 0,h.kPt=new zG(sn(h),h.VI),h.wPt=XW.NOT_INITIALISED,h.mY=0,h.Zo(new Xl(h.uA,0)),h.Zo(new fg(h.uA,0)),h.ez.qo("nj",h.Xo),h.pPt=!1,h.DPt=[],h.VI.qo("play",h.IPt),h}U(i,t);var e=i.prototype;return e.HSt=function(t,n,i){this.hIt=n,"boolean"==typeof i&&(this.rkt=i),this.mY=El.Zg,this.Zo(new fg(this.uA,El.Zg)),n===cP.EMt&&this.skt?Ts(this.kbt([t])):this.DPt.push(t)},e.BA=function(){var t=N.coroutine(rr.mark(function t(){var n;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.dPt){t.next=2;break}return t.abrupt("return");case 2:if(this.Zo(new ql(this.uA)),this.IPt(),!this.DPt.length){t.next=9;break}return this.dPt=this.kbt(this.DPt),t.next=8,this.dPt;case 8:this.dPt=void 0;case 9:if(!this.Sjt||!this.rkt){t.next=11;break}return t.abrupt("return");case 11:return t.next=13,this.gPt.PCt(this.VI.uA);case 13:(n=this.wPt)!==XW.DA&&n!==XW.aPt&&n!==XW.vPt||(!this.ZSt&&this.APt.length?this.bPt():this.ZSt?(this.NPt=!1,this.lPt.BA()):(this.pkt(),this.VI.BA()),this.wPt=XW.sA);case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.QA=function(){this.wPt===XW.sA&&(this.lPt.QA(),this.wPt=XW.DA)},e.RCt=function(){this.gPt.RCt()},e.ab=function(){this.wPt=XW.aPt,this.gPt.ab(),this.mY=El.Jg,this.Zo(new fg(this.uA,El.Jg))},e.PA=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gPt&&(this.gPt.vb(),this.OPt(!1),this.ZOt.PA(),this.wPt=XW.vPt,this.MPt=!1,this.ZSt&&(this.gPt.WCt(this.ZSt.rTt),this.ZSt=void 0)),this.skt=!1,this.NPt=!0,hs(this.APt),this.kkt.sg===this&&(this.pkt(),this.VI.qA()),hs(this.DPt),t.next=8,this.lPt.PA();case 8:return t.next=10,this.COt.Jl();case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.$M=function(){this.lPt.rxt(),this.ZOt.rxt()},e.WA=function(){this.COt.WA(),this.IPt()},e.nw=function(t){return!("ended"!==t.type||!this.gPt||!this.gPt.jCt(-1))&&(this.gPt.QCt().then(T),!0)},e.xPt=function(){return this.lPt.sxt},e.qA=function(){},e.JA=function(){},e.kbt=function(){var t=N.coroutine(rr.mark(function t(i){var e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dV.Ixt(i,this.iN,this.PMt);case 2:if(!(e=t.sent).length){t.next=7;break}this.gPt.HCt(e),t.next=11;break;case 7:return"Ads could not be loaded.",this.PMt.Zo(MP.KMt(new AP(dP.ADBLOCK,lP.FILE_NOT_FOUND),"Ads could not be loaded.")),this.rkt?(this.jjt=new Uo(n.ErrorCode.AD_BLOCKER_DETECTED,"Ads could not be loaded."),this.Sjt=xg(this.jjt),this.Zo(new vg(this.jjt))):this.skt&&!this.ZSt&&0===this.APt.length&&this.zPt(),t.abrupt("return");case 11:this.mY=El.qg,this.Zo(new fg(this.uA,this.mY)),this.PMt.Zo(new lV),this.kkt.sg===this||this.kkt.fA||this.gPt.PCt(this.VI.uA),this.wPt!==XW.NOT_INITIALISED&&this.wPt!==XW.vPt||this.ab();case 16:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.bPt=function(){var t=N.coroutine(rr.mark(function t(){var n;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.wPt!==XW.fPt){t.next=2;break}return t.abrupt("return");case 2:if(this.pPt){t.next=21;break}if(this.pPt=!0,this.wPt=XW.fPt,n=this.ZSt,this.RPt(),!this.ZSt){t.next=17;break}return t.next=11,this.ZSt.rTt.ACt(this.PMt);case 11:return this.UPt()||(this.pPt=!1),this.PMt.Zo(new fV(this.BPt(this.ZSt))),t.next=15,this.QPt();case 15:t.next=21;break;case 17:null!=n&&n.rTt._Ct()&&this.PMt.Zo(new pF(this.BPt(n))),this.pPt=!1,this.wPt=XW.aPt,this.zPt();case 21:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.zPt=function(){this.pkt(),this.VI.qA(),this.VI.hA?this.VI.Zo(new rg(this.VI.uA)):this.kkt.BA()},e.RPt=function(){var t;if(this.ZSt&&this.UPt())t=this.ZSt.rTt;else{if(0===this.APt.length)return;t=this.APt.shift()}if(t){var n=t.cet(!0);n?this.ZSt=n:(this.ZSt&&(this.gPt.WCt(this.ZSt.rTt),this.ZSt=void 0),this.ZSt=void 0)}},e.QPt=function(){var t=N.coroutine(rr.mark(function t(){var n,i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=this.PPt())){t.next=13;break}if(this.ZSt){t.next=4;break}return t.abrupt("return");case 4:return this.yPt=n,this.YPt(this.ZSt.tmt),this.GPt(QP.Npt),i=this.yPt.cet(),this.ZSt.rTt._Ct()&&(this.ZOt.KOt(),1===this.ZSt.rTt.k7&&this.PMt.Zo(new kF(this.BPt(this.ZSt)))),t.next=11,this.ext(i);case 11:t.next=17;break;case 13:this.wPt=XW.aPt,this.pPt=!1,this.ZSt=void 0,this.bPt();case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.ext=function(){var t=N.coroutine(rr.mark(function t(n){var i,e,r,s,u,o,h,c,a;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=30;break}if(i=Boolean(n.Bkt),e=Boolean(n.Gkt),r=Boolean(n.Pkt),n.Pkt)for(s=0,u=n.Pkt.kmt;s<u.length;s++)o=u[s],i?this.lPt.$Ot(o):e&&this.ZOt.$Ot(o);if(h=this.ZSt,!n.Bkt){t.next=14;break}return n.Bkt.dmt=h,void 0!==h.VTt.skipOffset&&(c=lG.bTt(h.VTt.skipOffset,n.Bkt.oA))<n.Bkt.oA&&(n.Bkt.mpt=c),this.ZOt.KOt(),this.mkt(),t.next=13,this.lPt.ext(n.Bkt,n.vh,{width:this.VI.hw.offsetWidth,height:this.VI.hw.offsetHeight},n.Fkt);case 13:i=!0;case 14:if(!n.Gkt){t.next=21;break}return n.Gkt.$kt[0].dmt=h,void 0!==h.VTt.skipOffset&&(n.Gkt.$kt[0].dmt.mpt=lG.bTt(h.VTt.skipOffset,this.VI.oA)),i&&this.lPt.hxt(),t.next=20,this.ZOt.ext(n.Gkt,n.vh,{width:this.VI.hw.offsetWidth,height:this.VI.hw.offsetHeight},n.Fkt);case 20:e=!0;case 21:if(i&&(this.wPt=XW.sA,this.lPt.qA(),a=!(this.fkt&&0===this.fkt.timeOffset),this.NPt=a,this.COt.QA(),this.lPt.BA(),this.VI.QA(),this.VI.JA(),this.mkt(),this.mY=El.Kg,this.Zo(new fg(this.uA,El.Kg))),e&&(this.wPt=XW.sA,this.ZOt.qA()),(i||e||r)&&this.FPt(n.Ykt),i||e){t.next=27;break}return t.next=27,this.VPt();case 27:!i&&e&&(this.UPt()||this.APt.length>0?this.bPt():(this.zPt(),this.ZSt=h)),t.next=36;break;case 30:if(null!==n){t.next=35;break}return t.next=33,this.VPt();case 33:t.next=36;break;case 35:this.OPt(!0);case 36:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.VPt=function(){var t=this.yPt;return this.ext(t&&t.cet())},e.OPt=function(t){this.GPt(QP.Dpt),this.HPt(),this.wPt=XW.aPt;var n=this.ZSt&&this.ZSt.rTt.cet(!1);if(this.pPt=!1,n)t&&(this.wPt=XW.aPt,this.bPt());else{if(this.kkt.sg!==this)return;this.VI.qA(),!this.VI.hA&&t&&this.VI.BA(),this.pkt()}},e.pkt=function(){this.WPt(),t.prototype.pkt.call(this)},e.WPt=function(){this.VI.hA&&(this.wPt=XW.vPt),this.ZSt&&(this.ZSt.rTt._Ct()&&this.PMt.Zo(new pF(this.BPt(this.ZSt))),this.gPt.WCt(this.ZSt.rTt),this.ZSt=void 0)},e.YPt=function(t){this._Pt=this._Pt.concat(t)},e.HPt=function(){this._Pt=[]},e.CPt=function(t){this.VI.hw.appendChild(t)},e.GPt=function(t){for(var n=0,i=this._Pt;n<i.length;n++){var e=i[n];e.tNt===t&&DP(e.eventURL)}},e.FPt=function(t){this.lPt.uOt(QP.Fpt);for(var n=0;n<t.length;n++){var i=t[n];DP(i)}},e.UPt=function(){if(!this.ZSt)return!1;var t=this.PPt();if(t)for(;t.cet();)if(t.Ikt.Bkt)return!0;return!1},e.PPt=function(){if(this.ZSt)return zG.cSt(this.ZSt)},e.BPt=function(t){var n=new RG(this,this.VI);return new UG(t,n)},e.axt=function(){return this.mPt||(this.mPt=new RG(this,this.VI)),this.mPt},e.KA=function(){return this.COt.KA()},e.tw=function(){return this.COt.tw()},e.nd=function(){var n=N.coroutine(rr.mark(function n(){return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.nd.call(this);case 2:return this.VI.th("play",this.IPt),this.kkt.iw(this),this.PMt.kE(this.lPt.PMt),this.PMt.kE(this.ZOt.PMt),this.PMt.kE(this.gPt),this.lPt.nd(),this.ZOt.nd(),n.next=11,this.COt.nd();case 11:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),z(i,[{key:"cxt",get:function(){return this.ZSt}},{key:"BMt",get:function(){return i.BMt}},{key:"uA",get:function(){return this.lPt.sxt?this.lPt.uA:this.VI.uA},set:function(t){}},{key:"oA",get:function(){return this.lPt.oA}},{key:"hw",get:function(){return this.VI.hw}},{key:"hA",get:function(){return this.lPt.hA}},{key:"vh",get:function(){return this.Sjt}},{key:"cA",get:function(){return this.jjt}},{key:"aA",get:function(){return this.lPt.aA},set:function(t){this.aA!==t&&(this.lPt.aA=t,this.Zo(new hg(this.uA,this.AA)))}},{key:"Aw",get:function(){return!0}},{key:"fA",get:function(){return this.lPt.fA}},{key:"Ng",get:function(){return this.mY}},{key:"_w",get:function(){return am.Xb().DI()}},{key:"lA",get:function(){return 0}},{key:"gA",get:function(){return 0}},{key:"AA",get:function(){return this.lPt.AA},set:function(t){this.AA!==t&&(this.lPt.AA=t,this.Zo(new hg(this.uA,this.AA)))}},{key:"fkt",get:function(){return this.ZSt?this.BPt(this.ZSt).sSt():null}},{key:"akt",get:function(){if(!this.ZSt)return[];var t=[];if(this.lPt.Bkt){var n=this.lPt.Bkt;t.push(new HG(n,this.lPt.fxt,this.ZSt,this.axt(),this.lPt.XOt).sSt())}if(this.ZOt.Qkt){var i=this.ZOt.Qkt.$kt[0];i&&t.push(new VG(i,this.ZOt.fxt,this.ZSt,this.axt(),this.ZOt.XOt).sSt())}return t}},{key:"vkt",get:function(){for(var t=this.gPt?this.APt.concat(this.gPt.vkt.filter(function(t){return!t.yCt()})).map(function(t){return t.fSt}):[],n=[],i=0;i<t.length;i++)for(var e=t[i],r=0;r<e.length;r++){var s=e[r];n=n.concat(this.kPt.hSt(s))}return n}},{key:"dkt",get:function(){var t=this;return this.gPt.vkt.map(function(n){for(var i=[],e=0,r=0,s=n.fSt;r<s.length;r++){var u=s[r];i=i.concat(t.kPt.hSt(u))}return i.forEach(function(t){t.duration&&(e+=t.duration)}),{timeOffset:n.k_,maxDuration:e,maxRemainingDuration:e,ads:i}})}}],[{key:"BMt",get:function(){return jG.HLt}}]),i}(NP),KW=function(){function t(){}var n=t.prototype;return n.YE=function(t){return t&&("string"!=typeof t.integration||t.integration===Om.DEFAULT||t.integration===Om.THEO)},n.RMt=function(t,n,i,e,r,s,u,o,h,c){var a=new gm(h,e,o,u,c,s);return new JW(t,a,n,i,e,u,o)},n.ae=function(t,n,i,e){i.HSt(t,n,e)},n.jL=function(t){var n=_G(t.sources);if(n){var i={integration:Om.THEO,sources:n};"vast"===i.sources.type&&void 0===t.timeOffset?t.timeOffset=0:"vmap"===i.sources.type&&void 0!==t.timeOffset&&gt("property timeOffset will be ignored for vmap ad sources");var e=kG(t.timeOffset);void 0!==e&&(i.timeOffset=e);var r=kG(t.skipOffset);return void 0!==r&&(i.skipOffset=r),i}},z(t,[{key:"zMt",get:function(){return JW.BMt}}]),t}();Hm.rs.GE(new KW);var $W=function(){function t(t,n){this.bjt=void 0,this.XCt=void 0,this.uJ=void 0,this.XPt=void 0,this.uJ=t;var i,e=r.createElement("div");e.className="theoplayer-ima-wrapper",Oe(e),e.style.zIndex="10",Z.Tr&&(i="mousedown",e.addEventListener(i,Se)),n.appendChild(e);var s=r.createElement("div");s.className="theoplayer-ima",s.style.height="100%",this.XPt=s,e.appendChild(s),this.XCt=e}var n=t.prototype;return n.FC=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.bjt=new google.ima.AdDisplayContainer(this.XPt,this.uJ),this.bjt.initialize();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.ZPt=function(t){"linear"===t?this.XCt.style.marginTop="0px":"nonlinear"===t&&(this.XCt.style.marginTop="-45px")},n.qA=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.XCt.style.opacity="1",this.XCt.style.pointerEvents="";case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.JA=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.XCt.style.opacity="0",this.XCt.style.pointerEvents="none";case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.xo=function(){var t=N.coroutine(rr.mark(function t(){var n;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:null==(n=this.bjt)||n.destroy(),this.bjt=void 0;case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),z(t,[{key:"oOt",get:function(){return this.XCt}},{key:"qPt",get:function(){return this.XPt.offsetHeight}},{key:"JPt",get:function(){return this.XPt.offsetWidth}},{key:"KPt",get:function(){return this.bjt}}]),t}();function tX(t){var n,i,e,r,s=t.getAdPodInfo();try{r={xLt:s.getAdPosition(),uSt:s.getMaxDuration(),$Pt:s.getPodIndex(),YTt:s.getTimeOffset(),OLt:s.getTotalAds(),tYt:s.getIsBumper()}}catch(t){r=void 0}for(var u=t.getUniversalAdIds(),o=[],h=0;h<u.length;h++){var c=u[h];o.push({YSt:c.getAdIdRegistry(),GSt:c.getAdIdValue()})}return{gpt:t.getAdId(),Zkt:t.getAdSystem(),nYt:t.getAdvertiserName(),zmt:null!=(n=t.getApiFramework())?n:void 0,Pkt:[],vv:null!=(i=t.getContentType())?i:void 0,lmt:t.getCreativeId(),PSt:t.getCreativeAdId(),iYt:t.getDealId(),sm:t.getDescription(),oA:t.getDuration(),pu:t.getWidth(),Xk:t.getHeight(),ISt:null!=(e=t.getMediaUrl())?e:void 0,eYt:t.getMinSuggestedDuration(),USt:t.getSkipTimeOffset(),rYt:t.getSurveyUrl(),vI:t.getTitle(),bSt:t.getTraffickingParameters(),ESt:t.getTraffickingParametersString(),rCt:t.getUiElements(),Fkt:o,QSt:t.getVastMediaBitrate(),RSt:t.getVastMediaHeight(),zSt:t.getVastMediaWidth(),LSt:t.getWrapperAdIds(),SSt:t.getWrapperAdSystems(),jSt:t.getWrapperCreativeIds(),$Et:t.isLinear(),ALt:r}}function nX(t){switch(t){case google.ima.AdError.Type.AD_LOAD:return LG.OEt;case google.ima.AdError.Type.AD_PLAY:return LG.xEt}}function iX(){return[google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.EXPANDED_CHANGED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.AD_PROGRESS,google.ima.AdEvent.Type.AD_BUFFERING,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.AD_CAN_PLAY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED]}var eX=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).QEt=void 0,r.bjt=void 0,r.XF=void 0,r.sYt=function(t){t.getAd().isLinear()?r.bjt.ZPt("linear"):r.bjt.ZPt("nonlinear")},r.uYt=function(){r.QEt.resize(r.bjt.JPt,r.bjt.qPt,google.ima.ViewMode.NORMAL)},r.forwardAdEventListener=function(t){var n,i,e=t.getAd(),s={type:(n=t.type,((i={})[google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED]=IG.Ibt,i[google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED]=IG.bbt,i[google.ima.AdEvent.Type.CLICK]=IG.Ebt,i[google.ima.AdEvent.Type.DURATION_CHANGE]=IG.Aa,i[google.ima.AdEvent.Type.EXPANDED_CHANGED]=IG.Lbt,i[google.ima.AdEvent.Type.STARTED]=IG.Sbt,i[google.ima.AdEvent.Type.IMPRESSION]=IG.jbt,i[google.ima.AdEvent.Type.PAUSED]=IG.DA,i[google.ima.AdEvent.Type.RESUMED]=IG.Cbt,i[google.ima.AdEvent.Type.AD_PROGRESS]=IG.Obt,i[google.ima.AdEvent.Type.AD_BUFFERING]=IG.xbt,i[google.ima.AdEvent.Type.FIRST_QUARTILE]=IG.zbt,i[google.ima.AdEvent.Type.MIDPOINT]=IG.Bpt,i[google.ima.AdEvent.Type.THIRD_QUARTILE]=IG.Rbt,i[google.ima.AdEvent.Type.COMPLETE]=IG.Ltt,i[google.ima.AdEvent.Type.USER_CLOSE]=IG.Ubt,i[google.ima.AdEvent.Type.LINEAR_CHANGED]=IG.Bbt,i[google.ima.AdEvent.Type.LOADED]=IG.Qbt,i[google.ima.AdEvent.Type.AD_CAN_PLAY]=IG.Pbt,i[google.ima.AdEvent.Type.AD_METADATA]=IG.Ybt,i[google.ima.AdEvent.Type.AD_BREAK_READY]=IG.Gbt,i[google.ima.AdEvent.Type.INTERACTION]=IG.Fbt,i[google.ima.AdEvent.Type.ALL_ADS_COMPLETED]=IG.Vbt,i[google.ima.AdEvent.Type.SKIPPED]=IG.Hbt,i[google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED]=IG.Wbt,i[google.ima.AdEvent.Type.LOG]=IG.Xbt,i[google.ima.AdEvent.Type.VIEWABLE_IMPRESSION]=IG.Zbt,i[google.ima.AdEvent.Type.VOLUME_CHANGED]=IG.qbt,i[google.ima.AdEvent.Type.VOLUME_MUTED]=IG.Jbt,i)[n]),date:new Date,ZMt:e?tX(t.getAd()):void 0,GEt:t.getAdData()};r.Zo(s)},r.forwardAdErrorEventListener=function(t){var n=t.getError().getInnerError(),i=n?{XMt:n.getErrorCode(),BLt:n.getInnerError(),oh:n.getMessage(),Ao:n.getType(),oYt:n.getVastErrorCode()}:void 0;r.Zo({date:new Date,ZMt:void 0,type:bG.Kbt,GEt:{YEt:{oh:t.getError().getMessage(),oYt:t.getError().getVastErrorCode(),XMt:t.getError().getErrorCode(),Ao:nX(t.getError().getType()),BLt:i}}})},r.QEt=n,r.bjt=i,r.XF=e,r.XF.qo("nj",r.uYt),r.QEt.init(r.bjt.JPt,r.bjt.qPt,google.ima.ViewMode.NORMAL),r.QEt.addEventListener(google.ima.AdEvent.Type.LOADED,r.sYt),r.QEt.addEventListener(iX(),r.forwardAdEventListener),r.QEt.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,r.forwardAdErrorEventListener),r}U(n,t);var i=n.prototype;return i.EO=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:null==(i=this.QEt)||i.setVolume(n);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.bO=function(){return this.QEt.getVolume()},i.FLt=function(){return this.QEt.getRemainingTime()},i.xo=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.XF.th("nj",this.uYt),this.QEt.removeEventListener(google.ima.AdEvent.Type.LOADED,this.sYt),this.QEt.removeEventListener(iX(),this.forwardAdEventListener),this.QEt.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.forwardAdErrorEventListener),this.QEt.destroy();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ab=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.QEt.start();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Zjt=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.QEt.resume();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.QA=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.QEt.pause();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.$M=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.QEt.skip();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.PA=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.QEt.stop();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.SLt=function(){var t=this.QEt.getCurrentAd();if(t)return tX(t)},i.$jt=function(){return this.QEt.getCuePoints()},i.hCt=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.QEt.updateAdsRenderingSettings(uX(n));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n}(Cs),rX=function(t){function n(n,i){var e;return(e=t.call(this,"Hjt")||this).hYt=void 0,e.XCt=void 0,e.hYt=n,e.XCt=i,e}return U(n,t),z(n,[{key:"cYt",get:function(){return this.hYt}},{key:"oOt",get:function(){return this.XCt}}]),n}(xs),sX=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ijt=void 0,e.XF=void 0,e.aYt=void 0,e.fYt=void 0,e.vYt=void 0,e.dYt=void 0,e.onAdsManagerLoadedListener=function(t){if(e.vYt&&e.dYt&&e.fYt){var n,i=uX(e.dYt),r=e.vYt,s=t.getAdsManager({get currentTime(){return r.uA},get duration(){return r.oA}},i),u=new eX(s,e.aYt,e.XF);e.Zo(new rX(s,e.aYt.oOt)),null==(n=e.fYt)||n.Oh(u),e.fYt=void 0}},e.onAdsManagerErrorListener=function(t){var n,i={oh:t.getError().getMessage(),oYt:t.getError().getVastErrorCode(),XMt:t.getError().getErrorCode(),Ao:nX(t.getError().getType()),BLt:void 0};null==(n=e.fYt)||n.xh(i),e.fYt=void 0},e.XF=i,e.aYt=n,e}U(n,t);var i=n.prototype;return i.qjt=function(){var t=N.coroutine(rr.mark(function t(){var n;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:null==(n=this.Ijt)||n.contentComplete();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.kbt=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.fYt){t.next=2;break}throw new f("Only one ImaAdsRequest can be made at a time.");case 2:if(this.aYt.KPt){t.next=4;break}throw new f("AdDisplayContainer is not initialized.");case 4:return this.Ijt=new google.ima.AdsLoader(this.aYt.KPt),this.Ijt.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoadedListener),this.Ijt.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerErrorListener),this.fYt=new eo,this.vYt=i,this.dYt=e,r=new google.ima.AdsRequest,n.NIt?r.adTagUrl=n.NIt:n.DIt&&(r.adsResponse=n.DIt),r.linearAdSlotWidth=n.yIt,r.linearAdSlotHeight=n._It,r.nonLinearAdSlotWidth=n.MIt,r.nonLinearAdSlotHeight=n.kIt,r.setAdWillAutoPlay(n.mIt),r.setAdWillPlayMuted(n.pIt),this.Ijt.requestAds(r),t.abrupt("return",this.fYt.Ch);case 20:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.xo=function(){var t=N.coroutine(rr.mark(function t(){var n,i,e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:null==(n=this.Ijt)||n.removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoadedListener),null==(i=this.Ijt)||i.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerErrorListener),null==(e=this.Ijt)||e.destroy(),this.Ijt=void 0,null==(r=this.fYt)||r.xh("AdsLoader destroyed"),this.fYt=void 0;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(Cs);function uX(t){var n=new google.ima.AdsRenderingSettings;return n.enablePreloading=t.sCt,t.rCt&&(n.uiElements=t.rCt),n.mimeTypes=t.eCt,void 0!==t.oCt&&(n.playAdsAfterTime=t.oCt),void 0!==t.uCt&&(n.loadVideoTimeout=t.uCt),void 0!==t.h6&&(n.bitrate=t.h6),n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n}var oX=function(t){function n(n){var i;return(i=t.call(this)||this).lYt=void 0,i.KI=void 0,i.KI=n,i.lYt=i.KI.uA,i.KI.qo("timeupdate",function(){i.KI.dA||(i.lYt=i.KI.uA),i.Zo(new eg(i.uA,void 0))}),i}return U(n,t),n.prototype.Jl=function(){this.lYt=0},z(n,[{key:"uA",get:function(){return this.KI.dA?this.lYt:this.KI.uA}},{key:"oA",get:function(){return this.KI.oA}},{key:"aA",get:function(){return this.KI.aA}},{key:"AA",get:function(){return this.KI.AA}}]),n}(Cs);xF.rs.registerWebImaAdPlayerConstructor(function(t,n,i,e,r){jF(e);var s=CF(e)?t.KA():void 0,u=new $W(s,t.hw),o=new sX(u,i),h=new oX(t);return new OF(t,n,i,e,r,u,o,h)});var hX,cX,aX,fX,vX=void 0!==e?e:"undefined"!=typeof global?global:void 0!==t?t:{},dX=function(){return/Android/i.test(u.userAgent)||/iPhone|iPad|iPod/i.test(u.userAgent)},lX=function(t,n){for(var i=0,e=t.length;i<e;i++)n[i]=t[i]},gX=function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);return t},AX=function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")},wX=function(){function t(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}return function(n,i,e){return i&&t(n.prototype,i),e&&t(n,e),n}}(),yX=function(){return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in d(t))return function(t,n){var i=[],e=!0,r=!1,s=void 0;try{for(var u,o=t[Symbol.iterator]();!(e=(u=o.next()).done)&&(i.push(u.value),!n||i.length!==n);e=!0);}catch(t){r=!0,s=t}finally{try{!e&&o.return&&o.return()}finally{if(r)throw s}}return i}(t,n);throw new v("Invalid attempt to destructure non-iterable instance")}}(),_X=function(t,n,i){return t+(n-t)*i},MX=(hX=/iPad|iPhone|iPod/.test(u.platform),function(){return hX}),kX=function(){var t=-1!==u.userAgent.indexOf("Version")&&-1!==u.userAgent.indexOf("Android")&&-1!==u.userAgent.indexOf("Chrome");return function(){return t}}(),mX=(function(){var t=/^((?!chrome|android).)*safari/i.test(u.userAgent)}(),function(){var t=-1!==u.userAgent.indexOf("Firefox")&&-1!==u.userAgent.indexOf("Android");return function(){return t}}()),pX=(cX=u.userAgent.match(/.*Chrome\/([0-9]+)/),aX=cX?g(cX[1],10):null,function(){return aX}),NX=function(){var t=!1;if(65===pX()){var n=u.userAgent.match(/.*Chrome\/([0-9\.]*)/);if(n){var i=n[1].split("."),e=yX(i,4),r=(e[0],e[1],e[2]),s=e[3];t=3325===g(r,10)&&g(s,10)<148}}return function(){return t}}(),DX=function(){var t=-1!==u.userAgent.indexOf("R7 Build");return function(){return t}}(),TX=function(){var t=90==e.orientation||-90==e.orientation;return DX()?!t:t},IX=function(){return l.max(e.screen.width,e.screen.height)*e.devicePixelRatio},bX=function(){return l.min(e.screen.width,e.screen.height)*e.devicePixelRatio},EX=function(){if(r.exitFullscreen)r.exitFullscreen();else if(r.webkitExitFullscreen)r.webkitExitFullscreen();else if(r.mozCancelFullScreen)r.mozCancelFullScreen();else{if(!r.msExitFullscreen)return!1;r.msExitFullscreen()}return!0},LX=function(t,n,i,e){var r=t.createShader(t.VERTEX_SHADER);t.shaderSource(r,n),t.compileShader(r);var s=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(s,i),t.compileShader(s);var u=t.createProgram();for(var o in t.attachShader(u,r),t.attachShader(u,s),e)t.bindAttribLocation(u,e[o],o);return t.linkProgram(u),t.deleteShader(r),t.deleteShader(s),u},SX=function(t,n){for(var i={},e=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),r="",s=0;s<e;s++){i[r=t.getActiveUniform(n,s).name.replace("[0]","")]=t.getUniformLocation(n,r)}return i},jX=function(){var t,n=!1;return t=u.userAgent||u.vendor||e.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(n=!0),n},CX=function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);return t},OX=[],xX=function(t){if(MX()){zX(t);var n,i,r=t.style.width,s=t.style.height,u=t.offsetWidth+1,o=t.offsetHeight;t.style.width=u+"px",t.style.height=o+"px";var h=function(){e.cancelAnimationFrame(i);for(var u=0;u<OX.length;u++)if(OX[u]===n){t.style.width=r,t.style.height=s,OX.splice(u,1);break}};n={Ux:t,gYt:h},OX.push(n),i=e.requestAnimationFrame(h)}},zX=function(t){if(MX())for(var n=0;n<OX.length;n++)if(OX[n].Ux===t){OX[n].gYt();break}},RX=function(){var t=l.PI/180,n=.25*l.PI;var i=new Float32Array([0,0,0,1]),e=new Float32Array([0,0,0]);function r(r,s,u,o,h,c){!function(i,e,r,s){var u=l.tan(e?e.upDegrees*t:n),o=l.tan(e?e.downDegrees*t:n),h=l.tan(e?e.leftDegrees*t:n),c=l.tan(e?e.rightDegrees*t:n),a=2/(h+c),f=2/(u+o);i[0]=a,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=f,i[6]=0,i[7]=0,i[8]=-(h-c)*a*.5,i[9]=(u-o)*f*.5,i[10]=s/(r-s),i[11]=-1,i[12]=0,i[13]=0,i[14]=s*r/(r-s),i[15]=0}(r,o||null,c.depthNear,c.depthFar);var a,f,v,d,g,A,w,y,_,M,k,m,p,N,D,T,I,b,E,L=u.orientation||i,S=u.position||e;a=s,v=S,d=(f=L)[0],g=f[1],A=f[2],w=f[3],k=d*(y=d+d),m=d*(_=g+g),p=d*(M=A+A),N=g*_,D=g*M,T=A*M,I=w*y,b=w*_,E=w*M,a[0]=1-(N+T),a[1]=m+E,a[2]=p-b,a[3]=0,a[4]=m-E,a[5]=1-(k+T),a[6]=D+I,a[7]=0,a[8]=p+b,a[9]=D-I,a[10]=1-(k+N),a[11]=0,a[12]=v[0],a[13]=v[1],a[14]=v[2],a[15]=1,h&&function(t,n,i){var e,r,s,u,o,h,c,a,f,v,d,l,g=i[0],A=i[1],w=i[2];n===t?(t[12]=n[0]*g+n[4]*A+n[8]*w+n[12],t[13]=n[1]*g+n[5]*A+n[9]*w+n[13],t[14]=n[2]*g+n[6]*A+n[10]*w+n[14],t[15]=n[3]*g+n[7]*A+n[11]*w+n[15]):(e=n[0],r=n[1],s=n[2],u=n[3],o=n[4],h=n[5],c=n[6],a=n[7],f=n[8],v=n[9],d=n[10],l=n[11],t[0]=e,t[1]=r,t[2]=s,t[3]=u,t[4]=o,t[5]=h,t[6]=c,t[7]=a,t[8]=f,t[9]=v,t[10]=d,t[11]=l,t[12]=e*g+o*A+f*w+n[12],t[13]=r*g+h*A+v*w+n[13],t[14]=s*g+c*A+d*w+n[14],t[15]=u*g+a*A+l*w+n[15])}(s,s,h),function(t,n){var i=n[0],e=n[1],r=n[2],s=n[3],u=n[4],o=n[5],h=n[6],c=n[7],a=n[8],f=n[9],v=n[10],d=n[11],l=n[12],g=n[13],A=n[14],w=n[15],y=i*o-e*u,_=i*h-r*u,M=i*c-s*u,k=e*h-r*o,m=e*c-s*o,p=r*c-s*h,N=a*g-f*l,D=a*A-v*l,T=a*w-d*l,I=f*A-v*g,b=f*w-d*g,E=v*w-d*A,L=y*E-_*b+M*I+k*T-m*D+p*N;L&&(L=1/L,t[0]=(o*E-h*b+c*I)*L,t[1]=(r*b-e*E-s*I)*L,t[2]=(g*p-A*m+w*k)*L,t[3]=(v*m-f*p-d*k)*L,t[4]=(h*T-u*E-c*D)*L,t[5]=(i*E-r*T+s*D)*L,t[6]=(A*M-l*p-w*_)*L,t[7]=(a*p-v*M+d*_)*L,t[8]=(u*b-o*T+c*N)*L,t[9]=(e*T-i*b-s*N)*L,t[10]=(l*m-g*M+w*y)*L,t[11]=(f*M-a*m-d*y)*L,t[12]=(o*D-u*I-h*N)*L,t[13]=(i*I-e*D+r*N)*L,t[14]=(g*_-l*k-A*y)*L,t[15]=(a*k-f*_+v*y)*L)}(s,s)}return function(t,n,i){return!(!t||!n)&&(t.pose=n,t.timestamp=n.timestamp,r(t.leftProjectionMatrix,t.leftViewMatrix,n,i.AYt("left"),i.wYt("left"),i),r(t.rightProjectionMatrix,t.rightViewMatrix,n,i.AYt("right"),i.wYt("right"),i),!0)}}(),UX=function(t){var n,i=t.indexOf("://");n=-1!==i?i+3:0;var e=t.indexOf("/",n);return-1===e&&(e=t.length),t.substring(0,e)},BX=(fX={},function(t,n){void 0===fX[t]&&(console.warn("webvr-polyfill: "+n),fX[t]=!0)}),QX=function(t,n){BX(t,t+" has been deprecated. This may not work on native WebVR displays. "+(n?"Please use "+n+" instead.":""))};var PX=function(t,n,i){if(n){for(var e=[],r=null,s=0;s<n.length;++s)switch(u=n[s]){case t.TEXTURE_BINDING_2D:case t.TEXTURE_BINDING_CUBE_MAP:if((h=n[++s])<t.TEXTURE0||h>t.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),e.push(null,null);break}r||(r=t.getParameter(t.ACTIVE_TEXTURE)),t.activeTexture(h),e.push(t.getParameter(u),null);break;case t.ACTIVE_TEXTURE:r=t.getParameter(t.ACTIVE_TEXTURE),e.push(null);break;default:e.push(t.getParameter(u))}for(i(t),s=0;s<n.length;++s){var u=n[s],o=e[s];switch(u){case t.ACTIVE_TEXTURE:break;case t.ARRAY_BUFFER_BINDING:t.bindBuffer(t.ARRAY_BUFFER,o);break;case t.COLOR_CLEAR_VALUE:t.clearColor(o[0],o[1],o[2],o[3]);break;case t.COLOR_WRITEMASK:t.colorMask(o[0],o[1],o[2],o[3]);break;case t.CURRENT_PROGRAM:t.useProgram(o);break;case t.ELEMENT_ARRAY_BUFFER_BINDING:t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,o);break;case t.FRAMEBUFFER_BINDING:t.bindFramebuffer(t.FRAMEBUFFER,o);break;case t.RENDERBUFFER_BINDING:t.bindRenderbuffer(t.RENDERBUFFER,o);break;case t.TEXTURE_BINDING_2D:if((h=n[++s])<t.TEXTURE0||h>t.TEXTURE31)break;t.activeTexture(h),t.bindTexture(t.TEXTURE_2D,o);break;case t.TEXTURE_BINDING_CUBE_MAP:var h;if((h=n[++s])<t.TEXTURE0||h>t.TEXTURE31)break;t.activeTexture(h),t.bindTexture(t.TEXTURE_CUBE_MAP,o);break;case t.VIEWPORT:t.viewport(o[0],o[1],o[2],o[3]);break;case t.BLEND:case t.CULL_FACE:case t.DEPTH_TEST:case t.SCISSOR_TEST:case t.STENCIL_TEST:o?t.enable(u):t.disable(u);break;default:console.log("No GL restore behavior for 0x"+u.toString(16))}r&&t.activeTexture(r)}}else i(t)},YX=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join("\n"),GX=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");function FX(t,n,i,e){this.gl=t,this.cardboardUI=n,this.bufferScale=i,this.dirtySubmitFrameBindings=e,this.ctxAttribs=t.getContextAttributes(),this.meshWidth=20,this.meshHeight=20,this.bufferWidth=t.drawingBufferWidth,this.bufferHeight=t.drawingBufferHeight,this.realBindFramebuffer=t.bindFramebuffer,this.realEnable=t.enable,this.realDisable=t.disable,this.realColorMask=t.colorMask,this.realClearColor=t.clearColor,this.realViewport=t.viewport,MX()||(this.realCanvasWidth=d.getOwnPropertyDescriptor(t.canvas.__proto__,"width"),this.realCanvasHeight=d.getOwnPropertyDescriptor(t.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=LX(t,YX,GX,this.attribs),this.uniforms=SX(t,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.indexCount=0,this.renderTarget=t.createTexture(),this.framebuffer=t.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=t.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=t.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=t.createRenderbuffer()),this.patch(),this.onResize()}FX.prototype.destroy=function(){var t=this.gl;this.unpatch(),t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer),t.deleteTexture(this.renderTarget),t.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&t.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&t.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&t.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},FX.prototype.onResize=function(){var t=this.gl,n=this,i=[t.RENDERBUFFER_BINDING,t.TEXTURE_BINDING_2D,t.TEXTURE0];PX(t,i,function(t){n.realBindFramebuffer.call(t,t.FRAMEBUFFER,null),n.scissorTest&&n.realDisable.call(t,t.SCISSOR_TEST),n.realColorMask.call(t,!0,!0,!0,!0),n.realViewport.call(t,0,0,t.drawingBufferWidth,t.drawingBufferHeight),n.realClearColor.call(t,0,0,0,1),t.clear(t.COLOR_BUFFER_BIT),n.realBindFramebuffer.call(t,t.FRAMEBUFFER,n.framebuffer),t.bindTexture(t.TEXTURE_2D,n.renderTarget),t.texImage2D(t.TEXTURE_2D,0,n.ctxAttribs.alpha?t.RGBA:t.RGB,n.bufferWidth,n.bufferHeight,0,n.ctxAttribs.alpha?t.RGBA:t.RGB,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n.renderTarget,0),n.ctxAttribs.depth&&n.ctxAttribs.stencil?(t.bindRenderbuffer(t.RENDERBUFFER,n.depthStencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,n.bufferWidth,n.bufferHeight),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,n.depthStencilBuffer)):n.ctxAttribs.depth?(t.bindRenderbuffer(t.RENDERBUFFER,n.depthBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,n.bufferWidth,n.bufferHeight),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,n.depthBuffer)):n.ctxAttribs.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,n.stencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.STENCIL_INDEX8,n.bufferWidth,n.bufferHeight),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.STENCIL_ATTACHMENT,t.RENDERBUFFER,n.stencilBuffer)),!t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),n.realBindFramebuffer.call(t,t.FRAMEBUFFER,n.lastBoundFramebuffer),n.scissorTest&&n.realEnable.call(t,t.SCISSOR_TEST),n.realColorMask.apply(t,n.colorMask),n.realViewport.apply(t,n.viewport),n.realClearColor.apply(t,n.clearColor)}),this.cardboardUI&&this.cardboardUI.onResize()},FX.prototype.patch=function(){if(!this.isPatched){var t=this,n=this.gl.canvas,i=this.gl;MX()||(n.width=IX()*this.bufferScale,n.height=bX()*this.bufferScale,d.defineProperty(n,"width",{configurable:!0,enumerable:!0,get:function(){return t.bufferWidth},set:function(i){t.bufferWidth=i,t.realCanvasWidth.set.call(n,i),t.onResize()}}),d.defineProperty(n,"height",{configurable:!0,enumerable:!0,get:function(){return t.bufferHeight},set:function(i){t.bufferHeight=i,t.realCanvasHeight.set.call(n,i),t.onResize()}})),this.lastBoundFramebuffer=i.getParameter(i.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(i.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(n,e){t.lastBoundFramebuffer=e||t.framebuffer,t.realBindFramebuffer.call(i,n,t.lastBoundFramebuffer)},this.cullFace=i.getParameter(i.CULL_FACE),this.depthTest=i.getParameter(i.DEPTH_TEST),this.blend=i.getParameter(i.BLEND),this.scissorTest=i.getParameter(i.SCISSOR_TEST),this.stencilTest=i.getParameter(i.STENCIL_TEST),i.enable=function(n){switch(n){case i.CULL_FACE:t.cullFace=!0;break;case i.DEPTH_TEST:t.depthTest=!0;break;case i.BLEND:t.blend=!0;break;case i.SCISSOR_TEST:t.scissorTest=!0;break;case i.STENCIL_TEST:t.stencilTest=!0}t.realEnable.call(i,n)},i.disable=function(n){switch(n){case i.CULL_FACE:t.cullFace=!1;break;case i.DEPTH_TEST:t.depthTest=!1;break;case i.BLEND:t.blend=!1;break;case i.SCISSOR_TEST:t.scissorTest=!1;break;case i.STENCIL_TEST:t.stencilTest=!1}t.realDisable.call(i,n)},this.colorMask=i.getParameter(i.COLOR_WRITEMASK),i.colorMask=function(n,e,r,s){t.colorMask[0]=n,t.colorMask[1]=e,t.colorMask[2]=r,t.colorMask[3]=s,t.realColorMask.call(i,n,e,r,s)},this.clearColor=i.getParameter(i.COLOR_CLEAR_VALUE),i.clearColor=function(n,e,r,s){t.clearColor[0]=n,t.clearColor[1]=e,t.clearColor[2]=r,t.clearColor[3]=s,t.realClearColor.call(i,n,e,r,s)},this.viewport=i.getParameter(i.VIEWPORT),i.viewport=function(n,e,r,s){t.viewport[0]=n,t.viewport[1]=e,t.viewport[2]=r,t.viewport[3]=s,t.realViewport.call(i,n,e,r,s)},this.isPatched=!0,xX(n)}},FX.prototype.unpatch=function(){if(this.isPatched){var t=this.gl,n=this.gl.canvas;MX()||(d.defineProperty(n,"width",this.realCanvasWidth),d.defineProperty(n,"height",this.realCanvasHeight)),n.width=this.bufferWidth,n.height=this.bufferHeight,t.bindFramebuffer=this.realBindFramebuffer,t.enable=this.realEnable,t.disable=this.realDisable,t.colorMask=this.realColorMask,t.clearColor=this.realClearColor,t.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&t.bindFramebuffer(t.FRAMEBUFFER,null),this.isPatched=!1,o(function(){xX(n)},1)}},FX.prototype.setTextureBounds=function(t,n){t||(t=[0,0,.5,1]),n||(n=[.5,0,.5,1]),this.viewportOffsetScale[0]=t[0],this.viewportOffsetScale[1]=t[1],this.viewportOffsetScale[2]=t[2],this.viewportOffsetScale[3]=t[3],this.viewportOffsetScale[4]=n[0],this.viewportOffsetScale[5]=n[1],this.viewportOffsetScale[6]=n[2],this.viewportOffsetScale[7]=n[3]},FX.prototype.submitFrame=function(){var t=this.gl,n=this,i=[];if(this.dirtySubmitFrameBindings||i.push(t.CURRENT_PROGRAM,t.ARRAY_BUFFER_BINDING,t.ELEMENT_ARRAY_BUFFER_BINDING,t.TEXTURE_BINDING_2D,t.TEXTURE0),PX(t,i,function(t){n.realBindFramebuffer.call(t,t.FRAMEBUFFER,null),n.cullFace&&n.realDisable.call(t,t.CULL_FACE),n.depthTest&&n.realDisable.call(t,t.DEPTH_TEST),n.blend&&n.realDisable.call(t,t.BLEND),n.scissorTest&&n.realDisable.call(t,t.SCISSOR_TEST),n.stencilTest&&n.realDisable.call(t,t.STENCIL_TEST),n.realColorMask.call(t,!0,!0,!0,!0),n.realViewport.call(t,0,0,t.drawingBufferWidth,t.drawingBufferHeight),(n.ctxAttribs.alpha||MX())&&(n.realClearColor.call(t,0,0,0,1),t.clear(t.COLOR_BUFFER_BIT)),t.useProgram(n.program),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.indexBuffer),t.bindBuffer(t.ARRAY_BUFFER,n.vertexBuffer),t.enableVertexAttribArray(n.attribs.position),t.enableVertexAttribArray(n.attribs.texCoord),t.vertexAttribPointer(n.attribs.position,2,t.FLOAT,!1,20,0),t.vertexAttribPointer(n.attribs.texCoord,3,t.FLOAT,!1,20,8),t.activeTexture(t.TEXTURE0),t.uniform1i(n.uniforms.diffuse,0),t.bindTexture(t.TEXTURE_2D,n.renderTarget),t.uniform4fv(n.uniforms.viewportOffsetScale,n.viewportOffsetScale),t.drawElements(t.TRIANGLES,n.indexCount,t.UNSIGNED_SHORT,0),n.cardboardUI&&n.cardboardUI.renderNoState(),n.realBindFramebuffer.call(n.gl,t.FRAMEBUFFER,n.framebuffer),n.ctxAttribs.preserveDrawingBuffer||(n.realClearColor.call(t,0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)),n.dirtySubmitFrameBindings||n.realBindFramebuffer.call(t,t.FRAMEBUFFER,n.lastBoundFramebuffer),n.cullFace&&n.realEnable.call(t,t.CULL_FACE),n.depthTest&&n.realEnable.call(t,t.DEPTH_TEST),n.blend&&n.realEnable.call(t,t.BLEND),n.scissorTest&&n.realEnable.call(t,t.SCISSOR_TEST),n.stencilTest&&n.realEnable.call(t,t.STENCIL_TEST),n.realColorMask.apply(t,n.colorMask),n.realViewport.apply(t,n.viewport),!n.ctxAttribs.alpha&&n.ctxAttribs.preserveDrawingBuffer||n.realClearColor.apply(t,n.clearColor)}),MX()){var e=t.canvas;e.width==n.bufferWidth&&e.height==n.bufferHeight||(n.bufferWidth=e.width,n.bufferHeight=e.height,n.onResize())}},FX.prototype.updateDeviceInfo=function(t){var n=this.gl,i=this,e=[n.ARRAY_BUFFER_BINDING,n.ELEMENT_ARRAY_BUFFER_BINDING];PX(n,e,function(n){var e=i.yYt(i.meshWidth,i.meshHeight,t);if(n.bindBuffer(n.ARRAY_BUFFER,i.vertexBuffer),n.bufferData(n.ARRAY_BUFFER,e,n.STATIC_DRAW),!i.indexCount){var r=i._Yt(i.meshWidth,i.meshHeight);n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,i.indexBuffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,r,n.STATIC_DRAW),i.indexCount=r.length}})},FX.prototype.yYt=function(t,n,i){for(var e=new Float32Array(2*t*n*5),r=i.getLeftEyeVisibleTanAngles(),s=i.getLeftEyeNoLensTanAngles(),u=i.getLeftEyeVisibleScreenRect(s),o=0,h=0;h<2;h++){for(var c=0;c<n;c++)for(var a=0;a<t;a++,o++){var f=a/(t-1),v=c/(n-1),d=f,g=v,A=_X(r[0],r[2],f),w=_X(r[3],r[1],v),y=l.sqrt(A*A+w*w),_=i.distortion.distortInverse(y),M=w*_/y;f=(A*_/y-s[0])/(s[2]-s[0]),v=(M-s[3])/(s[1]-s[3]),f=2*(u.x+f*u.width-.5),v=2*(u.y+v*u.height-.5),e[5*o+0]=f,e[5*o+1]=v,e[5*o+2]=d,e[5*o+3]=g,e[5*o+4]=h}var k=r[2]-r[0];r[0]=-(k+r[0]),r[2]=k-r[2],k=s[2]-s[0],s[0]=-(k+s[0]),s[2]=k-s[2],u.x=1-(u.x+u.width)}return e},FX.prototype._Yt=function(t,n){for(var i=new Uint16Array(2*(t-1)*(n-1)*6),e=t/2,r=n/2,s=0,u=0,o=0;o<2;o++)for(var h=0;h<n;h++)for(var c=0;c<t;c++,s++)0!=c&&0!=h&&(c<=e==h<=r?(i[u++]=s,i[u++]=s-t-1,i[u++]=s-t,i[u++]=s-t-1,i[u++]=s,i[u++]=s-1):(i[u++]=s-1,i[u++]=s-t,i[u++]=s,i[u++]=s-t,i[u++]=s-1,i[u++]=s-t-1));return i},FX.prototype.MYt=function(t,n){var i=d.getOwnPropertyDescriptor(t,n);return void 0!==i.get&&void 0!==i.set||(i.configurable=!0,i.enumerable=!0,i.get=function(){return this.getAttribute(n)},i.set=function(t){this.setAttribute(n,t)}),i};var VX=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join("\n"),HX=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join("\n"),WX=l.PI/180,XX=.3125;function ZX(t){this.gl=t,this.attribs={position:0},this.program=LX(t,VX,HX,this.attribs),this.uniforms=SX(t,this.program),this.vertexBuffer=t.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}function qX(t){this.coefficients=t}ZX.prototype.destroy=function(){var t=this.gl;this.listener&&t.canvas.removeEventListener("click",this.listener,!1),t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer)},ZX.prototype.listen=function(t,n){var i=this.gl.canvas,e="undefined"!=typeof TouchEvent;this.listener=function(r){var s=i.clientWidth/2,u=e&&r instanceof TouchEvent?(r.preventDefault(),r.changedTouches[0]):r;u.clientX>s-42&&u.clientX<s+42&&u.clientY>i.clientHeight-42?(r.preventDefault(),r.stopImmediatePropagation(),t(r)):u.clientX<42&&u.clientY<42&&(r.preventDefault(),r.stopImmediatePropagation(),n(r))},i.addEventListener("click",this.listener,!1),i.addEventListener("touchstart",this.listener,!1)},ZX.prototype.onResize=function(){var t=this.gl,n=this,i=[t.ARRAY_BUFFER_BINDING];PX(t,i,function(t){var i=[],r=t.drawingBufferWidth/2,s=l.max(screen.width,screen.height)*e.devicePixelRatio,u=t.drawingBufferWidth/s*e.devicePixelRatio,o=4*u/2,h=42*u,c=28*u/2,a=14*u;function f(t,n){var e=(90-t)*WX,s=l.cos(e),u=l.sin(e);i.push(XX*s*c+r,XX*u*c+c),i.push(n*s*c+r,n*u*c+c)}i.push(r-o,h),i.push(r-o,t.drawingBufferHeight),i.push(r+o,h),i.push(r+o,t.drawingBufferHeight),n.gearOffset=i.length/2;for(var v=0;v<=6;v++){var d=60*v;f(d,1),f(d+12,1),f(d+20,.75),f(d+40,.75),f(d+48,1)}function g(n,e){i.push(a+n,t.drawingBufferHeight-a-e)}n.gearVertexCount=i.length/2-n.gearOffset,n.arrowOffset=i.length/2;var A=o/l.sin(45*WX);g(0,c),g(c,0),g(c+A,A),g(A,c+A),g(A,c-A),g(0,c),g(c,2*c),g(c+A,2*c-A),g(A,c-A),g(0,c),g(A,c-o),g(28*u,c-o),g(A,c+o),g(28*u,c+o),n.arrowVertexCount=i.length/2-n.arrowOffset,t.bindBuffer(t.ARRAY_BUFFER,n.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.STATIC_DRAW)})},ZX.prototype.render=function(){var t=this.gl,n=this,i=[t.CULL_FACE,t.DEPTH_TEST,t.BLEND,t.SCISSOR_TEST,t.STENCIL_TEST,t.COLOR_WRITEMASK,t.VIEWPORT,t.CURRENT_PROGRAM,t.ARRAY_BUFFER_BINDING];PX(t,i,function(t){t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.BLEND),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.colorMask(!0,!0,!0,!0),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),n.renderNoState()})},ZX.prototype.renderNoState=function(){var t,n,i,e,r,s,u,o,h,c,a=this.gl;a.useProgram(this.program),a.bindBuffer(a.ARRAY_BUFFER,this.vertexBuffer),a.enableVertexAttribArray(this.attribs.position),a.vertexAttribPointer(this.attribs.position,2,a.FLOAT,!1,8,0),a.uniform4f(this.uniforms.color,1,1,1,1),t=this.projMat,n=0,i=a.drawingBufferWidth,e=0,r=a.drawingBufferHeight,o=1/(n-i),h=1/(e-r),c=1/((s=.1)-(u=1024)),t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(n+i)*o,t[13]=(r+e)*h,t[14]=(u+s)*c,t[15]=1,a.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),a.drawArrays(a.TRIANGLE_STRIP,0,4),a.drawArrays(a.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),a.drawArrays(a.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},qX.prototype.distortInverse=function(t){for(var n=0,i=1,e=t-this.distort(n);l.abs(i-n)>1e-4;){var r=t-this.distort(i),s=i-r*((i-n)/(r-e));n=i,i=s,e=r}return i},qX.prototype.distort=function(t){for(var n=t*t,i=0,e=0;e<this.coefficients.length;e++)i=n*(i+this.coefficients[e]);return(i+1)*t};var JX=l.PI/180,KX=180/l.PI,$X=function(t,n,i){this.x=t||0,this.y=n||0,this.z=i||0};$X.prototype={constructor:$X,set:function(t,n,i){return this.x=t,this.y=n,this.z=i,this},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},length:function(){return l.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var t=this.length();if(0!==t){var n=1/t;this.multiplyScalar(n)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(t){this.x*=t,this.y*=t,this.z*=t},applyQuaternion:function(t){var n=this.x,i=this.y,e=this.z,r=t.x,s=t.y,u=t.z,o=t.w,h=o*n+s*e-u*i,c=o*i+u*n-r*e,a=o*e+r*i-s*n,f=-r*n-s*i-u*e;return this.x=h*o+f*-r+c*-u-a*-s,this.y=c*o+f*-s+a*-r-h*-u,this.z=a*o+f*-u+h*-s-c*-r,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},crossVectors:function(t,n){var i=t.x,e=t.y,r=t.z,s=n.x,u=n.y,o=n.z;return this.x=e*o-r*u,this.y=r*s-i*o,this.z=i*u-e*s,this}};var tZ,nZ,iZ=function(t,n,i,e){this.x=t||0,this.y=n||0,this.z=i||0,this.w=void 0!==e?e:1};function eZ(t){this.width=t.width||IX(),this.height=t.height||bX(),this.widthMeters=t.widthMeters,this.heightMeters=t.heightMeters,this.bevelMeters=t.bevelMeters}iZ.prototype={constructor:iZ,set:function(t,n,i,e){return this.x=t,this.y=n,this.z=i,this.w=e,this},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},setFromEulerXYZ:function(t,n,i){var e=l.cos(t/2),r=l.cos(n/2),s=l.cos(i/2),u=l.sin(t/2),o=l.sin(n/2),h=l.sin(i/2);return this.x=u*r*s+e*o*h,this.y=e*o*s-u*r*h,this.z=e*r*h+u*o*s,this.w=e*r*s-u*o*h,this},setFromEulerYXZ:function(t,n,i){var e=l.cos(t/2),r=l.cos(n/2),s=l.cos(i/2),u=l.sin(t/2),o=l.sin(n/2),h=l.sin(i/2);return this.x=u*r*s+e*o*h,this.y=e*o*s-u*r*h,this.z=e*r*h-u*o*s,this.w=e*r*s+u*o*h,this},setFromAxisAngle:function(t,n){var i=n/2,e=l.sin(i);return this.x=t.x*e,this.y=t.y*e,this.z=t.z*e,this.w=l.cos(i),this},multiply:function(t){return this.multiplyQuaternions(this,t)},multiplyQuaternions:function(t,n){var i=t.x,e=t.y,r=t.z,s=t.w,u=n.x,o=n.y,h=n.z,c=n.w;return this.x=i*c+s*u+e*h-r*o,this.y=e*c+s*o+r*u-i*h,this.z=r*c+s*h+i*o-e*u,this.w=s*c-i*u-e*o-r*h,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var t=l.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t),this},slerp:function(t,n){if(0===n)return this;if(1===n)return this.copy(t);var i=this.x,e=this.y,r=this.z,s=this.w,u=s*t.w+i*t.x+e*t.y+r*t.z;if(u<0?(this.w=-t.w,this.x=-t.x,this.y=-t.y,this.z=-t.z,u=-u):this.copy(t),u>=1)return this.w=s,this.x=i,this.y=e,this.z=r,this;var o=l.acos(u),h=l.sqrt(1-u*u);if(l.abs(h)<.001)return this.w=.5*(s+this.w),this.x=.5*(i+this.x),this.y=.5*(e+this.y),this.z=.5*(r+this.z),this;var c=l.sin((1-n)*o)/h,a=l.sin(n*o)/h;return this.w=s*c+this.w*a,this.x=i*c+this.x*a,this.y=e*c+this.y*a,this.z=r*c+this.z*a,this},setFromUnitVectors:function(t,n){return void 0===tZ&&(tZ=new $X),(nZ=t.dot(n)+1)<1e-6?(nZ=0,l.abs(t.x)>l.abs(t.z)?tZ.set(-t.y,t.x,0):tZ.set(0,-t.z,t.y)):tZ.crossVectors(t,n),this.x=tZ.x,this.y=tZ.y,this.z=tZ.z,this.w=nZ,this.normalize(),this}};var rZ=new eZ({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),sZ=new eZ({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),uZ={CardboardV1:new hZ({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new hZ({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function oZ(t){this.viewer=uZ.CardboardV2,this.updateDeviceParams(t),this.distortion=new qX(this.viewer.distortionCoefficients)}function hZ(t){this.id=t.id,this.label=t.label,this.fov=t.fov,this.interLensDistance=t.interLensDistance,this.baselineLensDistance=t.baselineLensDistance,this.screenLensDistance=t.screenLensDistance,this.distortionCoefficients=t.distortionCoefficients,this.inverseCoefficients=t.inverseCoefficients}oZ.prototype.updateDeviceParams=function(t){this.device=this.kYt(t)||this.device},oZ.prototype.getDevice=function(){return this.device},oZ.prototype.setViewer=function(t){this.viewer=t,this.distortion=new qX(this.viewer.distortionCoefficients)},oZ.prototype.kYt=function(t){if(!t)return MX()?(console.warn("Using fallback iOS device measurements."),sZ):(console.warn("Using fallback Android device measurements."),rZ);var n=.0254/t.xdpi,i=.0254/t.ydpi;return new eZ({widthMeters:n*IX(),heightMeters:i*bX(),bevelMeters:.001*t.bevelMm})},oZ.prototype.getDistortedFieldOfViewLeftEye=function(){var t=this.viewer,n=this.device,i=this.distortion,e=t.screenLensDistance,r=(n.widthMeters-t.interLensDistance)/2,s=t.interLensDistance/2,u=t.baselineLensDistance-n.bevelMeters,o=n.heightMeters-u,h=KX*l.atan(i.distort(r/e)),c=KX*l.atan(i.distort(s/e)),a=KX*l.atan(i.distort(u/e)),f=KX*l.atan(i.distort(o/e));return{leftDegrees:l.min(h,t.fov),rightDegrees:l.min(c,t.fov),downDegrees:l.min(a,t.fov),upDegrees:l.min(f,t.fov)}},oZ.prototype.getLeftEyeVisibleTanAngles=function(){var t=this.viewer,n=this.device,i=this.distortion,e=l.tan(-JX*t.fov),r=l.tan(JX*t.fov),s=l.tan(JX*t.fov),u=l.tan(-JX*t.fov),o=n.widthMeters/4,h=n.heightMeters/2,c=t.baselineLensDistance-n.bevelMeters-h,a=t.interLensDistance/2-o,f=-c,v=t.screenLensDistance,d=i.distort((a-o)/v),g=i.distort((f+h)/v),A=i.distort((a+o)/v),w=i.distort((f-h)/v),y=new Float32Array(4);return y[0]=l.max(e,d),y[1]=l.min(r,g),y[2]=l.min(s,A),y[3]=l.max(u,w),y},oZ.prototype.getLeftEyeNoLensTanAngles=function(){var t=this.viewer,n=this.device,i=this.distortion,e=new Float32Array(4),r=i.distortInverse(l.tan(-JX*t.fov)),s=i.distortInverse(l.tan(JX*t.fov)),u=i.distortInverse(l.tan(JX*t.fov)),o=i.distortInverse(l.tan(-JX*t.fov)),h=n.widthMeters/4,c=n.heightMeters/2,a=t.baselineLensDistance-n.bevelMeters-c,f=t.interLensDistance/2-h,v=-a,d=t.screenLensDistance,g=(f-h)/d,A=(v+c)/d,w=(f+h)/d,y=(v-c)/d;return e[0]=l.max(r,g),e[1]=l.min(s,A),e[2]=l.min(u,w),e[3]=l.max(o,y),e},oZ.prototype.getLeftEyeVisibleScreenRect=function(t){var n=this.viewer,i=this.device,e=n.screenLensDistance,r=(i.widthMeters-n.interLensDistance)/2,s=n.baselineLensDistance-i.bevelMeters,u=(t[0]*e+r)/i.widthMeters,o=(t[1]*e+s)/i.heightMeters,h=(t[2]*e+r)/i.widthMeters,c=(t[3]*e+s)/i.heightMeters;return{x:u,y:c,width:h-u,height:o-c}},oZ.prototype.getFieldOfViewLeftEye=function(t){return t?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},oZ.prototype.getFieldOfViewRightEye=function(t){var n=this.getFieldOfViewLeftEye(t);return{leftDegrees:n.rightDegrees,rightDegrees:n.leftDegrees,upDegrees:n.upDegrees,downDegrees:n.downDegrees}},oZ.prototype.getUndistortedFieldOfViewLeftEye=function(){var t=this.mYt();return{leftDegrees:KX*l.atan(t.outerDist),rightDegrees:KX*l.atan(t.innerDist),downDegrees:KX*l.atan(t.bottomDist),upDegrees:KX*l.atan(t.topDist)}},oZ.prototype.getUndistortedViewportLeftEye=function(){var t=this.mYt(),n=this.viewer,i=this.device,e=n.screenLensDistance,r=i.widthMeters/e,s=i.heightMeters/e,u=i.width/r,o=i.height/s,h=l.round((t.eyePosX-t.outerDist)*u),c=l.round((t.eyePosY-t.bottomDist)*o);return{x:h,y:c,width:l.round((t.eyePosX+t.innerDist)*u)-h,height:l.round((t.eyePosY+t.topDist)*o)-c}},oZ.prototype.mYt=function(){var t=this.viewer,n=this.device,i=this.distortion,e=t.screenLensDistance,r=t.interLensDistance/2/e,s=n.widthMeters/e,u=n.heightMeters/e,o=s/2-r,h=(t.baselineLensDistance-n.bevelMeters)/e,c=t.fov,a=i.distortInverse(l.tan(JX*c)),f=l.min(o,a),v=l.min(r,a),d=l.min(h,a);return{outerDist:f,innerDist:v,topDist:l.min(u-h,a),bottomDist:d,eyePosX:o,eyePosY:h}},oZ.Viewers=uZ;var cZ={format:1,last_updated:"2018-02-20T22:55:10Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LENOVO/*/Lenovo PB2-690Y/*"},{ua:"Lenovo PB2-690Y"}],dpi:[457.2,454.713],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/G5/*"},{ua:"Moto G (5) Plus"}],dpi:[403.4,403],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A5000/*"},{ua:"ONEPLUS A5000 "}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A5010/*"},{ua:"ONEPLUS A5010"}],dpi:[403,400],bw:2,ac:1e3},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920P/*"},{ua:"SM-N920P"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G950F/*"},{ua:"SM-G950F"}],dpi:[562.707,565.293],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955U/*"},{ua:"SM-G955U"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Fly/*/IQ4412/*"},{ua:"IQ4412"}],dpi:307.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"BENEVE/*/VR518/*"},{ua:"VR518"}],dpi:480,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3}]};function aZ(t,n){if(this.dpdb=cZ,this.pYt(),t){this.onDeviceParamsUpdated=n;var i=new M,e=this;i.open("GET",t,!0),i.addEventListener("load",function(){e.loading=!1,i.status>=200&&i.status<=299?(e.dpdb=JSON.parse(i.response),e.pYt()):console.error("Error loading online DPDB!")}),i.send()}}function fZ(t){this.xdpi=t.xdpi,this.ydpi=t.ydpi,this.bevelMm=t.bevelMm}function vZ(t,n){this.set(t,n)}function dZ(t,n){this.kFilter=t,this.isDebug=n,this.currentAccelMeasurement=new vZ,this.currentGyroMeasurement=new vZ,this.previousGyroMeasurement=new vZ,MX()?this.filterQ=new iZ(-1,0,0,1):this.filterQ=new iZ(1,0,0,1),this.previousFilterQ=new iZ,this.previousFilterQ.copy(this.filterQ),this.accelQ=new iZ,this.isOrientationInitialized=!1,this.estimatedGravity=new $X,this.measuredGravity=new $X,this.gyroIntegralQ=new iZ}function lZ(t,n){this.predictionTimeS=t,this.isDebug=n,this.previousQ=new iZ,this.previousTimestampS=null,this.deltaQ=new iZ,this.outQ=new iZ}function gZ(t,n,i,r){this.yawOnly=i,this.accelerometer=new $X,this.gyroscope=new $X,this.filter=new dZ(t,r),this.posePredictor=new lZ(n,r),this.isFirefoxAndroid=mX(),this.isIOS=MX();var s=pX();this.isDeviceMotionInRadians=!this.isIOS&&s&&s<66,this.isWithoutDeviceMotion=NX(),this.filterToWorldQ=new iZ,MX()?this.filterToWorldQ.setFromAxisAngle(new $X(1,0,0),l.PI/2):this.filterToWorldQ.setFromAxisAngle(new $X(1,0,0),-l.PI/2),this.inverseWorldToScreenQ=new iZ,this.worldToScreenQ=new iZ,this.originalPoseAdjustQ=new iZ,this.originalPoseAdjustQ.setFromAxisAngle(new $X(0,0,1),-e.orientation*l.PI/180),this.NYt(),TX()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new iZ,this.DYt=new Float32Array(4),this.start()}aZ.prototype.getDeviceParams=function(){return this.deviceParams},aZ.prototype.pYt=function(){var t=this.TYt();t?(this.deviceParams=t,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},aZ.prototype.TYt=function(){var t=this.dpdb;if(!t)return console.error("DPDB not available."),null;if(1!=t.format)return console.error("DPDB has unexpected format version."),null;if(!t.devices||!t.devices.length)return console.error("DPDB does not have a devices section."),null;var n=u.userAgent||u.vendor||e.opera,i=IX(),r=bX();if(!t.devices)return console.error("DPDB has no devices section."),null;for(var s=null,o=1/0,h=0;h<t.devices.length;h++){var c=t.devices[h];if(c.rules)if("ios"==c.type||"android"==c.type){if(MX()==("ios"==c.type)){for(var a=!1,f=0;f<c.rules.length;f++){var v=c.rules[f],d=this.IYt(v,n,i,r);if(!0===d){o=d,s=c,a=!0;break}!1!==d&&d<o&&(o=d,s=c)}if(a)break}}else console.warn("Device["+h+"] has invalid type.");else console.warn("Device["+h+"] has no rules section.")}return s?new fZ({xdpi:s.dpi[0]||s.dpi,ydpi:s.dpi[1]||s.dpi,bevelMm:s.bw}):(console.warn("No DPDB device match."),null)},aZ.prototype.IYt=function(t,n,i,e){if(!t.ua&&!t.res)return!1;if(t.ua&&n.indexOf(t.ua)<0)return!1;if(t.res){if(!t.res[0]||!t.res[1])return!1;var r=t.res[0],s=t.res[1],u=l.min(i,e)-l.min(r,s),o=l.max(i,e)-l.max(r,s),h=l.abs(u)+l.abs(o);if(h>0)return h}return!0},vZ.prototype.set=function(t,n){this.sample=t,this.timestampS=n},vZ.prototype.copy=function(t){this.set(t.sample,t.timestampS)},dZ.prototype.addAccelMeasurement=function(t,n){this.currentAccelMeasurement.set(t,n)},dZ.prototype.addGyroMeasurement=function(t,n){this.currentGyroMeasurement.set(t,n);var i,e=n-this.previousGyroMeasurement.timestampS;w(i=e)||i<=.001||i>1||this.Vlt(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},dZ.prototype.Vlt=function(){if(!this.isOrientationInitialized)return this.accelQ=this.bYt(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var t=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,n=this.EYt(this.currentGyroMeasurement.sample,t);this.gyroIntegralQ.multiply(n),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(n);var i=new iZ;i.copy(this.filterQ),i.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(i),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var e,r=new iZ;r.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),r.inverse(),this.isDebug&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",KX*((e=r).w>1?(console.warn("getQuaternionAngle: w > 1"),0):2*l.acos(e.w)),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var s=new iZ;s.copy(this.filterQ),s.multiply(r),this.filterQ.slerp(s,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},dZ.prototype.getOrientation=function(){return this.filterQ},dZ.prototype.bYt=function(t){var n=new $X;n.copy(t),n.normalize();var i=new iZ;return i.setFromUnitVectors(new $X(0,0,-1),n),i.inverse(),i},dZ.prototype.EYt=function(t,n){var i=new iZ,e=new $X;return e.copy(t),e.normalize(),i.setFromAxisAngle(e,t.length()*n),i},lZ.prototype.getPrediction=function(t,n,i){if(!this.previousTimestampS)return this.previousQ.copy(t),this.previousTimestampS=i,t;var e=new $X;e.copy(n),e.normalize();var r=n.length();if(r<20*JX)return this.isDebug&&console.log("Moving slowly, at %s deg/s: no prediction",(KX*r).toFixed(1)),this.outQ.copy(t),this.previousQ.copy(t),this.outQ;var s=r*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(e,s),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(t),this.previousTimestampS=i,this.outQ},gZ.prototype.getPosition=function(){return null},gZ.prototype.getOrientation=function(){var t=void 0;if(this.isWithoutDeviceMotion&&this.LYt)return this.deviceOrientationFixQ=this.deviceOrientationFixQ||(i=(new iZ).setFromAxisAngle(new $X(0,0,-1),0),r=new iZ,-90===e.orientation?r.setFromAxisAngle(new $X(0,1,0),l.PI/-2):r.setFromAxisAngle(new $X(0,1,0),l.PI/2),i.multiply(r)),this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||((n=new iZ).setFromAxisAngle(new $X(1,0,0),-l.PI/2),n),t=this.LYt,(s=new iZ).copy(t),s.multiply(this.deviceOrientationFilterToWorldQ),s.multiply(this.resetQ),s.multiply(this.worldToScreenQ),s.multiplyQuaternions(this.deviceOrientationFixQ,s),this.yawOnly&&(s.x=0,s.z=0,s.normalize()),this.DYt[0]=s.x,this.DYt[1]=s.y,this.DYt[2]=s.z,this.DYt[3]=s.w,this.DYt;var n,i,r,s,u=this.filter.getOrientation();return t=this.posePredictor.getPrediction(u,this.gyroscope,this.previousTimestampS),(s=new iZ).copy(this.filterToWorldQ),s.multiply(this.resetQ),s.multiply(t),s.multiply(this.worldToScreenQ),this.yawOnly&&(s.x=0,s.z=0,s.normalize()),this.DYt[0]=s.x,this.DYt[1]=s.y,this.DYt[2]=s.z,this.DYt[3]=s.w,this.DYt},gZ.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),TX()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ)},gZ.prototype.SYt=function(t){this.LYt=this.LYt||new iZ;var n=t.alpha,i=t.beta,e=t.gamma;n=(n||0)*l.PI/180,i=(i||0)*l.PI/180,e=(e||0)*l.PI/180,this.LYt.setFromEulerYXZ(i,n,-e)},gZ.prototype.jYt=function(t){this.CYt(t)},gZ.prototype.CYt=function(t){var n=t.accelerationIncludingGravity,i=t.rotationRate,e=t.timeStamp/1e3,r=e-this.previousTimestampS;return r<0?(BX("fusion-pose-sensor:invalid:non-monotonic","Invalid timestamps detected: non-monotonic timestamp from devicemotion"),void(this.previousTimestampS=e)):r<=.001||r>1?(BX("fusion-pose-sensor:invalid:outside-threshold","Invalid timestamps detected: Timestamp from devicemotion outside expected range."),void(this.previousTimestampS=e)):(this.accelerometer.set(-n.x,-n.y,-n.z),DX()?this.gyroscope.set(-i.beta,i.alpha,i.gamma):this.gyroscope.set(i.alpha,i.beta,i.gamma),this.isDeviceMotionInRadians||this.gyroscope.multiplyScalar(l.PI/180),this.filter.addAccelMeasurement(this.accelerometer,e),this.filter.addGyroMeasurement(this.gyroscope,e),void(this.previousTimestampS=e))},gZ.prototype.OYt=function(t){this.NYt()},gZ.prototype.Fh=function(t){var n=t.data;n&&n.type&&("devicemotion"===n.type.toLowerCase()&&this.CYt(n.deviceMotionEvent))},gZ.prototype.NYt=function(){switch(this.worldToScreenQ.set(0,0,0,1),e.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new $X(0,0,1),-l.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new $X(0,0,1),l.PI/2)}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},gZ.prototype.start=function(){var t,n,i;this.xYt=this.jYt.bind(this),this.zYt=this.OYt.bind(this),this.RYt=this.Fh.bind(this),this.UYt=this.SYt.bind(this),MX()&&(t=e.self!==e.top,n=UX(r.referrer),i=UX(e.location.href),t&&n!==i)&&e.addEventListener("message",this.RYt),e.addEventListener("orientationchange",this.zYt),this.isWithoutDeviceMotion?e.addEventListener("deviceorientation",this.UYt):e.addEventListener("devicemotion",this.xYt)},gZ.prototype.stop=function(){e.removeEventListener("devicemotion",this.xYt),e.removeEventListener("deviceorientation",this.UYt),e.removeEventListener("orientationchange",this.zYt),e.removeEventListener("message",this.RYt)};var AZ=new $X(1,0,0),wZ=new $X(0,0,1),yZ={};screen.orientation?yZ=screen.orientation:screen.msOrientation?yZ=screen.msOrientation:d.defineProperty(yZ,"angle",{get:function(){return e.orientation||0}});var _Z=new iZ;_Z.setFromAxisAngle(AZ,-l.PI/2),_Z.multiply((new iZ).setFromAxisAngle(wZ,l.PI/2));var MZ=function(){function t(n){AX(this,t),this.config=n,this.sensor=null,this.fusionSensor=null,this.BYt=new Float32Array(4),this.api=null,this.errors=[],this.QYt=new iZ,this.PYt=new iZ,this.YYt=new iZ,this.GYt=this.GYt.bind(this),this.FYt=this.FYt.bind(this),this.VYt=this.VYt.bind(this),this.VYt(),this.init()}return wX(t,[{key:"init",value:function(){var t=null;try{(t=new RelativeOrientationSensor({frequency:60})).addEventListener("error",this.FYt)}catch(t){this.errors.push(t),"SecurityError"===t.name?(console.error("Cannot construct sensors due to the Feature Policy"),console.warn('Attempting to fall back using "devicemotion"; however this will fail in the future without correct permissions.'),this.useDeviceMotion()):"ReferenceError"===t.name?this.useDeviceMotion():console.error(t)}t&&(this.api="sensor",this.sensor=t,this.sensor.addEventListener("reading",this.GYt),this.sensor.start()),e.addEventListener("orientationchange",this.VYt)}},{key:"useDeviceMotion",value:function(){this.api="devicemotion",this.fusionSensor=new gZ(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG)}},{key:"getOrientation",value:function(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion)return this.BYt[0]=this.BYt[1]=this.BYt[2]=0,this.BYt[3]=1,this.BYt;var t=this.sensor.quaternion;this.QYt.set(t[0],t[1],t[2],t[3]);var n=this.YYt;return n.copy(_Z),n.multiply(this.QYt),n.multiply(this.PYt),this.config.YAW_ONLY&&(n.x=n.z=0,n.normalize()),this.BYt[0]=n.x,this.BYt[1]=n.y,this.BYt[2]=n.z,this.BYt[3]=n.w,this.BYt}},{key:"FYt",value:function(t){this.errors.push(t.error),"NotAllowedError"===t.error.name?console.error("Permission to access sensor was denied"):"NotReadableError"===t.error.name?console.error("Sensor could not be read"):console.error(t.error)}},{key:"GYt",value:function(){}},{key:"VYt",value:function(){var t=-yZ.angle*l.PI/180;this.PYt.setFromAxisAngle(wZ,t)}}]),t}();function kZ(){this.HYt();var t=r.createElement("div");(u=t.style).position="fixed",u.top=0,u.right=0,u.bottom=0,u.left=0,u.backgroundColor="gray",u.fontFamily="sans-serif",u.zIndex=1e6;var n=r.createElement("img");n.src=this.icon,(u=n.style).marginLeft="25%",u.marginTop="25%",u.width="50%",t.appendChild(n);var i=r.createElement("div");(u=i.style).textAlign="center",u.fontSize="16px",u.lineHeight="24px",u.margin="24px 25%",u.width="50%",i.innerHTML="Place your phone into your Cardboard viewer.",t.appendChild(i);var e=r.createElement("div");(u=e.style).backgroundColor="#CFD8DC",u.position="fixed",u.bottom=0,u.width="100%",u.height="48px",u.padding="14px 24px",u.boxSizing="border-box",u.color="#656A6B",t.appendChild(e);var s=r.createElement("div");s.style.float="left",s.innerHTML="No Cardboard viewer?";var u,o=r.createElement("a");o.href="https://www.google.com/get/cardboard/get-cardboard/",o.innerHTML="get one",o.target="nxt",(u=o.style).float="right",u.fontWeight=600,u.textTransform="uppercase",u.borderLeft="1px solid gray",u.paddingLeft="24px",u.textDecoration="none",u.color="#656A6B",e.appendChild(s),e.appendChild(o),this.overlay=t,this.text=i,this.hide()}kZ.prototype.show=function(t){t||this.overlay.parentElement?t&&(this.overlay.parentElement&&this.overlay.parentElement!=t&&this.overlay.parentElement.removeChild(this.overlay),t.appendChild(this.overlay)):r.body.appendChild(this.overlay),this.overlay.style.display="block";var n=this.overlay.querySelector("img").style;TX()?(n.width="20%",n.marginLeft="40%",n.marginTop="3%"):(n.width="50%",n.marginLeft="25%",n.marginTop="25%")},kZ.prototype.hide=function(){this.overlay.style.display="none"},kZ.prototype.showTemporarily=function(t,n){this.show(n),this.timer=o(this.hide.bind(this),t)},kZ.prototype.disableShowTemporarily=function(){h(this.timer)},kZ.prototype.update=function(){this.disableShowTemporarily(),!TX()&&jX()?this.show():this.hide()},kZ.prototype.HYt=function(){this.icon="data:"+"image/svg+xml"+";base64,"+"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE5OHB4IiBoZWlnaHQ9IjI0MHB4IiB2aWV3Qm94PSIwIDAgMTk4IDI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMy4zICgxMjA4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dHJhbnNpdGlvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxnIGlkPSJ0cmFuc2l0aW9uIiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIj4KICAgICAgICAgICAgPGcgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTQtKy1JbXBvcnRlZC1MYXllcnMtQ29weS0rLUltcG9ydGVkLUxheWVycy1Db3B5LTItQ29weSIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEwNy4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjYyNSwyLjUyNyBDMTQ5LjYyNSwyLjUyNyAxNTUuODA1LDYuMDk2IDE1Ni4zNjIsNi40MTggTDE1Ni4zNjIsNy4zMDQgQzE1Ni4zNjIsNy40ODEgMTU2LjM3NSw3LjY2NCAxNTYuNCw3Ljg1MyBDMTU2LjQxLDcuOTM0IDE1Ni40Miw4LjAxNSAxNTYuNDI3LDguMDk1IEMxNTYuNTY3LDkuNTEgMTU3LjQwMSwxMS4wOTMgMTU4LjUzMiwxMi4wOTQgTDE2NC4yNTIsMTcuMTU2IEwxNjQuMzMzLDE3LjA2NiBDMTY0LjMzMywxNy4wNjYgMTY4LjcxNSwxNC41MzYgMTY5LjU2OCwxNC4wNDIgQzE3MS4wMjUsMTQuODgzIDE5NS41MzgsMjkuMDM1IDE5NS41MzgsMjkuMDM1IEwxOTUuNTM4LDgzLjAzNiBDMTk1LjUzOCw4My44MDcgMTk1LjE1Miw4NC4yNTMgMTk0LjU5LDg0LjI1MyBDMTk0LjM1Nyw4NC4yNTMgMTk0LjA5NSw4NC4xNzcgMTkzLjgxOCw4NC4wMTcgTDE2OS44NTEsNzAuMTc5IEwxNjkuODM3LDcwLjIwMyBMMTQyLjUxNSw4NS45NzggTDE0MS42NjUsODQuNjU1IEMxMzYuOTM0LDgzLjEyNiAxMzEuOTE3LDgxLjkxNSAxMjYuNzE0LDgxLjA0NSBDMTI2LjcwOSw4MS4wNiAxMjYuNzA3LDgxLjA2OSAxMjYuNzA3LDgxLjA2OSBMMTIxLjY0LDk4LjAzIEwxMTMuNzQ5LDEwMi41ODYgTDExMy43MTIsMTAyLjUyMyBMMTEzLjcxMiwxMzAuMTEzIEMxMTMuNzEyLDEzMC44ODUgMTEzLjMyNiwxMzEuMzMgMTEyLjc2NCwxMzEuMzMgQzExMi41MzIsMTMxLjMzIDExMi4yNjksMTMxLjI1NCAxMTEuOTkyLDEzMS4wOTQgTDY5LjUxOSwxMDYuNTcyIEM2OC41NjksMTA2LjAyMyA2Ny43OTksMTA0LjY5NSA2Ny43OTksMTAzLjYwNSBMNjcuNzk5LDEwMi41NyBMNjcuNzc4LDEwMi42MTcgQzY3LjI3LDEwMi4zOTMgNjYuNjQ4LDEwMi4yNDkgNjUuOTYyLDEwMi4yMTggQzY1Ljg3NSwxMDIuMjE0IDY1Ljc4OCwxMDIuMjEyIDY1LjcwMSwxMDIuMjEyIEM2NS42MDYsMTAyLjIxMiA2NS41MTEsMTAyLjIxNSA2NS40MTYsMTAyLjIxOSBDNjUuMTk1LDEwMi4yMjkgNjQuOTc0LDEwMi4yMzUgNjQuNzU0LDEwMi4yMzUgQzY0LjMzMSwxMDIuMjM1IDYzLjkxMSwxMDIuMjE2IDYzLjQ5OCwxMDIuMTc4IEM2MS44NDMsMTAyLjAyNSA2MC4yOTgsMTAxLjU3OCA1OS4wOTQsMTAwLjg4MiBMMTIuNTE4LDczLjk5MiBMMTIuNTIzLDc0LjAwNCBMMi4yNDUsNTUuMjU0IEMxLjI0NCw1My40MjcgMi4wMDQsNTEuMDM4IDMuOTQzLDQ5LjkxOCBMNTkuOTU0LDE3LjU3MyBDNjAuNjI2LDE3LjE4NSA2MS4zNSwxNy4wMDEgNjIuMDUzLDE3LjAwMSBDNjMuMzc5LDE3LjAwMSA2NC42MjUsMTcuNjYgNjUuMjgsMTguODU0IEw2NS4yODUsMTguODUxIEw2NS41MTIsMTkuMjY0IEw2NS41MDYsMTkuMjY4IEM2NS45MDksMjAuMDAzIDY2LjQwNSwyMC42OCA2Ni45ODMsMjEuMjg2IEw2Ny4yNiwyMS41NTYgQzY5LjE3NCwyMy40MDYgNzEuNzI4LDI0LjM1NyA3NC4zNzMsMjQuMzU3IEM3Ni4zMjIsMjQuMzU3IDc4LjMyMSwyMy44NCA4MC4xNDgsMjIuNzg1IEM4MC4xNjEsMjIuNzg1IDg3LjQ2NywxOC41NjYgODcuNDY3LDE4LjU2NiBDODguMTM5LDE4LjE3OCA4OC44NjMsMTcuOTk0IDg5LjU2NiwxNy45OTQgQzkwLjg5MiwxNy45OTQgOTIuMTM4LDE4LjY1MiA5Mi43OTIsMTkuODQ3IEw5Ni4wNDIsMjUuNzc1IEw5Ni4wNjQsMjUuNzU3IEwxMDIuODQ5LDI5LjY3NCBMMTAyLjc0NCwyOS40OTIgTDE0OS42MjUsMi41MjcgTTE0OS42MjUsMC44OTIgQzE0OS4zNDMsMC44OTIgMTQ5LjA2MiwwLjk2NSAxNDguODEsMS4xMSBMMTAyLjY0MSwyNy42NjYgTDk3LjIzMSwyNC41NDIgTDk0LjIyNiwxOS4wNjEgQzkzLjMxMywxNy4zOTQgOTEuNTI3LDE2LjM1OSA4OS41NjYsMTYuMzU4IEM4OC41NTUsMTYuMzU4IDg3LjU0NiwxNi42MzIgODYuNjQ5LDE3LjE1IEM4My44NzgsMTguNzUgNzkuNjg3LDIxLjE2OSA3OS4zNzQsMjEuMzQ1IEM3OS4zNTksMjEuMzUzIDc5LjM0NSwyMS4zNjEgNzkuMzMsMjEuMzY5IEM3Ny43OTgsMjIuMjU0IDc2LjA4NCwyMi43MjIgNzQuMzczLDIyLjcyMiBDNzIuMDgxLDIyLjcyMiA2OS45NTksMjEuODkgNjguMzk3LDIwLjM4IEw2OC4xNDUsMjAuMTM1IEM2Ny43MDYsMTkuNjcyIDY3LjMyMywxOS4xNTYgNjcuMDA2LDE4LjYwMSBDNjYuOTg4LDE4LjU1OSA2Ni45NjgsMTguNTE5IDY2Ljk0NiwxOC40NzkgTDY2LjcxOSwxOC4wNjUgQzY2LjY5LDE4LjAxMiA2Ni42NTgsMTcuOTYgNjYuNjI0LDE3LjkxMSBDNjUuNjg2LDE2LjMzNyA2My45NTEsMTUuMzY2IDYyLjA1MywxNS4zNjYgQzYxLjA0MiwxNS4zNjYgNjAuMDMzLDE1LjY0IDU5LjEzNiwxNi4xNTggTDMuMTI1LDQ4LjUwMiBDMC40MjYsNTAuMDYxIC0wLjYxMyw1My40NDIgMC44MTEsNTYuMDQgTDExLjA4OSw3NC43OSBDMTEuMjY2LDc1LjExMyAxMS41MzcsNzUuMzUzIDExLjg1LDc1LjQ5NCBMNTguMjc2LDEwMi4yOTggQzU5LjY3OSwxMDMuMTA4IDYxLjQzMywxMDMuNjMgNjMuMzQ4LDEwMy44MDYgQzYzLjgxMiwxMDMuODQ4IDY0LjI4NSwxMDMuODcgNjQuNzU0LDEwMy44NyBDNjUsMTAzLjg3IDY1LjI0OSwxMDMuODY0IDY1LjQ5NCwxMDMuODUyIEM2NS41NjMsMTAzLjg0OSA2NS42MzIsMTAzLjg0NyA2NS43MDEsMTAzLjg0NyBDNjUuNzY0LDEwMy44NDcgNjUuODI4LDEwMy44NDkgNjUuODksMTAzLjg1MiBDNjUuOTg2LDEwMy44NTYgNjYuMDgsMTAzLjg2MyA2Ni4xNzMsMTAzLjg3NCBDNjYuMjgyLDEwNS40NjcgNjcuMzMyLDEwNy4xOTcgNjguNzAyLDEwNy45ODggTDExMS4xNzQsMTMyLjUxIEMxMTEuNjk4LDEzMi44MTIgMTEyLjIzMiwxMzIuOTY1IDExMi43NjQsMTMyLjk2NSBDMTE0LjI2MSwxMzIuOTY1IDExNS4zNDcsMTMxLjc2NSAxMTUuMzQ3LDEzMC4xMTMgTDExNS4zNDcsMTAzLjU1MSBMMTIyLjQ1OCw5OS40NDYgQzEyMi44MTksOTkuMjM3IDEyMy4wODcsOTguODk4IDEyMy4yMDcsOTguNDk4IEwxMjcuODY1LDgyLjkwNSBDMTMyLjI3OSw4My43MDIgMTM2LjU1Nyw4NC43NTMgMTQwLjYwNyw4Ni4wMzMgTDE0MS4xNCw4Ni44NjIgQzE0MS40NTEsODcuMzQ2IDE0MS45NzcsODcuNjEzIDE0Mi41MTYsODcuNjEzIEMxNDIuNzk0LDg3LjYxMyAxNDMuMDc2LDg3LjU0MiAxNDMuMzMzLDg3LjM5MyBMMTY5Ljg2NSw3Mi4wNzYgTDE5Myw4NS40MzMgQzE5My41MjMsODUuNzM1IDE5NC4wNTgsODUuODg4IDE5NC41OSw4NS44ODggQzE5Ni4wODcsODUuODg4IDE5Ny4xNzMsODQuNjg5IDE5Ny4xNzMsODMuMDM2IEwxOTcuMTczLDI5LjAzNSBDMTk3LjE3MywyOC40NTEgMTk2Ljg2MSwyNy45MTEgMTk2LjM1NSwyNy42MTkgQzE5Ni4zNTUsMjcuNjE5IDE3MS44NDMsMTMuNDY3IDE3MC4zODUsMTIuNjI2IEMxNzAuMTMyLDEyLjQ4IDE2OS44NSwxMi40MDcgMTY5LjU2OCwxMi40MDcgQzE2OS4yODUsMTIuNDA3IDE2OS4wMDIsMTIuNDgxIDE2OC43NDksMTIuNjI3IEMxNjguMTQzLDEyLjk3OCAxNjUuNzU2LDE0LjM1NyAxNjQuNDI0LDE1LjEyNSBMMTU5LjYxNSwxMC44NyBDMTU4Ljc5NiwxMC4xNDUgMTU4LjE1NCw4LjkzNyAxNTguMDU0LDcuOTM0IEMxNTguMDQ1LDcuODM3IDE1OC4wMzQsNy43MzkgMTU4LjAyMSw3LjY0IEMxNTguMDA1LDcuNTIzIDE1Ny45OTgsNy40MSAxNTcuOTk4LDcuMzA0IEwxNTcuOTk4LDYuNDE4IEMxNTcuOTk4LDUuODM0IDE1Ny42ODYsNS4yOTUgMTU3LjE4MSw1LjAwMiBDMTU2LjYyNCw0LjY4IDE1MC40NDIsMS4xMTEgMTUwLjQ0MiwxLjExMSBDMTUwLjE4OSwwLjk2NSAxNDkuOTA3LDAuODkyIDE0OS42MjUsMC44OTIiIGlkPSJGaWxsLTEiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTYuMDI3LDI1LjYzNiBMMTQyLjYwMyw1Mi41MjcgQzE0My44MDcsNTMuMjIyIDE0NC41ODIsNTQuMTE0IDE0NC44NDUsNTUuMDY4IEwxNDQuODM1LDU1LjA3NSBMNjMuNDYxLDEwMi4wNTcgTDYzLjQ2LDEwMi4wNTcgQzYxLjgwNiwxMDEuOTA1IDYwLjI2MSwxMDEuNDU3IDU5LjA1NywxMDAuNzYyIEwxMi40ODEsNzMuODcxIEw5Ni4wMjcsMjUuNjM2IiBpZD0iRmlsbC0yIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjQ2MSwxMDIuMTc0IEM2My40NTMsMTAyLjE3NCA2My40NDYsMTAyLjE3NCA2My40MzksMTAyLjE3MiBDNjEuNzQ2LDEwMi4wMTYgNjAuMjExLDEwMS41NjMgNTguOTk4LDEwMC44NjMgTDEyLjQyMiw3My45NzMgQzEyLjM4Niw3My45NTIgMTIuMzY0LDczLjkxNCAxMi4zNjQsNzMuODcxIEMxMi4zNjQsNzMuODMgMTIuMzg2LDczLjc5MSAxMi40MjIsNzMuNzcgTDk1Ljk2OCwyNS41MzUgQzk2LjAwNCwyNS41MTQgOTYuMDQ5LDI1LjUxNCA5Ni4wODUsMjUuNTM1IEwxNDIuNjYxLDUyLjQyNiBDMTQzLjg4OCw1My4xMzQgMTQ0LjY4Miw1NC4wMzggMTQ0Ljk1Nyw1NS4wMzcgQzE0NC45Nyw1NS4wODMgMTQ0Ljk1Myw1NS4xMzMgMTQ0LjkxNSw1NS4xNjEgQzE0NC45MTEsNTUuMTY1IDE0NC44OTgsNTUuMTc0IDE0NC44OTQsNTUuMTc3IEw2My41MTksMTAyLjE1OCBDNjMuNTAxLDEwMi4xNjkgNjMuNDgxLDEwMi4xNzQgNjMuNDYxLDEwMi4xNzQgTDYzLjQ2MSwxMDIuMTc0IFogTTEyLjcxNCw3My44NzEgTDU5LjExNSwxMDAuNjYxIEM2MC4yOTMsMTAxLjM0MSA2MS43ODYsMTAxLjc4MiA2My40MzUsMTAxLjkzNyBMMTQ0LjcwNyw1NS4wMTUgQzE0NC40MjgsNTQuMTA4IDE0My42ODIsNTMuMjg1IDE0Mi41NDQsNTIuNjI4IEw5Ni4wMjcsMjUuNzcxIEwxMi43MTQsNzMuODcxIEwxMi43MTQsNzMuODcxIFoiIGlkPSJGaWxsLTMiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ4LjMyNyw1OC40NzEgQzE0OC4xNDUsNTguNDggMTQ3Ljk2Miw1OC40OCAxNDcuNzgxLDU4LjQ3MiBDMTQ1Ljg4Nyw1OC4zODkgMTQ0LjQ3OSw1Ny40MzQgMTQ0LjYzNiw1Ni4zNCBDMTQ0LjY4OSw1NS45NjcgMTQ0LjY2NCw1NS41OTcgMTQ0LjU2NCw1NS4yMzUgTDYzLjQ2MSwxMDIuMDU3IEM2NC4wODksMTAyLjExNSA2NC43MzMsMTAyLjEzIDY1LjM3OSwxMDIuMDk5IEM2NS41NjEsMTAyLjA5IDY1Ljc0MywxMDIuMDkgNjUuOTI1LDEwMi4wOTggQzY3LjgxOSwxMDIuMTgxIDY5LjIyNywxMDMuMTM2IDY5LjA3LDEwNC4yMyBMMTQ4LjMyNyw1OC40NzEiIGlkPSJGaWxsLTQiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjkuMDcsMTA0LjM0NyBDNjkuMDQ4LDEwNC4zNDcgNjkuMDI1LDEwNC4zNCA2OS4wMDUsMTA0LjMyNyBDNjguOTY4LDEwNC4zMDEgNjguOTQ4LDEwNC4yNTcgNjguOTU1LDEwNC4yMTMgQzY5LDEwMy44OTYgNjguODk4LDEwMy41NzYgNjguNjU4LDEwMy4yODggQzY4LjE1MywxMDIuNjc4IDY3LjEwMywxMDIuMjY2IDY1LjkyLDEwMi4yMTQgQzY1Ljc0MiwxMDIuMjA2IDY1LjU2MywxMDIuMjA3IDY1LjM4NSwxMDIuMjE1IEM2NC43NDIsMTAyLjI0NiA2NC4wODcsMTAyLjIzMiA2My40NSwxMDIuMTc0IEM2My4zOTksMTAyLjE2OSA2My4zNTgsMTAyLjEzMiA2My4zNDcsMTAyLjA4MiBDNjMuMzM2LDEwMi4wMzMgNjMuMzU4LDEwMS45ODEgNjMuNDAyLDEwMS45NTYgTDE0NC41MDYsNTUuMTM0IEMxNDQuNTM3LDU1LjExNiAxNDQuNTc1LDU1LjExMyAxNDQuNjA5LDU1LjEyNyBDMTQ0LjY0Miw1NS4xNDEgMTQ0LjY2OCw1NS4xNyAxNDQuNjc3LDU1LjIwNCBDMTQ0Ljc4MSw1NS41ODUgMTQ0LjgwNiw1NS45NzIgMTQ0Ljc1MSw1Ni4zNTcgQzE0NC43MDYsNTYuNjczIDE0NC44MDgsNTYuOTk0IDE0NS4wNDcsNTcuMjgyIEMxNDUuNTUzLDU3Ljg5MiAxNDYuNjAyLDU4LjMwMyAxNDcuNzg2LDU4LjM1NSBDMTQ3Ljk2NCw1OC4zNjMgMTQ4LjE0Myw1OC4zNjMgMTQ4LjMyMSw1OC4zNTQgQzE0OC4zNzcsNTguMzUyIDE0OC40MjQsNTguMzg3IDE0OC40MzksNTguNDM4IEMxNDguNDU0LDU4LjQ5IDE0OC40MzIsNTguNTQ1IDE0OC4zODUsNTguNTcyIEw2OS4xMjksMTA0LjMzMSBDNjkuMTExLDEwNC4zNDIgNjkuMDksMTA0LjM0NyA2OS4wNywxMDQuMzQ3IEw2OS4wNywxMDQuMzQ3IFogTTY1LjY2NSwxMDEuOTc1IEM2NS43NTQsMTAxLjk3NSA2NS44NDIsMTAxLjk3NyA2NS45MywxMDEuOTgxIEM2Ny4xOTYsMTAyLjAzNyA2OC4yODMsMTAyLjQ2OSA2OC44MzgsMTAzLjEzOSBDNjkuMDY1LDEwMy40MTMgNjkuMTg4LDEwMy43MTQgNjkuMTk4LDEwNC4wMjEgTDE0Ny44ODMsNTguNTkyIEMxNDcuODQ3LDU4LjU5MiAxNDcuODExLDU4LjU5MSAxNDcuNzc2LDU4LjU4OSBDMTQ2LjUwOSw1OC41MzMgMTQ1LjQyMiw1OC4xIDE0NC44NjcsNTcuNDMxIEMxNDQuNTg1LDU3LjA5MSAxNDQuNDY1LDU2LjcwNyAxNDQuNTIsNTYuMzI0IEMxNDQuNTYzLDU2LjAyMSAxNDQuNTUyLDU1LjcxNiAxNDQuNDg4LDU1LjQxNCBMNjMuODQ2LDEwMS45NyBDNjQuMzUzLDEwMi4wMDIgNjQuODY3LDEwMi4wMDYgNjUuMzc0LDEwMS45ODIgQzY1LjQ3MSwxMDEuOTc3IDY1LjU2OCwxMDEuOTc1IDY1LjY2NSwxMDEuOTc1IEw2NS42NjUsMTAxLjk3NSBaIiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIuMjA4LDU1LjEzNCBDMS4yMDcsNTMuMzA3IDEuOTY3LDUwLjkxNyAzLjkwNiw0OS43OTcgTDU5LjkxNywxNy40NTMgQzYxLjg1NiwxNi4zMzMgNjQuMjQxLDE2LjkwNyA2NS4yNDMsMTguNzM0IEw2NS40NzUsMTkuMTQ0IEM2NS44NzIsMTkuODgyIDY2LjM2OCwyMC41NiA2Ni45NDUsMjEuMTY1IEw2Ny4yMjMsMjEuNDM1IEM3MC41NDgsMjQuNjQ5IDc1LjgwNiwyNS4xNTEgODAuMTExLDIyLjY2NSBMODcuNDMsMTguNDQ1IEM4OS4zNywxNy4zMjYgOTEuNzU0LDE3Ljg5OSA5Mi43NTUsMTkuNzI3IEw5Ni4wMDUsMjUuNjU1IEwxMi40ODYsNzMuODg0IEwyLjIwOCw1NS4xMzQgWiIgaWQ9IkZpbGwtNiIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi40ODYsNzQuMDAxIEMxMi40NzYsNzQuMDAxIDEyLjQ2NSw3My45OTkgMTIuNDU1LDczLjk5NiBDMTIuNDI0LDczLjk4OCAxMi4zOTksNzMuOTY3IDEyLjM4NCw3My45NCBMMi4xMDYsNTUuMTkgQzEuMDc1LDUzLjMxIDEuODU3LDUwLjg0NSAzLjg0OCw0OS42OTYgTDU5Ljg1OCwxNy4zNTIgQzYwLjUyNSwxNi45NjcgNjEuMjcxLDE2Ljc2NCA2Mi4wMTYsMTYuNzY0IEM2My40MzEsMTYuNzY0IDY0LjY2NiwxNy40NjYgNjUuMzI3LDE4LjY0NiBDNjUuMzM3LDE4LjY1NCA2NS4zNDUsMTguNjYzIDY1LjM1MSwxOC42NzQgTDY1LjU3OCwxOS4wODggQzY1LjU4NCwxOS4xIDY1LjU4OSwxOS4xMTIgNjUuNTkxLDE5LjEyNiBDNjUuOTg1LDE5LjgzOCA2Ni40NjksMjAuNDk3IDY3LjAzLDIxLjA4NSBMNjcuMzA1LDIxLjM1MSBDNjkuMTUxLDIzLjEzNyA3MS42NDksMjQuMTIgNzQuMzM2LDI0LjEyIEM3Ni4zMTMsMjQuMTIgNzguMjksMjMuNTgyIDgwLjA1MywyMi41NjMgQzgwLjA2NCwyMi41NTcgODAuMDc2LDIyLjU1MyA4MC4wODgsMjIuNTUgTDg3LjM3MiwxOC4zNDQgQzg4LjAzOCwxNy45NTkgODguNzg0LDE3Ljc1NiA4OS41MjksMTcuNzU2IEM5MC45NTYsMTcuNzU2IDkyLjIwMSwxOC40NzIgOTIuODU4LDE5LjY3IEw5Ni4xMDcsMjUuNTk5IEM5Ni4xMzgsMjUuNjU0IDk2LjExOCwyNS43MjQgOTYuMDYzLDI1Ljc1NiBMMTIuNTQ1LDczLjk4NSBDMTIuNTI2LDczLjk5NiAxMi41MDYsNzQuMDAxIDEyLjQ4Niw3NC4wMDEgTDEyLjQ4Niw3NC4wMDEgWiBNNjIuMDE2LDE2Ljk5NyBDNjEuMzEyLDE2Ljk5NyA2MC42MDYsMTcuMTkgNTkuOTc1LDE3LjU1NCBMMy45NjUsNDkuODk5IEMyLjA4Myw1MC45ODUgMS4zNDEsNTMuMzA4IDIuMzEsNTUuMDc4IEwxMi41MzEsNzMuNzIzIEw5NS44NDgsMjUuNjExIEw5Mi42NTMsMTkuNzgyIEM5Mi4wMzgsMTguNjYgOTAuODcsMTcuOTkgODkuNTI5LDE3Ljk5IEM4OC44MjUsMTcuOTkgODguMTE5LDE4LjE4MiA4Ny40ODksMTguNTQ3IEw4MC4xNzIsMjIuNzcyIEM4MC4xNjEsMjIuNzc4IDgwLjE0OSwyMi43ODIgODAuMTM3LDIyLjc4NSBDNzguMzQ2LDIzLjgxMSA3Ni4zNDEsMjQuMzU0IDc0LjMzNiwyNC4zNTQgQzcxLjU4OCwyNC4zNTQgNjkuMDMzLDIzLjM0NyA2Ny4xNDIsMjEuNTE5IEw2Ni44NjQsMjEuMjQ5IEM2Ni4yNzcsMjAuNjM0IDY1Ljc3NCwxOS45NDcgNjUuMzY3LDE5LjIwMyBDNjUuMzYsMTkuMTkyIDY1LjM1NiwxOS4xNzkgNjUuMzU0LDE5LjE2NiBMNjUuMTYzLDE4LjgxOSBDNjUuMTU0LDE4LjgxMSA2NS4xNDYsMTguODAxIDY1LjE0LDE4Ljc5IEM2NC41MjUsMTcuNjY3IDYzLjM1NywxNi45OTcgNjIuMDE2LDE2Ljk5NyBMNjIuMDE2LDE2Ljk5NyBaIiBpZD0iRmlsbC03IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQyLjQzNCw0OC44MDggTDQyLjQzNCw0OC44MDggQzM5LjkyNCw0OC44MDcgMzcuNzM3LDQ3LjU1IDM2LjU4Miw0NS40NDMgQzM0Ljc3MSw0Mi4xMzkgMzYuMTQ0LDM3LjgwOSAzOS42NDEsMzUuNzg5IEw1MS45MzIsMjguNjkxIEM1My4xMDMsMjguMDE1IDU0LjQxMywyNy42NTggNTUuNzIxLDI3LjY1OCBDNTguMjMxLDI3LjY1OCA2MC40MTgsMjguOTE2IDYxLjU3MywzMS4wMjMgQzYzLjM4NCwzNC4zMjcgNjIuMDEyLDM4LjY1NyA1OC41MTQsNDAuNjc3IEw0Ni4yMjMsNDcuNzc1IEM0NS4wNTMsNDguNDUgNDMuNzQyLDQ4LjgwOCA0Mi40MzQsNDguODA4IEw0Mi40MzQsNDguODA4IFogTTU1LjcyMSwyOC4xMjUgQzU0LjQ5NSwyOC4xMjUgNTMuMjY1LDI4LjQ2MSA1Mi4xNjYsMjkuMDk2IEwzOS44NzUsMzYuMTk0IEMzNi41OTYsMzguMDg3IDM1LjMwMiw0Mi4xMzYgMzYuOTkyLDQ1LjIxOCBDMzguMDYzLDQ3LjE3MyA0MC4wOTgsNDguMzQgNDIuNDM0LDQ4LjM0IEM0My42NjEsNDguMzQgNDQuODksNDguMDA1IDQ1Ljk5LDQ3LjM3IEw1OC4yODEsNDAuMjcyIEM2MS41NiwzOC4zNzkgNjIuODUzLDM0LjMzIDYxLjE2NCwzMS4yNDggQzYwLjA5MiwyOS4yOTMgNTguMDU4LDI4LjEyNSA1NS43MjEsMjguMTI1IEw1NS43MjEsMjguMTI1IFoiIGlkPSJGaWxsLTgiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjU4OCwyLjQwNyBDMTQ5LjU4OCwyLjQwNyAxNTUuNzY4LDUuOTc1IDE1Ni4zMjUsNi4yOTcgTDE1Ni4zMjUsNy4xODQgQzE1Ni4zMjUsNy4zNiAxNTYuMzM4LDcuNTQ0IDE1Ni4zNjIsNy43MzMgQzE1Ni4zNzMsNy44MTQgMTU2LjM4Miw3Ljg5NCAxNTYuMzksNy45NzUgQzE1Ni41Myw5LjM5IDE1Ny4zNjMsMTAuOTczIDE1OC40OTUsMTEuOTc0IEwxNjUuODkxLDE4LjUxOSBDMTY2LjA2OCwxOC42NzUgMTY2LjI0OSwxOC44MTQgMTY2LjQzMiwxOC45MzQgQzE2OC4wMTEsMTkuOTc0IDE2OS4zODIsMTkuNCAxNjkuNDk0LDE3LjY1MiBDMTY5LjU0MywxNi44NjggMTY5LjU1MSwxNi4wNTcgMTY5LjUxNywxNS4yMjMgTDE2OS41MTQsMTUuMDYzIEwxNjkuNTE0LDEzLjkxMiBDMTcwLjc4LDE0LjY0MiAxOTUuNTAxLDI4LjkxNSAxOTUuNTAxLDI4LjkxNSBMMTk1LjUwMSw4Mi45MTUgQzE5NS41MDEsODQuMDA1IDE5NC43MzEsODQuNDQ1IDE5My43ODEsODMuODk3IEwxNTEuMzA4LDU5LjM3NCBDMTUwLjM1OCw1OC44MjYgMTQ5LjU4OCw1Ny40OTcgMTQ5LjU4OCw1Ni40MDggTDE0OS41ODgsMjIuMzc1IiBpZD0iRmlsbC05IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5NC41NTMsODQuMjUgQzE5NC4yOTYsODQuMjUgMTk0LjAxMyw4NC4xNjUgMTkzLjcyMiw4My45OTcgTDE1MS4yNSw1OS40NzYgQzE1MC4yNjksNTguOTA5IDE0OS40NzEsNTcuNTMzIDE0OS40NzEsNTYuNDA4IEwxNDkuNDcxLDIyLjM3NSBMMTQ5LjcwNSwyMi4zNzUgTDE0OS43MDUsNTYuNDA4IEMxNDkuNzA1LDU3LjQ1OSAxNTAuNDUsNTguNzQ0IDE1MS4zNjYsNTkuMjc0IEwxOTMuODM5LDgzLjc5NSBDMTk0LjI2Myw4NC4wNCAxOTQuNjU1LDg0LjA4MyAxOTQuOTQyLDgzLjkxNyBDMTk1LjIyNyw4My43NTMgMTk1LjM4NCw4My4zOTcgMTk1LjM4NCw4Mi45MTUgTDE5NS4zODQsMjguOTgyIEMxOTQuMTAyLDI4LjI0MiAxNzIuMTA0LDE1LjU0MiAxNjkuNjMxLDE0LjExNCBMMTY5LjYzNCwxNS4yMiBDMTY5LjY2OCwxNi4wNTIgMTY5LjY2LDE2Ljg3NCAxNjkuNjEsMTcuNjU5IEMxNjkuNTU2LDE4LjUwMyAxNjkuMjE0LDE5LjEyMyAxNjguNjQ3LDE5LjQwNSBDMTY4LjAyOCwxOS43MTQgMTY3LjE5NywxOS41NzggMTY2LjM2NywxOS4wMzIgQzE2Ni4xODEsMTguOTA5IDE2NS45OTUsMTguNzY2IDE2NS44MTQsMTguNjA2IEwxNTguNDE3LDEyLjA2MiBDMTU3LjI1OSwxMS4wMzYgMTU2LjQxOCw5LjQzNyAxNTYuMjc0LDcuOTg2IEMxNTYuMjY2LDcuOTA3IDE1Ni4yNTcsNy44MjcgMTU2LjI0Nyw3Ljc0OCBDMTU2LjIyMSw3LjU1NSAxNTYuMjA5LDcuMzY1IDE1Ni4yMDksNy4xODQgTDE1Ni4yMDksNi4zNjQgQzE1NS4zNzUsNS44ODMgMTQ5LjUyOSwyLjUwOCAxNDkuNTI5LDIuNTA4IEwxNDkuNjQ2LDIuMzA2IEMxNDkuNjQ2LDIuMzA2IDE1NS44MjcsNS44NzQgMTU2LjM4NCw2LjE5NiBMMTU2LjQ0Miw2LjIzIEwxNTYuNDQyLDcuMTg0IEMxNTYuNDQyLDcuMzU1IDE1Ni40NTQsNy41MzUgMTU2LjQ3OCw3LjcxNyBDMTU2LjQ4OSw3LjggMTU2LjQ5OSw3Ljg4MiAxNTYuNTA3LDcuOTYzIEMxNTYuNjQ1LDkuMzU4IDE1Ny40NTUsMTAuODk4IDE1OC41NzIsMTEuODg2IEwxNjUuOTY5LDE4LjQzMSBDMTY2LjE0MiwxOC41ODQgMTY2LjMxOSwxOC43MiAxNjYuNDk2LDE4LjgzNyBDMTY3LjI1NCwxOS4zMzYgMTY4LDE5LjQ2NyAxNjguNTQzLDE5LjE5NiBDMTY5LjAzMywxOC45NTMgMTY5LjMyOSwxOC40MDEgMTY5LjM3NywxNy42NDUgQzE2OS40MjcsMTYuODY3IDE2OS40MzQsMTYuMDU0IDE2OS40MDEsMTUuMjI4IEwxNjkuMzk3LDE1LjA2NSBMMTY5LjM5NywxMy43MSBMMTY5LjU3MiwxMy44MSBDMTcwLjgzOSwxNC41NDEgMTk1LjU1OSwyOC44MTQgMTk1LjU1OSwyOC44MTQgTDE5NS42MTgsMjguODQ3IEwxOTUuNjE4LDgyLjkxNSBDMTk1LjYxOCw4My40ODQgMTk1LjQyLDgzLjkxMSAxOTUuMDU5LDg0LjExOSBDMTk0LjkwOCw4NC4yMDYgMTk0LjczNyw4NC4yNSAxOTQuNTUzLDg0LjI1IiBpZD0iRmlsbC0xMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDUuNjg1LDU2LjE2MSBMMTY5LjgsNzAuMDgzIEwxNDMuODIyLDg1LjA4MSBMMTQyLjM2LDg0Ljc3NCBDMTM1LjgyNiw4Mi42MDQgMTI4LjczMiw4MS4wNDYgMTIxLjM0MSw4MC4xNTggQzExNi45NzYsNzkuNjM0IDExMi42NzgsODEuMjU0IDExMS43NDMsODMuNzc4IEMxMTEuNTA2LDg0LjQxNCAxMTEuNTAzLDg1LjA3MSAxMTEuNzMyLDg1LjcwNiBDMTEzLjI3LDg5Ljk3MyAxMTUuOTY4LDk0LjA2OSAxMTkuNzI3LDk3Ljg0MSBMMTIwLjI1OSw5OC42ODYgQzEyMC4yNiw5OC42ODUgOTQuMjgyLDExMy42ODMgOTQuMjgyLDExMy42ODMgTDcwLjE2Nyw5OS43NjEgTDE0NS42ODUsNTYuMTYxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05NC4yODIsMTEzLjgxOCBMOTQuMjIzLDExMy43ODUgTDY5LjkzMyw5OS43NjEgTDcwLjEwOCw5OS42NiBMMTQ1LjY4NSw1Ni4wMjYgTDE0NS43NDMsNTYuMDU5IEwxNzAuMDMzLDcwLjA4MyBMMTQzLjg0Miw4NS4yMDUgTDE0My43OTcsODUuMTk1IEMxNDMuNzcyLDg1LjE5IDE0Mi4zMzYsODQuODg4IDE0Mi4zMzYsODQuODg4IEMxMzUuNzg3LDgyLjcxNCAxMjguNzIzLDgxLjE2MyAxMjEuMzI3LDgwLjI3NCBDMTIwLjc4OCw4MC4yMDkgMTIwLjIzNiw4MC4xNzcgMTE5LjY4OSw4MC4xNzcgQzExNS45MzEsODAuMTc3IDExMi42MzUsODEuNzA4IDExMS44NTIsODMuODE5IEMxMTEuNjI0LDg0LjQzMiAxMTEuNjIxLDg1LjA1MyAxMTEuODQyLDg1LjY2NyBDMTEzLjM3Nyw4OS45MjUgMTE2LjA1OCw5My45OTMgMTE5LjgxLDk3Ljc1OCBMMTE5LjgyNiw5Ny43NzkgTDEyMC4zNTIsOTguNjE0IEMxMjAuMzU0LDk4LjYxNyAxMjAuMzU2LDk4LjYyIDEyMC4zNTgsOTguNjI0IEwxMjAuNDIyLDk4LjcyNiBMMTIwLjMxNyw5OC43ODcgQzEyMC4yNjQsOTguODE4IDk0LjU5OSwxMTMuNjM1IDk0LjM0LDExMy43ODUgTDk0LjI4MiwxMTMuODE4IEw5NC4yODIsMTEzLjgxOCBaIE03MC40MDEsOTkuNzYxIEw5NC4yODIsMTEzLjU0OSBMMTE5LjA4NCw5OS4yMjkgQzExOS42Myw5OC45MTQgMTE5LjkzLDk4Ljc0IDEyMC4xMDEsOTguNjU0IEwxMTkuNjM1LDk3LjkxNCBDMTE1Ljg2NCw5NC4xMjcgMTEzLjE2OCw5MC4wMzMgMTExLjYyMiw4NS43NDYgQzExMS4zODIsODUuMDc5IDExMS4zODYsODQuNDA0IDExMS42MzMsODMuNzM4IEMxMTIuNDQ4LDgxLjUzOSAxMTUuODM2LDc5Ljk0MyAxMTkuNjg5LDc5Ljk0MyBDMTIwLjI0Niw3OS45NDMgMTIwLjgwNiw3OS45NzYgMTIxLjM1NSw4MC4wNDIgQzEyOC43NjcsODAuOTMzIDEzNS44NDYsODIuNDg3IDE0Mi4zOTYsODQuNjYzIEMxNDMuMjMyLDg0LjgzOCAxNDMuNjExLDg0LjkxNyAxNDMuNzg2LDg0Ljk2NyBMMTY5LjU2Niw3MC4wODMgTDE0NS42ODUsNTYuMjk1IEw3MC40MDEsOTkuNzYxIEw3MC40MDEsOTkuNzYxIFoiIGlkPSJGaWxsLTEyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2Ny4yMywxOC45NzkgTDE2Ny4yMyw2OS44NSBMMTM5LjkwOSw4NS42MjMgTDEzMy40NDgsNzEuNDU2IEMxMzIuNTM4LDY5LjQ2IDEzMC4wMiw2OS43MTggMTI3LjgyNCw3Mi4wMyBDMTI2Ljc2OSw3My4xNCAxMjUuOTMxLDc0LjU4NSAxMjUuNDk0LDc2LjA0OCBMMTE5LjAzNCw5Ny42NzYgTDkxLjcxMiwxMTMuNDUgTDkxLjcxMiw2Mi41NzkgTDE2Ny4yMywxOC45NzkiIGlkPSJGaWxsLTEzIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTkxLjcxMiwxMTMuNTY3IEM5MS42OTIsMTEzLjU2NyA5MS42NzIsMTEzLjU2MSA5MS42NTMsMTEzLjU1MSBDOTEuNjE4LDExMy41MyA5MS41OTUsMTEzLjQ5MiA5MS41OTUsMTEzLjQ1IEw5MS41OTUsNjIuNTc5IEM5MS41OTUsNjIuNTM3IDkxLjYxOCw2Mi40OTkgOTEuNjUzLDYyLjQ3OCBMMTY3LjE3MiwxOC44NzggQzE2Ny4yMDgsMTguODU3IDE2Ny4yNTIsMTguODU3IDE2Ny4yODgsMTguODc4IEMxNjcuMzI0LDE4Ljg5OSAxNjcuMzQ3LDE4LjkzNyAxNjcuMzQ3LDE4Ljk3OSBMMTY3LjM0Nyw2OS44NSBDMTY3LjM0Nyw2OS44OTEgMTY3LjMyNCw2OS45MyAxNjcuMjg4LDY5Ljk1IEwxMzkuOTY3LDg1LjcyNSBDMTM5LjkzOSw4NS43NDEgMTM5LjkwNSw4NS43NDUgMTM5Ljg3Myw4NS43MzUgQzEzOS44NDIsODUuNzI1IDEzOS44MTYsODUuNzAyIDEzOS44MDIsODUuNjcyIEwxMzMuMzQyLDcxLjUwNCBDMTMyLjk2Nyw3MC42ODIgMTMyLjI4LDcwLjIyOSAxMzEuNDA4LDcwLjIyOSBDMTMwLjMxOSw3MC4yMjkgMTI5LjA0NCw3MC45MTUgMTI3LjkwOCw3Mi4xMSBDMTI2Ljg3NCw3My4yIDEyNi4wMzQsNzQuNjQ3IDEyNS42MDYsNzYuMDgyIEwxMTkuMTQ2LDk3LjcwOSBDMTE5LjEzNyw5Ny43MzggMTE5LjExOCw5Ny43NjIgMTE5LjA5Miw5Ny43NzcgTDkxLjc3LDExMy41NTEgQzkxLjc1MiwxMTMuNTYxIDkxLjczMiwxMTMuNTY3IDkxLjcxMiwxMTMuNTY3IEw5MS43MTIsMTEzLjU2NyBaIE05MS44MjksNjIuNjQ3IEw5MS44MjksMTEzLjI0OCBMMTE4LjkzNSw5Ny41OTggTDEyNS4zODIsNzYuMDE1IEMxMjUuODI3LDc0LjUyNSAxMjYuNjY0LDczLjA4MSAxMjcuNzM5LDcxLjk1IEMxMjguOTE5LDcwLjcwOCAxMzAuMjU2LDY5Ljk5NiAxMzEuNDA4LDY5Ljk5NiBDMTMyLjM3Nyw2OS45OTYgMTMzLjEzOSw3MC40OTcgMTMzLjU1NCw3MS40MDcgTDEzOS45NjEsODUuNDU4IEwxNjcuMTEzLDY5Ljc4MiBMMTY3LjExMywxOS4xODEgTDkxLjgyOSw2Mi42NDcgTDkxLjgyOSw2Mi42NDcgWiIgaWQ9IkZpbGwtMTQiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTY4LjU0MywxOS4yMTMgTDE2OC41NDMsNzAuMDgzIEwxNDEuMjIxLDg1Ljg1NyBMMTM0Ljc2MSw3MS42ODkgQzEzMy44NTEsNjkuNjk0IDEzMS4zMzMsNjkuOTUxIDEyOS4xMzcsNzIuMjYzIEMxMjguMDgyLDczLjM3NCAxMjcuMjQ0LDc0LjgxOSAxMjYuODA3LDc2LjI4MiBMMTIwLjM0Niw5Ny45MDkgTDkzLjAyNSwxMTMuNjgzIEw5My4wMjUsNjIuODEzIEwxNjguNTQzLDE5LjIxMyIgaWQ9IkZpbGwtMTUiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTMuMDI1LDExMy44IEM5My4wMDUsMTEzLjggOTIuOTg0LDExMy43OTUgOTIuOTY2LDExMy43ODUgQzkyLjkzMSwxMTMuNzY0IDkyLjkwOCwxMTMuNzI1IDkyLjkwOCwxMTMuNjg0IEw5Mi45MDgsNjIuODEzIEM5Mi45MDgsNjIuNzcxIDkyLjkzMSw2Mi43MzMgOTIuOTY2LDYyLjcxMiBMMTY4LjQ4NCwxOS4xMTIgQzE2OC41MiwxOS4wOSAxNjguNTY1LDE5LjA5IDE2OC42MDEsMTkuMTEyIEMxNjguNjM3LDE5LjEzMiAxNjguNjYsMTkuMTcxIDE2OC42NiwxOS4yMTIgTDE2OC42Niw3MC4wODMgQzE2OC42Niw3MC4xMjUgMTY4LjYzNyw3MC4xNjQgMTY4LjYwMSw3MC4xODQgTDE0MS4yOCw4NS45NTggQzE0MS4yNTEsODUuOTc1IDE0MS4yMTcsODUuOTc5IDE0MS4xODYsODUuOTY4IEMxNDEuMTU0LDg1Ljk1OCAxNDEuMTI5LDg1LjkzNiAxNDEuMTE1LDg1LjkwNiBMMTM0LjY1NSw3MS43MzggQzEzNC4yOCw3MC45MTUgMTMzLjU5Myw3MC40NjMgMTMyLjcyLDcwLjQ2MyBDMTMxLjYzMiw3MC40NjMgMTMwLjM1Nyw3MS4xNDggMTI5LjIyMSw3Mi4zNDQgQzEyOC4xODYsNzMuNDMzIDEyNy4zNDcsNzQuODgxIDEyNi45MTksNzYuMzE1IEwxMjAuNDU4LDk3Ljk0MyBDMTIwLjQ1LDk3Ljk3MiAxMjAuNDMxLDk3Ljk5NiAxMjAuNDA1LDk4LjAxIEw5My4wODMsMTEzLjc4NSBDOTMuMDY1LDExMy43OTUgOTMuMDQ1LDExMy44IDkzLjAyNSwxMTMuOCBMOTMuMDI1LDExMy44IFogTTkzLjE0Miw2Mi44ODEgTDkzLjE0MiwxMTMuNDgxIEwxMjAuMjQ4LDk3LjgzMiBMMTI2LjY5NSw3Ni4yNDggQzEyNy4xNCw3NC43NTggMTI3Ljk3Nyw3My4zMTUgMTI5LjA1Miw3Mi4xODMgQzEzMC4yMzEsNzAuOTQyIDEzMS41NjgsNzAuMjI5IDEzMi43Miw3MC4yMjkgQzEzMy42ODksNzAuMjI5IDEzNC40NTIsNzAuNzMxIDEzNC44NjcsNzEuNjQxIEwxNDEuMjc0LDg1LjY5MiBMMTY4LjQyNiw3MC4wMTYgTDE2OC40MjYsMTkuNDE1IEw5My4xNDIsNjIuODgxIEw5My4xNDIsNjIuODgxIFoiIGlkPSJGaWxsLTE2IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS44LDcwLjA4MyBMMTQyLjQ3OCw4NS44NTcgTDEzNi4wMTgsNzEuNjg5IEMxMzUuMTA4LDY5LjY5NCAxMzIuNTksNjkuOTUxIDEzMC4zOTMsNzIuMjYzIEMxMjkuMzM5LDczLjM3NCAxMjguNSw3NC44MTkgMTI4LjA2NCw3Ni4yODIgTDEyMS42MDMsOTcuOTA5IEw5NC4yODIsMTEzLjY4MyBMOTQuMjgyLDYyLjgxMyBMMTY5LjgsMTkuMjEzIEwxNjkuOCw3MC4wODMgWiIgaWQ9IkZpbGwtMTciIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTQuMjgyLDExMy45MTcgQzk0LjI0MSwxMTMuOTE3IDk0LjIwMSwxMTMuOTA3IDk0LjE2NSwxMTMuODg2IEM5NC4wOTMsMTEzLjg0NSA5NC4wNDgsMTEzLjc2NyA5NC4wNDgsMTEzLjY4NCBMOTQuMDQ4LDYyLjgxMyBDOTQuMDQ4LDYyLjczIDk0LjA5Myw2Mi42NTIgOTQuMTY1LDYyLjYxMSBMMTY5LjY4MywxOS4wMSBDMTY5Ljc1NSwxOC45NjkgMTY5Ljg0NCwxOC45NjkgMTY5LjkxNywxOS4wMSBDMTY5Ljk4OSwxOS4wNTIgMTcwLjAzMywxOS4xMjkgMTcwLjAzMywxOS4yMTIgTDE3MC4wMzMsNzAuMDgzIEMxNzAuMDMzLDcwLjE2NiAxNjkuOTg5LDcwLjI0NCAxNjkuOTE3LDcwLjI4NSBMMTQyLjU5NSw4Ni4wNiBDMTQyLjUzOCw4Ni4wOTIgMTQyLjQ2OSw4Ni4xIDE0Mi40MDcsODYuMDggQzE0Mi4zNDQsODYuMDYgMTQyLjI5Myw4Ni4wMTQgMTQyLjI2Niw4NS45NTQgTDEzNS44MDUsNzEuNzg2IEMxMzUuNDQ1LDcwLjk5NyAxMzQuODEzLDcwLjU4IDEzMy45NzcsNzAuNTggQzEzMi45MjEsNzAuNTggMTMxLjY3Niw3MS4yNTIgMTMwLjU2Miw3Mi40MjQgQzEyOS41NCw3My41MDEgMTI4LjcxMSw3NC45MzEgMTI4LjI4Nyw3Ni4zNDggTDEyMS44MjcsOTcuOTc2IEMxMjEuODEsOTguMDM0IDEyMS43NzEsOTguMDgyIDEyMS43Miw5OC4xMTIgTDk0LjM5OCwxMTMuODg2IEM5NC4zNjIsMTEzLjkwNyA5NC4zMjIsMTEzLjkxNyA5NC4yODIsMTEzLjkxNyBMOTQuMjgyLDExMy45MTcgWiBNOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDExMy4yNzkgTDEyMS40MDYsOTcuNzU0IEwxMjcuODQsNzYuMjE1IEMxMjguMjksNzQuNzA4IDEyOS4xMzcsNzMuMjQ3IDEzMC4yMjQsNzIuMTAzIEMxMzEuNDI1LDcwLjgzOCAxMzIuNzkzLDcwLjExMiAxMzMuOTc3LDcwLjExMiBDMTM0Ljk5NSw3MC4xMTIgMTM1Ljc5NSw3MC42MzggMTM2LjIzLDcxLjU5MiBMMTQyLjU4NCw4NS41MjYgTDE2OS41NjYsNjkuOTQ4IEwxNjkuNTY2LDE5LjYxNyBMOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDYyLjk0OCBaIiBpZD0iRmlsbC0xOCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDkuODk0LDkyLjk0MyBMMTA5Ljg5NCw5Mi45NDMgQzEwOC4xMiw5Mi45NDMgMTA2LjY1Myw5Mi4yMTggMTA1LjY1LDkwLjgyMyBDMTA1LjU4Myw5MC43MzEgMTA1LjU5Myw5MC42MSAxMDUuNjczLDkwLjUyOSBDMTA1Ljc1Myw5MC40NDggMTA1Ljg4LDkwLjQ0IDEwNS45NzQsOTAuNTA2IEMxMDYuNzU0LDkxLjA1MyAxMDcuNjc5LDkxLjMzMyAxMDguNzI0LDkxLjMzMyBDMTEwLjA0Nyw5MS4zMzMgMTExLjQ3OCw5MC44OTQgMTEyLjk4LDkwLjAyNyBDMTE4LjI5MSw4Ni45NiAxMjIuNjExLDc5LjUwOSAxMjIuNjExLDczLjQxNiBDMTIyLjYxMSw3MS40ODkgMTIyLjE2OSw2OS44NTYgMTIxLjMzMyw2OC42OTIgQzEyMS4yNjYsNjguNiAxMjEuMjc2LDY4LjQ3MyAxMjEuMzU2LDY4LjM5MiBDMTIxLjQzNiw2OC4zMTEgMTIxLjU2Myw2OC4yOTkgMTIxLjY1Niw2OC4zNjUgQzEyMy4zMjcsNjkuNTM3IDEyNC4yNDcsNzEuNzQ2IDEyNC4yNDcsNzQuNTg0IEMxMjQuMjQ3LDgwLjgyNiAxMTkuODIxLDg4LjQ0NyAxMTQuMzgyLDkxLjU4NyBDMTEyLjgwOCw5Mi40OTUgMTExLjI5OCw5Mi45NDMgMTA5Ljg5NCw5Mi45NDMgTDEwOS44OTQsOTIuOTQzIFogTTEwNi45MjUsOTEuNDAxIEMxMDcuNzM4LDkyLjA1MiAxMDguNzQ1LDkyLjI3OCAxMDkuODkzLDkyLjI3OCBMMTA5Ljg5NCw5Mi4yNzggQzExMS4yMTUsOTIuMjc4IDExMi42NDcsOTEuOTUxIDExNC4xNDgsOTEuMDg0IEMxMTkuNDU5LDg4LjAxNyAxMjMuNzgsODAuNjIxIDEyMy43OCw3NC41MjggQzEyMy43OCw3Mi41NDkgMTIzLjMxNyw3MC45MjkgMTIyLjQ1NCw2OS43NjcgQzEyMi44NjUsNzAuODAyIDEyMy4wNzksNzIuMDQyIDEyMy4wNzksNzMuNDAyIEMxMjMuMDc5LDc5LjY0NSAxMTguNjUzLDg3LjI4NSAxMTMuMjE0LDkwLjQyNSBDMTExLjY0LDkxLjMzNCAxMTAuMTMsOTEuNzQyIDEwOC43MjQsOTEuNzQyIEMxMDguMDgzLDkxLjc0MiAxMDcuNDgxLDkxLjU5MyAxMDYuOTI1LDkxLjQwMSBMMTA2LjkyNSw5MS40MDEgWiIgaWQ9IkZpbGwtMTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjA5Nyw5MC4yMyBDMTE4LjQ4MSw4Ny4xMjIgMTIyLjg0NSw3OS41OTQgMTIyLjg0NSw3My40MTYgQzEyMi44NDUsNzEuMzY1IDEyMi4zNjIsNjkuNzI0IDEyMS41MjIsNjguNTU2IEMxMTkuNzM4LDY3LjMwNCAxMTcuMTQ4LDY3LjM2MiAxMTQuMjY1LDY5LjAyNiBDMTA4Ljg4MSw3Mi4xMzQgMTA0LjUxNyw3OS42NjIgMTA0LjUxNyw4NS44NCBDMTA0LjUxNyw4Ny44OTEgMTA1LDg5LjUzMiAxMDUuODQsOTAuNyBDMTA3LjYyNCw5MS45NTIgMTEwLjIxNCw5MS44OTQgMTEzLjA5Nyw5MC4yMyIgaWQ9IkZpbGwtMjAiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTA4LjcyNCw5MS42MTQgTDEwOC43MjQsOTEuNjE0IEMxMDcuNTgyLDkxLjYxNCAxMDYuNTY2LDkxLjQwMSAxMDUuNzA1LDkwLjc5NyBDMTA1LjY4NCw5MC43ODMgMTA1LjY2NSw5MC44MTEgMTA1LjY1LDkwLjc5IEMxMDQuNzU2LDg5LjU0NiAxMDQuMjgzLDg3Ljg0MiAxMDQuMjgzLDg1LjgxNyBDMTA0LjI4Myw3OS41NzUgMTA4LjcwOSw3MS45NTMgMTE0LjE0OCw2OC44MTIgQzExNS43MjIsNjcuOTA0IDExNy4yMzIsNjcuNDQ5IDExOC42MzgsNjcuNDQ5IEMxMTkuNzgsNjcuNDQ5IDEyMC43OTYsNjcuNzU4IDEyMS42NTYsNjguMzYyIEMxMjEuNjc4LDY4LjM3NyAxMjEuNjk3LDY4LjM5NyAxMjEuNzEyLDY4LjQxOCBDMTIyLjYwNiw2OS42NjIgMTIzLjA3OSw3MS4zOSAxMjMuMDc5LDczLjQxNSBDMTIzLjA3OSw3OS42NTggMTE4LjY1Myw4Ny4xOTggMTEzLjIxNCw5MC4zMzggQzExMS42NCw5MS4yNDcgMTEwLjEzLDkxLjYxNCAxMDguNzI0LDkxLjYxNCBMMTA4LjcyNCw5MS42MTQgWiBNMTA2LjAwNiw5MC41MDUgQzEwNi43OCw5MS4wMzcgMTA3LjY5NCw5MS4yODEgMTA4LjcyNCw5MS4yODEgQzExMC4wNDcsOTEuMjgxIDExMS40NzgsOTAuODY4IDExMi45OCw5MC4wMDEgQzExOC4yOTEsODYuOTM1IDEyMi42MTEsNzkuNDk2IDEyMi42MTEsNzMuNDAzIEMxMjIuNjExLDcxLjQ5NCAxMjIuMTc3LDY5Ljg4IDEyMS4zNTYsNjguNzE4IEMxMjAuNTgyLDY4LjE4NSAxMTkuNjY4LDY3LjkxOSAxMTguNjM4LDY3LjkxOSBDMTE3LjMxNSw2Ny45MTkgMTE1Ljg4Myw2OC4zNiAxMTQuMzgyLDY5LjIyNyBDMTA5LjA3MSw3Mi4yOTMgMTA0Ljc1MSw3OS43MzMgMTA0Ljc1MSw4NS44MjYgQzEwNC43NTEsODcuNzM1IDEwNS4xODUsODkuMzQzIDEwNi4wMDYsOTAuNTA1IEwxMDYuMDA2LDkwLjUwNSBaIiBpZD0iRmlsbC0yMSIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDkuMzE4LDcuMjYyIEwxMzkuMzM0LDE2LjE0IEwxNTUuMjI3LDI3LjE3MSBMMTYwLjgxNiwyMS4wNTkgTDE0OS4zMTgsNy4yNjIiIGlkPSJGaWxsLTIyIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS42NzYsMTMuODQgTDE1OS45MjgsMTkuNDY3IEMxNTYuMjg2LDIxLjU3IDE1MC40LDIxLjU4IDE0Ni43ODEsMTkuNDkxIEMxNDMuMTYxLDE3LjQwMiAxNDMuMTgsMTQuMDAzIDE0Ni44MjIsMTEuOSBMMTU2LjMxNyw2LjI5MiBMMTQ5LjU4OCwyLjQwNyBMNjcuNzUyLDQ5LjQ3OCBMMTEzLjY3NSw3NS45OTIgTDExNi43NTYsNzQuMjEzIEMxMTcuMzg3LDczLjg0OCAxMTcuNjI1LDczLjMxNSAxMTcuMzc0LDcyLjgyMyBDMTE1LjAxNyw2OC4xOTEgMTE0Ljc4MSw2My4yNzcgMTE2LjY5MSw1OC41NjEgQzEyMi4zMjksNDQuNjQxIDE0MS4yLDMzLjc0NiAxNjUuMzA5LDMwLjQ5MSBDMTczLjQ3OCwyOS4zODggMTgxLjk4OSwyOS41MjQgMTkwLjAxMywzMC44ODUgQzE5MC44NjUsMzEuMDMgMTkxLjc4OSwzMC44OTMgMTkyLjQyLDMwLjUyOCBMMTk1LjUwMSwyOC43NSBMMTY5LjY3NiwxMy44NCIgaWQ9IkZpbGwtMjMiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3Ni40NTkgQzExMy41OTQsNzYuNDU5IDExMy41MTQsNzYuNDM4IDExMy40NDIsNzYuMzk3IEw2Ny41MTgsNDkuODgyIEM2Ny4zNzQsNDkuNzk5IDY3LjI4NCw0OS42NDUgNjcuMjg1LDQ5LjQ3OCBDNjcuMjg1LDQ5LjMxMSA2Ny4zNzQsNDkuMTU3IDY3LjUxOSw0OS4wNzMgTDE0OS4zNTUsMi4wMDIgQzE0OS40OTksMS45MTkgMTQ5LjY3NywxLjkxOSAxNDkuODIxLDIuMDAyIEwxNTYuNTUsNS44ODcgQzE1Ni43NzQsNi4wMTcgMTU2Ljg1LDYuMzAyIDE1Ni43MjIsNi41MjYgQzE1Ni41OTIsNi43NDkgMTU2LjMwNyw2LjgyNiAxNTYuMDgzLDYuNjk2IEwxNDkuNTg3LDIuOTQ2IEw2OC42ODcsNDkuNDc5IEwxMTMuNjc1LDc1LjQ1MiBMMTE2LjUyMyw3My44MDggQzExNi43MTUsNzMuNjk3IDExNy4xNDMsNzMuMzk5IDExNi45NTgsNzMuMDM1IEMxMTQuNTQyLDY4LjI4NyAxMTQuMyw2My4yMjEgMTE2LjI1OCw1OC4zODUgQzExOS4wNjQsNTEuNDU4IDEyNS4xNDMsNDUuMTQzIDEzMy44NCw0MC4xMjIgQzE0Mi40OTcsMzUuMTI0IDE1My4zNTgsMzEuNjMzIDE2NS4yNDcsMzAuMDI4IEMxNzMuNDQ1LDI4LjkyMSAxODIuMDM3LDI5LjA1OCAxOTAuMDkxLDMwLjQyNSBDMTkwLjgzLDMwLjU1IDE5MS42NTIsMzAuNDMyIDE5Mi4xODYsMzAuMTI0IEwxOTQuNTY3LDI4Ljc1IEwxNjkuNDQyLDE0LjI0NCBDMTY5LjIxOSwxNC4xMTUgMTY5LjE0MiwxMy44MjkgMTY5LjI3MSwxMy42MDYgQzE2OS40LDEzLjM4MiAxNjkuNjg1LDEzLjMwNiAxNjkuOTA5LDEzLjQzNSBMMTk1LjczNCwyOC4zNDUgQzE5NS44NzksMjguNDI4IDE5NS45NjgsMjguNTgzIDE5NS45NjgsMjguNzUgQzE5NS45NjgsMjguOTE2IDE5NS44NzksMjkuMDcxIDE5NS43MzQsMjkuMTU0IEwxOTIuNjUzLDMwLjkzMyBDMTkxLjkzMiwzMS4zNSAxOTAuODksMzEuNTA4IDE4OS45MzUsMzEuMzQ2IEMxODEuOTcyLDI5Ljk5NSAxNzMuNDc4LDI5Ljg2IDE2NS4zNzIsMzAuOTU0IEMxNTMuNjAyLDMyLjU0MyAxNDIuODYsMzUuOTkzIDEzNC4zMDcsNDAuOTMxIEMxMjUuNzkzLDQ1Ljg0NyAxMTkuODUxLDUyLjAwNCAxMTcuMTI0LDU4LjczNiBDMTE1LjI3LDYzLjMxNCAxMTUuNTAxLDY4LjExMiAxMTcuNzksNzIuNjExIEMxMTguMTYsNzMuMzM2IDExNy44NDUsNzQuMTI0IDExNi45OSw3NC42MTcgTDExMy45MDksNzYuMzk3IEMxMTMuODM2LDc2LjQzOCAxMTMuNzU2LDc2LjQ1OSAxMTMuNjc1LDc2LjQ1OSIgaWQ9IkZpbGwtMjQiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUzLjMxNiwyMS4yNzkgQzE1MC45MDMsMjEuMjc5IDE0OC40OTUsMjAuNzUxIDE0Ni42NjQsMTkuNjkzIEMxNDQuODQ2LDE4LjY0NCAxNDMuODQ0LDE3LjIzMiAxNDMuODQ0LDE1LjcxOCBDMTQzLjg0NCwxNC4xOTEgMTQ0Ljg2LDEyLjc2MyAxNDYuNzA1LDExLjY5OCBMMTU2LjE5OCw2LjA5MSBDMTU2LjMwOSw2LjAyNSAxNTYuNDUyLDYuMDYyIDE1Ni41MTgsNi4xNzMgQzE1Ni41ODMsNi4yODQgMTU2LjU0Nyw2LjQyNyAxNTYuNDM2LDYuNDkzIEwxNDYuOTQsMTIuMTAyIEMxNDUuMjQ0LDEzLjA4MSAxNDQuMzEyLDE0LjM2NSAxNDQuMzEyLDE1LjcxOCBDMTQ0LjMxMiwxNy4wNTggMTQ1LjIzLDE4LjMyNiAxNDYuODk3LDE5LjI4OSBDMTUwLjQ0NiwyMS4zMzggMTU2LjI0LDIxLjMyNyAxNTkuODExLDE5LjI2NSBMMTY5LjU1OSwxMy42MzcgQzE2OS42NywxMy41NzMgMTY5LjgxMywxMy42MTEgMTY5Ljg3OCwxMy43MjMgQzE2OS45NDMsMTMuODM0IDE2OS45MDQsMTMuOTc3IDE2OS43OTMsMTQuMDQyIEwxNjAuMDQ1LDE5LjY3IEMxNTguMTg3LDIwLjc0MiAxNTUuNzQ5LDIxLjI3OSAxNTMuMzE2LDIxLjI3OSIgaWQ9IkZpbGwtMjUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3NS45OTIgTDY3Ljc2Miw0OS40ODQiIGlkPSJGaWxsLTI2IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMy42NzUsNzYuMzQyIEMxMTMuNjE1LDc2LjM0MiAxMTMuNTU1LDc2LjMyNyAxMTMuNSw3Ni4yOTUgTDY3LjU4Nyw0OS43ODcgQzY3LjQxOSw0OS42OSA2Ny4zNjIsNDkuNDc2IDY3LjQ1OSw0OS4zMDkgQzY3LjU1Niw0OS4xNDEgNjcuNzcsNDkuMDgzIDY3LjkzNyw0OS4xOCBMMTEzLjg1LDc1LjY4OCBDMTE0LjAxOCw3NS43ODUgMTE0LjA3NSw3NiAxMTMuOTc4LDc2LjE2NyBDMTEzLjkxNCw3Ni4yNzkgMTEzLjc5Niw3Ni4zNDIgMTEzLjY3NSw3Ni4zNDIiIGlkPSJGaWxsLTI3IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY3Ljc2Miw0OS40ODQgTDY3Ljc2MiwxMDMuNDg1IEM2Ny43NjIsMTA0LjU3NSA2OC41MzIsMTA1LjkwMyA2OS40ODIsMTA2LjQ1MiBMMTExLjk1NSwxMzAuOTczIEMxMTIuOTA1LDEzMS41MjIgMTEzLjY3NSwxMzEuMDgzIDExMy42NzUsMTI5Ljk5MyBMMTEzLjY3NSw3NS45OTIiIGlkPSJGaWxsLTI4IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMi43MjcsMTMxLjU2MSBDMTEyLjQzLDEzMS41NjEgMTEyLjEwNywxMzEuNDY2IDExMS43OCwxMzEuMjc2IEw2OS4zMDcsMTA2Ljc1NSBDNjguMjQ0LDEwNi4xNDIgNjcuNDEyLDEwNC43MDUgNjcuNDEyLDEwMy40ODUgTDY3LjQxMiw0OS40ODQgQzY3LjQxMiw0OS4yOSA2Ny41NjksNDkuMTM0IDY3Ljc2Miw0OS4xMzQgQzY3Ljk1Niw0OS4xMzQgNjguMTEzLDQ5LjI5IDY4LjExMyw0OS40ODQgTDY4LjExMywxMDMuNDg1IEM2OC4xMTMsMTA0LjQ0NSA2OC44MiwxMDUuNjY1IDY5LjY1NywxMDYuMTQ4IEwxMTIuMTMsMTMwLjY3IEMxMTIuNDc0LDEzMC44NjggMTEyLjc5MSwxMzAuOTEzIDExMywxMzAuNzkyIEMxMTMuMjA2LDEzMC42NzMgMTEzLjMyNSwxMzAuMzgxIDExMy4zMjUsMTI5Ljk5MyBMMTEzLjMyNSw3NS45OTIgQzExMy4zMjUsNzUuNzk4IDExMy40ODIsNzUuNjQxIDExMy42NzUsNzUuNjQxIEMxMTMuODY5LDc1LjY0MSAxMTQuMDI1LDc1Ljc5OCAxMTQuMDI1LDc1Ljk5MiBMMTE0LjAyNSwxMjkuOTkzIEMxMTQuMDI1LDEzMC42NDggMTEzLjc4NiwxMzEuMTQ3IDExMy4zNSwxMzEuMzk5IEMxMTMuMTYyLDEzMS41MDcgMTEyLjk1MiwxMzEuNTYxIDExMi43MjcsMTMxLjU2MSIgaWQ9IkZpbGwtMjkiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEyLjg2LDQwLjUxMiBDMTEyLjg2LDQwLjUxMiAxMTIuODYsNDAuNTEyIDExMi44NTksNDAuNTEyIEMxMTAuNTQxLDQwLjUxMiAxMDguMzYsMzkuOTkgMTA2LjcxNywzOS4wNDEgQzEwNS4wMTIsMzguMDU3IDEwNC4wNzQsMzYuNzI2IDEwNC4wNzQsMzUuMjkyIEMxMDQuMDc0LDMzLjg0NyAxMDUuMDI2LDMyLjUwMSAxMDYuNzU0LDMxLjUwNCBMMTE4Ljc5NSwyNC41NTEgQzEyMC40NjMsMjMuNTg5IDEyMi42NjksMjMuMDU4IDEyNS4wMDcsMjMuMDU4IEMxMjcuMzI1LDIzLjA1OCAxMjkuNTA2LDIzLjU4MSAxMzEuMTUsMjQuNTMgQzEzMi44NTQsMjUuNTE0IDEzMy43OTMsMjYuODQ1IDEzMy43OTMsMjguMjc4IEMxMzMuNzkzLDI5LjcyNCAxMzIuODQxLDMxLjA2OSAxMzEuMTEzLDMyLjA2NyBMMTE5LjA3MSwzOS4wMTkgQzExNy40MDMsMzkuOTgyIDExNS4xOTcsNDAuNTEyIDExMi44Niw0MC41MTIgTDExMi44Niw0MC41MTIgWiBNMTI1LjAwNywyMy43NTkgQzEyMi43OSwyMy43NTkgMTIwLjcwOSwyNC4yNTYgMTE5LjE0NiwyNS4xNTggTDEwNy4xMDQsMzIuMTEgQzEwNS42MDIsMzIuOTc4IDEwNC43NzQsMzQuMTA4IDEwNC43NzQsMzUuMjkyIEMxMDQuNzc0LDM2LjQ2NSAxMDUuNTg5LDM3LjU4MSAxMDcuMDY3LDM4LjQzNCBDMTA4LjYwNSwzOS4zMjMgMTEwLjY2MywzOS44MTIgMTEyLjg1OSwzOS44MTIgTDExMi44NiwzOS44MTIgQzExNS4wNzYsMzkuODEyIDExNy4xNTgsMzkuMzE1IDExOC43MjEsMzguNDEzIEwxMzAuNzYyLDMxLjQ2IEMxMzIuMjY0LDMwLjU5MyAxMzMuMDkyLDI5LjQ2MyAxMzMuMDkyLDI4LjI3OCBDMTMzLjA5MiwyNy4xMDYgMTMyLjI3OCwyNS45OSAxMzAuOCwyNS4xMzYgQzEyOS4yNjEsMjQuMjQ4IDEyNy4yMDQsMjMuNzU5IDEyNS4wMDcsMjMuNzU5IEwxMjUuMDA3LDIzLjc1OSBaIiBpZD0iRmlsbC0zMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjUuNjMsMTYuMjE5IEwxNTkuODk2LDE5LjUzIEMxNTYuNzI5LDIxLjM1OCAxNTEuNjEsMjEuMzY3IDE0OC40NjMsMTkuNTUgQzE0NS4zMTYsMTcuNzMzIDE0NS4zMzIsMTQuNzc4IDE0OC40OTksMTIuOTQ5IEwxNTQuMjMzLDkuNjM5IEwxNjUuNjMsMTYuMjE5IiBpZD0iRmlsbC0zMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNTQuMjMzLDEwLjQ0OCBMMTY0LjIyOCwxNi4yMTkgTDE1OS41NDYsMTguOTIzIEMxNTguMTEyLDE5Ljc1IDE1Ni4xOTQsMjAuMjA2IDE1NC4xNDcsMjAuMjA2IEMxNTIuMTE4LDIwLjIwNiAxNTAuMjI0LDE5Ljc1NyAxNDguODE0LDE4Ljk0MyBDMTQ3LjUyNCwxOC4xOTkgMTQ2LjgxNCwxNy4yNDkgMTQ2LjgxNCwxNi4yNjkgQzE0Ni44MTQsMTUuMjc4IDE0Ny41MzcsMTQuMzE0IDE0OC44NSwxMy41NTYgTDE1NC4yMzMsMTAuNDQ4IE0xNTQuMjMzLDkuNjM5IEwxNDguNDk5LDEyLjk0OSBDMTQ1LjMzMiwxNC43NzggMTQ1LjMxNiwxNy43MzMgMTQ4LjQ2MywxOS41NSBDMTUwLjAzMSwyMC40NTUgMTUyLjA4NiwyMC45MDcgMTU0LjE0NywyMC45MDcgQzE1Ni4yMjQsMjAuOTA3IDE1OC4zMDYsMjAuNDQ3IDE1OS44OTYsMTkuNTMgTDE2NS42MywxNi4yMTkgTDE1NC4yMzMsOS42MzkiIGlkPSJGaWxsLTMyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NS40NDUsNzIuNjY3IEwxNDUuNDQ1LDcyLjY2NyBDMTQzLjY3Miw3Mi42NjcgMTQyLjIwNCw3MS44MTcgMTQxLjIwMiw3MC40MjIgQzE0MS4xMzUsNzAuMzMgMTQxLjE0NSw3MC4xNDcgMTQxLjIyNSw3MC4wNjYgQzE0MS4zMDUsNjkuOTg1IDE0MS40MzIsNjkuOTQ2IDE0MS41MjUsNzAuMDExIEMxNDIuMzA2LDcwLjU1OSAxNDMuMjMxLDcwLjgyMyAxNDQuMjc2LDcwLjgyMiBDMTQ1LjU5OCw3MC44MjIgMTQ3LjAzLDcwLjM3NiAxNDguNTMyLDY5LjUwOSBDMTUzLjg0Miw2Ni40NDMgMTU4LjE2Myw1OC45ODcgMTU4LjE2Myw1Mi44OTQgQzE1OC4xNjMsNTAuOTY3IDE1Ny43MjEsNDkuMzMyIDE1Ni44ODQsNDguMTY4IEMxNTYuODE4LDQ4LjA3NiAxNTYuODI4LDQ3Ljk0OCAxNTYuOTA4LDQ3Ljg2NyBDMTU2Ljk4OCw0Ny43ODYgMTU3LjExNCw0Ny43NzQgMTU3LjIwOCw0Ny44NCBDMTU4Ljg3OCw0OS4wMTIgMTU5Ljc5OCw1MS4yMiAxNTkuNzk4LDU0LjA1OSBDMTU5Ljc5OCw2MC4zMDEgMTU1LjM3Myw2OC4wNDYgMTQ5LjkzMyw3MS4xODYgQzE0OC4zNiw3Mi4wOTQgMTQ2Ljg1LDcyLjY2NyAxNDUuNDQ1LDcyLjY2NyBMMTQ1LjQ0NSw3Mi42NjcgWiBNMTQyLjQ3Niw3MSBDMTQzLjI5LDcxLjY1MSAxNDQuMjk2LDcyLjAwMiAxNDUuNDQ1LDcyLjAwMiBDMTQ2Ljc2Nyw3Mi4wMDIgMTQ4LjE5OCw3MS41NSAxNDkuNyw3MC42ODIgQzE1NS4wMSw2Ny42MTcgMTU5LjMzMSw2MC4xNTkgMTU5LjMzMSw1NC4wNjUgQzE1OS4zMzEsNTIuMDg1IDE1OC44NjgsNTAuNDM1IDE1OC4wMDYsNDkuMjcyIEMxNTguNDE3LDUwLjMwNyAxNTguNjMsNTEuNTMyIDE1OC42Myw1Mi44OTIgQzE1OC42Myw1OS4xMzQgMTU0LjIwNSw2Ni43NjcgMTQ4Ljc2NSw2OS45MDcgQzE0Ny4xOTIsNzAuODE2IDE0NS42ODEsNzEuMjgzIDE0NC4yNzYsNzEuMjgzIEMxNDMuNjM0LDcxLjI4MyAxNDMuMDMzLDcxLjE5MiAxNDIuNDc2LDcxIEwxNDIuNDc2LDcxIFoiIGlkPSJGaWxsLTMzIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0OC42NDgsNjkuNzA0IEMxNTQuMDMyLDY2LjU5NiAxNTguMzk2LDU5LjA2OCAxNTguMzk2LDUyLjg5MSBDMTU4LjM5Niw1MC44MzkgMTU3LjkxMyw0OS4xOTggMTU3LjA3NCw0OC4wMyBDMTU1LjI4OSw0Ni43NzggMTUyLjY5OSw0Ni44MzYgMTQ5LjgxNiw0OC41MDEgQzE0NC40MzMsNTEuNjA5IDE0MC4wNjgsNTkuMTM3IDE0MC4wNjgsNjUuMzE0IEMxNDAuMDY4LDY3LjM2NSAxNDAuNTUyLDY5LjAwNiAxNDEuMzkxLDcwLjE3NCBDMTQzLjE3Niw3MS40MjcgMTQ1Ljc2NSw3MS4zNjkgMTQ4LjY0OCw2OS43MDQiIGlkPSJGaWxsLTM0IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NC4yNzYsNzEuMjc2IEwxNDQuMjc2LDcxLjI3NiBDMTQzLjEzMyw3MS4yNzYgMTQyLjExOCw3MC45NjkgMTQxLjI1Nyw3MC4zNjUgQzE0MS4yMzYsNzAuMzUxIDE0MS4yMTcsNzAuMzMyIDE0MS4yMDIsNzAuMzExIEMxNDAuMzA3LDY5LjA2NyAxMzkuODM1LDY3LjMzOSAxMzkuODM1LDY1LjMxNCBDMTM5LjgzNSw1OS4wNzMgMTQ0LjI2LDUxLjQzOSAxNDkuNyw0OC4yOTggQzE1MS4yNzMsNDcuMzkgMTUyLjc4NCw0Ni45MjkgMTU0LjE4OSw0Ni45MjkgQzE1NS4zMzIsNDYuOTI5IDE1Ni4zNDcsNDcuMjM2IDE1Ny4yMDgsNDcuODM5IEMxNTcuMjI5LDQ3Ljg1NCAxNTcuMjQ4LDQ3Ljg3MyAxNTcuMjYzLDQ3Ljg5NCBDMTU4LjE1Nyw0OS4xMzggMTU4LjYzLDUwLjg2NSAxNTguNjMsNTIuODkxIEMxNTguNjMsNTkuMTMyIDE1NC4yMDUsNjYuNzY2IDE0OC43NjUsNjkuOTA3IEMxNDcuMTkyLDcwLjgxNSAxNDUuNjgxLDcxLjI3NiAxNDQuMjc2LDcxLjI3NiBMMTQ0LjI3Niw3MS4yNzYgWiBNMTQxLjU1OCw3MC4xMDQgQzE0Mi4zMzEsNzAuNjM3IDE0My4yNDUsNzEuMDA1IDE0NC4yNzYsNzEuMDA1IEMxNDUuNTk4LDcxLjAwNSAxNDcuMDMsNzAuNDY3IDE0OC41MzIsNjkuNiBDMTUzLjg0Miw2Ni41MzQgMTU4LjE2Myw1OS4wMzMgMTU4LjE2Myw1Mi45MzkgQzE1OC4xNjMsNTEuMDMxIDE1Ny43MjksNDkuMzg1IDE1Ni45MDcsNDguMjIzIEMxNTYuMTMzLDQ3LjY5MSAxNTUuMjE5LDQ3LjQwOSAxNTQuMTg5LDQ3LjQwOSBDMTUyLjg2Nyw0Ny40MDkgMTUxLjQzNSw0Ny44NDIgMTQ5LjkzMyw0OC43MDkgQzE0NC42MjMsNTEuNzc1IDE0MC4zMDIsNTkuMjczIDE0MC4zMDIsNjUuMzY2IEMxNDAuMzAyLDY3LjI3NiAxNDAuNzM2LDY4Ljk0MiAxNDEuNTU4LDcwLjEwNCBMMTQxLjU1OCw3MC4xMDQgWiIgaWQ9IkZpbGwtMzUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUwLjcyLDY1LjM2MSBMMTUwLjM1Nyw2NS4wNjYgQzE1MS4xNDcsNjQuMDkyIDE1MS44NjksNjMuMDQgMTUyLjUwNSw2MS45MzggQzE1My4zMTMsNjAuNTM5IDE1My45NzgsNTkuMDY3IDE1NC40ODIsNTcuNTYzIEwxNTQuOTI1LDU3LjcxMiBDMTU0LjQxMiw1OS4yNDUgMTUzLjczMyw2MC43NDUgMTUyLjkxLDYyLjE3MiBDMTUyLjI2Miw2My4yOTUgMTUxLjUyNSw2NC4zNjggMTUwLjcyLDY1LjM2MSIgaWQ9IkZpbGwtMzYiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE1LjkxNyw4NC41MTQgTDExNS41NTQsODQuMjIgQzExNi4zNDQsODMuMjQ1IDExNy4wNjYsODIuMTk0IDExNy43MDIsODEuMDkyIEMxMTguNTEsNzkuNjkyIDExOS4xNzUsNzguMjIgMTE5LjY3OCw3Ni43MTcgTDEyMC4xMjEsNzYuODY1IEMxMTkuNjA4LDc4LjM5OCAxMTguOTMsNzkuODk5IDExOC4xMDYsODEuMzI2IEMxMTcuNDU4LDgyLjQ0OCAxMTYuNzIyLDgzLjUyMSAxMTUuOTE3LDg0LjUxNCIgaWQ9IkZpbGwtMzciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE0LDEzMC40NzYgTDExNCwxMzAuMDA4IEwxMTQsNzYuMDUyIEwxMTQsNzUuNTg0IEwxMTQsNzYuMDUyIEwxMTQsMTMwLjAwOCBMMTE0LDEzMC40NzYiIGlkPSJGaWxsLTM4IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjAwMDAwMCwgMC4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuODIyLDM3LjQ3NCBDMTkuODM5LDM3LjMzOSAxOS43NDcsMzcuMTk0IDE5LjU1NSwzNy4wODIgQzE5LjIyOCwzNi44OTQgMTguNzI5LDM2Ljg3MiAxOC40NDYsMzcuMDM3IEwxMi40MzQsNDAuNTA4IEMxMi4zMDMsNDAuNTg0IDEyLjI0LDQwLjY4NiAxMi4yNDMsNDAuNzkzIEMxMi4yNDUsNDAuOTI1IDEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQxLjM3MSBMMTIuMjQ1LDQxLjQxNCBMMTIuMjM4LDQxLjU0MiBDOC4xNDgsNDMuODg3IDUuNjQ3LDQ1LjMyMSA1LjY0Nyw0NS4zMjEgQzUuNjQ2LDQ1LjMyMSAzLjU3LDQ2LjM2NyAyLjg2LDUwLjUxMyBDMi44Niw1MC41MTMgMS45NDgsNTcuNDc0IDEuOTYyLDcwLjI1OCBDMS45NzcsODIuODI4IDIuNTY4LDg3LjMyOCAzLjEyOSw5MS42MDkgQzMuMzQ5LDkzLjI5MyA2LjEzLDkzLjczNCA2LjEzLDkzLjczNCBDNi40NjEsOTMuNzc0IDYuODI4LDkzLjcwNyA3LjIxLDkzLjQ4NiBMODIuNDgzLDQ5LjkzNSBDODQuMjkxLDQ4Ljg2NiA4NS4xNSw0Ni4yMTYgODUuNTM5LDQzLjY1MSBDODYuNzUyLDM1LjY2MSA4Ny4yMTQsMTAuNjczIDg1LjI2NCwzLjc3MyBDODUuMDY4LDMuMDggODQuNzU0LDIuNjkgODQuMzk2LDIuNDkxIEw4Mi4zMSwxLjcwMSBDODEuNTgzLDEuNzI5IDgwLjg5NCwyLjE2OCA4MC43NzYsMi4yMzYgQzgwLjYzNiwyLjMxNyA0MS44MDcsMjQuNTg1IDIwLjAzMiwzNy4wNzIgTDE5LjgyMiwzNy40NzQiIGlkPSJGaWxsLTEiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODIuMzExLDEuNzAxIEw4NC4zOTYsMi40OTEgQzg0Ljc1NCwyLjY5IDg1LjA2OCwzLjA4IDg1LjI2NCwzLjc3MyBDODcuMjEzLDEwLjY3MyA4Ni43NTEsMzUuNjYgODUuNTM5LDQzLjY1MSBDODUuMTQ5LDQ2LjIxNiA4NC4yOSw0OC44NjYgODIuNDgzLDQ5LjkzNSBMNy4yMSw5My40ODYgQzYuODk3LDkzLjY2NyA2LjU5NSw5My43NDQgNi4zMTQsOTMuNzQ0IEw2LjEzMSw5My43MzMgQzYuMTMxLDkzLjczNCAzLjM0OSw5My4yOTMgMy4xMjgsOTEuNjA5IEMyLjU2OCw4Ny4zMjcgMS45NzcsODIuODI4IDEuOTYzLDcwLjI1OCBDMS45NDgsNTcuNDc0IDIuODYsNTAuNTEzIDIuODYsNTAuNTEzIEMzLjU3LDQ2LjM2NyA1LjY0Nyw0NS4zMjEgNS42NDcsNDUuMzIxIEM1LjY0Nyw0NS4zMjEgOC4xNDgsNDMuODg3IDEyLjIzOCw0MS41NDIgTDEyLjI0NSw0MS40MTQgTDEyLjI0NSw0MS4zNzEgQzEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQwLjkyNSAxMi4yNDMsNDAuNzkzIEMxMi4yNCw0MC42ODYgMTIuMzAyLDQwLjU4MyAxMi40MzQsNDAuNTA4IEwxOC40NDYsMzcuMDM2IEMxOC41NzQsMzYuOTYyIDE4Ljc0NiwzNi45MjYgMTguOTI3LDM2LjkyNiBDMTkuMTQ1LDM2LjkyNiAxOS4zNzYsMzYuOTc5IDE5LjU1NCwzNy4wODIgQzE5Ljc0NywzNy4xOTQgMTkuODM5LDM3LjM0IDE5LjgyMiwzNy40NzQgTDIwLjAzMywzNy4wNzIgQzQxLjgwNiwyNC41ODUgODAuNjM2LDIuMzE4IDgwLjc3NywyLjIzNiBDODAuODk0LDIuMTY4IDgxLjU4MywxLjcyOSA4Mi4zMTEsMS43MDEgTTgyLjMxMSwwLjcwNCBMODIuMjcyLDAuNzA1IEM4MS42NTQsMC43MjggODAuOTg5LDAuOTQ5IDgwLjI5OCwxLjM2MSBMODAuMjc3LDEuMzczIEM4MC4xMjksMS40NTggNTkuNzY4LDEzLjEzNSAxOS43NTgsMzYuMDc5IEMxOS41LDM1Ljk4MSAxOS4yMTQsMzUuOTI5IDE4LjkyNywzNS45MjkgQzE4LjU2MiwzNS45MjkgMTguMjIzLDM2LjAxMyAxNy45NDcsMzYuMTczIEwxMS45MzUsMzkuNjQ0IEMxMS40OTMsMzkuODk5IDExLjIzNiw0MC4zMzQgMTEuMjQ2LDQwLjgxIEwxMS4yNDcsNDAuOTYgTDUuMTY3LDQ0LjQ0NyBDNC43OTQsNDQuNjQ2IDIuNjI1LDQ1Ljk3OCAxLjg3Nyw1MC4zNDUgTDEuODcxLDUwLjM4NCBDMS44NjIsNTAuNDU0IDAuOTUxLDU3LjU1NyAwLjk2NSw3MC4yNTkgQzAuOTc5LDgyLjg3OSAxLjU2OCw4Ny4zNzUgMi4xMzcsOTEuNzI0IEwyLjEzOSw5MS43MzkgQzIuNDQ3LDk0LjA5NCA1LjYxNCw5NC42NjIgNS45NzUsOTQuNzE5IEw2LjAwOSw5NC43MjMgQzYuMTEsOTQuNzM2IDYuMjEzLDk0Ljc0MiA2LjMxNCw5NC43NDIgQzYuNzksOTQuNzQyIDcuMjYsOTQuNjEgNy43MSw5NC4zNSBMODIuOTgzLDUwLjc5OCBDODQuNzk0LDQ5LjcyNyA4NS45ODIsNDcuMzc1IDg2LjUyNSw0My44MDEgQzg3LjcxMSwzNS45ODcgODguMjU5LDEwLjcwNSA4Ni4yMjQsMy41MDIgQzg1Ljk3MSwyLjYwOSA4NS41MiwxLjk3NSA4NC44ODEsMS42MiBMODQuNzQ5LDEuNTU4IEw4Mi42NjQsMC43NjkgQzgyLjU1MSwwLjcyNSA4Mi40MzEsMC43MDQgODIuMzExLDAuNzA0IiBpZD0iRmlsbC0yIiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY2LjI2NywxMS41NjUgTDY3Ljc2MiwxMS45OTkgTDExLjQyMyw0NC4zMjUiIGlkPSJGaWxsLTMiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMjAyLDkwLjU0NSBDMTIuMDI5LDkwLjU0NSAxMS44NjIsOTAuNDU1IDExLjc2OSw5MC4yOTUgQzExLjYzMiw5MC4wNTcgMTEuNzEzLDg5Ljc1MiAxMS45NTIsODkuNjE0IEwzMC4zODksNzguOTY5IEMzMC42MjgsNzguODMxIDMwLjkzMyw3OC45MTMgMzEuMDcxLDc5LjE1MiBDMzEuMjA4LDc5LjM5IDMxLjEyNyw3OS42OTYgMzAuODg4LDc5LjgzMyBMMTIuNDUxLDkwLjQ3OCBMMTIuMjAyLDkwLjU0NSIgaWQ9IkZpbGwtNCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy43NjQsNDIuNjU0IEwxMy42NTYsNDIuNTkyIEwxMy43MDIsNDIuNDIxIEwxOC44MzcsMzkuNDU3IEwxOS4wMDcsMzkuNTAyIEwxOC45NjIsMzkuNjczIEwxMy44MjcsNDIuNjM3IEwxMy43NjQsNDIuNjU0IiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTguNTIsOTAuMzc1IEw4LjUyLDQ2LjQyMSBMOC41ODMsNDYuMzg1IEw3NS44NCw3LjU1NCBMNzUuODQsNTEuNTA4IEw3NS43NzgsNTEuNTQ0IEw4LjUyLDkwLjM3NSBMOC41Miw5MC4zNzUgWiBNOC43Nyw0Ni41NjQgTDguNzcsODkuOTQ0IEw3NS41OTEsNTEuMzY1IEw3NS41OTEsNy45ODUgTDguNzcsNDYuNTY0IEw4Ljc3LDQ2LjU2NCBaIiBpZD0iRmlsbC02IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0Ljk4Niw4My4xODIgQzI0Ljc1Niw4My4zMzEgMjQuMzc0LDgzLjU2NiAyNC4xMzcsODMuNzA1IEwxMi42MzIsOTAuNDA2IEMxMi4zOTUsOTAuNTQ1IDEyLjQyNiw5MC42NTggMTIuNyw5MC42NTggTDEzLjI2NSw5MC42NTggQzEzLjU0LDkwLjY1OCAxMy45NTgsOTAuNTQ1IDE0LjE5NSw5MC40MDYgTDI1LjcsODMuNzA1IEMyNS45MzcsODMuNTY2IDI2LjEyOCw4My40NTIgMjYuMTI1LDgzLjQ0OSBDMjYuMTIyLDgzLjQ0NyAyNi4xMTksODMuMjIgMjYuMTE5LDgyLjk0NiBDMjYuMTE5LDgyLjY3MiAyNS45MzEsODIuNTY5IDI1LjcwMSw4Mi43MTkgTDI0Ljk4Niw4My4xODIiIGlkPSJGaWxsLTciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMjY2LDkwLjc4MiBMMTIuNyw5MC43ODIgQzEyLjUsOTAuNzgyIDEyLjM4NCw5MC43MjYgMTIuMzU0LDkwLjYxNiBDMTIuMzI0LDkwLjUwNiAxMi4zOTcsOTAuMzk5IDEyLjU2OSw5MC4yOTkgTDI0LjA3NCw4My41OTcgQzI0LjMxLDgzLjQ1OSAyNC42ODksODMuMjI2IDI0LjkxOCw4My4wNzggTDI1LjYzMyw4Mi42MTQgQzI1LjcyMyw4Mi41NTUgMjUuODEzLDgyLjUyNSAyNS44OTksODIuNTI1IEMyNi4wNzEsODIuNTI1IDI2LjI0NCw4Mi42NTUgMjYuMjQ0LDgyLjk0NiBDMjYuMjQ0LDgzLjE2IDI2LjI0NSw4My4zMDkgMjYuMjQ3LDgzLjM4MyBMMjYuMjUzLDgzLjM4NyBMMjYuMjQ5LDgzLjQ1NiBDMjYuMjQ2LDgzLjUzMSAyNi4yNDYsODMuNTMxIDI1Ljc2Myw4My44MTIgTDE0LjI1OCw5MC41MTQgQzE0LDkwLjY2NSAxMy41NjQsOTAuNzgyIDEzLjI2Niw5MC43ODIgTDEzLjI2Niw5MC43ODIgWiBNMTIuNjY2LDkwLjUzMiBMMTIuNyw5MC41MzMgTDEzLjI2Niw5MC41MzMgQzEzLjUxOCw5MC41MzMgMTMuOTE1LDkwLjQyNSAxNC4xMzIsOTAuMjk5IEwyNS42MzcsODMuNTk3IEMyNS44MDUsODMuNDk5IDI1LjkzMSw4My40MjQgMjUuOTk4LDgzLjM4MyBDMjUuOTk0LDgzLjI5OSAyNS45OTQsODMuMTY1IDI1Ljk5NCw4Mi45NDYgTDI1Ljg5OSw4Mi43NzUgTDI1Ljc2OCw4Mi44MjQgTDI1LjA1NCw4My4yODcgQzI0LjgyMiw4My40MzcgMjQuNDM4LDgzLjY3MyAyNC4yLDgzLjgxMiBMMTIuNjk1LDkwLjUxNCBMMTIuNjY2LDkwLjUzMiBMMTIuNjY2LDkwLjUzMiBaIiBpZD0iRmlsbC04IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLjI2Niw4OS44NzEgTDEyLjcsODkuODcxIEMxMi41LDg5Ljg3MSAxMi4zODQsODkuODE1IDEyLjM1NCw4OS43MDUgQzEyLjMyNCw4OS41OTUgMTIuMzk3LDg5LjQ4OCAxMi41NjksODkuMzg4IEwyNC4wNzQsODIuNjg2IEMyNC4zMzIsODIuNTM1IDI0Ljc2OCw4Mi40MTggMjUuMDY3LDgyLjQxOCBMMjUuNjMyLDgyLjQxOCBDMjUuODMyLDgyLjQxOCAyNS45NDgsODIuNDc0IDI1Ljk3OCw4Mi41ODQgQzI2LjAwOCw4Mi42OTQgMjUuOTM1LDgyLjgwMSAyNS43NjMsODIuOTAxIEwxNC4yNTgsODkuNjAzIEMxNCw4OS43NTQgMTMuNTY0LDg5Ljg3MSAxMy4yNjYsODkuODcxIEwxMy4yNjYsODkuODcxIFogTTEyLjY2Niw4OS42MjEgTDEyLjcsODkuNjIyIEwxMy4yNjYsODkuNjIyIEMxMy41MTgsODkuNjIyIDEzLjkxNSw4OS41MTUgMTQuMTMyLDg5LjM4OCBMMjUuNjM3LDgyLjY4NiBMMjUuNjY3LDgyLjY2OCBMMjUuNjMyLDgyLjY2NyBMMjUuMDY3LDgyLjY2NyBDMjQuODE1LDgyLjY2NyAyNC40MTgsODIuNzc1IDI0LjIsODIuOTAxIEwxMi42OTUsODkuNjAzIEwxMi42NjYsODkuNjIxIEwxMi42NjYsODkuNjIxIFoiIGlkPSJGaWxsLTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzcsOTAuODAxIEwxMi4zNyw4OS41NTQgTDEyLjM3LDkwLjgwMSIgaWQ9IkZpbGwtMTAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi4xMyw5My45MDEgQzUuMzc5LDkzLjgwOCA0LjgxNiw5My4xNjQgNC42OTEsOTIuNTI1IEMzLjg2LDg4LjI4NyAzLjU0LDgzLjc0MyAzLjUyNiw3MS4xNzMgQzMuNTExLDU4LjM4OSA0LjQyMyw1MS40MjggNC40MjMsNTEuNDI4IEM1LjEzNCw0Ny4yODIgNy4yMSw0Ni4yMzYgNy4yMSw0Ni4yMzYgQzcuMjEsNDYuMjM2IDgxLjY2NywzLjI1IDgyLjA2OSwzLjAxNyBDODIuMjkyLDIuODg4IDg0LjU1NiwxLjQzMyA4NS4yNjQsMy45NCBDODcuMjE0LDEwLjg0IDg2Ljc1MiwzNS44MjcgODUuNTM5LDQzLjgxOCBDODUuMTUsNDYuMzgzIDg0LjI5MSw0OS4wMzMgODIuNDgzLDUwLjEwMSBMNy4yMSw5My42NTMgQzYuODI4LDkzLjg3NCA2LjQ2MSw5My45NDEgNi4xMyw5My45MDEgQzYuMTMsOTMuOTAxIDMuMzQ5LDkzLjQ2IDMuMTI5LDkxLjc3NiBDMi41NjgsODcuNDk1IDEuOTc3LDgyLjk5NSAxLjk2Miw3MC40MjUgQzEuOTQ4LDU3LjY0MSAyLjg2LDUwLjY4IDIuODYsNTAuNjggQzMuNTcsNDYuNTM0IDUuNjQ3LDQ1LjQ4OSA1LjY0Nyw0NS40ODkgQzUuNjQ2LDQ1LjQ4OSA4LjA2NSw0NC4wOTIgMTIuMjQ1LDQxLjY3OSBMMTMuMTE2LDQxLjU2IEwxOS43MTUsMzcuNzMgTDE5Ljc2MSwzNy4yNjkgTDYuMTMsOTMuOTAxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjMxNyw5NC4xNjEgTDYuMTAyLDk0LjE0OCBMNi4xMDEsOTQuMTQ4IEw1Ljg1Nyw5NC4xMDEgQzUuMTM4LDkzLjk0NSAzLjA4NSw5My4zNjUgMi44ODEsOTEuODA5IEMyLjMxMyw4Ny40NjkgMS43MjcsODIuOTk2IDEuNzEzLDcwLjQyNSBDMS42OTksNTcuNzcxIDIuNjA0LDUwLjcxOCAyLjYxMyw1MC42NDggQzMuMzM4LDQ2LjQxNyA1LjQ0NSw0NS4zMSA1LjUzNSw0NS4yNjYgTDEyLjE2Myw0MS40MzkgTDEzLjAzMyw0MS4zMiBMMTkuNDc5LDM3LjU3OCBMMTkuNTEzLDM3LjI0NCBDMTkuNTI2LDM3LjEwNyAxOS42NDcsMzcuMDA4IDE5Ljc4NiwzNy4wMjEgQzE5LjkyMiwzNy4wMzQgMjAuMDIzLDM3LjE1NiAyMC4wMDksMzcuMjkzIEwxOS45NSwzNy44ODIgTDEzLjE5OCw0MS44MDEgTDEyLjMyOCw0MS45MTkgTDUuNzcyLDQ1LjcwNCBDNS43NDEsNDUuNzIgMy43ODIsNDYuNzcyIDMuMTA2LDUwLjcyMiBDMy4wOTksNTAuNzgyIDIuMTk4LDU3LjgwOCAyLjIxMiw3MC40MjQgQzIuMjI2LDgyLjk2MyAyLjgwOSw4Ny40MiAzLjM3Myw5MS43MjkgQzMuNDY0LDkyLjQyIDQuMDYyLDkyLjg4MyA0LjY4Miw5My4xODEgQzQuNTY2LDkyLjk4NCA0LjQ4Niw5Mi43NzYgNC40NDYsOTIuNTcyIEMzLjY2NSw4OC41ODggMy4yOTEsODQuMzcgMy4yNzYsNzEuMTczIEMzLjI2Miw1OC41MiA0LjE2Nyw1MS40NjYgNC4xNzYsNTEuMzk2IEM0LjkwMSw0Ny4xNjUgNy4wMDgsNDYuMDU5IDcuMDk4LDQ2LjAxNCBDNy4wOTQsNDYuMDE1IDgxLjU0MiwzLjAzNCA4MS45NDQsMi44MDIgTDgxLjk3MiwyLjc4NSBDODIuODc2LDIuMjQ3IDgzLjY5MiwyLjA5NyA4NC4zMzIsMi4zNTIgQzg0Ljg4NywyLjU3MyA4NS4yODEsMy4wODUgODUuNTA0LDMuODcyIEM4Ny41MTgsMTEgODYuOTY0LDM2LjA5MSA4NS43ODUsNDMuODU1IEM4NS4yNzgsNDcuMTk2IDg0LjIxLDQ5LjM3IDgyLjYxLDUwLjMxNyBMNy4zMzUsOTMuODY5IEM2Ljk5OSw5NC4wNjMgNi42NTgsOTQuMTYxIDYuMzE3LDk0LjE2MSBMNi4zMTcsOTQuMTYxIFogTTYuMTcsOTMuNjU0IEM2LjQ2Myw5My42OSA2Ljc3NCw5My42MTcgNy4wODUsOTMuNDM3IEw4Mi4zNTgsNDkuODg2IEM4NC4xODEsNDguODA4IDg0Ljk2LDQ1Ljk3MSA4NS4yOTIsNDMuNzggQzg2LjQ2NiwzNi4wNDkgODcuMDIzLDExLjA4NSA4NS4wMjQsNC4wMDggQzg0Ljg0NiwzLjM3NyA4NC41NTEsMi45NzYgODQuMTQ4LDIuODE2IEM4My42NjQsMi42MjMgODIuOTgyLDIuNzY0IDgyLjIyNywzLjIxMyBMODIuMTkzLDMuMjM0IEM4MS43OTEsMy40NjYgNy4zMzUsNDYuNDUyIDcuMzM1LDQ2LjQ1MiBDNy4zMDQsNDYuNDY5IDUuMzQ2LDQ3LjUyMSA0LjY2OSw1MS40NzEgQzQuNjYyLDUxLjUzIDMuNzYxLDU4LjU1NiAzLjc3NSw3MS4xNzMgQzMuNzksODQuMzI4IDQuMTYxLDg4LjUyNCA0LjkzNiw5Mi40NzYgQzUuMDI2LDkyLjkzNyA1LjQxMiw5My40NTkgNS45NzMsOTMuNjE1IEM2LjA4Nyw5My42NCA2LjE1OCw5My42NTIgNi4xNjksOTMuNjU0IEw2LjE3LDkzLjY1NCBMNi4xNyw5My42NTQgWiIgaWQ9IkZpbGwtMTIiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4zMTcsNjguOTgyIEM3LjgwNiw2OC43MDEgOC4yMDIsNjguOTI2IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNi44MjksNzEuMjk0IDYuNDMzLDcxLjA2OSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIiBpZD0iRmlsbC0xMyIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjkyLDcxLjEzMyBDNi42MzEsNzEuMTMzIDYuNDMzLDcwLjkwNSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIEM3LjQ2LDY4LjkgNy41OTUsNjguODYxIDcuNzE0LDY4Ljg2MSBDOC4wMDMsNjguODYxIDguMjAyLDY5LjA5IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNy4xNzQsNzEuMDk0IDcuMDM5LDcxLjEzMyA2LjkyLDcxLjEzMyBNNy43MTQsNjguNjc0IEM3LjU1Nyw2OC42NzQgNy4zOTIsNjguNzIzIDcuMjI0LDY4LjgyMSBDNi42NzYsNjkuMTM4IDYuMjQ2LDY5Ljg3OSA2LjI0Niw3MC41MDggQzYuMjQ2LDcwLjk5NCA2LjUxNyw3MS4zMiA2LjkyLDcxLjMyIEM3LjA3OCw3MS4zMiA3LjI0Myw3MS4yNzEgNy40MTEsNzEuMTc0IEM3Ljk1OSw3MC44NTcgOC4zODksNzAuMTE3IDguMzg5LDY5LjQ4NyBDOC4zODksNjkuMDAxIDguMTE3LDY4LjY3NCA3LjcxNCw2OC42NzQiIGlkPSJGaWxsLTE0IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYuOTIsNzAuOTQ3IEM2LjY0OSw3MC45NDcgNi42MjEsNzAuNjQgNi42MjEsNzAuNTA4IEM2LjYyMSw3MC4wMTcgNi45ODIsNjkuMzkyIDcuNDExLDY5LjE0NSBDNy41MjEsNjkuMDgyIDcuNjI1LDY5LjA0OSA3LjcxNCw2OS4wNDkgQzcuOTg2LDY5LjA0OSA4LjAxNSw2OS4zNTUgOC4wMTUsNjkuNDg3IEM4LjAxNSw2OS45NzggNy42NTIsNzAuNjAzIDcuMjI0LDcwLjg1MSBDNy4xMTUsNzAuOTE0IDcuMDEsNzAuOTQ3IDYuOTIsNzAuOTQ3IE03LjcxNCw2OC44NjEgQzcuNTk1LDY4Ljg2MSA3LjQ2LDY4LjkgNy4zMTcsNjguOTgyIEM2LjgyOSw2OS4yNjUgNi40MzMsNjkuOTQ4IDYuNDMzLDcwLjUwOCBDNi40MzMsNzAuOTA1IDYuNjMxLDcxLjEzMyA2LjkyLDcxLjEzMyBDNy4wMzksNzEuMTMzIDcuMTc0LDcxLjA5NCA3LjMxNyw3MS4wMTIgQzcuODA2LDcwLjczIDguMjAyLDcwLjA0NyA4LjIwMiw2OS40ODcgQzguMjAyLDY5LjA5IDguMDAzLDY4Ljg2MSA3LjcxNCw2OC44NjEiIGlkPSJGaWxsLTE1IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNDQ0LDg1LjM1IEM3LjcwOCw4NS4xOTggNy45MjEsODUuMzE5IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuOTI1IDcuNzA4LDg2LjI5MiA3LjQ0NCw4Ni40NDQgQzcuMTgxLDg2LjU5NyA2Ljk2Nyw4Ni40NzUgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IiBpZD0iRmlsbC0xNiIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjIzLDg2LjUxIEM3LjA3NCw4Ni41MSA2Ljk2Nyw4Ni4zODcgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IEM3LjUyMSw4NS4zMDUgNy41OTQsODUuMjg0IDcuNjU4LDg1LjI4NCBDNy44MTQsODUuMjg0IDcuOTIxLDg1LjQwOCA3LjkyMSw4NS42MjIgQzcuOTIxLDg1LjkyNSA3LjcwOCw4Ni4yOTIgNy40NDQsODYuNDQ0IEM3LjM2Nyw4Ni40ODkgNy4yOTQsODYuNTEgNy4yMyw4Ni41MSBNNy42NTgsODUuMDk4IEM3LjU1OCw4NS4wOTggNy40NTUsODUuMTI3IDcuMzUxLDg1LjE4OCBDNy4wMzEsODUuMzczIDYuNzgxLDg1LjgwNiA2Ljc4MSw4Ni4xNzMgQzYuNzgxLDg2LjQ4MiA2Ljk2Niw4Ni42OTcgNy4yMyw4Ni42OTcgQzcuMzMsODYuNjk3IDcuNDMzLDg2LjY2NiA3LjUzOCw4Ni42MDcgQzcuODU4LDg2LjQyMiA4LjEwOCw4NS45ODkgOC4xMDgsODUuNjIyIEM4LjEwOCw4NS4zMTMgNy45MjMsODUuMDk4IDcuNjU4LDg1LjA5OCIgaWQ9IkZpbGwtMTciIGZpbGw9IiM4MDk3QTIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4yMyw4Ni4zMjIgTDcuMTU0LDg2LjE3MyBDNy4xNTQsODUuOTM4IDcuMzMzLDg1LjYyOSA3LjUzOCw4NS41MTIgTDcuNjU4LDg1LjQ3MSBMNy43MzQsODUuNjIyIEM3LjczNCw4NS44NTYgNy41NTUsODYuMTY0IDcuMzUxLDg2LjI4MiBMNy4yMyw4Ni4zMjIgTTcuNjU4LDg1LjI4NCBDNy41OTQsODUuMjg0IDcuNTIxLDg1LjMwNSA3LjQ0NCw4NS4zNSBDNy4xODEsODUuNTAyIDYuOTY3LDg1Ljg3MSA2Ljk2Nyw4Ni4xNzMgQzYuOTY3LDg2LjM4NyA3LjA3NCw4Ni41MSA3LjIzLDg2LjUxIEM3LjI5NCw4Ni41MSA3LjM2Nyw4Ni40ODkgNy40NDQsODYuNDQ0IEM3LjcwOCw4Ni4yOTIgNy45MjEsODUuOTI1IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuNDA4IDcuODE0LDg1LjI4NCA3LjY1OCw4NS4yODQiIGlkPSJGaWxsLTE4IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc3LjI3OCw3Ljc2OSBMNzcuMjc4LDUxLjQzNiBMMTAuMjA4LDkwLjE2IEwxMC4yMDgsNDYuNDkzIEw3Ny4yNzgsNy43NjkiIGlkPSJGaWxsLTE5IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjA4Myw5MC4zNzUgTDEwLjA4Myw0Ni40MjEgTDEwLjE0Niw0Ni4zODUgTDc3LjQwMyw3LjU1NCBMNzcuNDAzLDUxLjUwOCBMNzcuMzQxLDUxLjU0NCBMMTAuMDgzLDkwLjM3NSBMMTAuMDgzLDkwLjM3NSBaIE0xMC4zMzMsNDYuNTY0IEwxMC4zMzMsODkuOTQ0IEw3Ny4xNTQsNTEuMzY1IEw3Ny4xNTQsNy45ODUgTDEwLjMzMyw0Ni41NjQgTDEwLjMzMyw0Ni41NjQgWiIgaWQ9IkZpbGwtMjAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMjUuNzM3LDg4LjY0NyBMMTE4LjA5OCw5MS45ODEgTDExOC4wOTgsODQgTDEwNi42MzksODguNzEzIEwxMDYuNjM5LDk2Ljk4MiBMOTksMTAwLjMxNSBMMTEyLjM2OSwxMDMuOTYxIEwxMjUuNzM3LDg4LjY0NyIgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTIiIGZpbGw9IiM0NTVBNjQiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"};var mZ="CardboardV1",pZ="WEBVR_CARDBOARD_VIEWER";function NZ(){try{this.selectedKey=localStorage.getItem(pZ)}catch(t){console.error("Failed to load viewer profile: %s",t)}this.selectedKey||(this.selectedKey=mZ),this.dialog=this.WYt(oZ.Viewers),this.root=null,this.XYt=[]}NZ.prototype.show=function(t){this.root=t,t.appendChild(this.dialog),this.dialog.querySelector("#"+this.selectedKey).checked=!0,this.dialog.style.display="block"},NZ.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},NZ.prototype.getCurrentViewer=function(){return oZ.Viewers[this.selectedKey]},NZ.prototype.ZYt=function(){var t=this.dialog.querySelector("input[name=field]:checked");return t?t.id:null},NZ.prototype.onChange=function(t){this.XYt.push(t)},NZ.prototype.qYt=function(t){for(var n=0;n<this.XYt.length;n++)this.XYt[n](t)},NZ.prototype.JYt=function(){if(this.selectedKey=this.ZYt(),this.selectedKey&&oZ.Viewers[this.selectedKey]){this.qYt(oZ.Viewers[this.selectedKey]);try{localStorage.setItem(pZ,this.selectedKey)}catch(t){console.error("Failed to save viewer profile: %s",t)}this.hide()}else console.error("ViewerSelector.onSave_: this should never happen!")},NZ.prototype.WYt=function(t){var n=r.createElement("div");n.classList.add("webvr-polyfill-viewer-selector"),n.style.display="none";var i=r.createElement("div");(s=i.style).position="fixed",s.left=0,s.top=0,s.width="100%",s.height="100%",s.background="rgba(0, 0, 0, 0.3)",i.addEventListener("click",this.hide.bind(this));var e=r.createElement("div"),s=e.style;for(var u in s.boxSizing="border-box",s.position="fixed",s.top="24px",s.left="50%",s.marginLeft="-140px",s.width="280px",s.padding="24px",s.overflow="hidden",s.background="#fafafa",s.fontFamily="'Roboto', sans-serif",s.boxShadow="0px 5px 20px #666",e.appendChild(this.KYt("Select your viewer")),t)e.appendChild(this.$Yt(u,t[u].label));return e.appendChild(this.tGt("Save",this.JYt.bind(this))),n.appendChild(i),n.appendChild(e),n},NZ.prototype.KYt=function(t){var n=r.createElement("h1"),i=n.style;return i.color="black",i.fontSize="20px",i.fontWeight="bold",i.marginTop=0,i.marginBottom="24px",n.innerHTML=t,n},NZ.prototype.$Yt=function(t,n){var i=r.createElement("div");i.style.marginTop="8px",i.style.color="black";var e=r.createElement("input");e.style.fontSize="30px",e.setAttribute("id",t),e.setAttribute("type","radio"),e.setAttribute("value",t),e.setAttribute("name","field");var s=r.createElement("label");return s.style.marginLeft="4px",s.setAttribute("for",t),s.innerHTML=n,i.appendChild(e),i.appendChild(s),i},NZ.prototype.tGt=function(t,n){var i=r.createElement("button");i.innerHTML=t;var e=i.style;return e.float="right",e.textTransform="uppercase",e.color="#1094f7",e.fontSize="14px",e.letterSpacing=0,e.border=0,e.background="none",e.marginTop="16px",i.addEventListener("click",n),i};void 0!==e||"undefined"!=typeof global&&global;var DZ=function(t){return t&&t.__esModule?t.default:t}(function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){var i;i=function(){return function(t){var n={};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=n,i.d=function(t,n,e){i.o(t,n)||d.defineProperty(t,n,{configurable:!1,enumerable:!0,get:e})},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return d.prototype.hasOwnProperty.call(t,n)},i.p="",i(i.s=0)}([function(t,n,i){var s=function(){function t(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}return function(n,i,e){return i&&t(n.prototype,i),e&&t(n,e),n}}();var o=i(1),h=void 0!==u&&A((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(u.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!e.MSStream,c=function(){function t(){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,t),h?this.noSleepTimer=null:(this.noSleepVideo=r.createElement("video"),this.noSleepVideo.setAttribute("playsinline",""),this.noSleepVideo.setAttribute("src",o),this.noSleepVideo.addEventListener("timeupdate",function(t){this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=l.random())}.bind(this)))}return s(t,[{key:"enable",value:function(){h?(this.disable(),this.noSleepTimer=e.setInterval(function(){e.location.href="/",e.setTimeout(e.stop,0)},15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){h?this.noSleepTimer&&(e.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),t}();t.exports=c},function(t,n,i){t.exports="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}])},t.exports=i()})),TZ=1e3,IZ=[0,0,.5,1],bZ=[.5,0,.5,1],EZ=e.requestAnimationFrame,LZ=e.cancelAnimationFrame;function SZ(t){d.defineProperties(this,{hasPosition:{writable:!1,enumerable:!0,value:t.hasPosition},hasExternalDisplay:{writable:!1,enumerable:!0,value:t.hasExternalDisplay},canPresent:{writable:!1,enumerable:!0,value:t.canPresent},maxLayers:{writable:!1,enumerable:!0,value:t.maxLayers},hasOrientation:{enumerable:!0,get:function(){return QX("VRDisplayCapabilities.prototype.hasOrientation","VRDisplay.prototype.getFrameData"),t.hasOrientation}}})}function jZ(t){var n=!("wakelock"in(t=t||{}))||t.wakelock;this.isPolyfilled=!0,this.displayId=TZ++,this.displayName="",this.depthNear=.01,this.depthFar=1e4,this.isPresenting=!1,d.defineProperty(this,"isConnected",{get:function(){return QX("VRDisplay.prototype.isConnected","VRDisplayCapabilities.prototype.hasExternalDisplay"),!1}}),this.capabilities=new SZ({hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1}),this.stageParameters=null,this.nGt=!1,this.Hk=null,this.iGt=null,this.pj=null,this.Px=null,this.eGt=null,this.rGt=null,this.sGt=null,this.uGt=null,n&&jX()&&(this.oGt=new DZ)}jZ.prototype.getFrameData=function(t){return RX(t,this.hGt(),this)},jZ.prototype.getPose=function(){return QX("VRDisplay.prototype.getPose","VRDisplay.prototype.getFrameData"),this.hGt()},jZ.prototype.resetPose=function(){return QX("VRDisplay.prototype.resetPose"),this.cGt()},jZ.prototype.getImmediatePose=function(){return QX("VRDisplay.prototype.getImmediatePose","VRDisplay.prototype.getFrameData"),this.hGt()},jZ.prototype.requestAnimationFrame=function(t){return EZ(t)},jZ.prototype.cancelAnimationFrame=function(t){return LZ(t)},jZ.prototype.wrapForFullscreen=function(t){if(MX())return t;if(!this.Px){this.Px=r.createElement("div");var n=["height: "+l.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.Px.setAttribute("style",n.join("; ")+";"),this.Px.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.pj==t)return this.Px;if(this.pj&&(this.iGt?this.iGt.appendChild(this.pj):this.pj.parentElement.removeChild(this.pj)),this.pj=t,this.iGt=t.parentElement,this.iGt||r.body.appendChild(t),!this.Px.parentElement){var i=this.pj.parentElement;i.insertBefore(this.Px,this.pj),i.removeChild(this.pj)}this.Px.insertBefore(this.pj,this.Px.firstChild),this.eGt=this.pj.getAttribute("style");var e=this;return function(){if(e.pj){var t=["position: absolute","top: 0","left: 0","width: "+l.max(screen.width,screen.height)+"px","height: "+l.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];e.pj.setAttribute("style",t.join("; ")+";")}}(),this.Px},jZ.prototype.removeFullscreenWrapper=function(){if(this.pj){var t=this.pj;this.eGt?t.setAttribute("style",this.eGt):t.removeAttribute("style"),this.pj=null,this.eGt=null;var n=this.Px.parentElement;return this.Px.removeChild(t),this.iGt===n?n.insertBefore(t,this.Px):this.iGt&&this.iGt.appendChild(t),n.removeChild(this.Px),t}},jZ.prototype.requestPresent=function(t){var n=this.isPresenting,i=this;return t instanceof Array||(QX("VRDisplay.prototype.requestPresent with non-array argument","an array of VRLayers as the first argument"),t=[t]),new N(function(e,s){if(i.capabilities.canPresent)if(0==t.length||t.length>i.capabilities.maxLayers)s(new f("Invalid number of layers."));else{var u=t[0];if(u.source){var o=u.leftBounds||IZ,h=u.rightBounds||bZ;if(n){var c=i.Hk;c.source!==u.source&&(c.source=u.source);for(var a=0;a<4;a++)c.leftBounds[a]=o[a],c.rightBounds[a]=h[a];return i.wrapForFullscreen(i.Hk.source),i.aGt(),void e()}if(i.Hk={predistorted:u.predistorted,source:u.source,leftBounds:o.slice(0),rightBounds:h.slice(0)},i.nGt=!1,i.Hk&&i.Hk.source){var v=i.wrapForFullscreen(i.Hk.source);i.fGt(v,function(){var t=r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement;i.isPresenting=v===t,i.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}),i.nGt=!1,i.vGt(),e()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),i.disableWakeLock(),i.dGt(),i.removeFullscreenWrapper(),i.lGt()),i.gGt()},function(){i.nGt&&(i.removeFullscreenWrapper(),i.lGt(),i.disableWakeLock(),i.nGt=!1,i.isPresenting=!1,s(new f("Unable to present.")))}),!function(t){if(r.fullscreenEnabled&&t.requestFullscreen)t.requestFullscreen();else if(r.webkitFullscreenEnabled&&t.webkitRequestFullscreen)t.webkitRequestFullscreen();else if(r.mozFullScreenEnabled&&t.mozRequestFullScreen)t.mozRequestFullScreen();else{if(!r.msFullscreenEnabled||!t.msRequestFullscreen)return!1;t.msRequestFullscreen()}return!0}(v)?(MX()||kX())&&(i.enableWakeLock(),i.isPresenting=!0,i.vGt(),i.gGt(),e()):(i.enableWakeLock(),i.nGt=!0)}i.nGt||MX()||(EX(),s(new f("Unable to present.")))}else e()}else s(new f("VRDisplay is not capable of presenting."))})},jZ.prototype.exitPresent=function(){var t=this.isPresenting,n=this;return this.isPresenting=!1,this.Hk=null,this.disableWakeLock(),new N(function(i,e){t?(EX(),n.dGt(),n.removeFullscreenWrapper(),n.lGt(),n.gGt(),i()):e(new f("Was not presenting to VRDisplay."))})},jZ.prototype.getLayers=function(){return this.Hk?[this.Hk]:[]},jZ.prototype.gGt=function(){var t=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});e.dispatchEvent(t)},jZ.prototype.AGt=function(){var t=new CustomEvent("vrdisplayconnect",{detail:{display:this}});e.dispatchEvent(t)},jZ.prototype.fGt=function(t,n,i){this.lGt(),this.rGt=t,this.sGt=n,this.uGt=i,n&&(r.fullscreenEnabled?t.addEventListener("fullscreenchange",n,!1):r.webkitFullscreenEnabled?t.addEventListener("webkitfullscreenchange",n,!1):r.mozFullScreenEnabled?r.addEventListener("mozfullscreenchange",n,!1):r.msFullscreenEnabled&&t.addEventListener("msfullscreenchange",n,!1)),i&&(r.fullscreenEnabled?t.addEventListener("fullscreenerror",i,!1):r.webkitFullscreenEnabled?t.addEventListener("webkitfullscreenerror",i,!1):r.mozFullScreenEnabled?r.addEventListener("mozfullscreenerror",i,!1):r.msFullscreenEnabled&&t.addEventListener("msfullscreenerror",i,!1))},jZ.prototype.lGt=function(){if(this.rGt){var t=this.rGt;if(this.sGt){var n=this.sGt;t.removeEventListener("fullscreenchange",n,!1),t.removeEventListener("webkitfullscreenchange",n,!1),r.removeEventListener("mozfullscreenchange",n,!1),t.removeEventListener("msfullscreenchange",n,!1)}if(this.uGt){var i=this.uGt;t.removeEventListener("fullscreenerror",i,!1),t.removeEventListener("webkitfullscreenerror",i,!1),r.removeEventListener("mozfullscreenerror",i,!1),t.removeEventListener("msfullscreenerror",i,!1)}this.rGt=null,this.sGt=null,this.uGt=null}},jZ.prototype.enableWakeLock=function(){this.oGt&&this.oGt.enable()},jZ.prototype.disableWakeLock=function(){this.oGt&&this.oGt.disable()},jZ.prototype.vGt=function(){},jZ.prototype.dGt=function(){},jZ.prototype.submitFrame=function(t){},jZ.prototype.getEyeParameters=function(t){return null};var CZ={MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT:3e3,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},OZ="left",xZ="right";function zZ(t){var n=CX({},CZ);t=CX(n,t||{}),jZ.call(this,{wakelock:t.MOBILE_WAKE_LOCK}),this.config=t,this.displayName="Cardboard VRDisplay",this.capabilities=new SZ({hasPosition:!1,hasOrientation:!0,hasExternalDisplay:!1,canPresent:!0,maxLayers:1}),this.stageParameters=null,this.wGt=this.config.BUFFER_SCALE,this.yGt=new MZ(this.config),this._Gt=null,this.MGt=null,this.Ux=null,this.kGt=null,this.mGt=new aZ(this.config.DPDB_URL,this.pGt.bind(this)),this.NGt=new oZ(this.mGt.getDeviceParams()),this.DGt=new NZ,this.DGt.onChange(this.TGt.bind(this)),this.NGt.setViewer(this.DGt.getCurrentViewer()),this.config.ROTATE_INSTRUCTIONS_DISABLED||(this.IGt=new kZ),MX()&&e.addEventListener("resize",this.uj.bind(this))}zZ.prototype=d.create(jZ.prototype),zZ.prototype.hGt=function(){return{position:null,orientation:this.yGt.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},zZ.prototype.cGt=function(){this.yGt.resetPose&&this.yGt.resetPose()},zZ.prototype.AYt=function(t){var n;if(t==OZ)n=this.NGt.getFieldOfViewLeftEye();else{if(t!=xZ)return console.error("Invalid eye provided: %s",t),null;n=this.NGt.getFieldOfViewRightEye()}return n},zZ.prototype.wYt=function(t){var n;if(t==OZ)n=[.5*-this.NGt.viewer.interLensDistance,0,0];else{if(t!=xZ)return console.error("Invalid eye provided: %s",t),null;n=[.5*this.NGt.viewer.interLensDistance,0,0]}return n},zZ.prototype.getEyeParameters=function(t){var n=this.wYt(t),i=this.AYt(t),e={offset:n,renderWidth:.5*this.NGt.device.width*this.wGt,renderHeight:this.NGt.device.height*this.wGt};return d.defineProperty(e,"fieldOfView",{enumerable:!0,get:function(){return QX("VRFieldOfView","VRFrameData's projection matrices"),i}}),e},zZ.prototype.pGt=function(t){this.config.DEBUG&&console.log("DPDB reported that device params were updated."),this.NGt.updateDeviceParams(t),this._Gt&&this._Gt.updateDeviceInfo(this.NGt)},zZ.prototype.bGt=function(){this.Hk&&this._Gt&&(this.Hk.leftBounds||this.Hk.rightBounds)&&this._Gt.setTextureBounds(this.Hk.leftBounds,this.Hk.rightBounds)},zZ.prototype.vGt=function(){var t=this.Hk.source.getContext("webgl");if(t||(t=this.Hk.source.getContext("experimental-webgl")),t||(t=this.Hk.source.getContext("webgl2")),t){if(this.Ux=t.canvas,this.kGt=t.canvas.getAttribute("style"),this.Hk.predistorted?this.config.CARDBOARD_UI_DISABLED||(t.canvas.width=IX()*this.wGt,t.canvas.height=bX()*this.wGt,this.MGt=new ZX(t)):(this.config.CARDBOARD_UI_DISABLED||(this.MGt=new ZX(t)),this._Gt=new FX(t,this.MGt,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this._Gt.updateDeviceInfo(this.NGt)),this.MGt&&this.MGt.listen(function(t){this.DGt.show(this.Hk.source.parentElement),t.stopPropagation(),t.preventDefault()}.bind(this),function(t){this.exitPresent(),t.stopPropagation(),t.preventDefault()}.bind(this)),this.IGt){var n=this.config.ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT;TX()&&jX()&&n?this.IGt.showTemporarily(n,this.Hk.source.parentElement):this.IGt.update()}this.orientationHandler=this.OYt.bind(this),e.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.bGt.bind(this),e.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.uj(),this.EGt()}},zZ.prototype.dGt=function(){this._Gt&&(this._Gt.destroy(),this._Gt=null),this.MGt&&(this.MGt.destroy(),this.MGt=null),this.IGt&&this.IGt.hide(),this.DGt.hide(),this.Ux&&(zX(this.Ux),this.kGt?this.Ux.setAttribute("style",this.kGt):this.Ux.removeAttribute("style"),xX(this.Ux),this.Ux=null,this.kGt=null),e.removeEventListener("orientationchange",this.orientationHandler),e.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},zZ.prototype.aGt=function(){this.dGt(),this.vGt()},zZ.prototype.submitFrame=function(t){if(this._Gt)this.bGt(),this._Gt.submitFrame();else if(this.MGt&&this.Hk){var n=this.Hk.source.getContext("webgl").canvas;n.width==this.lastWidth&&n.height==this.lastHeight||this.MGt.onResize(),this.lastWidth=n.width,this.lastHeight=n.height,this.MGt.render()}},zZ.prototype.OYt=function(t){this.DGt.hide(),this.IGt&&this.IGt.update(),this.uj()},zZ.prototype.uj=function(t){if(this.Hk){var n=this.Hk.source.getContext("webgl");zX(n.canvas);n.canvas.setAttribute("style",["position: absolute","top: 0","left: 0","width: 100vw","height: 100vh","border: 0","margin: 0","padding: 0px","box-sizing: content-box"].join("; ")+";"),xX(n.canvas)}},zZ.prototype.TGt=function(t){this.NGt.setViewer(t),this._Gt&&this._Gt.updateDeviceInfo(this.NGt),this.EGt()},zZ.prototype.EGt=function(){var t=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.NGt}});e.dispatchEvent(t)},zZ.VRFrameData=function(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null},zZ.VRDisplay=jZ;var RZ={PROVIDE_MOBILE_VRDISPLAY:!0,GET_VR_DISPLAYS_TIMEOUT:1e3,MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,TOUCH_PANNER_DISABLED:!0,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT:3e3,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1};function UZ(t){this.config=gX(gX({},RZ),t),this.polyfillDisplays=[],this.enabled=!1,this.hasNative="getVRDisplays"in u,this.native={},this.native.getVRDisplays=u.getVRDisplays,this.native.VRFrameData=e.VRFrameData,this.native.VRDisplay=e.VRDisplay,(!this.hasNative||this.config.PROVIDE_MOBILE_VRDISPLAY&&dX())&&(this.enable(),this.getVRDisplays().then(function(t){t&&t[0]&&t[0].AGt&&t[0].AGt()}))}UZ.prototype.getPolyfillDisplays=function(){if(this.LGt)return this.polyfillDisplays;if(dX()){var t=new zZ({MOBILE_WAKE_LOCK:this.config.MOBILE_WAKE_LOCK,DEBUG:this.config.DEBUG,DPDB_URL:this.config.DPDB_URL,CARDBOARD_UI_DISABLED:this.config.CARDBOARD_UI_DISABLED,K_FILTER:this.config.K_FILTER,PREDICTION_TIME_S:this.config.PREDICTION_TIME_S,TOUCH_PANNER_DISABLED:this.config.TOUCH_PANNER_DISABLED,ROTATE_INSTRUCTIONS_DISABLED:this.config.ROTATE_INSTRUCTIONS_DISABLED,ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT:this.config.ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT,YAW_ONLY:this.config.YAW_ONLY,BUFFER_SCALE:this.config.BUFFER_SCALE,DIRTY_SUBMIT_FRAME_BINDINGS:this.config.DIRTY_SUBMIT_FRAME_BINDINGS});this.polyfillDisplays.push(t)}return this.LGt=!0,this.polyfillDisplays},UZ.prototype.enable=function(){if(this.enabled=!0,this.hasNative&&this.native.VRFrameData){var t=this.native.VRFrameData,n=new this.native.VRFrameData,i=this.native.VRDisplay.prototype.getFrameData;e.VRDisplay.prototype.getFrameData=function(e){e instanceof t?i.call(this,e):(i.call(this,n),e.pose=n.pose,lX(n.leftProjectionMatrix,e.leftProjectionMatrix),lX(n.rightProjectionMatrix,e.rightProjectionMatrix),lX(n.leftViewMatrix,e.leftViewMatrix),lX(n.rightViewMatrix,e.rightViewMatrix))}}u.getVRDisplays=this.getVRDisplays.bind(this),e.VRDisplay=zZ.VRDisplay,e.VRFrameData=zZ.VRFrameData},UZ.prototype.getVRDisplays=function(){var t,n=this,i=this.config;if(!this.hasNative)return N.resolve(this.getPolyfillDisplays());var e,r=this.native.getVRDisplays.call(u),s=new N(function(n){t=o(function(){console.warn("Native WebVR implementation detected, but `getVRDisplays()` failed to resolve. Falling back to polyfill."),n([])},i.GET_VR_DISPLAYS_TIMEOUT)});return(e=[r,s],N.race?N.race(e):new N(function(t,n){for(var i=0;i<e.length;i++)e[i].then(t,n)})).then(function(i){return h(t),i.length>0?i:n.getPolyfillDisplays()})},UZ.version="0.10.5-opentelly.3",UZ.VRFrameData=zZ.VRFrameData,UZ.VRDisplay=zZ.VRDisplay;var BZ=d.freeze({default:UZ}),QZ=BZ&&UZ||BZ;void 0!==vX&&vX.window&&(vX.document||(vX.document=vX.window.document),vX.navigator||(vX.navigator=vX.window.navigator));new QZ({TOUCH_PANNER_DISABLED:!0,ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT:0,MOBILE_WAKE_LOCK:!Z.Kr&&!Z.pr,DPDB_URL:void 0});var PZ=function(){function t(t){this.SGt=void 0,this.jGt=void 0,this.CGt=null,this.OGt=null,this.xGt=!0,this.zGt=null,this.RGt=null,this.SGt=t,this.jGt=t.createProgram()}var n=t.prototype;return n.UGt=function(t,n){var i,e=this.SGt;switch(n){case e.VERTEX_SHADER:i=e.createShader(n),this.zGt=i;break;case e.FRAGMENT_SHADER:i=e.createShader(n),this.RGt=i;break;default:return void console.error("Invalid Shader Type:",n)}e.attachShader(this.jGt,i),e.shaderSource(i,t),e.compileShader(i)},n.BGt=function(t){var n=this.SGt;if(t)for(var i in this.CGt={},t)n.bindAttribLocation(this.jGt,t[i],i),this.CGt[i]=t[i]},n.QGt=function(){this.SGt.linkProgram(this.jGt)},n.PGt=function(){var t=this.SGt;if(this.xGt){if(t.getProgramParameter(this.jGt,t.LINK_STATUS)){if(!this.CGt){this.CGt={};for(var n=t.getProgramParameter(this.jGt,t.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var e=t.getActiveAttrib(this.jGt,i);this.CGt[e.name]=t.getAttribLocation(this.jGt,e.name)}}this.OGt={};for(var r=t.getProgramParameter(this.jGt,t.ACTIVE_UNIFORMS),s="",u=0;u<r;u++){s=t.getActiveUniform(this.jGt,u).name.replace("[0]",""),this.OGt[s]=t.getUniformLocation(this.jGt,s)}}else this.zGt&&!t.getShaderParameter(this.zGt,t.COMPILE_STATUS)?console.error("Vertex shader compile error:",t.getShaderInfoLog(this.zGt)):this.RGt&&!t.getShaderParameter(this.RGt,t.COMPILE_STATUS)?console.error("Fragment shader compile error:",t.getShaderInfoLog(this.RGt)):console.error("Program link error:",t.getProgramInfoLog(this.jGt)),t.deleteProgram(this.jGt),this.jGt=null;t.deleteShader(this.zGt),t.deleteShader(this.RGt),this.xGt=!1}t.useProgram(this.jGt)},t}(),YZ=function(){function t(t,n,i){this.SGt=void 0,this.YGt=void 0,this.jGt=void 0,this.GGt=void 0,this.FGt=void 0,this.VGt=void 0,this.HGt=void 0,this.VI=void 0,this.WGt=!1,this.SGt=t,this.YGt=t.createTexture();var e=["uniform mat4 projectionMat;","uniform mat4 modelViewMat;","attribute vec3 position;","attribute vec2 texCoord;","varying vec2 vTexCoord;","void main() {","  vTexCoord = texCoord;","  gl_Position = projectionMat * modelViewMat * vec4( position, 1.0 );","}"].join("\n"),r=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");this.jGt=new PZ(t),this.jGt.UGt(e,t.VERTEX_SHADER),this.jGt.UGt(r,t.FRAGMENT_SHADER),this.jGt.BGt({position:0,texCoord:1}),this.jGt.QGt();for(var s=[],u=[],o=[],h=0;h<=40;++h)for(var c=h*l.PI/40,a=l.sin(c),f=l.cos(c),v=0;v<=40;++v){var d=2*v*l.PI/40,g=l.sin(d)*a,A=f,w=-l.cos(d)*a,y=v/40,_=h/40;switch(i){case"horizontal":s.push(2*g,2*A,2*w,y/2,_),u.push(2*g,2*A,2*w,y/2+.5,_);break;case"vertical":s.push(2*g,2*A,2*w,y,_/2),u.push(2*g,2*A,2*w,y,_/2+.5);break;default:s.push(2*g,2*A,2*w,y,_)}}for(var M=0;M<40;++M)for(var k=41*M,m=41*(M+1),p=0;p<40;++p){var N=k+p,D=m+p;o.push(N,D,N+1,D,D+1,N+1)}switch(this.GGt=t.createBuffer(),this.FGt=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.GGt),t.bufferData(t.ARRAY_BUFFER,new Float32Array(s),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.FGt),i){case"horizontal":case"vertical":t.bufferData(t.ARRAY_BUFFER,new Float32Array(u),t.STATIC_DRAW);break;default:t.bufferData(t.ARRAY_BUFFER,new Float32Array(s),t.STATIC_DRAW)}this.VGt=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.VGt),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(o),t.STATIC_DRAW),this.HGt=o.length,this.VI=n}var n=t.prototype;return n.QZ=function(t,n,i){var e=this.SGt;this.XGt(t,n,e,i),this.VI.ZGt()||this.VI.tj(e,e.TEXTURE_2D,0,e.RGB,e.RGB,e.UNSIGNED_BYTE),e.drawElements(e.TRIANGLES,this.HGt,e.UNSIGNED_SHORT,0)},n.qGt=function(t){this.WGt||(t.bindTexture(t.TEXTURE_2D,this.YGt),this.VI.tj(t,t.TEXTURE_2D,0,t.RGB,t.RGB,t.UNSIGNED_BYTE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),this.WGt=!0)},n.XGt=function(t,n,i,e){var r=this.jGt;r.PGt(),this.qGt(i);var s,u=r.OGt,o=r.CGt;i.uniformMatrix4fv(u.projectionMat,!1,t),i.uniformMatrix4fv(u.modelViewMat,!1,n),s="right"===e?this.FGt:this.GGt,i.bindBuffer(i.ARRAY_BUFFER,s),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,this.VGt),i.enableVertexAttribArray(o.position),i.enableVertexAttribArray(o.texCoord),i.vertexAttribPointer(o.position,3,i.FLOAT,!1,20,0),i.vertexAttribPointer(o.texCoord,2,i.FLOAT,!1,20,12),i.activeTexture(i.TEXTURE0),i.uniform1i(u.diffuse,0),i.bindTexture(i.TEXTURE_2D,this.YGt)},t}(),GZ=function(t){function n(){return t.call(this,"JGt")||this}return U(n,t),n.prototype.pl=function(){return new FZ},n}(Sd),FZ=function(t){function n(){return t.call(this,"stereochange")||this}return U(n,t),n}(xs),VZ=function(t){function n(){return t.call(this,"KGt")||this}return U(n,t),n.prototype.pl=function(){return new HZ},n}(Sd),HZ=function(t){function n(){return t.call(this,"directionchange")||this}return U(n,t),n}(xs),WZ=l.PI/180,XZ=180/l.PI,ZZ=function(){function t(t,n){this.x=void 0,this.y=void 0,this.x=t||0,this.y=n||0}var n=t.prototype;return n.sa=function(t,n){return this.x=t,this.y=n,this},n.sX=function(t){return this.x=t.x,this.y=t.y,this},n.$Gt=function(t){return this.sa(t[0],t[1])},n.tFt=function(){var t=new Float32Array(2);return t[0]=this.x,t[1]=this.y,t},n.nFt=function(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this},t}(),qZ=function(){function t(t,n,i,e){this.x=void 0,this.y=void 0,this.z=void 0,this.w=void 0,this.x=t||0,this.y=n||0,this.z=i||0,this.w=void 0!==e?e:1}var n=t.prototype;return n.sa=function(t,n,i,e){return this.x=t,this.y=n,this.z=i,this.w=e,this},n.sX=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},n.$Gt=function(t){return this.sa(t[0],t[1],t[2],t[3])},n.tFt=function(){var t=new Float32Array(4);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t[3]=this.w,t},n.iFt=function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},n.o_=function(t){return this.eFt(this,t)},n.eFt=function(t,n){var i=t.x,e=t.y,r=t.z,s=t.w,u=n.x,o=n.y,h=n.z,c=n.w;return this.x=i*c+s*u+e*h-r*o,this.y=e*c+s*o+r*u-i*h,this.z=r*c+s*h+i*o-e*u,this.w=s*c-i*u-e*o-r*h,this},n.rFt=function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.t5(),this},n.sFt=function(){var t,n,i,e=this.x,r=this.y,s=this.z,u=this.w,o=e*r+s*u;if(o>.499)t=2*l.atan2(e,u),n=l.PI/2,i=0;else if(o<-.499)t=-2*l.atan2(e,u),n=-l.PI/2,i=0;else{var h=e*e,c=r*r,a=s*s;t=l.atan2(2*r*u-2*e*s,1-2*c-2*a),n=l.asin(2*o),i=l.atan2(2*e*u-2*r*s,1-2*h-2*a)}return new JZ(t,i,n)},n.t5=function(){var t=l.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t),this},t}(),JZ=function(){function t(t,n,i){this.uFt=void 0,this.oFt=void 0,this.hFt=void 0,this.uFt=t||0,this.oFt=n||0,this.hFt=i||0}var n=t.prototype;return n.sa=function(t,n,i){return this.uFt=t,this.oFt=n,this.hFt=i,this},n.sX=function(t){return this.sa(t.uFt,t.oFt,t.hFt)},n.mw=function(t){return this.uFt+=t.uFt,this.oFt+=t.oFt,this.hFt+=t.hFt,this},n.cFt=function(){var t=this.uFt,n=this.hFt,i=this.oFt,e=l.cos(t/2),r=l.cos(n/2),s=l.cos(i/2),u=l.sin(t/2),o=l.sin(n/2),h=l.sin(i/2),c=e*r,a=u*o;return new qZ(c*h+a*s,u*r*s+e*o*h,e*o*s-u*r*h,c*s-a*h)},t}(),KZ=.15;function $Z(t){try{return!(!t||!t.parent)}catch(t){return!0}}var tq=function(){function t(t){var n=this;this.hw=void 0,this.hg=!1,this.aFt=0,this.fFt=0,this.vFt=0,this.dFt=null,this.lFt=new ZZ,this.gFt=new ZZ,this.AFt=new ZZ,this.wFt=!1,this.yFt=function(t){38===t.keyCode?n._Ft(n.aFt+KZ):39===t.keyCode?n.MFt(n.fFt-KZ):40===t.keyCode?n._Ft(n.aFt-KZ):37===t.keyCode&&n.MFt(n.fFt+KZ)},this.kFt=function(t){n.lFt.sa(t.clientX,t.clientY),n.wFt=!0,t.preventDefault()},this.mFt=function(t){t.touches&&1===t.touches.length&&(n.lFt.sa(t.touches[0].pageX,t.touches[0].pageY),n.wFt=!0,t.preventDefault())},this.pFt=function(t){if(n.wFt||n.NFt()){if(n.NFt()){var i=t.movementX||t.mozMovementX||0,e=t.movementY||t.mozMovementY||0;n.gFt.sa(n.lFt.x-i,n.lFt.y-e)}else n.gFt.sa(t.clientX,t.clientY);n.AFt.nFt(n.gFt,n.lFt),n.lFt.sX(n.gFt),n.DFt()}},this.TFt=function(t){n.wFt&&(n.gFt.sa(t.touches[0].pageX,t.touches[0].pageY),n.AFt.nFt(n.gFt,n.lFt),n.lFt.sX(n.gFt),n.DFt())},this.IFt=function(t){n.bFt()},this.EFt=function(t){n.bFt()},this.LFt=function(t){n.bFt()},this.hw=t}var n=t.prototype;return n.Hp=function(){this.hg||(this.hg=!0,this.hw.addEventListener("keydown",this.yFt),this.hw.addEventListener("mousedown",this.kFt),this.hw.addEventListener("touchstart",this.mFt),e.addEventListener("mousemove",this.pFt),e.addEventListener("mouseup",this.IFt),this.SFt(e),e.addEventListener("touchmove",this.TFt),e.addEventListener("touchend",this.EFt))},n.SFt=function(t){if(function(t){try{return!(!t||t!==t.top)}catch(t){return!1}}(t));else if($Z(t))try{t.parent.addEventListener("mouseup",this.IFt),this.SFt(t.parent)}catch(n){t.document.documentElement.addEventListener("mouseleave",this.LFt)}},n.Wp=function(){this.hg&&(this.hg=!1,this.wFt=!1,this.dFt&&(DN(this.dFt),this.dFt=null),this.hw.removeEventListener("keydown",this.yFt),this.hw.removeEventListener("mousedown",this.kFt),this.hw.removeEventListener("touchstart",this.mFt),e.removeEventListener("mousemove",this.pFt),e.removeEventListener("mouseup",this.IFt),this.jFt(e),e.removeEventListener("touchmove",this.TFt),e.removeEventListener("touchend",this.EFt))},n.jFt=function(t){if(t.document.documentElement.removeEventListener("mouseleave",this.LFt),$Z(t))try{t.parent.removeEventListener("mouseup",this.IFt),this.jFt(t.parent)}catch(t){}},n.MFt=function(t){this.CFt("fFt",t)},n._Ft=function(t){t=Vt(t,-l.PI/2,l.PI/2),this.CFt("aFt",t)},n.CFt=function(t,n){var i=this;this.dFt&&DN(this.dFt);var e=this[t],r=iN();this.dFt=NN(function s(){var u=iN()-r;if(u>=80)return i[t]=n,DN(i.dFt),void(i.dFt=null);i.dFt=NN(s);var o=u/80;i[t]=e+(n-e)*o})},n.DFt=function(){this.aFt+=2*l.PI*this.AFt.y/this.hw.clientHeight*.3,this.fFt+=2*l.PI*this.AFt.x/this.hw.clientWidth*.5,this.aFt=Vt(this.aFt,-l.PI/2,l.PI/2)},n.bFt=function(){this.wFt=!1},n.NFt=function(){return(r.pointerLockElement||r.mozPointerLockElement||r.webkitPointerLockElement)===this.hw},n.resetPose=function(){this.aFt=0,this.fFt=0},n.nd=function(){this.Wp()},z(t,[{key:"OFt",get:function(){return new JZ(this.fFt,this.aFt,this.vFt)},set:function(t){this.fFt=t.uFt,this.aFt=t.oFt,this.vFt=t.hFt}}]),t}(),nq=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t};var iq=function(t,n){var i=n[0],e=n[1],r=n[2],s=n[3],u=i+i,o=e+e,h=r+r,c=i*u,a=e*u,f=e*o,v=r*u,d=r*o,l=r*h,g=s*u,A=s*o,w=s*h;return t[0]=1-f-l,t[1]=a+w,t[2]=v-A,t[3]=0,t[4]=a-w,t[5]=1-c-l,t[6]=d+g,t[7]=0,t[8]=v+A,t[9]=d-g,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t};var eq=function(t,n){var i=n[0],e=n[1],r=n[2],s=n[3],u=n[4],o=n[5],h=n[6],c=n[7],a=n[8],f=n[9],v=n[10],d=n[11],l=n[12],g=n[13],A=n[14],w=n[15],y=i*o-e*u,_=i*h-r*u,M=i*c-s*u,k=e*h-r*o,m=e*c-s*o,p=r*c-s*h,N=a*g-f*l,D=a*A-v*l,T=a*w-d*l,I=f*A-v*g,b=f*w-d*g,E=v*w-d*A,L=y*E-_*b+M*I+k*T-m*D+p*N;if(!L)return null;return L=1/L,t[0]=(o*E-h*b+c*I)*L,t[1]=(r*b-e*E-s*I)*L,t[2]=(g*p-A*m+w*k)*L,t[3]=(v*m-f*p-d*k)*L,t[4]=(h*T-u*E-c*D)*L,t[5]=(i*E-r*T+s*D)*L,t[6]=(A*M-l*p-w*_)*L,t[7]=(a*p-v*M+d*_)*L,t[8]=(u*b-o*T+c*N)*L,t[9]=(e*T-i*b-s*N)*L,t[10]=(l*m-g*M+w*y)*L,t[11]=(f*M-a*m-d*y)*L,t[12]=(o*D-u*I-h*N)*L,t[13]=(i*I-e*D+r*N)*L,t[14]=(g*_-l*k-A*y)*L,t[15]=(a*k-f*_+v*y)*L,t};var rq,sq=function(t,n,i,e,r){var s=1/l.tan(n/2),u=1/(e-r);return t[0]=s/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+e)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*e*u,t[15]=0,t};!function(t){t.xFt="unavailable",t.zFt="available",t.RFt="presenting"}(rq||(rq={}));var uq=.4,oq=new JZ(180*WZ,0,0),hq=.1,cq=1024;function aq(t){return(n=t+180)%(i=360)+(n<0?i:0)-180;var n,i}var fq=1e-4;function vq(t,n){var i=t.iFt(n);return 1-i*i<fq}var dq=function(t){function i(i){var e,r,s,o;return(e=t.call(this)||this).VI=void 0,e.ml=void 0,e.UFt=new qZ,e.BFt=uq,e.QFt=!1,e.PFt=!1,e.uc=void 0,e.YFt=Wm.NONE,e.GFt=void 0,e.FFt=[],e.VFt=void 0,e.HFt=!1,e.WFt=!1,e.XFt=void 0,e.ZFt=void 0,e.SGt=null,e.qFt=0,e.JFt=void 0,e.KFt=void 0,e.$Ft=nq(),e.tVt=nq(),e.nVt=0,e.iVt=0,e.eVt=!0,e.rVt=0,e.sVt=function(){e.VI.th("playing",e.sVt);var t=e.VI.uVt();t&&!t.nativeVR&&e.oVt()},e.hVt=function(){e.cVt();var t=e.VI.uVt();e.uc=t,t&&t[360]?(e.aVt(!0),t.nativeVR?e.Zo(new AV):(e.YFt=t.stereoMode,e.VI.qo("playing",e.sVt))):e.aVt(!1)},e.fVt=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.Y5!==rq.xFt&&e.vVt){t.next=2;break}return t.abrupt("return");case 2:return e.eVt=!1,e.dVt(),t.prev=4,t.next=7,e.VFt.requestPresent([{source:e.XFt}]);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(4),e.lyt("Failed to present VR content.",n.ErrorCode.VR_PRESENTATION_ERROR);case 12:return t.prev=12,e.lVt(),t.finish(12);case 15:case"end":return t.stop()}},t,null,[[4,9,12,15]])})),e.gVt=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.VFt){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,e.VFt.exitPresent();case 5:t.next=9;break;case 7:t.prev=7,t.t0=t.catch(2);case 9:return t.prev=9,e.lVt(),t.finish(9);case 12:case"end":return t.stop()}},t,null,[[2,7,9,12]])})),e.AVt=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.getVRDisplays();case 3:e.FFt=t.sent,e.VFt&&os(e.FFt,e.VFt)||e.wVt(e.FFt[0]),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),e.FFt=[],e.wVt(void 0);case 11:case"end":return t.stop()}},t,null,[[0,7]])})),e.lVt=function(){e.yVt(!!e.VFt&&e.VFt.isPresenting),e.uj(),e.eVt=!e.HFt,e.eVt?NN(e._Vt):e.dVt()},e.uj=function(){if(e.XFt){var t=e.VI.MVt(),n=t[0],i=t[1],r=e.VFt;if(r&&e.kVt){var s=r.getEyeParameters("left"),u=r.getEyeParameters("right");s&&u&&(e.nVt=2*l.max(s.renderWidth,u.renderWidth),e.iVt=l.max(s.renderHeight,u.renderHeight))}else{var o=p.Wu.du;e.nVt=n*o,e.iVt=i*o}}},e._Vt=function(){if(Z.pr&&e.XFt&&e.eVt){e.dVt();var t=e.XFt,n=t.offsetWidth+1,i=t.offsetHeight;t.style.width=n+"px",t.style.height=i+"px",e.rVt=NN(e.dVt)}},e.dVt=function(){if(e.rVt){var t=e.XFt;t.style.width="100%",t.style.height="100%",DN(e.rVt),e.rVt=0}},e.mVt=function(){var t=e.VFt,n=e.BFt,i=e.XFt,r=e.ZFt,s=e.SGt,u=e.JFt,o=e.$Ft,h=e.tVt;e.pVt(),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),t&&(t.getFrameData(u),e.KFt=u.pose);var c=e.OFt.cFt();e.NVt(h,c),t&&t.isPresenting?(e.qFt=t.requestAnimationFrame(e.mVt),s.viewport(0,0,.5*i.width,i.height),r.QZ(u.leftProjectionMatrix,h,"left"),s.viewport(.5*i.width,0,.5*i.width,i.height),r.QZ(u.rightProjectionMatrix,h,"right"),t.submitFrame()):(e.qFt=NN(e.mVt),sq(o,l.PI*n,i.width/i.height,hq,cq),e.kVt?(s.viewport(0,0,.5*i.width,i.height),r.QZ(o,h,"left"),s.viewport(.5*i.width,0,.5*i.width,i.height),r.QZ(o,h,"right")):(s.viewport(0,0,i.width,i.height),r.QZ(o,h))),vq(c,e.UFt)||(e.UFt.sX(c),e.DVt())},e.VI=i,e.OFt=oq,e.ml=(r=sn(e),o={get stereo(){return r.kVt},set stereo(t){r.kVt=t},get direction(){return r.TVt},set direction(t){r.TVt=t},get verticalFOV(){return r.IVt},set verticalFOV(t){r.IVt=t},get canPresentVR(){return r.vVt},get state(){return r.Y5},addEventListener:function(t,n){s.qo(t,n)},removeEventListener:function(t,n){s.th(t,n)}},s=new yD(r,o),o),e.bVt(),e}U(i,t);var r=i.prototype;return r.bVt=function(){u.getVRDisplays?(this.JFt=new VRFrameData,this.AVt(),e.addEventListener("vrdisplayconnect",this.AVt,!1),e.addEventListener("vrdisplaydisconnect",this.AVt,!1),e.addEventListener("vrdisplayactivate",this.fVt,!1),e.addEventListener("vrdisplaydeactivate",this.gVt,!1),e.addEventListener("vrdisplaypresentchange",this.lVt,!1)):u.getVRDevices?this.lyt("Your browser supports WebVR but not the latest version.",n.ErrorCode.VR_PLATFORM_UNSUPPORTED):this.lyt("Your browser does not support WebVR.",n.ErrorCode.VR_PLATFORM_UNSUPPORTED),this.VI.EVt(this.hVt),this.hVt()},r.LVt=function(){var t={alpha:!1,antialias:!1,preserveDrawingBuffer:!0};this.XFt||(this.XFt=this.VI.SVt()),this.SGt=this.XFt.getContext("webgl",t),this.SGt||(this.SGt=this.XFt.getContext("experimental-webgl",t),this.SGt)?(this.SGt.enable(this.SGt.DEPTH_TEST),this.SGt.enable(this.SGt.CULL_FACE)):this.lyt("Your browser does not support WebGL.",n.ErrorCode.VR_PLATFORM_UNSUPPORTED)},r.oVt=function(){var t=this.TVt;this.WFt||(this.LVt(),this.WFt=!0),this.SGt&&(this.jVt(new YZ(this.SGt,this.VI,this.YFt)),this.XFt.style.display="",this.GFt||(this.GFt=new tq(this.XFt)),this.GFt.Hp(),this.VI.qo("fullscreenchange",this.uj),this.VI.qo("dimensionchange",this.uj),this.TVt=t,this.uj(),this.qFt=NN(this.mVt))},r.cVt=function(){var t=this.TVt;this.jVt(void 0),this.GFt&&this.GFt.Wp(),this.XFt&&(this.XFt.style.display="none"),this.VI.th("fullscreenchange",this.uj),this.VI.th("dimensionchange",this.uj),this.qFt&&DN(this.qFt),this.TVt=t},r.wVt=function(t){var n=this.Y5,i=this.kVt;this.VFt&&(this.KFt=void 0,this.gVt()),this.VFt=t,this.VFt&&(this.VFt.depthNear=hq,this.VFt.depthFar=cq),this.kVt=i,this.Y5!==n&&this.Zo(new AV),this.kVt!==i&&this.Zo(new GZ)},r.aVt=function(t){var n=this.Y5;this.PFt=t,this.Y5!==n&&this.Zo(new AV)},r.jVt=function(t){var n=this.Y5;this.ZFt=t,this.Y5!==n&&this.Zo(new AV)},r.yVt=function(t){var n=this.Y5,i=this.kVt;this.HFt=t,this.GFt&&(t?this.GFt.Wp():this.GFt.Hp()),this.Y5!==n&&this.Zo(new AV),this.kVt!==i&&this.Zo(new GZ)},r.CVt=function(t){var n=this.kVt;this.QFt=t,this.kVt!==n&&this.Zo(new GZ)},r.pVt=function(){var t=this.XFt;this.nVt===t.width&&this.iVt===t.height||(t.width=this.nVt,t.height=this.iVt,this._Vt())},r.NVt=function(t,n){iq(t,n.tFt()),eq(t,t)},r.lyt=function(t,n){At(t),this.Zo(new vg(new Uo(n,t)))},r.DVt=function(){this.Zo(new VZ)},r.nd=function(){this.$o(),this.cVt(),this.gVt(),u.getVRDisplays&&(e.removeEventListener("vrdisplayconnect",this.AVt,!1),e.removeEventListener("vrdisplaydisconnect",this.AVt,!1),e.removeEventListener("vrdisplayactivate",this.fVt,!1),e.removeEventListener("vrdisplaydeactivate",this.gVt,!1),e.removeEventListener("vrdisplaypresentchange",this.lVt,!1))},z(i,[{key:"kVt",get:function(){return this.vVt?this.HFt:this.QFt},set:function(t){this.vVt?t?this.fVt():this.gVt():this.CVt(t)}},{key:"TVt",get:function(){var t=this.OFt;return{yaw:t.uFt*XZ,pitch:t.oFt*XZ,roll:l.round(t.hFt*XZ)}},set:function(t){var n=aq(t&&+t.yaw||0),i=aq(t&&+t.pitch||0),e=aq(t&&+t.roll||0);this.OFt=new JZ(n*WZ,i*WZ,e*WZ)}},{key:"OFt",get:function(){if(this.Y5===rq.xFt)return this.UFt.sFt();var t=this.OVt,n=this.xVt,i=new JZ;return t&&i.mw(t),n&&i.mw(n),i},set:function(t){var n=this.OFt.cFt();if(this.Y5===rq.xFt)this.UFt=t.cFt();else{var i=this.VFt;i&&i.resetPose&&i.resetPose(),this.GFt&&(this.GFt.OFt=t),this.UFt=this.OFt.cFt()}vq(n,this.UFt)||this.DVt()}},{key:"OVt",get:function(){var t=this.KFt&&this.KFt.orientation;if(t)return(new qZ).$Gt(t).sFt()}},{key:"xVt",get:function(){return this.GFt&&this.GFt.OFt}},{key:"IVt",get:function(){return 180*this.BFt},set:function(t){t&&t>=0&&t<=180&&(this.BFt=+t/180)}},{key:"vVt",get:function(){return!(!this.VFt||!this.VFt.capabilities.canPresent)}},{key:"Y5",get:function(){var t;return this.PFt&&(null!=(t=this.VI.uVt())&&t.nativeVR||this.ZFt)?this.HFt?rq.RFt:rq.zFt:rq.xFt}}]),i}(_l),lq=function(){function t(t){this.VI=void 0,this.VI=t}var n=t.prototype;return n.qo=function(t,n){this.VI.qo(t,n)},n.th=function(t,n){this.VI.th(t,n)},n.SVt=function(){var t=r.createElement("canvas");return t.className="theoplayer-vr",Oe(t),t.style.zIndex="2",this.VI.hw.appendChild(t),t},n.uVt=function(){var t=this.VI.YA();return t&&t.vr},n.EVt=function(t){this.qo("sourcechange",t)},n.MVt=function(){return[this.VI.hw.offsetWidth,this.VI.hw.offsetHeight]},n.ZGt=function(){return this.VI.fA},n.tj=function(t,n,i,e,r,s){return this.VI.Ux.tj(t,n,i,e,r,s)},t}();WD(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).zVt=void 0,e.zVt=new dq(new lq(sn(e))),e}U(n,t);var i=n.prototype;return i.pl=function(){return Hd(t.prototype.pl.call(this),{vr:this.zVt.ml})},i.nd=function(){this.zVt.nd(),t.prototype.nd.call(this)},n}(t)},BD.oz);var gq=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},Aq=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),wq=m(function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?e.splice(u,1/0,r):e.push(r),~i.indexOf(s)&&(s=n.call(this,r,s))}else i.push(s);return null==t?s:t.call(this,r,s)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i});function yq(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function _q(t){return JSON.stringify(t,wq.getSerialize(yq))}var Mq=m(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,e=10,r=13,s=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[s,e,r,i],n.isChar=function(t){return t>=s&&t<=55295||t===e||t===r||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===s||t===e||t===r||t===i},n.isNameStartChar=u,n.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),kq=m(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,e=10,r=13,s=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[s,e,r,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===s||t===e||t===r||t===i},n.isNameStartChar=u,n.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),mq=m(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}d.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),pq=m(function(t,n){d.defineProperty(n,"__esModule",{value:!0});var i=Mq.isS,e=Mq.isChar,r=Mq.isNameStartChar,s=Mq.isNameChar,u=Mq.S_LIST,o=Mq.NAME_RE,h=kq.isChar,c=mq.isNCNameStartChar,a=mq.isNCNameChar,v=mq.NC_NAME_RE;const l="http://www.w3.org/XML/1998/namespace",A="http://www.w3.org/2000/xmlns/",w={__proto__:null,xml:l,xmlns:A},y={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},_=-1,M=-2,k=0,m=1,p=2,N=3,D=4,T=5,I=6,b=7,E=8,L=9,S=10,j=11,C=12,O=13,x=14,z=15,R=16,U=17,B=18,Q=19,P=20,Y=21,G=22,F=23,V=24,H=25,W=26,X=27,Z=28,q=29,J=30,K=31,$=32,tt=33,nt=34,it=35,et=36,rt=37,st=38,ut=39,ot=40,ht=41,ct=42,at=43,ft=44,vt=9,dt=10,lt=13,gt=32,At=33,wt=38,yt=45,_t=47,Mt=59,kt=60,mt=61,pt=62,Nt=63,Dt=91,Tt=93,It=133,bt=8232,Et=t=>34===t||39===t,Lt=[34,39],St=[...Lt,Dt,pt],jt=[...Lt,kt,Tt],Ct=[mt,Nt,...u],Ot=[...u,pt,wt,kt];function xt(t,n,i){switch(n){case"xml":i!==l&&t.fail(`xml prefix must be bound to ${l}.`);break;case"xmlns":i!==A&&t.fail(`xmlns prefix must be bound to ${A}.`)}switch(i){case A:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${A}.`);break;case l:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const zt=t=>v.test(t),Rt=t=>o.test(t),Ut=0,Bt=1,Qt=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Pt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=c,this.nameCheck=a,this.isName=zt,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=d.assign({__proto__:null},w);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of d.keys(n))xt(t,i,n[i])}(this,t),d.assign(this.ns,t))}else this.nameStartCheck=r,this.nameCheck=s,this.isName=Rt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.Pc}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Ut,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?O:k,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new f("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Pc=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=d.create(y),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[Pt[t]]=n}off(t){this[Pt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new f(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===lt||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return _;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=gt||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,M;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return _;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==bt||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==It||(this.i=n+2)}case It:case bt:return this.line++,this.column=0,this.positionAtNewLine=this.position,M;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===M?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===M,s=r?dt:e;if(s===_||t.includes(s))return this.text+=i.slice(n,this.prevI),s;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case M:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=dt;break;case _:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===_)return this.name+=t.slice(n),_;if(!s(i))return this.name+=t.slice(n,this.prevI),i===M?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===_||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=e,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=m}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case kt:if(this.state=z,0!==this.text.length)throw new f("no-empty text at start");break;case _:break;default:this.unget(),this.state=O,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(St);switch(n){case pt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=O,this.doctype=!0;break;case _:break;default:this.text+=String.fromCodePoint(n),n===Dt?this.state=D:Et(n)&&(this.state=N,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=p)}sDTD(){const t=this.captureTo(jt);t!==_&&(this.text+=String.fromCodePoint(t),t===Tt?this.state=p:t===kt?this.state=I:Et(t)&&(this.state=T,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=D,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case At:this.state=b,this.openWakaBang="";break;case Nt:this.state=j;break;default:this.state=D}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?E:D,this.openWakaBang="")}sDTDComment(){this.captureToChar(yt)&&(this.text+="-",this.state=L)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===yt?S:E}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===pt?this.state=D:(this.fail("malformed comment."),this.state=E)}sDTDPI(){this.captureToChar(Nt)&&(this.text+="?",this.state=C)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===pt&&(this.state=D)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case M:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case Mt:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===O&&void 0===this.textHandler||(this.text+=r);break t}case _:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(r(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case _t:this.state=at,this.xmlDeclPossible=!1;break;case At:this.state=R,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Nt:this.state=F;break;default:this.fail("disallowed character in tag name"),this.state=O,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=P,this.openWakaBang="";break;case"--":this.state=U,this.openWakaBang="";break;case"DOCTYPE":this.state=p,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(yt)&&(this.state=B)}sCommentEnding(){var t;const n=this.getCodeNorm();n===yt?(this.state=Q,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=U)}sCommentEnded(){const t=this.getCodeNorm();t!==pt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=U):this.state=O}sCData(){this.captureToChar(Tt)&&(this.state=Y)}sCDataEnding(){const t=this.getCodeNorm();t===Tt?this.state=G:(this.text+=`]${String.fromCodePoint(t)}`,this.state=P)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case pt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=O;break;case Tt:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=P}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=V):t===Nt||i(t)?(this.fail("processing instruction without a target."),this.state=t===Nt?W:H):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=V)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const e=this.getCodeNorm();if(e===_)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(e)){this.piTarget+=t.slice(n,this.prevI);const r=e===Nt;r||i(e)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=r?tt:X):this.state=r?W:H:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(e));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Nt?this.state=W:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Nt)&&(this.state=W)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===pt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=O}else n===Nt?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=H);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Nt?t!==_&&(this.state=Z,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(Ct);if(t===Nt)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===mt){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===mt?J:q}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Nt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==mt&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Nt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(Et(t)?this.q=t:(this.fail("value must be quoted."),this.q=gt),this.state=K)}sXMLDeclValue(){const t=this.captureTo([this.q,Nt]);if(t===Nt)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===_)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=$}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Nt?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=X):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===pt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=O):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===_)return;const e=this.tag={name:this.name,attributes:d.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=e.ns=d.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,e),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case pt:this.openTag();break;case _t:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=et}}sOpenTagSlash(){this.getCode()===pt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=et)}sAttrib(){const t=this.skipSpaces();t!==_&&(r(t)?(this.unget(),this.state=rt):t===pt?this.openTag():t===_t?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===mt?this.state=ut:i(t)?this.state=st:t===pt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==_&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case _:return;case mt:this.state=ut;break;default:this.fail("attribute without value."),this.text="",this.name="",t===pt?this.openTag():r(t)?(this.unget(),this.state=rt):(this.fail("disallowed character in attribute name."),this.state=et)}}sAttribValue(){const t=this.getCodeNorm();Et(t)?(this.q=t,this.state=ot):i(t)||(this.fail("unquoted attribute value."),this.state=ct,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ht);case wt:return this.text+=n.slice(i,this.prevI),this.state=x,void(this.entityReturnState=ot);case dt:case M:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case kt:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case _:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=et:t===pt?this.openTag():t===_t?this.state=it:r(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=rt):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Ot);switch(t){case wt:this.state=x,this.entityReturnState=ct;break;case kt:this.fail("disallowed character.");break;case _:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===pt?this.openTag():this.state=et}}sCloseTag(){const t=this.captureNameChars();t===pt?this.closeTag():i(t)?this.state=ft:t!==_&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case pt:this.closeTag();break;case _:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case kt:if(this.state=z,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=Ut;break t;case wt:this.state=x,this.entityReturnState=O,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=Ut;break t;case Tt:switch(n){case Ut:n=Bt;break;case Bt:n=Qt;break;case Qt:break;default:throw new f("impossible state")}break;case pt:n===Qt&&this.fail('the string "]]>" is disallowed in char data.'),n=Ut;break;case M:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Ut;break;case _:void 0!==e&&(this.text+=i.slice(t));break t;default:n=Ut}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:e}=this;let r=!1;t:for(;;){const s=this.getCode();switch(s){case kt:if(this.state=z,void 0!==e){const{text:i}=this,r=n.slice(t,this.prevI);0!==i.length?(e(i+r),this.text=""):0!==r.length&&e(r)}break t;case wt:this.state=x,this.entityReturnState=O,void 0!==e&&(this.text+=n.slice(t,this.prevI)),r=!0;break t;case M:void 0!==e&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case _:void 0!==e&&(this.text+=n.slice(t));break t;default:i(s)||(r=!0)}}r&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),s={name:t,prefix:e,local:r,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,xt(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,xt(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==k&&this.state!==O&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.Pc=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?A:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=u,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=O,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=O,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=O,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=g(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=g(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),Nq=function(){function t(){}return t.prototype.ds=function(t){var n=new pq.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new Sq,e=[i];function r(t){e[e.length-1].Ls(t)}return n.on("text",function(t){e.length>1&&r(new Eq(t))}),n.on("cdata",function(t){r(new Lq(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new Iq({ys:n,Ms:""===i?void 0:i,RVt:""===s?void 0:s}),o=t.attributes,h=0,c=d.keys(o);h<c.length;h++){var a=o[c[h]],f=a.prefix,v=a.local,l=a.uri,g=a.value,A=new Dq({ys:v,ps:g,Ms:""===l?void 0:l,RVt:""===f?void 0:f});u.UVt(A)}r(u),e.push(u)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new hn(t)}),n.write(t).close(),i},t}(),Dq=function(){function t(t){this.BVt=void 0,this.QVt=void 0,this.PVt=void 0,this.On=void 0,this.BVt=t.ys,this.On=t.ps,this.QVt=t.Ms,this.PVt=t.RVt}var n=t.prototype;return n.gs=function(t){return this===t||!!Cq(this,t)&&(this.BVt===t.BVt&&this.QVt===t.QVt&&this.PVt===t.PVt&&this.On===t.On)},n.As=function(){return new t({ys:this.ys,ps:this.ps,Ms:this.Ms,RVt:this.ks})},z(t,[{key:"os",get:function(){return $t.as}},{key:"ys",get:function(){return this.BVt}},{key:"_s",get:function(){return void 0===this.PVt?this.BVt:this.PVt+":"+this.BVt}},{key:"Ms",get:function(){return this.QVt}},{key:"ks",get:function(){return this.PVt}},{key:"ps",get:function(){return this.On}}]),t}(),Tq=function(){function t(){this.Ds=[]}var n=t.prototype;return n.Ts=function(t){return this.Ds.filter(function(n){return jq(n)&&n.bs===t})},n.Es=function(t,n){return this.Ds.filter(function(i){return jq(i)&&i.ys===n&&i.Ms===t})},n.Ls=function(t){this.Ds.push(t)},z(t,[{key:"Is",get:function(){return this.Ds}},{key:"js",get:function(){return this.Ds.filter(jq)}}]),t}(),Iq=function(t){function n(n){var i;return(i=t.call(this)||this).BVt=void 0,i.QVt=void 0,i.PVt=void 0,i.YVt=[],i.BVt=n.ys,i.QVt=n.Ms,i.PVt=n.RVt,i}U(n,t);var i=n.prototype;return i.GVt=function(t){for(var n=0,i=this.Is;n<i.length;n++){var e=i[n];jq(e)?e.GVt(t):t.push(e.Ps)}},i.Os=function(t,n){for(var i=0,e=this.YVt;i<e.length;i++){var r=e[i];if(r.ys===n&&r.Ms===t)return r.ps}},i.Cs=function(t){for(var n=0,i=this.YVt;n<i.length;n++){var e=i[n];if(e._s===t)return e.ps}},i.UVt=function(t){this.YVt.push(t)},i.xs=function(t){for(var n=0;n<this.YVt.length;n++)if(this.YVt[n]._s===t)return void this.YVt.splice(n,1)},i.zs=function(t,n){for(var i=0;i<this.YVt.length;i++)if(this.YVt[i].ys===n&&this.YVt[i].Ms===t)return void this.YVt.splice(i,1)},i.Rs=function(t,n){this.xs(t),this.UVt(new Dq({ys:t,ps:n}))},i.Us=function(t,n,i){this.xs(n);var e=n.split(":");this.UVt(new Dq({ys:e[e.length-1],ps:i,Ms:t,RVt:e.length>1?e[0]:void 0}))},i.As=function(t){var i=new n({ys:this.ys,Ms:this.Ms,RVt:this.ks});return this.Bs.forEach(function(t){return i.UVt(t.As())}),t&&this.Is.forEach(function(n){return i.Ls(n.As(t))}),i},i.gs=function(t){return this===t||!!Cq(this,t)&&(this.BVt===t.BVt&&this.PVt===t.PVt&&this.QVt===t.QVt&&(Oq(this.Bs,t.Bs)&&Oq(this.Is,t.Is)))},z(n,[{key:"os",get:function(){return $t.hs}},{key:"Bs",get:function(){return this.YVt}},{key:"ys",get:function(){return this.BVt}},{key:"Ms",get:function(){return this.QVt}},{key:"ks",get:function(){return this.PVt}},{key:"bs",get:function(){return void 0===this.PVt?this.BVt:this.PVt+":"+this.BVt}},{key:"Qs",get:function(){var t=[];return this.GVt(t),t.join("")}}]),n}(Tq),bq=function(){function t(t){this.re=void 0,this.re=t}return z(t,[{key:"Ps",get:function(){return this.re}}]),t}(),Eq=function(t){function n(n){return t.call(this,n)||this}U(n,t);var i=n.prototype;return i.As=function(){return new n(this.Ps)},i.gs=function(t){return this===t||!!Cq(this,t)&&this.Ps===t.Ps},z(n,[{key:"os",get:function(){return $t.cs}}]),n}(bq),Lq=function(t){function n(n){return t.call(this,n)||this}U(n,t);var i=n.prototype;return i.As=function(){return new n(this.Ps)},i.gs=function(t){return this===t||!!Cq(this,t)&&this.Ps===t.Ps},z(n,[{key:"os",get:function(){return $t.fs}}]),n}(bq),Sq=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.As=function(t){var i=new n;return t&&this.Is.forEach(function(n){return i.Ls(n.As(t))}),i},i.gs=function(t){return this===t||!!Cq(this,t)&&Oq(this.Is,t.Is)},z(n,[{key:"os",get:function(){return $t.vs}},{key:"Ys",get:function(){return this.js[0]}}]),n}(Tq);function jq(t){return en(t)}function Cq(t,n){return t.os===n.os}function Oq(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].gs(n[i]))return!1;return!0}var xq,zq=["adBreak"],Rq=["adBreak"];function Uq(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:sr({},t,{adBreak:sr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){t.adBreak;return O_(t,zq)})})})}function Bq(t){return void 0===t.ads?t:sr({},t,{ads:t.ads.map(function(t){t.adBreak;return O_(t,Rq)})})}function Qq(t){return"string"==typeof t.date?new Date(t.date):t.date}function Pq(t){var n;return t.cue.track?(n=Gq(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=Gq(t.cue,""),n}function Yq(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&d.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=d.entries(i);return d.fromEntries(e.map(function(i){var e=i[0],r=i[1],s=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==s&&n.pop(r),[e,s]}))}return i}(t)}function Gq(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new Nq).ds(e.firstChild.outerHTML).Ys.Bs.forEach(function(t){r[t.ys]=t.ps}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(c=o)&&null!==c){var h=Fq(o);s[u]={type:xq.FVt,value:h}}else Hq(o)?s[u]={type:xq.jTt,value:o}:s[u]={type:xq.pW,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=Fq(t.scte35Cmd),i.scte35Out=Fq(t.scte35Out),i.scte35In=Fq(t.scte35In),i.customAttributes=s}var c}(),i}function Fq(t){if(void 0!==t)return Ks(t)}function Vq(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(Gq(r,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(Gq(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function Hq(t){return"number"==typeof t}!function(t){t.pW="daterange-ca-type_string",t.jTt="daterange-ca-type_number",t.FVt="daterange-ca-type_arraybuffer"}(xq||(xq={}));var Wq={cue:function(t){var n={};switch(n.date=Qq(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=Pq(t)}return n},textTrack:function(t){var n={};switch(n.date=Qq(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=Jq().register(t.cue));var i=qq()[Kq()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=Pq(t);break;case"cuechange":for(var e=[],r=0;r<t.track.activeCues.length;r++){var s=t.track.activeCues[r];e.push(Gq(s,t.track.type))}n.track={activeCues:e,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=Qq(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=Jq().register(t)}),n.track=Vq(t.track);case"removetrack":case"change":n.track=Vq(t.track)}return n},default:function(t){var n={};switch(n.date=Qq(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case rh.Pa:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=sr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=Vq(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=Bq(t.ad);break;case"adloaded":case"adimpression":n.ad=Uq(t.ad);break;case"aderror":t.HMt&&(n.HMt=t.HMt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=Uq(t.ad)}return Yq(n)},minimizeCueHelper:function(t){var n={};return n.date=Qq(t),n.type=t.type,n.cue=Pq(t),n.track={uid:t.cue.track.uid},n},adReplacer:Uq,adBreakReplacer:Bq,removeCircularReferences:Yq},Xq=function(){this.stringify=_q,this.minimize=Wq};function Zq(){return Me.self}function qq(){return Zq().THEOplayerBridge}function Jq(){return Zq().THEOCueMirrorMap}function Kq(){return Zq().THEOplayerGlobalID}function $q(){var t=Zq();if(t.THEOplayerBridge){var n=new gq;t.THEOplayerBridge=Hd(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new gq;t.THEOplayerUtils||(t.THEOplayerUtils=new Xq),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new Aq)}$q();var tJ,nJ=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return U(n,t),n}(xs),iJ=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Zo(new nJ(t,n))},i.addEventListener=function(t,n){this.qo(t,n)},i.removeEventListener=function(t,n){this.th(t,n)},n}(Ml),eJ=function(t){function n(n,i){var e;return(e=t.call(this)||this).VVt=void 0,e.HVt=void 0,e.WVt=function(t){e.VVt.Rq("THEOplayerABRSetTargetBuffer",t.SC),e.Zo(t)},e.XVt=function(t){e.VVt.Rq("THEOplayerABRSetStrategy",t.OC),e.Zo(t)},e.VVt=n,e.HVt=i,e.HVt.qo("jC",e.WVt),e.HVt.qo("xC",e.XVt),e}return U(n,t),z(n,[{key:"VC",get:function(){var t;switch(this.OC.type){case tD.PERFORMANCE:return 1;case tD.QUALITY:return 0;case tD.BANDWIDTH:return null!=(t=this.OC.metadata)&&t.bitrate&&!w(this.OC.metadata.bitrate)?this.OC.metadata.bitrate:0;default:return 0}}},{key:"ml",get:function(){return this.HVt.ml}},{key:"OC",get:function(){return this.HVt.OC},set:function(t){this.HVt.OC=t}},{key:"SC",get:function(){return this.HVt.SC},set:function(t){this.HVt.SC=t}},{key:"zC",get:function(){return this.HVt.zC},set:function(t){this.HVt.zC=t}}]),n}(Cs),rJ=function(){function t(t,n,i){this.Cc=void 0,this.mo=void 0,this.Vc=void 0,this.rc=void 0,this.Cc=t,this.mo=i,this.Vc=n}var n=t.prototype;return n.hN=function(t){throw new f("Not implemented yet.")},n.nR=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mo.Do(n.wo,i);case 2:return e=t.sent,t.next=5,e.lc();case 5:return r=t.sent,t.next=8,this.iR(r);case 8:return t.abrupt("return",r);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.eR=function(t){return!1},n.rR=function(t){return N.resolve(void 0)},n.xo=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.iR(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.iR=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.uR(n),t.next=3,i;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.uR=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.rc)){t.next=5;break}return t.next=4,i.fc(this.Vc);case 4:this.rc=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.cc(this.Vc);case 8:this.rc=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.sN=function(t,n,i){throw new f("Not implemented yet.")},z(t,[{key:"uc",get:function(){return this.Cc}},{key:"yw",get:function(){throw new f("Not implemented yet.")},set:function(t){throw new f("Not implemented yet.")}},{key:"_w",get:function(){return new am([0,1/0])}},{key:"RA",get:function(){throw new f("Not implemented yet.")}},{key:"ZVt",get:function(){throw new f("Not implemented yet")}},{key:"zA",get:function(){throw new f("Not implemented yet.")}},{key:"qVt",get:function(){throw new f("Not implemented yet")}},{key:"JVt",get:function(){throw new f("Not implemented yet")}}]),t}();!function(t){t.KVt="webkitneedkey",t.$Vt="webkitkeymessage",t.tHt="webkitkeyerror"}(tJ||(tJ={}));var sJ=function(t){function n(n,i){var e;return(e=t.call(this,tJ.KVt)||this).initData=n,e.sessionId=i,e}return U(n,t),n}(xs),uJ=function(t){function n(n,i){var e;return(e=t.call(this,tJ.$Vt)||this).message=n,e.destinationURL=i,e}return U(n,t),n}(xs),oJ=function(t){function n(){return t.call(this,tJ.tHt)||this}return U(n,t),n}(xs),hJ=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Mc=new eo,u.Oc=void 0,u.pc=new Fs,u.zc=new eo,u.nHt=function(t){u.Oc?(u.Oc.xh(void 0),u.Oc=void 0):u.bc("internal-error"),u.Zo(new Qs)},u.iHt=function(t){u.Oc&&(u.Oc.Oh(void 0),u.Oc=void 0),u.Zo(new Bs(sn(u),"license-request",to(t.message).buffer,t.destinationURL||void 0))},u.Lc=n,u.Vh=i,u.eHt=e,u.Gc=r,u.Uc=s,u}U(n,t);var i=n.prototype;return i.Zh=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e&&e.fairplay&&e.fairplay.Bc){t.next=3;break}throw new v("Expected FairPlay contentId to be defined but was "+r+".");case 3:return t.next=5,this.rHt(Ku(i),r);case 5:this.bc("usable"),this.zc.Oh(),this.zc=new eo;case 8:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.qh=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Kh=function(){var t=N.coroutine(rr.mark(function t(n){var i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Ku(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:return this.Oc=new eo,this.eHt.Kh(this.Gc,i),t.next=7,this.Oc.Ch;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Xh=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.zc;case 2:return this.eHt.th(tJ.$Vt,this.iHt),this.eHt.th(tJ.tHt,this.nHt),this.zc.Po(),this.Mc.Oh(void 0),t.abrupt("return",this.Mc.Ch);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Jh=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.rHt=function(){var t=N.coroutine(rr.mark(function t(n,i){var e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=Ro(n,i,this.Uc),this.eHt.qo(tJ.$Vt,this.iHt),this.eHt.qo(tJ.tHt,this.nHt),this.eHt.CF(this.Gc,e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.bc=function(t){this.pc.ph(),this.pc.mh(Gs,t),this.Zo(new Us(this))},z(n,[{key:"ec",get:function(){return this.Gc}},{key:"nc",get:function(){return NaN}},{key:"tc",get:function(){return this.Mc.Ch}},{key:"ic",get:function(){return this.pc}}]),n}(Cs),cJ=function(){function t(t,n,i){this.sHt=void 0,this.Gc=void 0,this.Uc=void 0,this.eHt=void 0,this.Vh=void 0,this.Cc=void 0,this.Lc=void 0,this.eHt=t,this.Vh=n,this.Cc=i;var e=mo(i)||"video/mp4";this.Lc=_o(e)}var i=t.prototype;return i.oc=function(){var t=N.coroutine(rr.mark(function t(i){var e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Uc){t.next=2;break}throw new Uo(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return e=new hJ(this.Lc,this.Vh,this.eHt,this.Gc,this.Uc),this.sHt=e,t.abrupt("return",e);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.hc=function(t){return this.Uc=Ku(t),N.resolve(!0)},i.cc=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.fc=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.createSession=function(){throw new f("Whoops.")},z(t,[{key:"sc",get:function(){return this.Vh}},{key:"uc",get:function(){return this.Cc}},{key:"sessionId",set:function(t){this.Gc=t}}]),t}(),aJ=function(){function t(t,n,i){this.uHt=t,this.Vh=n,this.Cc=i}var n=t.prototype;return n.gc=function(){return this.Cc},n.lc=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new cJ(this.uHt,this.Vh,this.Cc));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),z(t,[{key:"sc",get:function(){return this.Vh}}]),t}(),fJ=function(){function t(t){this.uHt=void 0,this.uHt=t}return t.prototype.Do=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<i.length)){t.next=9;break}if(r=i[e],!(s=Mo(vJ,Rs,n,r))){t.next=6;break}return t.abrupt("return",new aJ(this.uHt,n,s));case 6:e++,t.next=1;break;case 9:throw new v("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function vJ(t,n){return t===Dr}var dJ,lJ=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.FF=function(t,n){return!0},n}(dS),gJ=function(t){function n(n,i,e){var r;return void 0===e&&(e=new fJ(i)),(r=t.call(this)||this).OT=void 0,r.mo=void 0,r.Jz=void 0,r.ZF=new eT,r.oHt=void 0,r.uHt=void 0,r.hHt=!1,r.Gc=void 0,r.Rc=null,r.cHt={aw:0,fw:0,vw:0,dw:0,lw:0,gw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.aHt=function(t){"boolean"==typeof t.detail.casting&&(r.hHt=t.detail.casting,r.Zo(new iA(r.hHt)))},r.fHt=function(t){r.Gc=t.sessionId,r.Rc&&(r.Rc.sessionId=r.Gc);var n=t.initData;if(n){var i=MS(n);if(!i)return;r.Zo(new Ps(_r,i))}else r.Zo(new Ps(_r,new ArrayBuffer(0)))},r.oHt=n,r.uHt=i,r.uHt.qo(tJ.KVt,r.fHt),r.mo=e,r.Jz=new lJ(sn(r)),r.vHt(),r}U(n,t);var i=n.prototype;return i.cR=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.Ao===By.aN)return i}},i.xo=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Jl();case 2:return this.$o(),this.dHt(),this.uHt.th(tJ.KVt,this.fHt),t.next=7,this.Jz.xo();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.JA=function(){throw new f("Not implemented yet")},i.sN=function(t,n,i,e,r,s,u,o){throw new f("Not implemented yet")},i.lI=function(){return!1},i.AI=function(t,n,i,e){throw new f("Not implemented yet")},i.hN=function(t){throw new f("Not implemented yet")},i._I=function(){throw new f("Not implemented yet")},i.qh=function(){var t=N.coroutine(rr.mark(function t(n){var i=this;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.ZF.mz(function(){var t=N.coroutine(rr.mark(function t(e){var r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Ao!==By.aN){t.next=8;break}return ys(e),r=new rJ(n,i,i.mo),i.OT=r,i.Jz.qh(r,n),t.abrupt("return",r);case 8:throw new f("Could not create non-static media source");case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.QA=function(){throw new f("Not implemented yet")},i.BA=function(){throw new f("Not implemented yet")},i.Jl=function(){var t=this;return this.ZF.Po(),this.ZF.mz(N.coroutine(rr.mark(function n(){return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.OT){n.next=4;break}return n.next=3,t.OT.xo();case 3:t.OT=void 0;case 4:return n.next=6,t.Jz.Jl();case 6:case"end":return n.stop()}},n)})))},i.Ih=function(t,n){throw new f("Not implemented yet")},i.TI=function(t){throw new f("Not implemented yet")},i.qA=function(){throw new f("Not implemented yet")},i.II=function(){return this.cHt},i.vHt=function(){this.oHt.addEventListener("airPlayIsCasting",this.aHt)},i.dHt=function(){this.oHt.removeEventListener("airPlayIsCasting",this.aHt)},i.webkitSetMediaKeys=function(t){this.Rc=t||null,this.Rc&&(this.Rc.sessionId=this.Gc)},i.SH=function(){},i.EH=function(){throw new f("Not implemented yet")},i.LH=function(){throw new f("Not implemented yet")},z(n,[{key:"ow",get:function(){throw new f("Not implemented yet")}},{key:"uw",get:function(){throw new f("Not implemented yet")}},{key:"uA",get:function(){throw new f("Not implemented yet")}},{key:"ez",get:function(){throw new f("Not implemented yet")}},{key:"oA",get:function(){throw new f("Not implemented yet")}},{key:"hA",get:function(){throw new f("Not implemented yet")}},{key:"vh",get:function(){throw new f("Not implemented yet")}},{key:"Xk",get:function(){throw new f("Not implemented yet")}},{key:"cw",get:function(){return this.hHt}},{key:"aA",get:function(){throw new f("Not implemented yet")}},{key:"fA",get:function(){throw new f("Not implemented yet")}},{key:"vA",get:function(){throw new f("Not implemented yet")}},{key:"ww",get:function(){throw new f("Not implemented yet")}},{key:"Ng",get:function(){throw new f("Not implemented yet")}},{key:"_w",get:function(){throw new f("Not implemented yet")}},{key:"dA",get:function(){throw new f("Not implemented yet")}},{key:"OH",get:function(){throw new f("Not implemented yet")}},{key:"AA",get:function(){throw new f("Not implemented yet")},set:function(t){throw new f("Not implemented yet")}},{key:"pu",get:function(){throw new f("Not implemented yet")}},{key:"yI",get:function(){throw new f("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Rc}},{key:"xH",get:function(){return _T}},{key:"RA",get:function(){throw new f("Not implemented yet")}},{key:"sz",get:function(){throw new f("Not implemented yet")}},{key:"bI",get:function(){throw new f("Not implemented yet")}},{key:"jH",get:function(){return!0}},{key:"uI",get:function(){return this.Jz.uI},set:function(t){this.Jz.uI=t}},{key:"WF",get:function(){return this.Jz.WF}}]),n}(_l),AJ=function(t){function n(n){var i;return(i=t.call(this,rh.Fa)||this).cHt=n,i}return U(n,t),n}(xs);function wJ(t){switch(t.type){case dJ.pW:return t.value;case dJ.jTt:return Kd(t.value);case dJ.FVt:return qs(t.value);default:return}}function yJ(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.pW="daterange-ca-type_string",t.jTt="daterange-ca-type_number",t.FVt="daterange-ca-type_arraybuffer"}(dJ||(dJ={}));var _J=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,r,i,e)||this).JD=void 0,u.lHt=void 0,u.JD=n,u.lHt=s,u}return U(n,t),z(n,[{key:"name",get:function(){return this.JD}},{key:"timestamp",get:function(){return this.lHt}}]),n}(Uo),MJ=function(t){function n(n,i,e,r,s,u,o,h){var c;return(c=t.call(this,n,i,e,r,h)||this).url=void 0,c.status=void 0,c.errorComment=void 0,c.url=s,c.status=u,c.errorComment=o,c}return U(n,t),n}(_J),kJ=function(t){function n(n,i,e,r,s){var u;(u=t.call(this)||this).$b=0,u.kY=!1,u.xT=void 0,u.zT=void 0,u.gHt=void 0,u.nE=!0,u.iE=1,u.EA=void 0,u.LA=void 0,u.nV=void 0,u.eV=void 0,u.rV=void 0,u.SA=void 0,u.nN=void 0,u.pU=void 0,u.AHt=am.Xb(),u.oY=am.Xb(),u.tE=!1,u.lV=am.Xb(),u.eE=void 0,u.wHt=void 0,u.yHt=void 0,u.mY=El.Zg,u.vN=El.Zg,u.oHt=void 0,u.uV=void 0,u.BT=void 0,u.VVt=void 0,u.j_t=void 0,u.hE=void 0,u.CT=void 0,u.QT=void 0,u.uHt=void 0,u.cHt={aw:0,fw:0,vw:0,dw:0,lw:0,gw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.OT=void 0,u._Ht=void 0,u.YT=new Fk,u.setCurrentTime=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u._w.length){t.next=4;break}return u.$b=n,t.next=4,u.oHt.rh("seekablechange");case 4:u.$b=u.updateCurrentTime(n),u.VVt.Rq("THEOplayerSetCurrentTime",u.$b),u.eE=!0,u.Zo(new ug(u.$b));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),u.MHt=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.AHt=new am(i),u.Zo(new NT(u.uA))}},u.kHt=function(t){u.mY=t.detail.readyState,u.Zo(new cg(+t.detail.currentTime,u.Ng)),u.mHt()},u.pHt=function(t){u.mY=t.detail.readyState,u.Zo(new ag(+t.detail.currentTime,u.Ng)),u.mHt()},u.NHt=function(t){if(t.detail){var n=+t.detail.duration;u.pU=n,u.Zo(new ng(u.oA))}},u.Y_t=function(t){t.detail&&(u.kY=!0,u.Zo(new rg(+t.detail.currentTime)))},u.GT=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);yJ(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.zT=new MJ(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.xT=xg(u.zT),u.Zo(new vg(u.zT))):yJ(i)&&(u.zT=new _J(i.name,i.message,void 0,i.code,i.timestamp),u.xT=xg(u.zT),u.Zo(new vg(u.zT)))}},u.G_t=function(t){u.Zo(new DT)},u.DHt=function(t){u.mY=t.detail.readyState,u.Zo(new sg(+t.detail.currentTime,u.Ng)),u.mHt()},u.THt=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u._w.length){t.next=3;break}return t.next=3,u.oHt.rh("seekablechange");case 3:u.mY=n.detail.readyState,u.Zo(new tg(+n.detail.currentTime,u.Ng)),u.mHt();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),u.x_t=function(t){t.detail&&u.nE&&(u.nE=!1,u.Zo(new ql(+t.detail.currentTime)))},u.z_t=function(t){t.detail&&(u.nE||(u.nE=!0,u.Zo(new Zl(+t.detail.currentTime))))},u.IHt=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.lV=new am(i)}},u.cMt=function(t){t.detail&&u.Zo(new a_(+t.detail.currentTime))},u.B_t=function(t){t.detail&&(u.iE=t.detail.playbackRate,u.Zo(new ig(+t.detail.currentTime,u.iE)))},u.bHt=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.oY=new am(i)}},u.U_t=function(t){t.detail&&(u.$b=+t.detail.currentTime,u.eE=!1,u.Zo(new eg(u.$b,u.gHt)),u.Zo(new og(u.$b)))},u.R_t=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.pU&&(u.kY=!1),u.eE=!0,u.Zo(new ug(n))}},u.EHt=function(t){t.detail&&(t.detail.currentDate&&(u.gHt=new Date(1e3*t.detail.currentDate)),u.$b=+t.detail.currentTime,u.Zo(new eg(u.$b,u.gHt)))},u.LHt=function(t){u.wHt=t.detail.height,u.yHt=t.detail.width},u.SHt=function(t){t.detail&&u.Zo(new c_(+t.detail.currentTime))},u.tMt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.xA.Xl(new qg(n))},u.jHt=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,s=0;s<u.EA.$l;s++){var o=u.xA.Wl(s);o.dg==e&&o.vg==r?i=u.EA.Wl(s):1==o.hg&&(n=u.EA.Wl(s))}i&&n&&(i.hg=!0,n.hg=!1)},u.iMt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.zA.Xl(new nA(n))},u.fq=function(t){var n,i=t.detail.kind,e=t.detail.type;i===dy.QM&&e===$g.ID3?(n=new ZL("",t.detail.label)).kg=cl.wg:i===dy.QM&&e===$g.DATE_RANGE?(n=new xC,u._Ht=n):n=new GE(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),u.nV.Xl(n),u.uV.Xl(n)},u.CHt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,s={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(s.description=e.Id3FrameDescription);var o=new WL(Kd(e.startTime),s,e.uid),h=u.OHt();h&&h.oN(o)}},u.xHt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],s=new yA(Kd(r.startTime),Kd(r.endTime),r.content,!1),o=null!=(e=u.zHt(dy.UM))?e:u.zHt(dy.Zp);o&&(o.Ao=$g.WEBVTT,o.oN(s))}},u.oH=function(t){t.type===rh.va&&(u.xT=xg(t.errorObject)),u.Xo(t)},u.RHt=function(t){t.detail&&(u.cHt.fw=t.detail.corruptedVideoFrames,u.cHt.aw=t.detail.droppedVideoFrames,u.Zo(new AJ(u.pA)))},u.UHt=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={cg:t.id};if(void 0!==t.startDate&&(n.bI=new Date(t.startDate)),void 0!==t.endDate&&(n.QK=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var s=wJ(t.customAttributes[r]);void 0!==s&&(e[r]=s)}n.$K=e}void 0!==t.scte35Cmd&&(n.t$=qs(t.scte35Cmd)),void 0!==t.scte35In&&(n.i$=qs(t.scte35In)),void 0!==t.scte35Out&&(n.n$=qs(t.scte35Out)),void 0!==t.startTime&&(n.Yw=t.startTime),n.qK=t.class,n.oA=Kd(t.duration),n.JK=Kd(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Yw?t.Yw:(new Date).getTime(),e=new bC(t,i);u._Ht.oN(e),u._Ht.Kh(n,i)})};var o=r.uid;u.VVt=u.getSdkBridge(o),u.oHt=new iJ,qq()[o].sdkEventBus=u.oHt,u.EA=new Bg,u.LA=new Bg;var h=u.BHt(e);return u.nN=new iP(sn(u),new FL),u.uV=new HL(sn(u)),u.BT=new Cy(u.nN,h),u.nV=new ly,u.eV=new nS(sn(u)),u.eV.sg=u.nV,u.rV=new iS(u.nN,u.eV),u.SA=new Wk([u.nV,u.BT.jk,u.rV.jk]),u.uHt=u.getFairPlayControllerBridge(u.VVt),u.CT=new gJ(u.oHt,u.uHt),u.QT=new Vk(h),u.CT.uI=u.QT,u.observeMediaElement(),u.hI(),u.hE=new eJ(u.VVt,s),u.hE.qo("jC",function(){u.VVt.Rq("THEOplayerSetPreferredForwardBufferDuration",u.hE.SC)}),u}U(n,t);var i=n.prototype;return i.$A=function(){return dm},i.qA=function(){this.VVt.Rq("THEOplayerShow",{})},i.JA=function(){this.VVt.Rq("THEOplayerHide",{})},i.QHt=function(){var t=this;this.VVt.Rq("THEOplayerSetInitialPreferredPeakBitRate",this.hE.VC);this.qo("playing",function n(){t.VVt.Rq("THEOplayerSetInitialPreferredPeakBitRate",0),t.th("playing",n)})},i.GA=function(){var t=N.coroutine(rr.mark(function t(n,i){var e,r,s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.j_t=n,e=sr({},i,{sources:{src:n.src,type:Tl.Yg,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange,isAdvertisement:n.isAdvertisement}}),this.VVt.Rq("THEOplayerSourceChange",e),r={Ao:By.aN,Ig:n.src,vv:n.type,cI:this.aI(n),fI:n.crossOrigin,vI:i.metadata&&i.metadata.title},this.QT.MT(n.contentProtection),t.next=7,this.CT.qh(r);case 7:this.OT=t.sent,i.textTracks&&(s=i.textTracks.filter(function(t){return t.format!==$g.WEBVTT})).length>0&&this.dI(s),Uy(this.RA),this.QHt();case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.aI=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{sc:br,pI:[{initDataTypes:[br.yo],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.BA=function(){this.nE=!1,this.Zo(new ql(this.uA)),this.VVt.Rq("THEOplayerPlay",{})},i.QA=function(){this.nE=!0,this.Zo(new Zl(this.uA)),this.VVt.Rq("THEOplayerPause",{})},i.KA=function(){},i.Jl=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$b=0,this.kY=!1,this.xT=void 0,this.zT=void 0,this.nE=!0,this.iE=1,this.pU=void 0,this.oY=am.Xb(),this.AHt=am.Xb(),this.wHt=void 0,this.yHt=void 0,this.mY=El.Zg,this.vN=El.Zg,this.EA.Jl(),this.LA.Jl(),this.nV.Jl(),this.SA.Jl(),t.next=19,this.rV.Jl();case 19:return this.eV.Jl(),t.next=22,this.BT.Jl();case 22:return this.nN.Jl(),this.uV.Jl(),this.j_t=void 0,t.next=27,this.CT.Jl();case 27:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.VA=function(){this.VVt.Rq("THEOplayerShowAirPlayPicker",{})},i.HA=function(){this.VVt.Rq("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.pA.fw=t.fw,this.pA.aw=t.aw},i.nd=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Jl();case 2:return this.$o(),this.unobserveMediaElement(),this.kI(),this.CT.uI=void 0,t.next=8,this.CT.xo();case 8:return this.EA.nd(),this.LA.nd(),this.nV.nd(),this.SA.nd(),this.eV.nd(),t.next=15,this.rV.nd();case 15:return t.next=17,this.BT.nd();case 17:this.nN.nd(),this.uV.nd();case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.dI=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.BT.rN(i)}},i.mHt=function(){var t=this.vN,n=this.mY;t!==n&&(this.vN=n,this.Zo(new fg(this.uA,n)))},i.observeMediaElement=function(){this.CT.qo(rh.ha,this.Xo),this.CT.qo([rh.da,rh.va],this.oH),this.oHt.addEventListener("play",this.x_t),this.oHt.addEventListener("pause",this.z_t),this.oHt.addEventListener("seeking",this.R_t),this.oHt.addEventListener("seeked",this.U_t),this.oHt.addEventListener("ratechange",this.B_t),this.oHt.addEventListener("durationchange",this.NHt),this.oHt.addEventListener("timeupdate",this.EHt),this.oHt.addEventListener("waiting",this.SHt),this.oHt.addEventListener("playing",this.cMt),this.oHt.addEventListener("ended",this.Y_t),this.oHt.addEventListener("loadedmetadata",this.THt),this.oHt.addEventListener("loadeddata",this.DHt),this.oHt.addEventListener("loadstart",this.G_t),this.oHt.addEventListener("canplay",this.kHt),this.oHt.addEventListener("canplaythrough",this.pHt),this.oHt.addEventListener("error",this.GT),this.oHt.addEventListener("seekablechange",this.bHt),this.oHt.addEventListener("videosizechange",this.LHt),this.oHt.addEventListener("bufferedchange",this.MHt),this.oHt.addEventListener("playedchange",this.IHt),this.oHt.addEventListener("metricschange",this.RHt),this.oHt.addEventListener("addDateRangeCues",this.UHt)},i.unobserveMediaElement=function(){this.CT.th(rh.ha,this.Xo),this.CT.th([rh.da,rh.va],this.oH),this.oHt.removeEventListener("play",this.x_t),this.oHt.removeEventListener("pause",this.z_t),this.oHt.removeEventListener("seeking",this.R_t),this.oHt.removeEventListener("seeked",this.U_t),this.oHt.removeEventListener("ratechange",this.B_t),this.oHt.removeEventListener("durationchange",this.NHt),this.oHt.removeEventListener("timeupdate",this.EHt),this.oHt.removeEventListener("waiting",this.SHt),this.oHt.removeEventListener("playing",this.cMt),this.oHt.removeEventListener("ended",this.Y_t),this.oHt.removeEventListener("loadedmetadata",this.THt),this.oHt.removeEventListener("loadeddata",this.DHt),this.oHt.removeEventListener("loadstart",this.G_t),this.oHt.removeEventListener("canplay",this.kHt),this.oHt.removeEventListener("canplaythrough",this.pHt),this.oHt.removeEventListener("error",this.GT),this.oHt.removeEventListener("seekablechange",this.bHt),this.oHt.removeEventListener("videosizechange",this.LHt),this.oHt.removeEventListener("bufferedchange",this.MHt),this.oHt.removeEventListener("playedchange",this.IHt),this.oHt.removeEventListener("metricschange",this.RHt),this.oHt.removeEventListener("addDateRangeCues",this.UHt)},i.updateCurrentTime=function(t){var n=this._w.start(0),i=this._w.end(0);return l.min(l.max(t,n),i)},i.OHt=function(){for(var t=0,n=this.SA.Kl;t<n.length;t++){var i=n[t];if(i.fg===dy.QM&&i.Ao===$g.ID3)return i}},i.zHt=function(t){for(var n=0,i=this.SA.Kl;n<i.length;n++){var e=i[n],r=e.kg===cl.yg,s=e.fg===t;if(r&&s)return e}},i.hI=function(){this.oHt.addEventListener("addaudiotrack",this.tMt),this.oHt.addEventListener("enableaudiotrack",this.jHt),this.oHt.addEventListener("addvideotrack",this.iMt),this.oHt.addEventListener("addtexttrack",this.fq),this.oHt.addEventListener("addtexttrackid3cues",this.CHt),this.oHt.addEventListener("addtexttrackcues",this.xHt)},i.kI=function(){this.oHt.removeEventListener("addaudiotrack",this.tMt),this.oHt.removeEventListener("enableaudiotrack",this.jHt),this.oHt.removeEventListener("addvideotrack",this.iMt),this.oHt.removeEventListener("addtexttrack",this.fq),this.oHt.removeEventListener("addtexttrackid3cues",this.CHt),this.oHt.removeEventListener("addtexttrackcues",this.xHt)},i.sw=function(){},z(n,[{key:"xA",get:function(){return this.EA}},{key:"uw",get:function(){return this.AHt.DI()}},{key:"ow",get:function(){return this.gHt?this.gHt:null},set:function(t){this.VVt.Rq("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.gHt=t}},{key:"uA",get:function(){return this.$b},set:function(t){this.setCurrentTime(t)}},{key:"oA",get:function(){return this.pU}},{key:"hA",get:function(){return this.kY}},{key:"vh",get:function(){return this.xT}},{key:"cA",get:function(){return this.zT}},{key:"UA",get:function(){}},{key:"cw",get:function(){return this.CT.cw}},{key:"pA",get:function(){return this.cHt}},{key:"aA",get:function(){return this.tE},set:function(t){this.tE!==t&&(this.VVt.Rq("THEOplayerSetMuted",t),this.tE=t,this.Zo(new hg(this.uA,t?0:1)))}},{key:"fA",get:function(){return this.nE}},{key:"vA",get:function(){return this.iE},set:function(t){this.VVt.Rq("THEOplayerSetPlaybackRate",t),this.iE=t}},{key:"ww",get:function(){return this.lV.DI()}},{key:"yw",get:function(){return im.ZI},set:function(t){}},{key:"Ng",get:function(){return this.mY}},{key:"_w",get:function(){return this.oY.DI()}},{key:"dA",get:function(){return this.eE}},{key:"bI",get:function(){}},{key:"RA",get:function(){return this.SA}},{key:"lA",get:function(){return this.wHt}},{key:"gA",get:function(){return this.yHt}},{key:"AA",get:function(){return 1},set:function(t){}},{key:"zA",get:function(){return this.LA}},{key:"EI",get:function(){return this.YT}},{key:"Mw",get:function(){return!1},set:function(t){}},{key:"Aw",get:function(){return!0}}]),n}(_l),mJ=function(){function t(){this.LI=Uk.dT}var n=t.prototype;return n.SI=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if(Ol(n.type))return!1;var e=n.contentProtection;if(e&&!X_(e)){if(!J_(e))return!1;if(!t.aMt(e))return!1}return!0},t.aMt=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.jI=function(){return!1},t}(),pJ=function(){function t(){this.PHt=e.webkit}return t.prototype.Rq=function(t,n){this.PHt.messageHandlers[t]&&this.PHt.messageHandlers[t].postMessage(n)},t}(),NJ=function(t){function n(n){var i;return(i=t.call(this)||this).VVt=void 0,i.oHt=void 0,i.YHt=function(t){var n=qs(t.detail.initData),e=t.detail.sessionId;i.Zo(new sJ(n,e))},i.GHt=function(t){var n=new y(ru(t.detail.message)),e=t.detail.destinationURL;i.Zo(new uJ(n,e))},i.FHt=function(t){i.Zo(new oJ)},i.VVt=n,i.oHt=new iJ,qq().fairplayController={sdkEventBus:i.oHt},i.Q1(),i}U(n,t);var i=n.prototype;return i.Q1=function(){this.oHt.addEventListener(tJ.KVt,this.YHt),this.oHt.addEventListener(tJ.$Vt,this.GHt),this.oHt.addEventListener(tJ.tHt,this.FHt)},i.CF=function(t,n){var i={playerId:Kq(),data:su(n.buffer),sessionId:t};this.VVt.Rq("THEOplayerCreateKeySession",i)},i.Kh=function(t,n){var i={playerId:Kq(),data:su(n.buffer),sessionId:t};this.VVt.Rq("THEOplayerUpdateKey",i)},n}(_l),DJ=function(t){var n=this;this.oHt=void 0,this.VHt=void 0,this.HHt=function(){n.VHt._q()},this.WHt=function(){n.VHt.yq()},this.oHt=new iJ,this.VHt=t,this.oHt.addEventListener("showTracks",this.HHt),this.oHt.addEventListener("hideTracks",this.WHt),qq().texttracks={sdkEventBus:this.oHt}},TJ=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this,n,i,e,r,s)||this).Nq=void 0,o.Dq=void 0,o.XHt=void 0;var h=i.rI(Ug.Hv);return o.Nq=new bS,o.Nq.CH(n),o.Dq=new Vj(o.Nq.hw,h.ez,o.RA,u,h.yI),o.XHt=new DJ(o.Dq),i.mI(h),Me.document.querySelector(".vjs-tech")?Me.document.querySelector(".player-div").classList.add("theo-ios-sdk"):Me.document.querySelector(".player-div").style.background="transparent",o}U(n,t);var i=n.prototype;return i.qA=function(){t.prototype.qA.call(this),this.Nq.qA()},i.JA=function(){t.prototype.JA.call(this),this.Nq.JA()},i.FA=function(){return!0},i.getSdkBridge=function(){return new pJ},i.getFairPlayControllerBridge=function(){return IJ},i.BHt=function(t){return t},i.nd=function(){var n=N.coroutine(rr.mark(function n(){return rr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Me.document.querySelector(".vjs-tech")?Me.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):Me.document.querySelector(".player-div").style.background="#000000",n.next=3,t.prototype.nd.call(this);case 3:this.Dq.nd(),this.Nq.nd();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(kJ);tm(new(function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.hD=function(t,n,i,e,r,s){return new TJ(t,n,i,e,r,s)},i.SI=function(n,i){if(n.type){var e=Be();if(!(e&&e.canPlayType&&e.canPlayType(n.type)))return!1}return t.prototype.SI.call(this,n,i)},n}(mJ)));var IJ=new NJ(new pJ);var bJ=function(t){function n(n,i){var e;return(e=t.call(this)||this).kl=void 0,e.ZHt=n,e.Vx=i,e.ZHt.qo("Ext",e.Xo),e}return U(n,t),n.prototype.qHt=function(t,n,i){var e,r;if(!t)throw new f("Unexpected - The source description is undefined");if(e=Np(t),r=RW(n),dp(e))throw new f("Invalid source description");return this.ZHt.Hxt(e,r).ml},z(n,[{key:"ml",get:function(){var t,n,i;return this.kl||(this.kl=(i={get status(){return t.Nv},get tasks(){return t.Jxt},get network(){return t.rz.ml},createTask:function(n,i){return t.qHt(n,i)},addEventListener:function(t,i){n.qo(t,i)},removeEventListener:function(t,i){n.th(t,i)}},n=new yD(t=this,i),i)),this.kl}},{key:"Nv",get:function(){return this.ZHt.Nv}},{key:"Jxt",get:function(){return this.ZHt.Jxt.ml}},{key:"rz",get:function(){return this.Vx}}]),n}(_l);(EJ=new nD(p.Al,!1),LJ=bO.rs,SJ=new qW(EJ),jJ=new OW(LJ,SJ),CJ=new eD(EJ),OJ=new DV(LJ.z2,jJ,"persistent"),new bJ(OJ,CJ)).ml;var EJ,LJ,SJ,jJ,CJ,OJ,xJ=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Dw=void 0,s.Qxt=void 0,s.kl=void 0,s.j_t=void 0,s.QQt=void 0,s.pU=0,s.JHt=am.Xb(),s.KHt=0,s.$Ht=0,s.ZHt=void 0,s.Dw=n,s.Qxt=oV.IDLE,s.j_t=i,s.QQt=e,s.ZHt=r,s}U(n,t);var i=n.prototype;return i.ab=function(){this.ZHt.startCachingTask(this)},i.Jh=function(){this.ZHt.removeCachingTask(this)},z(n,[{key:"ml",get:function(){return this.kl||(this.kl=TV(this)),this.kl}},{key:"cg",get:function(){return this.Dw}},{key:"Nv",get:function(){return this.Qxt},set:function(t){this.Qxt!==t&&(this.Qxt=t,this.Zo(new AV))}},{key:"FI",get:function(){return this.j_t}},{key:"Ac",get:function(){return this.QQt}},{key:"oA",get:function(){return this.pU},set:function(t){this.pU=t}},{key:"Kxt",get:function(){return this.JHt},set:function(t){this.JHt=t}},{key:"$xt",get:function(){return this.KHt},set:function(t){this.KHt=t}},{key:"tzt",get:function(){return this.$Ht},set:function(t){this.$Ht=t,this.Zo(new SV)}}]),n}(Ml),zJ=30;function RJ(t){var n,i;if(!t)throw new f("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+zJ),n&&((i=n)&&!(ut(i)&&i>new Date)))throw new f("Invalid expiration date for the cache parameters");return{expirationDate:n}}var UJ=function(t){function n(){var n;return(n=t.call(this)||this).Qxt=_V.UNINITIALISED,n.yz=new NV,n.VVt=void 0,n.oHt=void 0,n.tWt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.Nv=oV.EVICTED,i.tzt=0,i.$xt=0,i.oA=0,i.Kxt=am.Xb(),n.yz.Jh(i))}},n.nWt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var e=t.detail.status;e&&(i.Nv=e);var r=t.detail.percentage;r&&(i.tzt=r);var s=t.detail.duration;s&&(i.oA=s);var u=t.detail.seconds;u&&(i.$xt=u);var o=t.detail.cached;if(o){for(var h=[],c=0;c<o.length;c++){var a=o[c];h.push(a.start,a.end)}i.Kxt=new am(h)}}}},n.iWt=function(t){if(t.detail){var i=Np(JSON.parse(t.detail.source));if(!n.eWt(i)){var e={},r=t.detail.expirationDate;r&&(e={expirationDate:new Date(r)});var s=t.detail.uuid;n.Hxt(i,RJ(e),s)}}},n.rWt=function(t){if(t.detail){var i={},e=t.detail.expirationDate;e&&(i={expirationDate:new Date(e)});var r=JSON.parse(t.detail.source),s=t.detail.uuid,u=n.Hxt(Np(r),RJ(i),s);u.Nv=t.detail.status,u.tzt=t.detail.percentage,u.oA=t.detail.duration,u.$xt=t.detail.seconds;for(var o=t.detail.cached,h=[],c=0;c<o.length;c++){var a=o[c];h.push(a.start,a.end)}u.Kxt=new am(h)}},n.sWt=function(t){t.detail&&n.Fxt(t.detail.status)},n.VVt=new pJ,n.oHt=new iJ,qq().cache={sdkEventBus:n.oHt},n.Q1(),n}U(n,t);var i=n.prototype;return i.Fxt=function(t){this.Qxt!==t&&(this.Qxt=t,this.Zo(new AV))},i.Hxt=function(t,n,i){void 0===i&&(i=void 0);var e=new xJ(i||tN(),t,n,this);return this.yz.mw(e),i||this.VVt.Rq("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:e.cg}),e},i.findTaskWithId=function(t){for(var n=0,i=this.yz.Sxt;n<i.length;n++){var e=i[n];if(e.cg===t)return e}},i.eWt=function(t){for(var n=QJ(t.sources),i=0,e=this.yz.Sxt;i<e.length;i++){if(QJ(e[i].FI.sources).src===n.src)return!0}return!1},i.Q1=function(){this.oHt.addEventListener("deleteTask",this.tWt),this.oHt.addEventListener("updateValues",this.nWt),this.oHt.addEventListener("newTask",this.iWt),this.oHt.addEventListener("restoreTask",this.rWt),this.oHt.addEventListener("setCacheStatus",this.sWt)},i.startCachingTask=function(t){this.VVt.Rq("THEOplayerCacheStartCachingTask",{id:t.cg})},i.removeCachingTask=function(t){this.VVt.Rq("THEOplayerCacheRemoveCachingTask",{id:t.cg})},z(n,[{key:"Nv",get:function(){return this.Qxt}},{key:"Jxt",get:function(){return this.yz}}]),n}(Cs),BJ=function(t){function n(n){var i;return(i=t.call(this,n)||this).uWt=n,i.uWt.qo("Ext",i.Xo),i}return U(n,t),n.prototype.qHt=function(t,n){var i,e;if(!t)throw new f("Unexpected - The source description is undefined");if(i=Np(t),e=RJ(n),dp(i))throw new f("Invalid source description");if(!QJ(i.sources))throw new f("The provided sources can't be cached");return this.uWt.Hxt(i,e).ml},n}(bJ);function QJ(t){for(var n=0;n<t.length;n++){var i=t[n];if(xl(i.type))return i}}var PJ,YJ,GJ=function(){var t=new UJ;return new BJ(t)}().ml;!function(t){t.wmt="any",t.oWt="natural",t.hWt="landscape",t.cWt="portrait",t.aWt="portrait-primary",t.fWt="portrait-secondary",t.vWt="landscape-primary",t.dWt="landscape-secondary"}(PJ||(PJ={})),function(t){t.aWt="portrait-primary",t.fWt="portrait-secondary",t.vWt="landscape-primary",t.dWt="landscape-secondary"}(YJ||(YJ={}));var FJ,VJ=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).VVt=new pJ,n.lWt=PJ.oWt,n.gWt=YJ.aWt,n.AWt=YJ.aWt,n.wWt=YJ.aWt,n}U(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new e.Promise(function(i,e){n.lWt=t,n.VVt.Rq("THEOplayerOrientationLock",t),n.yWt(),i()})},i.unlock=function(){var t=this;return new e.Promise(function(n,i){t.lWt=PJ.oWt,t.VVt.Rq("THEOplayerOrientationUnlock"),t.type=t.AWt,t.yWt(),n()})},i.yWt=function(){var t=this.wWt,n=this.type;t!==n&&(this.wWt=n,this.Zo(new xs("change")))},i.addEventListener=function(t,n){this.qo(t,n)},i.removeEventListener=function(t,n){this.th(t,n)},n._Wt=function(t){switch(t){case PJ.aWt:return[YJ.aWt];case PJ.fWt:return[YJ.fWt];case PJ.cWt:return[YJ.aWt,YJ.fWt];case PJ.vWt:return[YJ.vWt];case PJ.dWt:return[YJ.dWt];case PJ.hWt:return[YJ.vWt,YJ.dWt];case PJ.oWt:return[YJ.aWt,YJ.vWt,YJ.dWt];case PJ.wmt:return[YJ.aWt,YJ.fWt,YJ.vWt,YJ.dWt]}},n.MWt=function(t,i){return n._Wt(i).indexOf(t)>=0},z(n,[{key:"type",get:function(){return this.gWt},set:function(t){this.AWt=t,n.MWt(t,this.lWt)?(this.gWt=t,this.yWt()):(t===YJ.vWt&&this.lWt===PJ.dWt&&(this.gWt=YJ.dWt,this.yWt()),t===YJ.dWt&&this.lWt===PJ.vWt&&(this.gWt=YJ.vWt,this.yWt()))}},{key:"angle",get:function(){switch(this.type){case YJ.vWt:return-90;case YJ.dWt:return 90;case YJ.aWt:return 0;case YJ.fWt:return 180;default:return 0}}}]),n}(Ml);VJ.rs=new VJ,e.screen.orientation=VJ.rs,u&&-1===u.userAgent.indexOf("OS 9")&&d.defineProperty(e,"orientation",{get:function(){return e.screen.orientation.angle}}),e.screen.orientation.addEventListener("change",function(){e.dispatchEvent(new CustomEvent("orientationchange"))}),WD(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return U(n,t),n.prototype.GA=function(n){t.prototype.GA.call(this,n);var i=this.ml;this.ml.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===rq.RFt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(PJ.dWt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},BD.oz),function(t){t.wl="addtrack",t._l="removetrack",t.xl="change",t.Pl="update"}(FJ||(FJ={}));var HJ=function(t,n,i){this.type=FJ.xl,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},WJ=function(t,n){this.type=FJ.wl,this.mediaType=t,this.mediaTrack=n},XJ=function(t,n){this.type=FJ._l,this.mediaType=t,this.mediaTrack=n},ZJ=function(t,n){this.type=FJ.Pl,this.mediaType=t,this.mediaTrack=n},qJ=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.kWt=function(t){var n=new HJ(e.type,t.track,e.mediaTracks);e.messageDispatcher.mWt(n)},this.pWt=function(t){var n=new WJ(e.type,t.track);e.messageDispatcher.mWt(n),t.track.addEventListener("update",e.NWt)},this.DWt=function(t){var n=new XJ(e.type,t.track);e.messageDispatcher.mWt(n)},this.NWt=function(t){var n=new ZJ(e.type,t.track);e.messageDispatcher.mWt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.Q1()}return t.prototype.Q1=function(){this.mediaTracks.addEventListener("change",this.kWt),this.mediaTracks.addEventListener("addtrack",this.pWt),this.mediaTracks.addEventListener("removetrack",this.DWt)},t}(),JJ=function(){function t(){this.TWt=void 0,this.TWt=new pJ}return t.prototype.mWt=function(t){this.TWt.Rq(t.type,_q(t))},t}();qD(function(t){if(t.ml.audioTracks){var n=new JJ;new qJ("audio",t.ml.audioTracks,n)}if(t.ml.videoTracks){var i=new JJ;new qJ("video",t.ml.videoTracks,i)}});var KJ,$J,tK=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case KJ.IWt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Zo(new nK(i));break;default:0}},n}(iJ),nK=function(t){function n(n){var i;return(i=t.call(this,KJ.IWt)||this).detail=n,i}return U(n,t),n}(xs);!function(t){t.IWt="registerContentProtectionIntegration"}(KJ||(KJ={})),function(t){t.bWt="certifiateRequest",t.EWt="certifiateResponse",t.LWt="licenseRequest",t.SWt="licenseResponse",t.jWt="extractFairplayContentId",t.CWt="buildContentProtection",t.OWt="registerContentProtectionCallback"}($J||($J={}));var iK,eK=function(t,n){this.type=$J.OWt,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(iK||(iK={}));var rK,sK=function(t,n){this.type=$J.CWt,this.value=t,this.integrationId=n},uK=function(t,n){this.type=$J.bWt,this.value=t,this.integrationId=n},oK=function(t,n){this.type=$J.EWt,this.value=t,this.integrationId=n},hK=function(t,n){this.type=$J.jWt,this.value=t,this.integrationId=n},cK=function(t,n){this.type=$J.LWt,this.value=t,this.integrationId=n},aK=function(t,n){this.type=$J.SWt,this.value=t,this.integrationId=n},fK=function(){function t(t,n){this.xWt=void 0,this.cD=void 0,this.xWt=t,this.cD=n}var i=t.prototype;return i.onCertificateRequest=function(){var t=N.coroutine(rr.mark(function t(i){var e,r,s,u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.toCertificateRequestDTO(i),r=new uK(e,this.cD),t.prev=2,t.next=5,this.xWt.zWt(r);case 5:if(!(s=t.sent)){t.next=16;break}if(u=JSON.parse(s),!this.RWt(u)){t.next=13;break}return o=sr({},u),t.abrupt("return",o);case 13:if(!this.UWt(u)){t.next=16;break}return h=new y(u),t.abrupt("return",h);case 16:throw new jg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new jg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),i.onCertificateResponse=function(){var t=N.coroutine(rr.mark(function t(i){var e,r,s,u,o;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.toCertificateRequestDTO(i.request),r={request:e,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},s=new oK(r,this.cD),t.next=5,this.xWt.zWt(s);case 5:if(!(u=t.sent)){t.next=11;break}return o=JSON.parse(u),t.abrupt("return",new y(o));case 11:throw new jg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseRequest=function(){var t=N.coroutine(rr.mark(function t(i){var e,r,s,u,o,h,c;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.toCertificateRequestDTO(i),r={url:e.url,method:e.method,headers:e.headers,body:e.body?Array.from(e.body):null,useCredentials:e.useCredentials,fairplaySkdUrl:i.fairplaySkdUrl},s=new cK(r,this.cD),t.prev=3,t.next=6,this.xWt.zWt(s);case 6:if(!(u=t.sent)){t.next=17;break}if(o=JSON.parse(u),!this.RWt(o)){t.next=14;break}return h={url:o.url,method:o.method,headers:o.headers,body:o.body?new y(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl},t.abrupt("return",h);case 14:if(!this.UWt(o)){t.next=17;break}return c=new y(o),t.abrupt("return",c);case 17:throw new jg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new jg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseResponse=function(){var t=N.coroutine(rr.mark(function t(i){var e,r,s,u,o,h;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.toCertificateRequestDTO(i.request),r=sr({},e,{fairplaySkdUrl:i.request.fairplaySkdUrl}),s={request:r,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},u=new aK(s,this.cD),t.next=6,this.xWt.zWt(u);case 6:if(!(o=t.sent)){t.next=12;break}return h=JSON.parse(o),t.abrupt("return",new y(h));case 12:throw new jg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.extractFairplayContentId=function(){var t=N.coroutine(rr.mark(function t(i){var e,r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new hK(i,this.cD),t.next=3,this.xWt.zWt(e);case 3:if(!(r=t.sent)){t.next=6;break}return t.abrupt("return",r);case 6:return t.abrupt("return",N.reject(new jg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.RWt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.UWt=function(t){return!!new y(t)},t}(),vK=function(){function t(t){this.xWt=void 0,this.xWt=t}return t.prototype.build=function(t){if(!t.integration)throw new f("integrationId is undefined");var n=new fK(this.xWt,t.integration),i=new sK({drmConfiguration:t},t.integration);return this.xWt.zWt(i),n},t}(),dK=function(){var t=this;this.oHt=void 0,this.BWt=function(n){var i=new vK(t.messageDispatcher),e=n.detail,r=e.integrationId,s=e.keySystem,u={state:Q_.gD.fD(r,s,i)};t.messageDispatcher.zWt(new eK(u,r))},this.oHt=new tK,qq().contentProtectionIntegration={sdkEventBus:this.oHt},this.oHt.addEventListener(KJ.IWt,this.BWt)},lK="nativePromiseCallback",gK=function(t){function n(n){var i;return(i=t.call(this,lK)||this).detail=n,i}return U(n,t),n}(xs);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(rK||(rK={}));var AK=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Zo(new gK(n))},i.addEventListener=function(t,n){this.qo(t,n)},i.removeEventListener=function(t,n){this.th(t,n)},n}(iJ),wK=function(){function t(){var t=this;this.TWt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new f("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case rK.RESOLVE:i.Oh(n.detail.data);break;case rK.REJECT:i.xh(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new AK;qq().nativePromise={sdkEventBus:n},n.addEventListener(lK,this.handleNativePromiseEvent)}return t.prototype.zWt=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=sr({},n,{promiseId:e}),s=new eo;return this.promisesMap[e]=s,null==(i=this.TWt)||i.Rq(n.type,wq(r)),s.Ch},t}();wK.messageIdTracker=-1;var yK=function(t){function n(){var n;return(n=t.call(this)||this).TWt=new pJ,n}return U(n,t),n}(wK),_K=function(t){function n(){var n;return(n=t.call(this)||this).xWt=new yK,n}return U(n,t),z(n,[{key:"messageDispatcher",get:function(){return this.xWt}}]),n}(dK);qD(function(t){new _K});var MK=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return U(n,t),n}(xs);var kK,mK=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).QWt=function(){},e.PWt(),e}U(n,t);var i=n.prototype;return i.YWt=function(){this.KI&&this.KI.th(rh.ha,this.handleAirplayChangedEvent),this.KI=this.NC,this.KI.qo(rh.ha,this.handleAirplayChangedEvent)},i.GWt=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.KI){t.next=2;break}return t.abrupt("return");case 2:this.FWt(Vm.CONNECTED);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.VWt=function(){this.FWt(Vm.AVAILABLE)},i.VA=function(){p.Wu.lu&&(this.HWt.WA(),this.WWt.Po(),this.WWt=new gs,Ts(this.XWt(this.WWt.Fo)))},n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).kl=void 0,e.HWt=void 0,e.KI=void 0,e.NC=void 0,e.sf=Vm.UNAVAILABLE,e.WWt=new gs,e.QWt=void 0,e.handleAirplayChangedEvent=function(){e.KI&&e.KI.cw?e.GWt():e.Y5===Vm.CONNECTED&&e.VWt()},e.HWt=n,e.NC=i,e}U(n,t);var i=n.prototype;return i.PWt=function(){this.YWt(),this.HWt.qo("sourcechange",this.QWt),p.Wu.lu&&this.FWt(Vm.AVAILABLE)},i.preloadPlayer=function(t){if(ys(t),this.KI.Ng<El.qg){var n=this.KI.rh("loadedmetadata",t);return this.KI.yw=im.QM,n}return N.resolve()},i.FWt=function(t){t!==this.sf&&(this.sf=t,this.Zo(new MK(this.sf)))},i.XWt=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.preloadPlayer(n);case 2:this.NC.VA();case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.HA=function(){p.Wu.lu&&this.KI.HA()},i.nd=function(){this.$o(),this.HWt.th("sourcechange",this.QWt),this.WWt.Po()},z(n,[{key:"tx",get:function(){return this.Y5===Vm.CONNECTED}},{key:"Y5",get:function(){return this.sf}},{key:"ml",get:function(){var t;return this.kl||(this.kl=(t=this,{get casting(){return t.tx},get state(){return t.Y5},start:function(){t.VA()},stop:function(){t.HA()},addEventListener:function(n,i){var e=il(n,tl);t.qo(e,i)},removeEventListener:function(n,i){var e=il(n,tl);t.th(e,i)}})),this.kl}}]),n}(Cs));WD(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.pl=function(){var n=this.iz.ml;return Hd(t.prototype.pl.call(this),{get cast(){return n}})},n}(t)},BD.uz),WD(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).ZWt=void 0,e.ZWt=new mK(sn(e),e.WO),e.iz.$O(e.ZWt),e.qo("currentsourcechange",function(){e.ZWt.YWt()}),e}U(n,t);var i=n.prototype;return i.pl=function(){var n=this,i=t.prototype.pl.call(this);return Hd(i.cast,{get airplay(){return n.ZWt.ml}}),i},i.nd=function(){this.ZWt.nd(),t.prototype.nd.call(this)},n}(t)},BD.uz),function(t){t.qWt="airplaystatechange"}(kK||(kK={}));var pK,NK,DK,TK,IK=function(t){this.type=kK.qWt,this.state=t},bK=function(t){function n(n){var i;return(i=t.call(this)||this).JWt=void 0,i.KWt=function(t){var n=new IK(t.state);i.mWt(n)},i.JWt=n,i.Q1(n),i}return U(n,t),n.prototype.Q1=function(t){t.addEventListener("statechange",this.KWt)},n}(JJ);qD(function(t){var n;null!=(n=t.ml.cast)&&n.airplay&&new bK(t.ml.cast.airplay)}),function(t){t.SET_VOLUME="IMA_ADSMANAGER_SET_VOLUME",t.DESTROY="IMA_ADSMANAGER_DESTROY",t.START="IMA_ADSMANAGER_START",t.RESUME="IMA_ADSMANAGER_RESUME",t.PAUSE="IMA_ADSMANAGER_PAUSE",t.SKIP="IMA_ADSMANAGER_SKIP",t.STOP="IMA_ADSMANAGER_STOP"}(pK||(pK={})),function(t){t.VOLUME_UPDATE="IMA_VOLUME_UPDATE",t.REMAINING_TIME_UPDATE="IMA_REMAINING_TIME_UPDATE",t.CURRENT_AD_UPDATE="IMA_CURRENT_AD_UPDATE",t.CUE_POINTS_UPDATE="IMA_CUE_POINTS_UPDATE"}(NK||(NK={})),function(t){t.CONTENT_COMPLETE="IMA_ADSLOADER_CONTENT_COMPLETE",t.REQUEST_ADS="IMA_ADSLOADER_REQUEST_ADS",t.DESTROY="IMA_ADSLOADER_DESTROY"}(DK||(DK={})),function(t){t.INITIALIZE="IMA_DISPLAY_CONTAINER_INITIALIZE",t.SHOW="IMA_DISPLAY_CONTAINER_SHOW",t.HIDE="IMA_DISPLAY_CONTAINER_HIDE",t.DESTROY="IMA_DISPLAY_CONTAINER_DESTROY"}(TK||(TK={}));var EK,LK=function(){this.type=TK.INITIALIZE},SK=function(){this.type=TK.SHOW},jK=function(){this.type=TK.HIDE},CK=function(){this.type=TK.DESTROY},OK=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){switch(t){case EK.AD_EVENT_RECEIVED:this.Zo(new RK({type:n.type,ad:n.ad,adData:n.adData}));break;case EK.ERROR:this.Zo(new UK(n));break;case EK.UPDATE_NATIVE_PROPERTY:var i=this.getNativePropertyUpdateEvent(n);i&&this.Zo(i);break;case EK.ADS_LOADER_STATUS:this.Zo(new xK(n));break;case EK.AD_DISPLAY_CONTAINER_CREATED:this.Zo(new zK)}},i.getNativePropertyUpdateEvent=function(t){switch(t.type){case NK.REMAINING_TIME_UPDATE:return new BK(t);case NK.CURRENT_AD_UPDATE:return new QK(t);case NK.CUE_POINTS_UPDATE:return new PK(t)}},n}(iJ),xK=function(t){function n(n){var i;return(i=t.call(this,EK.ADS_LOADER_STATUS)||this).detail=n,i}return U(n,t),n}(xs),zK=function(t){function n(n){var i;return void 0===n&&(n=void 0),(i=t.call(this,EK.AD_DISPLAY_CONTAINER_CREATED)||this).detail=n,i}return U(n,t),n}(xs),RK=function(t){function n(n){var i;return(i=t.call(this,EK.AD_EVENT_RECEIVED)||this).detail=n,i}return U(n,t),n}(xs),UK=function(t){function n(n){var i;return(i=t.call(this,EK.ERROR)||this).detail=n,i}return U(n,t),n}(xs),BK=function(t){function n(n){var i;return(i=t.call(this,NK.REMAINING_TIME_UPDATE)||this).detail=n,i}return U(n,t),n}(xs),QK=function(t){function n(n){var i;return(i=t.call(this,NK.CURRENT_AD_UPDATE)||this).detail=n,i}return U(n,t),n}(xs),PK=function(t){function n(n){var i;return(i=t.call(this,NK.CUE_POINTS_UPDATE)||this).detail=n,i}return U(n,t),n}(xs);!function(t){t.AD_EVENT_RECEIVED="adEventReceived",t.ERROR="error",t.UPDATE_NATIVE_PROPERTY="updateNativeProperty",t.ADS_LOADER_STATUS="adsLoaderStatus",t.AD_DISPLAY_CONTAINER_CREATED="adDisplayContainerCreated"}(EK||(EK={}));var YK=function(){function t(t,n){var i=this;this.oHt=void 0,this.xWt=void 0,this.Djt=void 0,this.$Wt=function(t){var n;null==(n=i.Djt)||n.Oh(),i.Djt=void 0},this.oHt=t,this.xWt=n,this.oHt.addEventListener(EK.AD_DISPLAY_CONTAINER_CREATED,this.$Wt)}var n=t.prototype;return n.qA=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.xWt.mWt(new SK);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.JA=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.xWt.mWt(new jK);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.FC=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Djt=new eo,this.xWt.mWt(new LK),t.abrupt("return",this.Djt.Ch);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.xo=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.xWt.mWt(new CK),this.Djt=void 0;case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}(),GK=function(t){this.type=pK.SET_VOLUME,this.value=t},FK=function(){this.type=pK.DESTROY},VK=function(){this.type=pK.START},HK=function(){this.type=pK.RESUME},WK=function(){this.type=pK.PAUSE},XK=function(){this.type=pK.SKIP},ZK=function(){this.type=pK.STOP};function qK(t){if(t){var n=void 0;t.adPodInfo&&(n={xLt:t.adPodInfo.adPosition,uSt:t.adPodInfo.maxDuration,$Pt:t.adPodInfo.podIndex,YTt:t.adPodInfo.timeOffset,OLt:t.adPodInfo.totalAds,tYt:t.adPodInfo.isBumper});var i=t.companionAds&&t.companionAds.map(function(t){return{Rmt:t.adSlotId,Fw:t.content,vv:t.contentType,Xk:t.height,pu:t.width}})||[],e=t.universalAdIds&&t.universalAdIds.map(function(t){return{YSt:t.adIdRegistry,GSt:t.adIdValue}})||[],r={};try{r=JSON.parse(t.traffickingParametersString)}catch(t){}return{gpt:t.adId,ALt:n,Zkt:t.adSystem,nYt:t.advertiserName,zmt:t.apiFramework,Pkt:i,vv:t.contentType,lmt:t.creativeId,PSt:t.creativeAdId,iYt:t.dealId,sm:t.description,oA:t.duration,pu:t.width,Xk:t.height,ISt:t.mediaUrl,eYt:t.minSuggestedDuration,USt:t.skipTimeOffset,rYt:t.surveyUrl,vI:t.title,bSt:r,ESt:t.traffickingParametersString,rCt:t.uiElements,Fkt:e,QSt:t.vastMediaBitrate,RSt:t.vastMediaHeight,zSt:t.vastMediaWidth,LSt:t.wrapperAdIds,SSt:t.wrapperAdSystems,jSt:t.wrapperCreativeIds,$Et:t.isLinear}}}var JK=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).oHt=void 0,r.xWt=void 0,r.tXt=void 0,r.nXt=function(t){r.tXt.remainingTime=t.detail.time},r.iXt=function(t){r.tXt.currentAd=t.detail.ad},r.eXt=function(t){r.tXt.cuePoints=t.detail.cuePoints},r.rXt=function(t){var n=qK(t.detail.ad),i={type:t.detail.type,date:new Date,ZMt:n,GEt:t.detail.adData};r.Zo(i)},r.PEt=function(t){r.Zo({date:new Date,ZMt:void 0,type:bG.Kbt,GEt:{YEt:{oh:t.detail.message,oYt:t.detail.vastErrorCode,XMt:t.detail.errorCode,Ao:t.detail.type,BLt:void 0}}})},r.oHt=n,r.xWt=i,r.tXt={volume:void 0,remainingTime:void 0,currentAd:void 0,cuePoints:e},r.oHt.addEventListener(NK.REMAINING_TIME_UPDATE,r.nXt),r.oHt.addEventListener(NK.CURRENT_AD_UPDATE,r.iXt),r.oHt.addEventListener(NK.CUE_POINTS_UPDATE,r.eXt),r.oHt.addEventListener(EK.AD_EVENT_RECEIVED,r.rXt),r.oHt.addEventListener(EK.ERROR,r.PEt),r}U(n,t);var i=n.prototype;return i.EO=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.xWt.mWt(new GK(n));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.bO=function(){var t;return null!=(t=this.tXt.volume)?t:-1},i.FLt=function(){var t;return null!=(t=this.tXt.remainingTime)?t:-1},i.xo=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.xWt.mWt(new FK),this.oHt.removeEventListener(NK.REMAINING_TIME_UPDATE,this.nXt),this.oHt.removeEventListener(NK.CURRENT_AD_UPDATE,this.iXt),this.oHt.removeEventListener(NK.CUE_POINTS_UPDATE,this.eXt),this.oHt.removeEventListener(EK.AD_EVENT_RECEIVED,this.rXt),this.oHt.removeEventListener(EK.ERROR,this.PEt);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ab=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.xWt.mWt(new VK);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Zjt=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.xWt.mWt(new HK);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.QA=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.xWt.mWt(new WK);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.$M=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.xWt.mWt(new XK);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.PA=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.xWt.mWt(new ZK);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.hCt=function(){var t=N.coroutine(rr.mark(function t(n){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:N.resolve();case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.SLt=function(){return qK(this.tXt.currentAd)},i.$jt=function(){var t;return null!=(t=this.tXt.cuePoints)?t:[]},n}(Cs),KK=function(t){this.adsResponse=void 0,this.adTagUrl=void 0,this.adWillAutoPlay=void 0,this.adWillPlayMuted=void 0,this.adsResponse=t.DIt,this.adTagUrl=t.NIt,this.adWillAutoPlay=t.mIt,this.adWillPlayMuted=t.pIt},$K=function(t){this.enablePreloading=void 0,this.mimeTypes=void 0,this.playAdsAfterTime=void 0,this.loadVideoTimeout=void 0,this.bitrate=void 0,this.enablePreloading=t.sCt,this.mimeTypes=t.eCt,this.playAdsAfterTime=t.oCt,this.loadVideoTimeout=t.uCt,this.bitrate=t.h6},t$=function(){this.type=DK.CONTENT_COMPLETE},n$=function(t,n){this.type=DK.REQUEST_ADS,this.adsRequest=t,this.adsRenderingSettings=n},i$=function(){this.type=DK.DESTROY},e$=function(t){function n(n,i){var e;return(e=t.call(this)||this).fYt=void 0,e.xWt=void 0,e.oHt=void 0,e.sXt=function(t){if(e.fYt){if(t.detail.isLoaded){var n,i=new JK(e.oHt,e.xWt,t.detail.initialCuePoints);null==(n=e.fYt)||n.Oh(i)}else{var r,s={oh:t.detail.error.message,oYt:t.detail.error.vastErrorCode,XMt:t.detail.error.errorCode,Ao:t.detail.error.type,BLt:void 0};null==(r=e.fYt)||r.xh(s)}e.fYt=void 0}},e.xWt=i,e.oHt=n,e.oHt.addEventListener(EK.ADS_LOADER_STATUS,e.sXt),e}U(n,t);var i=n.prototype;return i.qjt=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.xWt.mWt(new t$);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.kbt=function(){var t=N.coroutine(rr.mark(function t(n,i,e){var r,s;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.fYt){t.next=2;break}throw new f("Only one ImaAdsRequest can be made at a time.");case 2:return this.fYt=new eo,r=new KK(n),s=new $K(e),this.xWt.mWt(new n$(r,s)),t.abrupt("return",this.fYt.Ch);case 8:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.xo=function(){var t=N.coroutine(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.oHt.removeEventListener(EK.ADS_LOADER_STATUS,this.sXt),this.xWt.mWt(new i$);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(Cs),r$=function(){function n(t){this.playerID=t}return n.prototype.Rq=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),s$=function(){function t(t){this.TWt=void 0,this.TWt=new r$(t)}return t.prototype.mWt=function(t){this.TWt.Rq(t.type,_q(t))},t}();xF.rs.registerNativeImaAdPlayerConstructor(function(t,n,i,e,r){var s=new OK;qq().ima={sdkEventBus:s};var u=Z.$r?new s$(e.uid):new JJ,o=new YK(s,u),h=new e$(s,u);return new OF(t,n,i,e,r,o,h)}),n.ChromelessPlayer=lT,n.Player=lT,n.cache=GJ,n.createGlobals=$q,n.features=["hls","ads","vr","airplay"],n.getCueMirrorMap=Jq,n.getGlobalId=Kq,n.getSdkEventBridge=qq,n.playerSuiteVersion="2022.1.2",n.players=wT,n.registerContentProtectionIntegration=yT,n.utils=AT,n.version="3.2.1",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
